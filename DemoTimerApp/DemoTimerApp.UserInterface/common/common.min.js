/* SIMATIC IT Unified Architecture Foundation V3.0 | Copyright (C) Siemens AG 2019. All Rights Reserved. */

var siemens,sit;angular.module("siemens.simaticit.common.templates",["common/components/buttonBox/buttonbox-dev-tpl.html","common/components/documentation/helpWindow/help-window.html","common/components/header/header.html","common/components/task/detailsComponent.html","common/layout/component/component.html","common/layout/home/home.tpl.html","common/layout/homeCard/home-card.html","common/layout/homeState/loading.html","common/layout/homeTile/home-tile.html","common/layout/settings/settings.tpl.html","common/layout/shell/shell.tpl.html","common/layout/swac/swac.html","common/layout/unauthorized/unauthorized.html","common/widgets/accordion/sit-accordion-group.html","common/widgets/accordion/sit-accordion.html","common/widgets/advancedSelect/multi-selection.html","common/widgets/advancedSelect/single-selection.html","common/widgets/advancedSelect/sit-advanced-select.html","common/widgets/auditTrail/sit-at-composition-details.html","common/widgets/auditTrail/sit-at-parts-tree.html","common/widgets/auditTrail/sit-at-record-details.html","common/widgets/auditTrail/sit-at-viewer.html","common/widgets/breadcrumb/breadcrumb.html","common/widgets/breadcrumb/samples/breadcrumb-dev-dsleditor-template.html","common/widgets/breadcrumb/samples/breadcrumb-dev-home-template.html","common/widgets/breadcrumb/samples/breadcrumb-dev-mashup-template.html","common/widgets/breadcrumb/samples/breadcrumb-dev-template.html","common/widgets/breadcrumb/samples/breadcrumb-dev-viewdetail-template.html","common/widgets/breadcrumb/samples/breadcrumb-dev-viewlist-template.html","common/widgets/breadcrumb/samples/breadcrumb-dev.html","common/widgets/busyIndicator/busy-indicator.html","common/widgets/carousel/carousel.html","common/widgets/characteristicRepr/char-rep-runtime.html","common/widgets/characteristicRepr/characteristic-repr-dir.html","common/widgets/checkbox/checkbox.html","common/widgets/columnConfigurator/columnConfigurator.html","common/widgets/commandBar/command-bar.html","common/widgets/commandBar/command-group.html","common/widgets/commandBar/command.html","common/widgets/commandBar/samples/command-bar-dev-tpl.html","common/widgets/commandBar/samples/command-bar-dev.html","common/widgets/commandBar/samples/commandbar-dev-view.html","common/widgets/commandBar/search.html","common/widgets/component/samples/swac/index.html","common/widgets/component/samples/test.html","common/widgets/component/samples/ui/chatMessenger.html","common/widgets/datePicker/date-picker.html","common/widgets/dateTimePicker/date-time-picker.html","common/widgets/dialog/dialog.html","common/widgets/dialog/samples/dialog-dev-popup1-template.html","common/widgets/dialog/samples/dialog-dev-popup2-template.html","common/widgets/dialog/samples/dialog-dev-tpl.html","common/widgets/dialog/samples/dialog-dev.html","common/widgets/dialogButton/dialogButton.html","common/widgets/dialogButton/samples/dialog-button-dev.html","common/widgets/documentViewer/document-carousel.html","common/widgets/documentViewer/document-viewer.html","common/widgets/documentViewer/plugins/image/image-viewer.html","common/widgets/documentViewer/plugins/pdf/pdf-viewer.html","common/widgets/documentViewer/plugins/pdf/viewer.html","common/widgets/documentViewer/plugins/text/text-viewer.html","common/widgets/documentViewer/plugins/vector/vector-viewer.html","common/widgets/documentViewer/plugins/video/video-viewer.html","common/widgets/electronicSignature/browse-scenarios-popup.html","common/widgets/electronicSignature/es-browse-signers.html","common/widgets/electronicSignature/es-rich-radio.html","common/widgets/electronicSignature/sit-es-browse-scenarios.html","common/widgets/electronicSignature/sit-es-scenario-picker.html","common/widgets/electronicSignature/sit-rt-signatures-dialog.html","common/widgets/electronicSignature/sit-rt-signatures.html","common/widgets/email/email.html","common/widgets/entityPicker/entityPicker.html","common/widgets/entityPicker/popup-default-template.html","common/widgets/entityPicker/samples/entity-picker-custom-template.html","common/widgets/entityPicker/samples/index.html","common/widgets/entityPicker/typeahead-default-template.html","common/widgets/fileUpload/file-upload.html","common/widgets/filter/sit-filter.html","common/widgets/filterBar/filter-bar.html","common/widgets/filterPanel/save-filter-panel.html","common/widgets/filterPanel/sit-filter-panel.html","common/widgets/flow/directives/toolbar.html","common/widgets/flow/directives/toolbox.html","common/widgets/flyout/samples/flyout-dev-tpl.html","common/widgets/flyout/samples/flyout-dev-view.html","common/widgets/flyout/samples/flyout-dev.html","common/widgets/flyout/samples/sit-flyout-template.html","common/widgets/flyout/samples/sit-flyout-template2.html","common/widgets/fullscreenDialog/fullscreen-context.html","common/widgets/fullscreenDialog/fullscreen-dialog.html","common/widgets/fullscreenDialog/fullscreen-header.html","common/widgets/fullscreenDialog/fullscreen-title.html","common/widgets/graph/graph.html","common/widgets/grid/grid.html","common/widgets/headerButton/headerButton.html","common/widgets/homeCard/sit-home-card.html","common/widgets/homeTile/sit-home-tile.html","common/widgets/iconPicker/icon-selection-template.html","common/widgets/iconPicker/iconPicker.html","common/widgets/iconPreview/iconPreview.html","common/widgets/itemCollectionViewer/grid-personalization.html","common/widgets/itemCollectionViewer/grid-tile-personalization.html","common/widgets/itemCollectionViewer/item-collection-viewer.html","common/widgets/itemCollectionViewer/tile-personalization.html","common/widgets/label/label.html","common/widgets/multiSelect/sit-advanced-select.html","common/widgets/multiSelect/sit-multi-select.html","common/widgets/navigationLink/sit-tab.html","common/widgets/navigationLink/sit-tabset.html","common/widgets/navigationLink/tab.html","common/widgets/navigationLink/tabset.html","common/widgets/notificationTile/notification-tile.html","common/widgets/notificationTile/samples/notification-tile-dev.html","common/widgets/numeric/numeric.html","common/widgets/overlay/overlay.html","common/widgets/overlay/samples/overlay-dev-tpl.html","common/widgets/overlay/samples/overlay-dev.html","common/widgets/pager/pager.html","common/widgets/password/password.html","common/widgets/popUpPanel/pop-up-panel.html","common/widgets/propertyGrid/property-grid.html","common/widgets/propertyGrid/property-group.html","common/widgets/propertyGrid/property.html","common/widgets/radio/radio.html","common/widgets/richRadio/rich-radio.html","common/widgets/select/select.html","common/widgets/sidePanel/sidepanel.html","common/widgets/sidebar/scroll.html","common/widgets/sidebar/sidebar-item.html","common/widgets/sidebar/sidebar.html","common/widgets/sortableAccordion/sortable-accordion.html","common/widgets/status/status.html","common/widgets/switchButton/switch-button.html","common/widgets/table/table-button.html","common/widgets/table/table-filterbar.html","common/widgets/table/table-personalization.html","common/widgets/table/table-with-group.html","common/widgets/taglist/taglist.html","common/widgets/tagsManager/sit-manage-tags-editor.directive.html","common/widgets/tagsManager/sit-tag-element.directive.html","common/widgets/tagsManager/sit-tags-manager.html","common/widgets/tagsManager/sit-tags-viewer.directive.html","common/widgets/tagsManager/sit-tags-warning-panel.directive.html","common/widgets/taskContainer/taskContainer.html","common/widgets/text/text.html","common/widgets/textEditor/image-upload-dialog-template.html","common/widgets/textEditor/text-editor.html","common/widgets/textarea/textarea.html","common/widgets/tileConfigurator/tile-configurator.html","common/widgets/tiles/action-tile.html","common/widgets/tiles/custom-tile-item.html","common/widgets/tiles/item-tile.html","common/widgets/tiles/large-tile-item.html","common/widgets/tiles/medium-tile-item.html","common/widgets/tiles/tile-group.html","common/widgets/tiles/tile-view.html","common/widgets/tiles/wide-tile-item.html","common/widgets/timePicker/time-picker.html","common/widgets/toolbox/toolbox-section.html","common/widgets/toolbox/toolbox.html","common/widgets/tristateCheckbox/tristate-checkbox.html","common/widgets/typeahead/typeahead.html","common/widgets/viewBar/view-bar.html","common/widgets/workInstructionInstanceViewer/work-instruction-instance-viewer.html","common/blueprints/executeCommandTemplate/execute-commandTemplate.html","common/blueprints/masterDetailsTemplate/masterDetailsLayoutTemplate.html","common/blueprints/overviewTemplate/overviewTemplate.html","common/blueprints/singleEntityTemplate/singleEntityLayoutTemplate.html"]),angular.module("common/components/buttonBox/buttonbox-dev-tpl.html",[]).run(["$templateCache",function(e){e.put("common/components/buttonBox/buttonbox-dev-tpl.html",'<div>\n    <button ng-disabled="buttonBoxCtr.hidePrevTask" class="btn btn-info" style="width:100%;" ng-click="prevTaskCallback()"><i class="fa fa-caret-up fa-3"></i>Previous task</button>\n    <div>\n        <button class="btn btn-success" style="width:25%;float:left;" ng-click="okCallback()">OK</button>\n        <button class="btn btn-danger" style="width:25%;float:left;" ng-click="notOkCallBack()">NOK</button>\n        <button class="btn btn-warning" style="width:25%;float:left;" ng-click="NACallBack()">N/A</button>\n        <button class="btn btn-primary" style="width:25%;float:left;" ng-click="detailsCallBack()">?</button>\n        <span class="label label-default">Title</span>\n        <input type="text" ng-model="buttonBoxCtr.title"/></div>\n    <button ng-disabled="buttonBoxCtr.hideNextTask" class="btn btn-info" style="width:100%;" ng-click="nextTaskCallback()"><i class="fa fa-caret-down fa-3"></i>Next task</button>\n</div>')}]),angular.module("common/components/documentation/helpWindow/help-window.html",[]).run(["$templateCache",function(e){e.put("common/components/documentation/helpWindow/help-window.html",'<div class="overlay-look">\n    <script type="text/ng-template" id="PopupContent.html">\n        <div class="doc-popup-modal" id="popupDocCenter" ng-mouseover="modalPopupCtrl.draggable()">\n            <div class="modal-header">\n                <div class="help-window-toolbar row">\n                    <div class="help-window-tb-left">\n                        <i class="fa fa-arrow-circle-left" ng-show="modalPopupCtrl.showPrev" ng-click="modalPopupCtrl.goToPrevState()"></i>\n                        <i class="fa fa-arrow-circle-right" ng-show="modalPopupCtrl.showNext" ng-click="modalPopupCtrl.goToNextState()"></i>\n                        <span>{{\'common.helpWindow.title\'|translate}}</span>\n                    </div>\n                    <div class="help-window-tb-right">\n                        <i class="fa fa-share" ng-click="modalPopupCtrl.openDocCenterTab()"></i>\n                        <i class="fa fa-times" ng-click="modalPopupCtrl.closeDocPopup()"></i>\n                    </div>\n                </div>\n                <div class="help-window-search-bar row">\n                    <div class="quick-search-container" ng-show="true">\n                        <form ng-submit="modalPopupCtrl.doSearchOnPopup()" class="ng-pristine ng-valid">\n                            <div class="input-group">\n                                <input type="text"\n                                       id="quickSearchPopUpTextBox"\n                                       ng-model="modalPopupCtrl.searchQuery" autocomplete="off"\n                                       class="form-control filter-quick-search search-input ng-pristine ng-valid ng-touched"\n                                       data-internal-type="quickSearchPopUpTextBox"\n                                       placeholder="{{\'common.helpWindow.search\'|translate}}" />\n                                <div class="input-group-btn">\n                                    <button class="btn btn-default search-button"\n                                            id="quickSearchIcon"\n                                            data-internal-type="quickSearchIcon">\n                                        <i class="fa fa-search"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n\n            </div>\n            <div class="modal-body" ng-hide="modalPopupCtrl.show">\n                <article>\n                    <div class="quick-search-title">\n                        <h4 id="{{modalPopupCtrl.query}}" ng-hide="modalPopupCtrl.show"><strong>{{\'common.helpWindow.search-info\'|translate}}: <em>{{modalPopupCtrl.query}}</em></strong></h4>\n                    </div>\n                    <div ng-show="modalPopupCtrl.showNoResult">\n                        <span>{{\'common.helpWindow.no-items-found\'|translate}}</span>\n                    </div>\n                    <section ng-show="!modalPopupCtrl.showNoResult" ng-repeat="result in modalPopupCtrl.data | limitTo : modalPopupCtrl.maxSearchResult">\n                        <h4 id="{{result.PageId}}">\n                            <a href="javascript:void(0);" ng-click="reloadPopUpOnLnkClk(result.Id)"> {{result.Title}} </a>&nbsp;\n                            <a target="_blank" href="{{modalPopupCtrl.docCenterUrl}}#/release/{{result.ReleaseId}}/document/{{result.DocumentId}}/page/{{result.Id}}"><span class="fa fa-external-link"></span></a>\n                        </h4>\n                        <p ng-bind-html="result.HighlightedText">\n                        </p>\n                        <p>\n                            <span>\n                                <strong>{{\'common.helpWindow.document\'|translate}}:&nbsp;</strong>\n                                <a href="javascript:void(0);" ng-click="modalPopupCtrl.reloadPopUpOnDocumentLnkClk(result.DocumentId)"> {{result.DocumentTitle}} </a>&nbsp;\n                                <a target="_blank" href="{{modalPopupCtrl.docCenterUrl}}#/release/{{result.ReleaseId}}/document/{{result.DocumentId}}/page/"><span class="fa fa-external-link"></span></a>\n                            </span>\n                        </p>\n                        <br />\n                    </section>\n                </article>\n            </div>\n            <div class="doc-center-page modal-body" ng-show="modalPopupCtrl.show">\n                <article>\n                    <p sit-bind-dynamic-html="modalPopupCtrl.pageContent" class="doc-page-layout"></p>\n                    <sit-documentation-anchor-reslove></sit-documentation-anchor-reslove>\n                </article>\n            </div>\n        </div>\n    <\/script>\n</div>')}]),angular.module("common/components/header/header.html",[]).run(["$templateCache",function(e){e.put("common/components/header/header.html",'<div class="container-fluid navbar-header header-fluid header-color">\n    <div id="headerNavBar" class="col-xs-20 col-sm-20 col-md-25 col-lg-25 pull-left header-nav-bar" role="navigation">\n\n        <div data-internal-type="headerBarHamburger"\n             class="header-navbar-button header-navbar-item-noborder header-navbar-item-button pull-left"\n             style="margin-right: 0;"\n             sit-flymenu="vm.primaryFlymenuOptions"></div>\n\n        <div class="header-navbar-item-noborder header-navbar-item-button pull-left">\n            <em class="fa fa-home fa-lg" ng-click="vm.navigateToHome()"></em>\n        </div>\n\n        <div class="header-navbar-item-noborder header-navbar-item-button pull-left">\n            <em class="fa fa-info-circle fa-lg" ng-click="vm.showAboutDialog()"></em>\n        </div>\n\n        <div data-internal-type="headerBarHelp" class="header-navbar-item-noborder header-navbar-item-button pull-left" ng-if="vm.isHelpAvailable">\n            <em class="fa fa-question-circle fa-lg help-icon" ng-click="vm.showHelpWindow()"></em>\n        </div>\n\n        <div data-internal-type="headerActionButton" class="header-action-height pull-left">\n            <sit-header-button ng-repeat="(id, actionButton) in vm.actionButtons" \n                               sit-id="id"\n                               sit-icon="actionButton.icon" \n                               sit-title="actionButton.title" \n                               sit-on-click="actionButton.onClick" \n                               sit-api="actionButton.api"></sit-header-button>\n        </div>\n\n        <div data-internal-type="headerBarUser" \n             class="header-navbar-item-noborder header-navbar-item-button pull-left" \n             sit-flymenu="vm.userFlymenuOptions"></div>\n    </div>\n\n    <div data-internal-type="headerBarLogo" ng-if="vm.logoImage" class="logo-container navbar-brand pull-right">\n        <img alt="" ng-src="{{vm.logoImage}}" />\n    </div>\n\n    <div data-internal-type="headerBarLogo" ng-if="!vm.logoImage" class="default-logo-container navbar-brand pull-right">\n        <svg width="82" height="16" viewBox="0 0 82 16">\n            <path fill-rule="evenodd" clip-rule="evenodd" class="icon-logo-color" fill="#009999" d="M2.2,13.8v-2.4C3.6,11.8,4.8,12,5.8,12c1.4,0,2.1-0.4,2.1-1.1 c0-0.3-0.1-0.5-0.3-0.7C7.4,10,6.9,9.7,6,9.4C4.4,8.7,3.4,8.2,2.9,7.7C2.3,7.1,2,6.3,2,5.4c0-1.2,0.5-2.1,1.4-2.7 c0.9-0.6,2-0.9,3.5-0.9c0.8,0,1.9,0.1,3.4,0.4v2.3C9.1,4.1,8.1,3.8,7.2,3.8c-1.3,0-2,0.4-2,1.1c0,0.3,0.1,0.5,0.4,0.7 c0.2,0.1,0.8,0.4,1.9,0.9c1.5,0.6,2.4,1.2,2.9,1.7c0.6,0.6,0.9,1.3,0.9,2.2c0,1.3-0.6,2.3-1.7,3c-0.9,0.6-2.1,0.8-3.5,0.8 C4.7,14.2,3.5,14.1,2.2,13.8"></path><rect x="13.1" y="2" class="icon-logo-color" fill="#009999" width="3.3" height="12"></rect><polygon fill-rule="evenodd" clip-rule="evenodd" class="icon-logo-color" fill="#009999" points="19.5,14 19.5,2 28,2 28,4.2 22.7,4.2 22.7,6.9 27.3,6.9 27.3,8.8 22.7,8.8 22.7,11.7 28.2,11.7 28.2,14 "></polygon><polygon fill-rule="evenodd" clip-rule="evenodd" class="icon-logo-color" fill="#009999" points="30.3,14 30.3,2 34.7,2 37.7,9.6 40.8,2 44.9,2 44.9,14 41.7,14 41.7,5.5 38.2,14.1 36.1,14.1 32.7,5.5 32.7,14 "></polygon><polygon fill-rule="evenodd" clip-rule="evenodd" class="icon-logo-color" fill="#009999" points="47.9,14 47.9,2 56.5,2 56.5,4.2 51.2,4.2 51.2,6.9 55.8,6.9 55.8,8.8 51.2,8.8 51.2,11.7 56.6,11.7 56.6,14 "></polygon><polygon fill-rule="evenodd" clip-rule="evenodd" class="icon-logo-color" fill="#009999" points="58.8,14 58.8,2 62.7,2 66.8,10 66.8,2 69.2,2 69.2,14 65.4,14 61.2,5.9 61.2,14 "></polygon><path fill-rule="evenodd" clip-rule="evenodd" class="icon-logo-color" fill="#009999" d="M71.5,13.8v-2.4c1.3,0.4,2.5,0.6,3.6,0.6c1.4,0,2.1-0.4,2.1-1.1 c0-0.3-0.1-0.5-0.3-0.7c-0.2-0.2-0.8-0.5-1.6-0.8c-1.6-0.6-2.6-1.2-3.1-1.7c-0.6-0.6-0.9-1.4-0.9-2.3c0-1.2,0.4-2.1,1.4-2.7 c0.9-0.6,2-0.9,3.5-0.9c0.8,0,1.8,0.1,3.1,0.4l0.3,0.1v2.3c-1.1-0.4-2.1-0.7-3.1-0.7c-1.3,0-2,0.4-2,1.1c0,0.3,0.1,0.5,0.4,0.7 c0.2,0.1,0.8,0.4,1.9,0.9c1.4,0.6,2.4,1.2,2.9,1.7c0.6,0.6,0.9,1.3,0.9,2.2c0,1.3-0.6,2.3-1.7,3c-0.9,0.6-2.1,0.8-3.6,0.8 C74,14.2,72.8,14.1,71.5,13.8"></path>\n        </svg>\n    </div>\n</div>\n')}]),angular.module("common/components/task/detailsComponent.html",[]).run(["$templateCache",function(e){e.put("common/components/task/detailsComponent.html",'\x3c!--<style type="text/css">\n    /*uncomment the below style snippet if you want the component to be displayed above other components*/\n\n    div[name^="{{vm.name}}"] {\n        overflow: hidden !important;\n        width: 100%;\n        height: 100%;\n    }\n</style>--\x3e\n\n    <div class="full-height full-width" style="width: calc(100%-25px); height: calc(100%-25px);  min-height: 400px;  min-width: 400px">\n            \x3c!-- side-panel-property-area-body --\x3e\n        <div id="tabContent" >\n            <sit-tabset class=" tab-view" ng-show="true">\n                <sit-tab id="tabOverview" heading="{{ \'taskContainer.details.properties\'|translate}}" active="vm.isDetailTabActive" select="vm.selectDetailTab()">\n                        \x3c!-- class="task-sidepanel" --\x3e\n                    <div >\n                        <sit-property-grid sit-layout="Vertical" sit-type="Fixed" sit-mode="list" sit-columns="1">\n                            <sit-property sit-widget="sit-text"     ng-show="vm.isNIdVisible" sit-value="vm.selectedTask.NId" sit-read-only="true">{{\'taskContainer.details.id\'|translate}}</sit-property>\n                            <sit-property sit-widget="sit-textarea" ng-show="vm.isNameVisible"  sit-value="vm.selectedTask.Name" sit-read-only="true">{{\'taskContainer.details.name\'|translate}}</sit-property>\n                            <sit-property sit-widget="sit-textarea" ng-show="vm.isDescriptionVisible"  sit-value="vm.selectedTask.Description" sit-read-only="true">{{\'taskContainer.details.description\'|translate}}</sit-property>\n                            <sit-property sit-widget="sit-textarea" ng-show="vm.isTaskDefinitionNIdVisible" sit-value="vm.selectedTask.TaskDefinitionNId" sit-read-only="true">{{\'taskContainer.details.taskDefinitionNId\'|translate}}</sit-property>\n                            <sit-property sit-widget="sit-textarea" ng-show="vm.isTaskDefinitionRevisionVisible" sit-value="vm.selectedTask.TaskDefinitionRevision" sit-read-only="true">{{\'taskContainer.details.taskDefinitionRevision\'|translate}}</sit-property>\n                            <sit-property sit-widget="sit-textarea" ng-show="vm.isEquipmentNIdVisible" sit-value="vm.selectedTask.EquipmentNId" sit-read-only="true">{{\'taskContainer.details.equipment\'|translate}}</sit-property>\n                            <sit-property sit-widget="sit-textarea" ng-show="vm.isTaskFlowVisible" sit-value="vm.selectedTask.TaskFlow.TaskFlow" sit-read-only="true">{{\'taskContainer.details.taskFlow\'|translate}}</sit-property>\n                            <sit-property sit-widget="sit-textarea" ng-show="vm.isStatusNIdVisible" sit-value="vm.selectedTask.Status.StatusNId" sit-read-only="true">{{\'taskContainer.details.status\'|translate}}</sit-property>\n                            \x3c!--<sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.NId" sit-read-only="true">{{\'SIT.TSK.common.id\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.Name" sit-read-only="true">{{\'SIT.TSK.common.name\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.Description" sit-read-only="true">{{\'SIT.TSK.common.description\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.TaskDefinitionNId" sit-read-only="true">{{\'task.TaskDefinitionNId\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.TaskDefinitionRevision" sit-read-only="true">{{\'task.TaskDefinitionRevision\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.EquipmentNId" sit-read-only="true">{{\'task.Equipment\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.WorkCenterNId" sit-read-only="true">{{\'task.WorkCenterDeprecated\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.LocationNId" sit-read-only="true">{{\'task.LocationDeprecated\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-checkbox" sit-value="vm.isSkippableValue" sit-read-only="true">{{\'task.IsSkippable\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-checkbox" sit-value="vm.isTaskFlowPartValue" sit-read-only="true">{{\'task.IsPartOfTaskFlow\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.TaskFlow.TaskFlow" sit-read-only="true" ng-show="vm.isTaskFlowPart">{{\'task.TaskFlow\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.TaskFlow.Sequence" sit-read-only="true" ng-show="vm.isTaskFlowPart">{{\'task.Sequence\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-textarea" sit-value="vm.selectedTask.TaskFlow.MaxIterations" sit-read-only="true" ng-show="vm.isTaskFlowPart">{{\'task.MaxIterations\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-checkbox" sit-value="vm.continueOnSuccessValue" sit-read-only="true" ng-show="vm.isTaskFlowPart">{{\'task.ContinueOnSuccess\'|translate}}</sit-property>\n                                <sit-property sit-widget="sit-checkbox" sit-value="vm.continueOnFailureValue" sit-read-only="true" ng-show="vm.isTaskFlowPart">{{\'task.ContinueOnFailure\'|translate}}</sit-property>--\x3e\n                        </sit-property-grid>\n                    </div>\n                </sit-tab>\n                <sit-tab heading="{{ \'taskContainer.parameters.parameter\' | translate}}" active="vm.isParameterTabActive" select="vm.selectParameterTab()" id="taskParameterList">\n                    <div class="dataTable" ng-show="vm.taskParameterConfigData.data.length > 0">\n                        <table sit-table="overviewTaskParameterTable" sit-config="vm.taskParameterConfigData" class="table table-striped" sit-col-resize>\n                            <thead>\n                                <tr>\n                                    <th>{{\'taskContainer.parameters.id\'|translate}}</th>\n                                    <th>{{\'taskContainer.parameters.type\'|translate}}</th>\n                                    <th>{{\'taskContainer.parameters.value\'|translate}}</th>\n                                    <th>{{\'taskContainer.parameters.uom\'|translate}}</th>\n                                    <th>{{\'taskContainer.parameters.direction\'|translate}}</th>\n                                    <th>{{\'taskContainer.parameters.isReadOnly\'|translate}}</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr ng-repeat="item in vm.taskParameterConfigData.data">\n                                    <td>{{item.NId}}</td>\n                                    <td>{{item.ParameterType}}</td>\n                                    <td>{{item.ParameterValue}}</td>\n                                    <td>{{item.ParameterUoMNId}}</td>\n                                    <td>{{item.Direction}}</td>\n                                    <td>\n                                        <input type=\'checkbox\' disabled ng-checked=\'item.IsReadOnly\'>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div ng-show="!(vm.taskParameterConfigData.data.length > 0)" class="taskParameter-nodata">\n                        {{\'taskContainer.parameters.noData\' | translate}}\n                    </div>\n                </sit-tab>\n                <sit-tab heading="{{ \'taskContainer.context.context\' | translate}}" active="vm.isContextTabActive" select="vm.selectContextTab()" id="contextList">\n                    <div class="context-table-view">\n                        <div ng-repeat="context in vm.taskContextConfigData">\n                            <div ng-if="!context.isUserFieldAvailable" class="table table-striped no-context-container">\n                                <div class="overview-context-header">\n                                    {{context.Context}}\n                                </div>\n                                <div class="no-context-message">\n                                    {{\'taskContainer.context.noUserFieldAvailable\'|translate}}\n                                </div>\n                            </div>\n                            <div ng-if="context.isUserFieldAvailable">\n                                <table sit-table="overviewTaskContextTable" sit-config="context.config" class="table table-striped" sit-col-resize>\n                                    <thead>\n                                        <tr>\n                                            <th>\n                                                {{context.Context}}\n                                            </th>\n                                        </tr>\n                                        <tr>\n                                            <th>{{\'taskContainer.context.id\'|translate}}</th>\n                                            <th>{{\'taskContainer.context.type\'|translate}}</th>\n                                            <th>{{\'taskContainer.context.value\'|translate}}</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr ng-repeat="item in context.config.data">\n                                            <td>{{item.NId}}</td>\n                                            <td>{{item.UserFieldType}}</td>\n                                            <td>{{item.UserFieldValue}}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                        <div ng-show="!(vm.taskContextConfigData.length > 0)" class="process-nodata">\n                            {{\'taskContainer.context.noData\' | translate}}\n                        </div>\n                    </div>\n                </sit-tab>\n            </sit-tabset>\n        </div>\n    </div>\n')}]),angular.module("common/layout/component/component.html",[]).run(["$templateCache",function(e){e.put("common/layout/component/component.html",'<sit-container sit-isswac="false" sit-group-name="internal">\n    <sit-component sit-name="{{componentCtr.name}}" sit-componentname="{{componentCtr.name}}" sit-type="ui" sit-source="{{componentCtr.source}}" \n                   sit-left="0" sit-top="0" sit-cols="12" sit-rows="12" sit-flavor="ui" sit-contracts="componentCtr.contracts"></sit-component>\n</sit-container>')}]),angular.module("common/layout/home/home.tpl.html",[]).run(["$templateCache",function(e){e.put("common/layout/home/home.tpl.html",'<style>\n    .centering {\n        float:none;\n         margin:5px 5px 0 0;\n    }\n    .row-fluid {\n        margin:5px 5px 0 0;\n        vertical-align: middle;\n    }\n    .header {\n        font-size: 20px;\n        font-weight:bold;\n    }\n\n</style>\n<div style="padding-left: 8px; padding-top: 16px" ng-controller="homeController as lc">\n    <div>\n        <div>\n            <div class="header">Main</div><sit-item-tile sit-tile-content="area" id="homeSettings" ng-repeat="area in lc.areas"></sit-item-tile>\n        </div>\n        <div>\n            <div class="header"></div><sit-item-tile sit-tile-content="doc" id="homeDocuments" ng-repeat="doc in lc.documents"></sit-item-tile>\n        </div>\n    </div>\n</div>')}]),angular.module("common/layout/homeCard/home-card.html",[]).run(["$templateCache",function(e){e.put("common/layout/homeCard/home-card.html",'<div class="home-card-screen-container">\n    <div class="home-card" ng-repeat="card in homeCardCtrl.cards">\n        <sit-home-card options="card">\n        </sit-home-card>\n    </div>\n</div>')}]),angular.module("common/layout/homeState/loading.html",[]).run(["$templateCache",function(e){e.put("common/layout/homeState/loading.html",'<div class="mom-modal-overlay mom-modal-overlay-displayed">\n    <div class="mom-modal-overlay-spinner"></div>\n</div>')}]),angular.module("common/layout/homeTile/home-tile.html",[]).run(["$templateCache",function(e){e.put("common/layout/homeTile/home-tile.html",'<div ng-repeat="config in homeTileCtrl.tileConfig" class="home-tile-screen">\n    <div>\n        <span class="home-tile-heading">{{config.title}}</span>\n    </div>\n    <div class="home-tile-screen-container">\n        <div class="home-tile" ng-repeat="tile in config.tiles">\n            <sit-home-tile options="tile"></sit-home-tile>\n        </div>\n    </div>\n</div>')}]),angular.module("common/layout/settings/settings.tpl.html",[]).run(["$templateCache",function(e){e.put("common/layout/settings/settings.tpl.html",'<div ng-controller="settingsCtrl as sc" class="user-preference-settings">\n    <div class="vertical-cmdbar">\n        <sit-command-bar sit-type="tool" sit-label-align="right" sit-layout="vertical">\n            <sit-command sit-name="settings.reset" ng-click="sc.restoreSettings"\n                         cmd-icon="Import" sit-tooltip="{{\'settings.btnReset\'|translate}}"\n                         sit-label="{{\'settings.btnReset\'|translate}}">\n            </sit-command>\n            <sit-command sit-name="settings.save" ng-click="sc.saveSettings"\n                         cmd-icon="Save" sit-tooltip="{{\'settings.btnSave\'|translate}}"\n                         sit-label="{{\'settings.btnSave\'|translate}}">\n            </sit-command>\n        </sit-command-bar>\n    </div>\n    <div class="container-fluid">\n        \x3c!-- left column: language  & log --\x3e\n        <div class="settings-log-info">\n            <h3>{{ \'settings.log\' | translate }}</h3>\n            <div data-internal-type="settingsLogLevels">\n                <sit-item-tile ng-model="sc.loglevel" ng-repeat="item in sc.loglevel" sit-tile-content="item"></sit-item-tile>\n            </div>\n        </div>\n    </div>\n    \x3c!-- right column: themes --\x3e\n    <div class="col-lg-20 col-md-20 col-sm-40 col-xs-40">\n        <div class="settings-theme-div">\n            <h3>{{ \'settings.theme\' | translate }}</h3>\n            <table>\n                <tr>\n                    <td>\n                        <div data-internal-type="tileThemeLight" class="tile tile-theme-light" ng-click="sc.themeSelected(0)">\n                            <div class="select-border" ng-show="sc.isCurrentTheme(0)"></div>\n                            <div ng-show="sc.isCurrentTheme(0)" class="top-right-corner-triangle"></div>\n                            <span ng-show="sc.isCurrentTheme(0)" class="top-right-select-img fa fa-check fa-inverse fa-lg"></span>\n                        </div>\n\n                    </td>\n                    <td class="theme-eye-selector">\n                        <span class="fa fa-eye fa-lg" ng-click="sc.openModal(0)"></span>\n                    </td>\n                </tr>\n\n                <tr>\n                    <td>\n                        <div data-internal-type="tileThemeDark" class="tile tile-theme-dark" ng-click="sc.themeSelected(1)">\n                            <div class="select-border" ng-show="sc.isCurrentTheme(1)"></div>\n                            <div ng-show="sc.isCurrentTheme(1)" class="top-right-corner-triangle"></div>\n                            <span ng-show="sc.isCurrentTheme(1)" class="top-right-select-img fa fa-check fa-inverse fa-lg"></span>\n                        </div>\n                    </td>\n                    <td class="theme-eye-selector">\n                        <span class="fa fa-eye fa-lg" ng-click="sc.openModal(1)"></span>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div sit-notification-tile\n         sit-tile-title="sc.notificationTile.title"\n         sit-tile-content="sc.notificationTile.content"\n         sit-tile-type="sc.notificationTile.type"\n         sit-tile-counter=sc.notificationTile.counter\n         sit-tile-callback="sc.notificationTile.clickCallback"\n         sit-tile-position="sc.notificationTile.position"\n         sit-tile-popup="sc.notificationTile.popup"\n         id="{{sc.notificationTile.id}}"></div>\n</div>\n\n\n\n\n')}]),angular.module("common/layout/shell/shell.tpl.html",[]).run(["$templateCache",function(e){e.put("common/layout/shell/shell.tpl.html",'<div class="canvas" ng-controller="layoutController as lc">\n    <div data-internal-type="property-area-container-modal" ng-class="lc.typeClass + \'Modal\'" ng-style="lc.swacEnabled===true && {\'top\':\'0px\',left:\'0px\'}"\n         ng-show="lc.currentPAreaType === lc.propertyAreaTypes.edit"></div>\n    <div ng-hide="lc.hide" class="property-are-parent">\n        <div data-internal-type="property-area-container" class="" ng-class="[lc.typeClass , {\'side-panel-small-layout\' : lc.layoutSize === \'small\'  }]" ng-style="lc.swacEnabled===true && {\'top\':\'0px\'}">\n            <div class="title" ng-if="lc.title">\n                {{lc.title}}\n            </div>\n            <div ui-view="property-area-container" class="content">\n\n            </div>\n        </div>\n    </div>\n    <div ng-if="lc.swacEnabled!==true" class="breadcrumb-div canvas-ui-view" ng-show="lc.isBreadcrumbShown">\n        <div ng-if="lc.isGridsterEnabled !== true">\n            <sit-breadcrumb></sit-breadcrumb>\n        </div>\n        <div ng-if="lc.isGridsterEnabled !==false" ng-style="{\'width\': lc.isLargeScreen ? \'calc(100% - 200px)\' : \'100%\' }" style="float:left">\n            <sit-breadcrumb></sit-breadcrumb>\n        </div>\n        <div ng-if="(lc.isGridsterEnabled && lc.isLargeScreen)">\n            <div style="width:190px; float:right; margin-right: 10px;">\n                <sit-command-bar sit-commands="lc.commandBarData"></sit-command-bar>\n            </div>\n        </div>\n        <div style="clear:both">\n        </div>\n    </div>\n    <div ui-view="Canvas" class="canvas-ui-view" h-adapter=".breadcrumb-div" ng-class="$root.$state.current.data.afxBackground ? \'canvas-transparent\' : \'canvas-background\'"></div>\n</div>')}]),angular.module("common/layout/swac/swac.html",[]).run(["$templateCache",function(e){e.put("common/layout/swac/swac.html",'<div class="swac-ui-module">\n    <div ng-if="swacUIMCtrl.isCreationFailed===true">\n        <div class="creationFailedDiv">\n            <i class="fa fa-exclamation-circle fa-3x creationFailedIcon" aria-hidden="true"></i>\n            <h2 class="creationFailedTitle">{{swacUIMCtrl.title}}</h2>\n            <div style="clear:both"></div>\n        </div>\n\n        <div style="padding-left:60px;">{{swacUIMCtrl.message}}</div>\n    </div>\n</div>')}]),angular.module("common/layout/unauthorized/unauthorized.html",[]).run(["$templateCache",function(e){e.put("common/layout/unauthorized/unauthorized.html",'<div class="unauthorizedDiv">\n    <i class="fa fa-exclamation-circle fa-3x unauthIcon" aria-hidden="true"></i>\n    <h2 class="unauthTitle">{{unauthCtrl.title}}</h2>\n    <div style="clear:both"></div>\n</div>\n\n<div style="padding-left:60px;">{{unauthCtrl.message}}</div>\n\n\n\n')}]),angular.module("common/widgets/accordion/sit-accordion-group.html",[]).run(["$templateCache",function(e){e.put("common/widgets/accordion/sit-accordion-group.html",'<div class="sit-panel-default" ng-style="paddingStyle">\n    <div ng-click="accGrpCtrl.itemClicked($event)" id={{accGrpCtrl.menuItemId}} data-internal-type="{{accGrpCtrl.internalType}}" class="sit-panel-heading sit-panel-cont {{accGrpCtrl.itemSpaceClass}}" ng-class="{\'highlight-selected-menu\': (accGrpCtrl.isSelected === \'true\')}">\n        <div class="{{accGrpCtrl.imgLevelClass}} sit-panel-fa fa" ng-class="accGrpCtrl.isOpen ? accGrpCtrl.faOpenIcon: accGrpCtrl.faIcon" ng-click="accGrpCtrl.toggleOpen($event)" ng-style="accGrpCtrl.displayIcon!==null?{\'font-size\':\'0px\'}:\'\'">\n            <img alt="" ng-if="accGrpCtrl.displayIcon!==null" ng-src="{{accGrpCtrl.displayIcon}}" height="16px" width="16px" />\n        </div>\n        <div class="sit-panel-title" ng-class="accGrpCtrl.txtLevelClass">\n            <h2 class="panel-title sit-title">\n               \n                <a tabindex="0" class="accordion-toggle"  sit-accordion-transclude="heading">\n                    <span ng-class="{\'text-muted\': accGrpCtrl.isDisabled}"></span>\n                </a>\n            </h2>\n        </div>\n      \n\n    </div>\n    <div class="panel-collapse" ng-class="{\'collapse\' : !accGrpCtrl.isOpen}">\n        <div class="sit-panel-body" ng-transclude></div>\n    </div>\n</div>\n\n\n')}]),angular.module("common/widgets/accordion/sit-accordion.html",[]).run(["$templateCache",function(e){e.put("common/widgets/accordion/sit-accordion.html",'<div class="sit-panel-group" ng-transclude></div>')}]),angular.module("common/widgets/advancedSelect/multi-selection.html",[]).run(["$templateCache",function(e){e.put("common/widgets/advancedSelect/multi-selection.html",'<div class="label label-property-grid-control-readonly property-value-ellipsis selection-read-only" ng-if="ctrl.readOnly || ctrl.ngReadonly">\n    {{ ctrl.sitSelectedString || ctrl.sitPlaceholder }}\n</div>\n<ng-form ng-if="!(ctrl.readOnly || ctrl.ngReadonly)" name=\'multiselectForm\'\n         ng-class="{\'isrequired\' : (ctrl.validation.required) && ! ((ctrl.sitOptions | filter:{selected:true}).length > 0)}">\n    <div class="dropdown multi-select-dropdown multi-selection">\n        <button class="btn btn-default" type="button" id="dropdownMenu1" aria-expanded="true" data-toggle="dropdown"\n                ng-class="{\'validator-control-invalid\':((multiselectForm.$invalid && multiselectForm.$dirty) || (multiselectForm.$invalid && multiselectForm.$visited)),\n               \'validator-control\':!((multiselectForm.$invalid && multiselectForm.$dirty) || (multiselectForm.$invalid && multiselectForm.$visited)),\n               \'ng-dirty\':multiselectForm.$dirty}"\n                ng-blur="ctrl.ngBlur()" ng-disabled="ctrl.ngDisabled" ng-focus="ctrl.ngFocus()">\n            <span class="dropdownButtonLabel">{{ctrl.getSelectedText()}}</span>\n            <img data-ng-src="common/icons/miscDownArrow16.svg" width="16" height="16" alt="Down Arrow">\n        </button>\n        <input type="hidden" ng-model="ctrl.sitSelectedString" ng-required="ctrl.validation.required" sit-change="ctrl.sitChange" sit-form-input-validator />\n\n        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">\n            <li ng-repeat="selectable in ctrl.sitOptions | filter: ctrl.sitSplitList ? {selected:true} : {}" role="presentation" ng-click="ctrl.toggleSelected($event, selectable)" class="dropdown-item">\n                <input type="checkbox" ng-model="selectable.value" ng-checked="selectable.selected" class="view-text" />\n                <a role="menuitem" tabindex="-1">{{selectable.name}}</a>\n                \x3c!--TODO - make this configurable\n                <i class="fa" ng-class="selectable.direction===\'desc\' ? \'fa-sort-alpha-desc\' : \'fa-sort-alpha-asc\'" ng-click="ctrl.toggleDirection($event, selectable)"></i>--\x3e\n            </li>\n            \x3c!--This is VERY inefficient--\x3e\n            <li role="presentation" class="divider" ng-if="ctrl.sitSplitList && (ctrl.sitOptions | filter:ctrl.isFalsy).length > 0 && (ctrl.sitOptions | filter:{selected:true}).length > 0"></li>\n            <li ng-if="ctrl.sitSplitList" ng-repeat="selectable in ctrl.sitOptions | filter:ctrl.isFalsy" role="presentation" ng-click="ctrl.toggleSelected($event, selectable)" class="dropdown-item">\n                <input type="checkbox" ng-checked="selectable.selected" class="view-text" />\n                <a role="menuitem" tabindex="-1">{{selectable.name}}</a>\n            </li>\n        </ul>\n    </div>\n</ng-form>')}]),angular.module("common/widgets/advancedSelect/single-selection.html",[]).run(["$templateCache",function(e){e.put("common/widgets/advancedSelect/single-selection.html",'<div class="label label-property-grid-control-readonly property-value-ellipsis selection-read-only" ng-if="ctrl.readOnly || ctrl.ngReadonly">\n    {{ ctrl.sitSelectedStringName || ctrl.sitPlaceholder }}\n</div>\n<ng-form ng-if="!(ctrl.readOnly || ctrl.ngReadonly)" name=\'singleselectForm\'\n         ng-class="{\'isrequired\' : ctrl.validation.required}">\n    <div class="dropdown multi-select-dropdown single-selection">\n        <button class="btn btn-default" type="button" id="dropdownMenuAdvanced" aria-expanded="true" data-toggle="dropdown"\n                ng-class="{\'validator-control-invalid\':((singleselectForm.$invalid && singleselectForm.$dirty) || (singleselectForm.$invalid && singleselectForm.$visited)),\n               \'validator-control\':!((singleselectForm.$invalid && singleselectForm.$dirty) || (singleselectForm.$invalid && singleselectForm.$visited)),\n               \'ng-dirty\':singleselectForm.$dirty}"\n                ng-blur="ctrl.ngBlur()" ng-disabled="ctrl.ngDisabled" ng-focus="ctrl.ngFocus()">\n            <span class="dropdownButtonLabel">{{ctrl.sitSelectedStringName}}</span>\n            <img data-ng-src="common/icons/miscDownArrow16.svg" width="16" height="16" alt="Down Arrow">\n        </button>\n        <input type="hidden" ng-model="ctrl.sitSelectedString" ng-required="ctrl.validation.required" sit-change="ctrl.sitChange" sit-form-input-validator />\n\n        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuAdvanced" tabindex="0">\n            <li ng-if="ctrl.sitToGroup" ng-repeat="(groupName,options) in (ctrl.sitOptions | groupBy:\'groupby\')">\n                {{groupName}} {{ctrl.sitToGroup}}\n                <ul>\n                    <li ng-repeat="selectable in options | filter: ctrl.sitSplitList ? {selected:true} : {}"   \n                        data-internal-type="{{selectable.id}}" ng-class="{selected: selectable.selected}" role="presentation" \n                        ng-click="ctrl.toggleSelected($event, selectable)" class="dropdown-item">\n                        <a role="menuitem" tabindex="-1">{{selectable.name}}</a>\n                    </li>\n                </ul>\n            </li>\n            <li ng-repeat="selectable in ctrl.sitOptions | filter: ctrl.sitSplitList ? {selected:true} : {}"\n                data-internal-type="{{selectable.id}}" ng-class="{selected: selectable.selected}" role="presentation" \n                ng-click="ctrl.toggleSelected($event, selectable)" class="dropdown-item"\n                ng-if="!ctrl.sitToGroup">\n                <a role="menuitem" tabindex="-1">{{selectable.name}}</a>\n                \x3c!--TODO - make this configurable\n        <i class="fa" ng-class="selectable.direction===\'desc\' ? \'fa-sort-alpha-desc\' : \'fa-sort-alpha-asc\'" ng-click="ctrl.toggleDirection($event, selectable)"></i>--\x3e\n            </li>\n            \x3c!--This is VERY inefficient--\x3e\n            <li role="presentation" class="divider" ng-if="ctrl.sitSplitList && (ctrl.sitOptions | filter:ctrl.isFalsy).length > 0 && (ctrl.sitOptions | filter:{selected:true}).length > 0"></li>\n            <li ng-if="ctrl.sitSplitList" ng-class="{selected: selectable.selected}" ng-repeat="selectable in ctrl.sitOptions | filter:ctrl.isFalsy" role="presentation" ng-click="ctrl.toggleSelected($event, selectable)" class="dropdown-item">\n                <input type="checkbox" ng-checked="selectable.selected" class="view-text" />\n                <a role="menuitem" tabindex="-1">{{selectable.name}}</a>\n            </li>\n        </ul>\n    </div>\n</ng-form>')}]),angular.module("common/widgets/advancedSelect/sit-advanced-select.html",[]).run(["$templateCache",function(e){e.put("common/widgets/advancedSelect/sit-advanced-select.html",'<div ng-include="ctrl.getTemplate()" class="multi-advanced-selection">\n\n</div>')}]),angular.module("common/widgets/auditTrail/sit-at-composition-details.html",[]).run(["$templateCache",function(e){e.put("common/widgets/auditTrail/sit-at-composition-details.html",'<div class="composition-details-container" ng-show="vm.ready">\n    <div class="summary">\n        <div class="message">\n            {{\'auditTrail.summary.message\' | translate: vm.data.summary }}\n        </div>\n    </div>\n\n    <div class="composition-details">\n        <div class="list">\n            <div class="container">\n                <sit-at-parts-tree sit-data="vm.accordion.data" sit-config="vm.accordion.config"></sit-at-parts-tree>\n            </div>\n        </div>\n        <div class="details" ng-if="vm.currentPart">\n            <sit-at-record-details sit-data="vm.currentPart" sit-config="vm.currentPartConfig"></sit-at-record-details>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/auditTrail/sit-at-parts-tree.html",[]).run(["$templateCache",function(e){e.put("common/widgets/auditTrail/sit-at-parts-tree.html",'<ul class="at-menu-items">\n    <li class="menu-item-li" ng-repeat="menuItem in vm.data">\n        <div class="menu-item" ng-class="menuItem.selected ? \'highlight-selected-menu\' : \'\' " ng-click="vm.onSelectedChanged(menuItem);">\n            <div class="content">\n                <span>{{"auditTrail.composition.partTitle" | translate: {entityName: menuItem.data.ChangedEntityShortType, action: menuItem.action} }}</span>\n                <ul>\n                    <li ng-repeat="logicalKey in menuItem.data.ChangedEntityName">{{logicalKey.Name}}:&nbsp; {{logicalKey.Value}}</li>\n                </ul>\n            </div>\n        </div>\n        <div class="menu-item-children" ng-if="menuItem.opened">\n            <sit-cutom-tree sit-data="menuItem.items" sit-config="vm.config"></sit-cutom-tree>\n        </div>\n    </li>\n</ul>\n')}]),angular.module("common/widgets/auditTrail/sit-at-record-details.html",[]).run(["$templateCache",function(e){e.put("common/widgets/auditTrail/sit-at-record-details.html",'<div class="at-record-details">\n    <div class="scalar-properties" ng-if="vm.record.ChangedEntity.ChangedScalarProperties.length">\n        <div class="title">\n            {{\'auditTrail.properties.title\' | translate}}:\n        </div>\n        <ul class="list">\n            <li class="item" ng-repeat="property in vm.record.ChangedEntity.ChangedScalarProperties track by $index">\n                <div ng-if="true === property.hasOwnProperty(\'OldValue\') && true === property.hasOwnProperty(\'NewValue\')">\n                    <span class="name">{{property.Name}}:</span>&nbsp;\n                    <span class="oldvalue">\n                        {{\'auditTrail.properties.old\' | translate}}:\n                        <span class="valid" ng-if="null !== property.OldValue">{{property.OldValue}};</span>\n                        <span class="null" ng-if="null === property.OldValue">null;</span>\n                    </span>&nbsp;\n                    <span class="newvalue">\n                        {{\'auditTrail.properties.new\' | translate}}:\n                        <span ng-if="null !== property.NewValue">{{property.NewValue}};</span>\n                        <span class="null" ng-if="null === property.NewValue">null;</span>\n                    </span>&nbsp;\n                </div>\n                <div ng-if="false === property.hasOwnProperty(\'OldValue\') && false === property.hasOwnProperty(\'NewValue\')">\n                    <span class="name">{{property.Name}}:</span>&nbsp;\n                    <span>{{\'auditTrail.properties.bigdata\' | translate}}</span>\n                </div>\n            </li>\n        </ul>\n    </div>\n\n    <div class="complex-properties" ng-if="vm.record.ChangedEntity.ChangedComplexProperties.length">\n        <div class="title">\n            {{\'auditTrail.complex.title\' | translate}}:\n        </div>\n        <ul class="list">\n            <li class="item" ng-repeat="complexProperty in vm.record.ChangedEntity.ChangedComplexProperties track by $index">\n                <span class="property-name">{{\'auditTrail.complex.propName\' | translate}}:&nbsp;{{complexProperty.Name}}</span>\n                <ul class="list">\n                    <li class="item" ng-repeat="property in complexProperty.ChangedScalarProperties track by $index">\n                        <div ng-if="true === property.hasOwnProperty(\'OldValue\') && true === property.hasOwnProperty(\'NewValue\')">\n                            <span class="name">{{property.Name}}:</span>&nbsp;\n                            <span class="oldvalue">\n                                {{\'auditTrail.properties.old\' | translate}}:\n                                <span class="valid" ng-if="null !== property.OldValue">{{property.OldValue}};</span>\n                                <span class="null" ng-if="null === property.OldValue">null;</span>\n                            </span>&nbsp;\n                            <span class="newvalue">\n                                {{\'auditTrail.properties.new\' | translate}}:\n                                <span ng-if="null !== property.NewValue">{{property.NewValue}};</span>\n                                <span class="null" ng-if="null === property.NewValue">null;</span>\n                            </span>&nbsp;\n                        </div>\n                        <div ng-if="false === property.hasOwnProperty(\'OldValue\') && false === property.hasOwnProperty(\'NewValue\')">\n                            <span class="name">{{property.Name}}:</span>&nbsp;\n                            <span>{{\'auditTrail.properties.bigdata\' | translate}}</span>\n                        </div>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n    </div>\n    <div class="relationships" ng-if="vm.record.isRootEntity && vm.record.relationships.length">\n        <div class="title">\n            {{\'auditTrail.relationships.title\' | translate}}:\n        </div>\n        <ul class="list">\n            <li class="item" ng-repeat="relationship in vm.record.relationships track by $index">\n                <span ng-if="\'many\' === relationship.type">\n                    {{\'auditTrail.relationships.backwardNavigation\' | translate: relationship}}\n                </span>\n                <span ng-if="\'one\' === relationship.type && \'Added\' === relationship.action">\n                    {{\'auditTrail.relationships.forwardNavigation.Added\' | translate: relationship}}\n                </span>\n                <span ng-if="\'one\' === relationship.type && \'Removed\' === relationship.action">\n                    {{\'auditTrail.relationships.forwardNavigation.Removed\' | translate: relationship}}\n                </span>\n                <span ng-if="\'one\' === relationship.type && \'Modified\' === relationship.action">\n                    {{\'auditTrail.relationships.forwardNavigation.Modified\' | translate: relationship}}\n                </span>\n            </li>\n        </ul>\n    </div>\n\n    <div ng-if="vm.record.ElectronicSignatureId && vm.record.ElectronicSignatureDetails.length">\n        <div class="title">\n            {{\'auditTrail.electronicSignature.title\' | translate}}:\n        </div>\n        <ul class="list">\n            <li class="item" ng-repeat="property in vm.record.ElectronicSignatureDetails track by $index">\n                <span class="name">{{property.Name}}:</span>&nbsp;\n                <span class="valid">{{property.Value}};</span>&nbsp;\n            </li>\n        </ul>\n    </div>\n</div>')}]),angular.module("common/widgets/auditTrail/sit-at-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/auditTrail/sit-at-viewer.html",'<div class="at-viewer-container" ng-if="vm.ready">\n    <div class="msg msg-warning" ng-if="!vm.isEnabled">\n        <span>{{\'auditTrail.messages.notEnabled\' | translate }}</span>\n    </div>\n    <table sit-table="atViewer" sit-config="vm.tableConfig" class="table" ng-if="vm.isEnabled">\n        <thead>\n            <tr>\n                <th style="display:block">\n                    <div class="tool-bar">\n                        <span sit-table-filterbar></span>\n                        <span sit-table-button\n                              sit-icon="fa-refresh"\n                              ng-click="vm.refreshData()"\n                              sit-label="{{\'auditTrail.viewer.commands.refresh\' | translate }}"></span>\n                    </div>\n                </th>\n            </tr>\n            <tr>\n                <th style="width:25px"></th>\n                <th ng-show="vm.showColumn">{{vm.tableConfig.fields.RootEntityId.displayName}}</th>\n                <th>{{vm.tableConfig.fields.UpdatedOn.displayName}}</th>\n                <th>{{vm.tableConfig.fields.UserName.displayName}}</th>\n                <th>{{vm.tableConfig.fields.Action.displayName}}</th>\n                <th>{{vm.tableConfig.fields.RootEntityType.displayName}}</th>\n                <th>{{vm.tableConfig.fields.RootCommand.displayName}}</th>\n                <th>{{vm.tableConfig.fields.Environment.displayName}}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat-start="row in vm.tableConfig.data" ng-style="row.expanded ? {\'border-bottom\':\'none\'}:{\'border-bottom\':\'1px solid #dcdcdc\'}">\n                <td style="width:25px" ng-if="row.expanded" ng-click="row.expanded= false"><em class="fa fa-angle-down"></em></td>\n                <td style="width:25px" ng-if="!row.expanded" ng-click="row.expanded= true"><em class="fa fa-angle-right"></em></td>\n                <td ng-show="vm.showColumn"><em class="fa fa-filter" ng-click="vm.filterbyGUID(row.RootEntityId)"></em> {{row.RootEntityId}}</td>\n                <td>{{row.UpdatedOn | date:\'medium\'}}</td>\n                <td>{{row.UserName}}</td>\n                <td>{{row.Action}}</td>\n                <td title="{{row.RootEntityType}}">{{row.RootEntityShortType}}</td>\n                <td title="{{row.RootCommand}}">{{row.RootCommandShortName}}</td>\n                <td>{{row.Environment}}</td>\n            </tr>\n            <tr sit-freez ng-show="false"></tr>\n            <tr sit-freez ng-repeat-end ng-show="row.expanded">\n                <td colspan="8">\n                    <div class="record-details-container" ng-if="row.expanded">\n                        <div class="summary">\n                            <div class="message">\n                                {{\'auditTrail.summary.message\' | translate: row.summary }}\n                            </div>\n                            <div class="action" ng-if="row.isMoreDetailsAvailable" ng-click="vm.showMoreDetails(row);">\n                                {{\'auditTrail.summary.viewMore\' | translate}}\n                            </div>\n                        </div>\n                        <sit-at-record-details sit-data="row" ng-if="!row.isOnlyPartModified"></sit-at-record-details>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n        <tfoot>\n            <tr sit-table-pager></tr>\n        </tfoot>\n    </table>\n</div>\n\n<script type="text/ng-template" id="sit-at-composition-viewer.html">\n    <sit-at-composition-details sit-data="Dialog.templatedata"></sit-at-composition-details>\n<\/script>\n')}]),angular.module("common/widgets/breadcrumb/breadcrumb.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/breadcrumb.html",'<div data-internal-type="breadcrumbContainerDiv">\n    <ol class="breadcrumb">\n        <li ng-if="ctrl.breadcrumbType==\'Complete\'" ng-repeat="current in ctrl.trails" ng-switch="$last">\n            <a ng-switch-when="false" href="{{current.sitBreadcrumbLink}}" data-internal-type="breadcrumb-item-{{$index+1}}">{{current.title}} </a>\n            <span class="lastItem" ng-switch-when="true" data-internal-type="breadcrumb-item-{{$index+1}}">{{current.title}} </span>\n        </li>\n        <li ng-if="ctrl.breadcrumbType==\'HideMiddle\'" ng-repeat="shown in ctrl.tobeShown">\n            <span ng-if="$middle" class="breadcrumbEllipsis" ng-class="{\'breadcrumbEllipsisHighLight\':ctrl.showFlyout==true}" data-internal-type="breadcrumb-ellipsis">{{shown.title}}</span>\n            <a ng-if="$first" href="{{shown.sitBreadcrumbLink}}" data-internal-type="breadcrumb-first-item">{{shown.title}}</a>\n            <span ng-if="$last" class="lastItem" data-internal-type="breadcrumb-last-item">{{shown.title}}</span>\n        </li>\n        <li ng-if="ctrl.breadcrumbType==\'ShowOnlyLast\'" ng-repeat="shown in ctrl.tobeShown">\n            <span ng-if="$first" class="breadcrumbEllipsis" ng-class="{\'breadcrumbEllipsisHighLight\':ctrl.showFlyout==true}" data-internal-type="breadcrumb-ellipsis">{{shown.title}}</span>\n            <span ng-if="$last" class="lastItem" title="{{ctrl.toolTipforLastItem}}" data-internal-type="breadcrumb-last-item">{{shown.title}}</span>\n        </li>\n    </ol>\n    <div class="divBreadcrumbFlyout" ng-show="ctrl.showFlyout" ng-style="{\'top\':ctrl.flyoutTop, \'left\':ctrl.flyoutLeft, \'margin-left\':ctrl.flyoutMarginLeft}">\n        <div class="divDropDownBreadcrumbExpander" ng-if="ctrl.showAsDropDown">\n            <a ng-repeat="hidden in ctrl.tobeHidden" class="dropdownItems" href="{{hidden.sitBreadcrumbLink}}" title="{{hidden.toolTip}}" data-internal-type="breadcrumb-flyout-menu-item-{{$index+1}}">{{hidden.title}}</a>\n        </div>\n        <div>\n            <ol class="breadcrumb" ng-if="!ctrl.showAsDropDown">\n                <li ng-repeat="hidden in ctrl.tobeHidden">\n                    <a href="{{hidden.sitBreadcrumbLink}}" data-internal-type="breadcrumb-flyout-item-{{$index+1}}">{{hidden.title}}</a>\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/breadcrumb/samples/breadcrumb-dev-dsleditor-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/samples/breadcrumb-dev-dsleditor-template.html","<h2>DSL Editor</h2>")}]),angular.module("common/widgets/breadcrumb/samples/breadcrumb-dev-home-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/samples/breadcrumb-dev-home-template.html",'<h2>Home Page</h2>\n<div class="well">\n    This is to the breadcrumb widget developed for the unity UI applications.\n    <p></p>\n    <p> <a ui-sref="mashupEditor">Go To Mashup Editor</a> </p>\n    <p> <a ui-sref="dslEditor">Go to DSL Editor</a></p>\n</div>\n\n')}]),angular.module("common/widgets/breadcrumb/samples/breadcrumb-dev-mashup-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/samples/breadcrumb-dev-mashup-template.html",'<h2>Mashup Editor</h2>\n<div class="well">\n\n    <p>List of Views</p>\n    <p> <a ui-sref="mashupEditor.views">Go to the View List </a> </p>\n</div>\n')}]),angular.module("common/widgets/breadcrumb/samples/breadcrumb-dev-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/samples/breadcrumb-dev-template.html",'<div class="container">\n\x3c!--<div>--\x3e\n    <div class="row">\n        <sit-breadcrumb></sit-breadcrumb>\n        <div ui-view></div>\n    </div>\n</div>')}]),angular.module("common/widgets/breadcrumb/samples/breadcrumb-dev-viewdetail-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/samples/breadcrumb-dev-viewdetail-template.html",'<h2>View Detail</h2>\n<div class="well">\n    <p></p>\n    <p> Details about view : <label>{{ViewName}}</label>  </p>\n</div>\n')}]),angular.module("common/widgets/breadcrumb/samples/breadcrumb-dev-viewlist-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/samples/breadcrumb-dev-viewlist-template.html",'<h2>Views</h2>\n<div class="well">\n    The list of views already created\n    <p></p>\n    <p> <a ui-sref="mashupEditor.views.detail({ViewName: \'ViewA\'})">View A</a> </p>\n    <p> <a ui-sref="mashupEditor.views.detail({ViewName: \'ViewB\'})">View B</a></p>\n</div>\n')}]),angular.module("common/widgets/breadcrumb/samples/breadcrumb-dev.html",[]).run(["$templateCache",function(e){e.put("common/widgets/breadcrumb/samples/breadcrumb-dev.html",'<!doctype html>\n<html lang="en" ng-app="siemens.simaticit.common.widgets.breadcrumbDemo">\n<head>\n    <title data-ng-bind="title">Breadcrumb Development</title>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />\n\n    <link href="/common/styles/common-dark.css" rel="stylesheet" />\n\n</head>\n<body>\n    <ng-include src="\'breadcrumb-dev-template.html\'" />\n\n    \x3c!-- Vendor scripts--\x3e\n\n    <script src="/common/scripts/angular/angular.min.js"><\/script>\n    <script src="/common/scripts/jquery-2.1.1.min.js"><\/script>\n    <script src="/common/scripts/angular-ui-router.min.js"><\/script>\n    <script src="/common/scripts/angular-ui/ui-bootstrap-tpls.min.js"><\/script>\n\n    \x3c!-- BREADCRUMB Widget SCRIPTS--\x3e\n    <script src="/common/widgets/breadcrumb/sit-breadcrumb-mod.js"><\/script>\n    <script src="/common/widgets/breadcrumb/sit-breadcrumb-svc.js"><\/script>\n    <script src="/common/widgets/breadcrumb/sit-breadcrumb-dir.js"><\/script>\n\n    \x3c!-- application scripts--\x3e\n    <script src="/common/widgets/breadcrumb/samples/breadcrumb-dev-app.js"><\/script>\n    <script src="/common/widgets/breadcrumb/samples/breadcrumb-dev-config.route.js"><\/script>\n    <script src="/common/widgets/breadcrumb/samples/breadcrumd-dev-viewcontroller.js"><\/script>\n</body>\n</html>\n')}]),angular.module("common/widgets/busyIndicator/busy-indicator.html",[]).run(["$templateCache",function(e){e.put("common/widgets/busyIndicator/busy-indicator.html",'<div class="modal sit-busy-indicator" data-backdrop="static" data-internal-type="busy-indicator-div">\n    <div class="busy-indicator-msg">\n        <div class="container-msg">\n            <span data-internal-type="busy-indicator-message">{{busyCtrl.message}}</span>\n        </div>\n    </div>\n\n    <div class="container-icon">\n        <div class="horizontal inner-container">\n            <div class="vertical">\n                <div class="mom-modal-overlay-widget">\n                    <div ng-if="busyCtrl.displayIcon !== null" ng-style="{\'background-image\': \'url(\' + busyCtrl.displayIcon + \')\'}" class="mom-modal-overlay-spinner-widget"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("common/widgets/carousel/carousel.html",'<div class="carousel-inner">\n    <div class="carousel-chevron" ng-click="carouselCtrl.prev()" ng-class="carouselCtrl.firstImage !== 1 ? \'\':\'hide-icons\'">\n        <a ng-show="carouselCtrl.sitItems.length > 1">\n            <em class="rotate" sit-class="command-mom-icon" sit-mom-icon="{path: \'common/icons/miscChevronRight16.svg\', size : \'16px\'}"></em>\n        </a>\n    </div>\n    <div class="inner">\n        <ul>\n            <li ng-repeat="slide in carouselCtrl.sitItems">\n                <img ng-class="carouselCtrl.sitValue === slide.id ? \'home-card-selected\' : \'\'" ng-click="carouselCtrl.selectHomeCard(slide)" ng-src="{{slide.image}}" alt="Left Arrow" />\n                <p ng-show="slide.title">{{slide.title}}</p>              \n                <p ng-show="!slide.title">&nbsp;</p>              \n            </li>\n        </ul>\n    </div>\n    <div class="carousel-chevron" ng-click="carouselCtrl.next()" ng-class="carouselCtrl.lastImage !== carouselCtrl.sitItems.length ? \'\' : \'hide-icons\'">\n        <a ng-if="carouselCtrl.sitItems.length > 1">\n            <em sit-class="command-mom-icon" sit-mom-icon="{path: \'common/icons/miscChevronRight16.svg\', size : \'16px\'}"></em>\n        </a>\n    </div>\n</div>')}]),angular.module("common/widgets/characteristicRepr/char-rep-runtime.html",[]).run(["$templateCache",function(e){e.put("common/widgets/characteristicRepr/char-rep-runtime.html","\x3c!--to be removed --\x3e")}]),angular.module("common/widgets/characteristicRepr/characteristic-repr-dir.html",[]).run(["$templateCache",function(e){e.put("common/widgets/characteristicRepr/characteristic-repr-dir.html",'<div>\n\n\n    <div class="row characteristic-repr">\n        <div class="col-md-40" ng-show="!vm.isenabled">\n            <h4>This directive requires Workinstrucion App installed and running</h4>\n        </div>\n        <div id="itemlist" ng-if="vm.isenabled" class="col-md-11 col-sm-11" style="min-width:290px">\n            <sit-item-collection-viewer sit-data="vm.viewerData" sit-options="vm.viewerOptions"></sit-item-collection-viewer>\n        </div>\n\n        <div class="col-md-17 col-sm-17" style="padding-left: 10px;">\n            <div ng-show="vm.IsVariable" class="column-container">\n                <p class="medium-title-display">{{vm.Label}}</p>\n                <div class="column-form-content">\n                    <label class="property-label" for="quantitysample">Quantity</label>\n                    <div style="position: relative;float: left;width: 100%;">\n                        <input type="number" id="quantitysample" ng-model="vm.Quantity" step="0.01" ng-blur="vm.SaveSample()" ng-focus="vm.InitSample($event)" ng-change="vm.ValueChanged()" class="ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required ng-valid-pattern ng-valid-minlength ng-valid-maxlength validator-control" />\n                        <i class="sgnInfoBadgeMignon" ng-style="{\'display\': vm.DisplayInfoBadge? \'block\' : \'none\'}" style="background-color: #FADC5A; color:#1E1E1E; top: 7.5px; right: 22.5px; position: absolute;" aria-hidden="true">i</i>\n                    </div>\n                </div>\n                \x3c!--<button ng-click="vm.SaveSample()">{{\'common.save\'|translate}}</button>--\x3e\n            </div>\n            <div ng-show="vm.IsAttributive" class="column-container">\n                <p class="medium-title-display">{{vm.Label}}</p>\n                <div class="column-form-content">\n                    <table style="width: 100%">\n                        <tr>\n                            <td><p class="light-title-display">{{vm.Specification.CharacteristicSpecification.OKDescription}}</p></td>\n                            <td><p class="light-title-display">{{vm.Specification.CharacteristicSpecification.NOKDescription}}</p></td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <label class="radio-container">\n                                    <input type="radio" id="okdescriptionid" ng-model="vm.HasAttribute" ng-value="true" ng-click="vm.SaveSample()" />\n                                    <span class="checkmark"></span>\n                                </label>\n                            </td>\n                            <td>\n                                <label class="radio-container">\n                                    <input type="radio" id="notokdescriptionid" ng-model="vm.HasAttribute" ng-value="false" ng-click="vm.SaveSample()" />\n                                    <span class="checkmark"></span>\n                                </label>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                \x3c!--<button ng-click="vm.SaveSample()">{{\'common.save\'|translate}}</button>--\x3e\n            </div>\n            <div ng-show="vm.IsVisual" class="column-container">\n                <p class="medium-title-display">{{vm.Label}}</p>\n                <div class="column-form-content">\n                    <div ng-repeat="failure in vm.Specification.CharacteristicSpecification.CharacterisicFailureAssociations" style="margin-bottom: 8px;position: relative">\n                        <label class="property-label" for="failure_{{failure.NId}}" style="max-width: 45%;">{{failure.Name}}</label><i ng-if="failure.Description" class="fa fa-question-circle-o icon-tooltip" ng-mouseover="vm.SetTooltipPosition()"></i><div class="icon-container"><p class="icon-text">{{failure.Description}}</p><div class="icon-arrow"></div></div><sup ng-if="failure.Description" class="icon-star">*</sup>\n                        <input class="ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required ng-valid-pattern ng-valid-minlength ng-valid-maxlength validator-control" type="number" id="failure_{{failure.NId}}" ng-blur="vm.SaveVisualSample()" />\n                    </div>\n                </div>\n            </div>            \n        </div>\n        <div class="col-md-10 col-sm-10" ng-show="vm.IsAttributive || vm.IsVariable || vm.IsVisual" style="padding-left: 10px;">\n            <div class="column-container">\n                <p class="medium-title-display">{{vm.Details}}</p>\n                <div class="column-form-content">\n                    <sit-property-grid id="propertyGridForm"\n                                       sit-data="vm.propertyGridData"\n                                       sit-layout="Vertical"\n                                       sit-type="Fixed"\n                                       sit-mode="list">\n\n                    </sit-property-grid>\n                </div>\n                <fieldset ng-show="vm.IsVariable&&vm.notifyViolations" id="legend" style="background-color: unset; border: 0px; margin-top: 4px; padding: 0px; width: 310px;">\n                    <legend style="border:0px; background:none; border-bottom:0px; font-weight: bold; padding:0px; margin-bottom: 16px">Legenda</legend>\n                    <i class="sgnInfoBadgeMignon" style="background-color: #FADC5A; color:#1E1E1E;" aria-hidden="true">!</i>\n                    <span style="font-size:12px; margin-left: 3px;">{{\'characteristicRepr.LegendaMessage\'|translate}}</span>\n                </fieldset>\n            </div>\n    </div>\n</div>')}]),angular.module("common/widgets/checkbox/checkbox.html",[]).run(["$templateCache",function(e){e.put("common/widgets/checkbox/checkbox.html",'<div class="label label-property-grid-control-readonly checkbox-noborder" ng-if="checkboxCtrl.readOnly || checkboxCtrl.ngReadonly || checkboxCtrl.ngDisabled">\n    <ng-form name="checkboxForm" ng-class="{\'isrequired\' : (checkboxCtrl.validation.required) && (checkboxForm.$error.required.length===checkboxCtrl.value.length) }">\n        <div class="property-grid-span-group-block " ng-model="checkboxCtrl.value">\n            <div class="sit-checkbox">\n                <ng-form name="checkboxItemForm" class="group-control property-grid-no-border-items" ng-repeat="item in checkboxCtrl.value" style="display:block;">\n                    <div class="group-control-data check-box" ng-class="!(checkboxCtrl.readOnly || checkboxCtrl.ngReadonly || checkboxCtrl.ngDisabled) ? \'checkbox-enabled\' : \'checkbox-disabled\'">\n                        <input type=\'checkbox\'\n                               name=\'{{item.label}}\'\n                               ng-model=\'item.checked\'\n                               ng-blur="checkboxCtrl.ngBlur()"\n                               ng-checked="item.checked"\n                               sit-change="checkboxCtrl.sitChange"\n                               ng-disabled="checkboxCtrl.ngDisabled"\n                               ng-focus="checkboxCtrl.ngFocus()"\n                               ng-required="checkboxCtrl.validation.required"\n                               sit-form-input-validator />\n                        <span class="property-label-ellipsis">{{item.label}}</span>\n                    </div>\n                </ng-form>\n            </div>\n        </div>\n    </ng-form>\n</div>\n\n<ng-form ng-if="!(checkboxCtrl.readOnly || checkboxCtrl.ngReadonly || checkboxCtrl.ngDisabled)"\n         name="checkboxForm" ng-class="{\'isrequired\' : (checkboxCtrl.validation.required) && (checkboxForm.$error.required.length===checkboxCtrl.value.length) }">\n    <div class="property-grid-span-group-block validator-control checkbox-noborder" ng-model="checkboxCtrl.value">\n        <div class="sit-checkbox">\n            <ng-form name="checkboxItemForm" class="group-control" ng-repeat="item in checkboxCtrl.value" style="display:block;">\n                <div class="group-control-data check-box" ng-class="!checkboxCtrl.ngDisabled ? \'checkbox-enabled\' : \'checkbox-disabled\'">\n                    <input type=\'checkbox\'\n                           name=\'{{item.label}}\'\n                           ng-model=\'item.checked\'\n                           ng-blur="checkboxCtrl.ngBlur()"\n                           ng-checked="item.checked"\n                           sit-change="checkboxCtrl.sitChange"\n                           ng-disabled="checkboxCtrl.ngDisabled"\n                           ng-focus="checkboxCtrl.ngFocus()"\n                           ng-required="checkboxCtrl.validation.required"\n                           sit-form-input-validator />\n                    <span class="property-label-ellipsis">{{item.label}}</span>\n                </div>\n            </ng-form>\n        </div>\n    </div>\n</ng-form>\n')}]),angular.module("common/widgets/columnConfigurator/columnConfigurator.html",[]).run(["$templateCache",function(e){e.put("common/widgets/columnConfigurator/columnConfigurator.html",'<div class="table-column-configuration">\n    <div class="columns">\n        <div class="header">\n            <h2 class="sit-h2">\n                {{ columnConfiguratorCtrl.sitConfig.availableSectionHeader || \'userPrefrences.columnConfigurator.availableSectionHeader\'|translate }}\n            </h2>\n        </div>\n        <div class="frame">\n            <ul id="availableColsList" class="sit-list">\n                <li ng-repeat="column in columnConfiguratorCtrl.columnDefs  | orderBy:\'index\':false track by $index "\n                    ng-click="columnConfiguratorCtrl.onItemSelection(column, true)"\n                    ng-class="{\'selected\':column.selected}" ng-hide="column.visible">\n                    <div title="{{column.displayName || column.field}}" style="width:100% !important">\n                        {{column.displayName || column.field}}\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="command-buttons">\n        <button type="button" class="sit-command-icon-button" ng-click="columnConfiguratorCtrl.add()"\n                ng-disabled="columnConfiguratorCtrl.isAvailableSelected()" title="{{columnConfiguratorCtrl.sitConfig.addButtonLabel || \'userPrefrences.columnConfigurator.addButtonLabel\'|translate}}">\n            <em sit-class="svg-icon pl-icon-flip-horizontal" sit-mom-icon="columnConfiguratorCtrl.svgIcons.forward"></em>\n        </button>\n        <button type="button" class="sit-command-icon-button" ng-click="columnConfiguratorCtrl.remove()"\n                ng-disabled="columnConfiguratorCtrl.isSelected()" title="{{columnConfiguratorCtrl.sitConfig.removeButtonLabel || \'userPrefrences.columnConfigurator.removeButtonLabel\'|translate}}">\n            <em sit-class="svg-icon" sit-mom-icon="columnConfiguratorCtrl.svgIcons.backward"></em>\n        </button>\n        <button type="button" class="sit-command-icon-button" ng-click="columnConfiguratorCtrl.addAll()"\n                title="{{columnConfiguratorCtrl.sitConfig.addAllButtonLabel || \'userPrefrences.columnConfigurator.addAllButtonLabel\'|translate}}">\n            <em sit-class="svg-icon pl-icon-flip-horizontal" class="invert-icon" sit-mom-icon="columnConfiguratorCtrl.svgIcons.left"></em>\n        </button>\n        <button type="button" class="sit-command-icon-button" ng-click="columnConfiguratorCtrl.removeAll()"\n                title="{{columnConfiguratorCtrl.sitConfig.removeAllButtonLabel || \'userPrefrences.columnConfigurator.removeAllButtonLabel\'|translate}}">\n            <em sit-class="svg-icon" sit-mom-icon="columnConfiguratorCtrl.svgIcons.right"></em>\n        </button>\n        <button type="button" class="sit-command-icon-button" ng-click="columnConfiguratorCtrl.reset()"\n                title="{{columnConfiguratorCtrl.sitConfig.resetButtonLabel || \'userPrefrences.columnConfigurator.resetButtonLabel\'|translate}}">\n            <em sit-class="svg-icon" sit-mom-icon="columnConfiguratorCtrl.svgIcons.reset"></em>\n        </button>\n    </div>\n    <div class="columns">\n        <div class="header">\n            <h2 class="sit-h2">\n                {{ columnConfiguratorCtrl.sitConfig.selectedSectionHeader || \'userPrefrences.columnConfigurator.selectedSectionHeader\'|translate }}\n            </h2>\n        </div>\n        <div class="frame">\n            <ul id="selectedColsList" class="sit-list">\n                <li ng-repeat="column in columnConfiguratorCtrl.columnDefs | orderBy:\'index\':false  track by $index"\n                    ng-click="columnConfiguratorCtrl.onItemSelection(column, false)"\n                    ng-class="{\'selected\':column.selected}" ng-hide="!column.visible">\n                    <div title="{{column.displayName || column.field}}" style="width:100% !important">\n                        {{column.displayName || column.field}}\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="command-buttons last">\n        <button type="button" class="sit-command-icon-button"\n            title="{{columnConfiguratorCtrl.sitConfig.moveUpButtonLabel || \'userPrefrences.columnConfigurator.moveUpButtonLabel\'|translate}}"\n            ng-click="columnConfiguratorCtrl.moveUp()">\n            <em sit-class="svg-icon" sit-mom-icon="columnConfiguratorCtrl.svgIcons.up"></em>\n        </button>\n        <button type="button" class="sit-command-icon-button"\n                 title="{{columnConfiguratorCtrl.sitConfig.moveDownButtonLabel || \'userPrefrences.columnConfigurator.moveDownButtonLabel\'|translate}}"\n                 ng-click="columnConfiguratorCtrl.moveDown()">\n            <em sit-class="svg-icon" sit-mom-icon="columnConfiguratorCtrl.svgIcons.down"></em>\n        </button>\n    </div>\n</div>')}]),angular.module("common/widgets/commandBar/command-bar.html",[]).run(["$templateCache",function(e){e.put("common/widgets/commandBar/command-bar.html","<div data-internal-type=\"command-bar\"\n     ng-class=\"{'commandBarContainerAction':commandBarCtrl.commands.barType === 'Action' && commandBarCtrl.layout === 'horizontal',\n     'commandBarContainerTool': commandBarCtrl.commands.barType === 'Tool' && commandBarCtrl.layout === 'horizontal',\n     'commandbar-container-vertical': commandBarCtrl.layout === 'vertical',\n     'commandbar-container-contextual': commandBarCtrl.layout === 'contextual'}\">\n\n    <div data-internal-type=\"command-menu-command-bar\" ng-class=\"{right: 'right-align-align'}[commandBarCtrl.labelAlign]\">\n\n        <div class=\"container-fluid\">\n            <ul data-internal-type=\"command-bar-collapse-1\"\n                ng-class=\"{'commandBarContainerList': commandBarCtrl.layout === 'horizontal',\n                'commandBar-container-list-vertical': commandBarCtrl.layout === 'vertical',\n                'commandBar-container-list-contextual' : commandBarCtrl.layout === 'contextual'}\">\n"+'                <li data-internal-type="command-bar-collapse-button" class="btn-group command-hide">\n                    \x3c!-- Collapse button --\x3e\n\n                    <button data-internal-type="collapse-button-command-bar" id="collapse-button-command-bar" ng-class="{Action:\'dropdown-toggle CommandActionDropdown\',Tool:\'dropdown-toggle CommandToolDropdown\'}[commandBarCtrl.commands.barType]" data-toggle="dropdown" title="Other commands">\n                        <div style="display:inline">\n                            <div class="more-button">\n                                <span sit-mom-icon="commandBarCtrl.svgIcons.bar"> </span>\n                            </div>\n                            <div class="caret"></div>\n                        </div>\n                        <div ng-if="commandBarCtrl.commands.barType==\'Tool\'" class="CommandToolDropdownLabel">{{commandBarCtrl.otherCommandsText}}</div>\n                    </button>\n\n                    <ul data-internal-type="collapse-menu-command-bar" id="sit-commandbar-collapse-menu" class="dropdown-menu commandBarDropdownMenu" ng-class="{\'commandBarDropdownMenuAlignRight\':!commandBarCtrl.openLeft}" role="menu" data-toggle="dropdown">\n                        <li ng-repeat="command in commandBarCtrl.commands.bar" class="commandBarDropdownItem" ng-show="$index<=commandBarCtrl.MaxIndexNumber">\n\n                            <div ng-switch="command.type">\n\n\n                                <div ng-switch-when="Command" data-internal-type="collapse-menu-item-command-bar">\n                                    \x3c!-- Action button --\x3e\n                                    <sit-command sit-showas="Menu" sit-command="command" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command>\n                                </div>\n\n                                <div ng-switch-when="toggle" data-internal-type="collapse-menu-item-command-bar">\n                                    \x3c!-- Toggle button --\x3e\n                                    <sit-command sit-showas="Menu" sit-command="command" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command>\n                                </div>\n\n                                <div ng-switch-when="Sep">\n                                    \x3c!-- Separator button --\x3e\n                                    <div data-internal-type="collapse-menu-separator-command-bar" class="divider menuDivider"></div>\n                                </div>\n\n                                <div ng-switch-when="Group" data-internal-type="collapse-submenu-command-bar">\n                                    \x3c!-- Group Button button --\x3e\n                                    <sit-command-group sit-showas="Menu" sit-group="command" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command-group>\n\n                                </div>\n\n                                <div ng-switch-when="MainCommand">\n                                    <sit-command sit-showas="Menu" sit-command="command" sit-type="main" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command>\n                                </div>\n\n\n                                <div ng-switch-when="search" ng-if="commandBarCtrl.layout === \'contextual\' && command.visibility">\n\n                                    <sit-search sit-command="search" ng-click="command.clickCallback"\n                                                ng-focus="command.focusCallback"\n                                                sit-change="command.changeCallback"\n                                                ng-blur="command.blurCallback"\n                                                sit-search-value="{{command.quickSearchText}}"\n                                                sit-placeholder="{{command.placeholder}}" sit-name="\'hello\'">\n                                    </sit-search>\n                                </div>\n                                <div ng-switch-default>\n                                    Unknown sub command type: Allowed values are "Command" or "Sep"\n                                </div>\n\n                            </div>\n\n                        </li>\n                    </ul>\n                </li>                \n                <li ng-repeat="command in commandBarCtrl.commands.bar">\n\n                    <div ng-switch="command.type" ng-show="!commandBarCtrl.DisplayMenu || ($index>commandBarCtrl.MaxIndexNumber)">\n\n                        <div ng-switch-when="Command">\n                            \x3c!-- Action button --\x3e\n                            <sit-command sit-command="command" sit-showas="Button" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command>\n                        </div>\n\n                        <div ng-switch-when="toggle">\n                            \x3c!-- Toggle button --\x3e\n                            <sit-command sit-command="command" sit-showas="Button" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command>\n                        </div>\n\n                        <div ng-switch-when="Sep">\n                            \x3c!-- Separator button --\x3e\n                            <div data-internal-type="separator-command-bar" ng-class="{Tool:\'commandBarDividerTool\',Action:\'commandBarDivider\'}[commandBarCtrl.commands.barType]">\n                                <div class="commandBarDividerIcon" />\n                            </div>\n                        </div>\n\n                        <div ng-switch-when="Group">\n                            \x3c!-- Group Button button --\x3e\n                            <sit-command-group sit-label-align="{{commandBarCtrl.labelAlign}}" sit-group="command" sit-showas="Button" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command-group>\n\n                        </div>\n\n                        <div ng-switch-when="MainCommand">\n                            <sit-command sit-command="command" sit-showas="Button" sit-bartype="{{commandBarCtrl.commands.barType}}"></sit-command>\n                        </div>\n\n                        <div ng-switch-when="search" ng-if="commandBarCtrl.layout === \'contextual\' && command.visibility">\n\n                            <sit-search sit-command="search" ng-click="command.clickCallback"\n                                        ng-focus="command.focusCallback"\n                                        sit-change="command.changeCallback"\n                                        ng-disabled="command.disableSearch"\n                                        ng-blur="command.blurCallback"\n                                        sit-search-value="{{command.quickSearchText}}"\n                                        sit-placeholder="{{command.placeholder}}">\n                            </sit-search>\n                        </div>\n                        <div ng-switch-default>\n                            Unknown sub command type: Allowed values are "Command", "Group" or "Sep"\n                        </div>\n\n                    </div>\n                </li>\n                <ng-transclude ng-show=false></ng-transclude>\n                <div ng-show="(commandBarCtrl.commands.barType === \'Tool\' || commandBarCtrl.commands.barType === \'Action\') && commandBarCtrl.layout !== \'contextual\'" class="commandBarRightMarginForActionButton"></div>\n            </ul>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/commandBar/command-group.html",[]).run(["$templateCache",function(e){e.put("common/widgets/commandBar/command-group.html",'<div>\n    <div ng-switch="cmdBarGrpBtnCtrl.showas" ng-show="cmdBarGrpBtnCtrl.groupVisibility">\n        <div ng-switch-when="Button" class="btn-group" ng-class="{\'MainCommanBtnGrp\': cmdBarGrpBtnCtrl.isMainCommandGroup}">\n            <button ng-if="cmdBarGrpBtnCtrl.isMainCommandGroup" data-internal-type="group-button-command-bar" class="MainCommandGroupButton" ng-click="cmdBarGrpBtnCtrl.commandClicked(cmdBarGrpBtnCtrl.group, $event)" title="{{ cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.label }}" ng-class="{\'dropdown-toggle\': cmdBarGrpBtnCtrl.layout === \'vertical\'}" data-toggle="{{cmdBarGrpBtnCtrl.layout === \'vertical\' ? \'dropdown\' : \'\' }}">\n                <img alt="" ng-if="cmdBarGrpBtnCtrl.layout === \'vertical\'" src="common/icons/miscLeftArrow16.svg" height="16" width="16">\n                <span data-internal-type="image-container" class="fa-lg" ng-class="cmdBarGrpBtnCtrl.layout === \'vertical\' && cmdBarGrpBtnCtrl.group.label.length !== 0? \'vertical-group-main-command-image-label\': \'MainCommandImage\'">\n                    <em class="fa {{cmdBarGrpBtnCtrl.group.image}} " sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" ng-class="{momIcon: cmdBarGrpBtnCtrl.group.displayIcon !== null }">\n                    </em>\n                    <span ng-if="cmdBarGrpBtnCtrl.layout === \'vertical\' && cmdBarGrpBtnCtrl.group.label.length> 0" class="vertical-group-main-command-label">\n                        {{cmdBarGrpBtnCtrl.group.label}}\n                    </span>\n                </span>\n                <span ng-if="cmdBarGrpBtnCtrl.layout === \'horizontal\'"  data-internal-type="text-container" class="MainCommandActionLabel">\n                    {{cmdBarGrpBtnCtrl.group.label}}                    \n                </span>\n                <button ng-if="cmdBarGrpBtnCtrl.isMainCommandGroup && cmdBarGrpBtnCtrl.layout ===\'horizontal\'" data-internal-type="group-button-command-bar" class="dropdown-toggle MainCmdGrpdropdown" data-toggle="dropdown" title="{{ cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.label }}">\n                    <span class="caret">\n                    </span>\n                </button>\n            </button>\n            <button ng-if="!cmdBarGrpBtnCtrl.isMainCommandGroup" data-internal-type="group-button-command-bar" ng-class="{Action:\'dropdown-toggle CommandActionDropdown\',Tool:\'dropdown-toggle CommandToolDropdown\'}[cmdBarGrpBtnCtrl.bartype]" data-toggle="dropdown" title="{{ cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.label }}">\n                <div style="display:inline" ng-if="cmdBarGrpBtnCtrl.layout ===\'vertical\' || cmdBarGrpBtnCtrl.labelAlign !== \'right\'">\n                    <img alt="" ng-if="cmdBarGrpBtnCtrl.layout === \'vertical\'" src="common/icons/miscLeftArrow16.svg" height="16" width="16">\n                    <span style="line-height:1em" ng-if="cmdBarGrpBtnCtrl.group.image" class="fa-stack fa-lg" ng-class="{\'vertical-group-command-image\':cmdBarGrpBtnCtrl.layout === \'vertical\' && cmdBarGrpBtnCtrl.group.label.length === 0,\n                      \'vertical-group-command-image-label\': cmdBarGrpBtnCtrl.layout === \'vertical\'\n                      && cmdBarGrpBtnCtrl.group.label.length !== 0}">\n                        <em class="fa {{cmdBarGrpBtnCtrl.group.image}} fa-stack" sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" ng-class="{momIcon: cmdBarGrpBtnCtrl.group.displayIcon !== null }">\n                        </em>\n                    </span>\n                    <span ng-if="cmdBarGrpBtnCtrl.layout === \'vertical\' && cmdBarGrpBtnCtrl.group.label.length> 0" class="vertical-group-command-label">\n                        {{cmdBarGrpBtnCtrl.group.label}}\n                    </span>\n                    <span style="width:24px!important" ng-if="cmdBarGrpBtnCtrl.layout ===\'horizontal\'">\n                        <span class="caret">\n                        </span>\n                    </span>\n                </div>\n                <div ng-if="cmdBarGrpBtnCtrl.layout === \'horizontal\' && cmdBarGrpBtnCtrl.bartype==\'Tool\' && cmdBarGrpBtnCtrl.labelAlign !== \'right\'" class="CommandToolDropdownLabel">\n                    {{cmdBarGrpBtnCtrl.group.label}}\n                </div>\n                <span ng-if="cmdBarGrpBtnCtrl.layout === \'horizontal\' && cmdBarGrpBtnCtrl.group.image && cmdBarGrpBtnCtrl.labelAlign === \'right\'" class="fa-lg right-align">\n                    <em class="fa {{cmdBarGrpBtnCtrl.group.image}} " sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" ng-class="{momIcon: cmdBarGrpBtnCtrl.group.displayIcon !== null }">\n                    </emm>\n                </span>\n                <span class="caret" ng-if="cmdBarGrpBtnCtrl.layout === \'horizontal\' && cmdBarGrpBtnCtrl.labelAlign === \'right\'">\n                </span>\n                <span ng-if="cmdBarGrpBtnCtrl.layout === \'horizontal\' && cmdBarGrpBtnCtrl.bartype==\'Tool\' && cmdBarGrpBtnCtrl.labelAlign === \'right\' " class="CommandToolDropdownLabel">\n                    {{cmdBarGrpBtnCtrl.group.label}}\n                </span>\n            </button>\n\n            <ul data-internal-type="menu-command-bar" class="dropdown-menu commandBarDropdownMenu " ng-class="{\'commandBarDropdownMenuAlignRight\':cmdBarGrpBtnCtrl.openLeft,\'mainCommandDropdownMenu\': cmdBarGrpBtnCtrl.isMainCommandGroup}" role="menu" data-toggle="dropdown">\n                <li ng-repeat="subcommand in cmdBarGrpBtnCtrl.group.group" class="commandBarDropdownItem">\n                    <div ng-switch="subcommand.type">\n                        <div data-internal-type="menu-item-command-bar" ng-switch-when="MainCommand" class="btnMainMenu">\n                            <sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">\n                            </sit-command>\n                        </div>\n                        <div data-internal-type="menu-item-command-bar" ng-switch-when="Command">\n                            <sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">\n                            </sit-command>\n                        </div>\n\n                        <div ng-switch-when="Sep">\n                            <div data-internal-type="menu-separator-command-bar" class="divider menuDivider" />\n                        </div>\n\n                        <div data-internal-type="menu-item-command-bar" ng-switch-when="toggle">\n                            <sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">\n                            </sit-command>\n                        </div>\n\n                        <div ng-switch-default>\n                            Unknown sub command type: Allowed values are "Command" or "Sep"\',\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n        <div ng-switch-when="Menu" class="dropdown-submenu " ng-class="{\'pull-left\':cmdBarGrpBtnCtrl.openLeft}">\n            <div data-internal-type="group-submenu-command-bar" ng-class="{\'btnMainMenu btnMenu\': cmdBarGrpBtnCtrl.isMainCommandGroup,\'btnMenu\': !cmdBarGrpBtnCtrl.isMainCommandGroup}" style="text-align:left" title="{{cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.name}}">\n\n                <span ng-if="cmdBarGrpBtnCtrl.group.image" class="fa {{cmdBarGrpBtnCtrl.group.image}}  " sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" ng-class="{momIcon: cmdBarGrpBtnCtrl.group.displayIcon !== null }">\n                </span>\n                <label class="menuLabel">\n\n                    {{cmdBarGrpBtnCtrl.group.label}}\n                </label>\n                <span class="fa fa-caret-right">\n                </span>\n            </div>\n\n            <ul data-internal-type="submenu-command-bar" class="dropdown-menu commandBarDropdownMenu" ng-class="{\'mainCommandDropdownMenu\': cmdBarGrpBtnCtrl.isMainCommandGroup}" role="menu">\n                <li class="commandBarDropdownItem" ng-repeat="subcommand in cmdBarGrpBtnCtrl.group.group">\n                    <div ng-switch="subcommand.type">\n                        <div data-internal-type="submenu-item-command-bar" ng-switch-when="Command">\n                            <sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">\n                            </sit-command>\n                        </div>\n\n                        <div data-internal-type="menu-item-command-bar" ng-switch-when="MainCommand" class="btnMainMenu">\n                            <sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">\n                            </sit-command>\n                        </div>\n                        <div data-internal-type="submenu-separator-command-bar" ng-switch-when="Sep">\n                            <div class="divider menuDivider">\n                            </div>\n                        </div>\n                        <div data-internal-type="submenu-item-command-bar" ng-switch-when="toggle">\n                            <sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">\n\n                            </sit-command>\n                        </div>\n                        <div ng-switch-default>\n                            Unknown sub command type: Allowed values are "Command" or "Sep"\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n        <ng-transclude ng-show=false>\n        </ng-transclude>\n    </div>\n</div>')}]),angular.module("common/widgets/commandBar/command.html",[]).run(["$templateCache",function(e){e.put("common/widgets/commandBar/command.html",'<div ng-transclude class="command-hide"></div>\n<div ng-switch="cmdCtrl.showas" ng-show="cmdCtrl.command.visibility && !cmdCtrl.command.deniedFromAuthorization">\n    <div ng-switch-when="Button" id="Button{{cmdCtrl.command.type}}{{cmdCtrl.command.name}}" class="vertical-button">\n        <button data-internal-type="command-button-command-bar"\n                ng-class="{\'{{cmdCtrl.command.type}}ActionButton\': cmdCtrl.bartype === \'Action\' && cmdCtrl.layout === \'horizontal\',\n                \'{{cmdCtrl.command.type}}ToolButton\': cmdCtrl.bartype === \'Tool\' && cmdCtrl.layout === \'horizontal\',\n                \'toggle\': cmdCtrl.command.type === \'toggle\' && cmdCtrl.command.selected,\n                \'vertical-command-button\': cmdCtrl.layout === \'vertical\'}"\n                ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)" title="{{cmdCtrl.command.tooltip || cmdCtrl.command.label}}" ng-disabled="cmdCtrl.command.disabled">\n            <span data-internal-type="image-container" ng-if="cmdCtrl.command.image && !cmdCtrl.command.imageTemplate" class="fa-lg MainCommandImage">\n                <em class="fa {{cmdCtrl.command.image}}" sit-mom-icon="cmdCtrl.command.displayIcon"\n                    ng-class="{\'momIcon\': cmdCtrl.command.displayIcon !== null,\n                   \'vertical-command-image\': cmdCtrl.layout === \'vertical\' && (cmdCtrl.command.label.length===0 || !cmdCtrl.command.isVerticalCommandLabelShown),\n                   \'vertical-command-label-image\': cmdCtrl.layout=== \'vertical\' && cmdCtrl.command.label.length!==0 && cmdCtrl.command.isVerticalCommandLabelShown }"></em>\n                <span ng-if="cmdCtrl.layout=== \'vertical\' && cmdCtrl.command.label.length>0 && cmdCtrl.command.isVerticalCommandLabelShown" class="vertical-command-label">\n                    {{cmdCtrl.command.label}}\n                </span>\n            </span>\n            <span data-internal-type="image-container"\n                  ng-if="cmdCtrl.command.imageTemplate"\n                  class="fa-lg" ng-bind-html="cmdCtrl.command.imageTemplate"\n                  ng-class="{\'{{cmdCtrl.command.type}}ToolImage\' :cmdCtrl.bartype === \'Tool\' && cmdCtrl.layout === \'horizontal\',\n                  \'right-align-Tool-image\': cmdCtrl.labelAlign === \'right\' && cmdCtrl.layout === \'horizontal\',\n                  \'vertical-image-template\':cmdCtrl.layout === \'vertical\' && (cmdCtrl.command.label.length === 0 || !cmdCtrl.command.isVerticalCommandLabelShown),\n                  \'vertical-image-template-label\':cmdCtrl.layout === \'vertical\' && cmdCtrl.command.label.length !== 0 && cmdCtrl.command.isVerticalCommandLabelShown}"></span>\n            <span ng-if="cmdCtrl.command.imageTemplate && cmdCtrl.layout === \'vertical\' && cmdCtrl.command.label.length>0 &&  cmdCtrl.command.isVerticalCommandLabelShown" class="vertical-command-label">\n                {{cmdCtrl.command.label}}\n            </span>\n            <span data-internal-type="text-container" ng-if="(cmdCtrl.bartype==\'Tool\' || cmdCtrl.command.type==\'MainCommand\')&& cmdCtrl.layout === \'horizontal\'" class="{{cmdCtrl.command.type}}{{cmdCtrl.bartype}}Label">{{cmdCtrl.command.label}}</span>\n        </button>\n    </div>\n    <div ng-switch-when="Menu">\n        <div data-internal-type="command-menu-command-bar" type="button" ng-class="{\'btnMainMenu btnMenu\': cmdCtrl.command.type===\'MainCommand\',\'btnMenu\': cmdCtrl.command.type!==\'MainCommand\'}" ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)" title="{{cmdCtrl.command.tooltip || cmdCtrl.command.label}}" ng-disabled="cmdCtrl.command.disabled">\n            <span data-internal-type="image-container" sit-mom-icon="cmdCtrl.command.displayIcon" ng-class="{momIcon: cmdCtrl.command.displayIcon !== null }" ng-if="cmdCtrl.layout === \'horizontal\' && cmdCtrl.command.image && !cmdCtrl.command.imageTemplate" class="fa {{cmdCtrl.command.image}}"></span>\n            <span data-internal-type="image-container" sit-mom-icon="cmdCtrl.command.displayIcon" ng-class="{momIcon: cmdCtrl.command.displayIcon !== null }" ng-if="cmdCtrl.layout === \'horizontal\' && cmdCtrl.command.imageTemplate" ng-bind-html="cmdCtrl.command.imageTemplate">TTTT</span>\n            <label data-internal-type="text-container" class="menuLabel" onclick="event.preventDefault();" ng-class="!cmdCtrl.command.image && cmdCtrl.labelAlign === \'right\' ? \'menu-label-icon-margin\' : \'menu-label-margin\'">\n                {{cmdCtrl.command.label}}\n                <input type="checkbox" style="float:right" ng-show="cmdCtrl.command.type === \'toggle\'" ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)" ng-checked="cmdCtrl.command.selected" />\n                <input type="checkbox" style="float:right" ng-show="cmdCtrl.command.type === \'toggle\'" ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)" ng-checked="cmdCtrl.command.selected" />\n            </label>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/commandBar/samples/command-bar-dev-tpl.html",[]).run(["$templateCache",function(e){e.put("common/widgets/commandBar/samples/command-bar-dev-tpl.html",'\x3c!--<div ng-controller="CommandBarDevController as cbDevCtrl">\n    <div class="container" >--\x3e\n\n<div ng-controller="CommandBarDevController as cbDevCtrl" style="display:table; width:100%; border:1px solid blue;">\n    <div  style="width:auto" ng-style="redStyle">\n        \x3c!--<div class="col-md-20 col-xs-20 col-lg-20 col-sm-20"></div>--\x3e\n        <div class="col-md-20 col-md-offset-20 col-xs-offset-20 col-lg-offset-20  col-sm-offset-20 col-xs-20 col-lg-20 col-sm-20" ng-style="yellowStyle">\n            <sit-command-bar sit-commands="cbDevCtrl.commandBarData" on-click="cbDevCtrl.commandBarClick(clickedCommand)"></sit-command-bar>\n        </div>\n            </div>\n    <div class="">\n        <input type="checkbox" ng-model="useColors" ng-change="changeColors()" /> Use Colors\n\n    </div>\n    \x3c!--<div class="row">\n        TEST\n    </div>--\x3e\n    \x3c!--<br />--\x3e\n\n    <div style="width:auto; height: 150px; overflow:auto; background:#879baa">\n        <strong>Notifications</strong><br />\n        <ul>\n            <li ng-repeat="event in events">{{event}}</li>\n        </ul>\n    </div>\n\n    <br />\n    <span>\n        <button ng-click="cbDevCtrl.switchMode(cbDevCtrl.commandBarData)"> Switch mode</button>\n        <span> mode : {{cbDevCtrl.commandBarData.barType}}</span>\n\n\n    </span>\n    <br />\n    <br />\n    <span>\n        <button ng-click="cbDevCtrl.addButton()"> Add Button</button>\n\n\n    </span>\n    <br />\n    <br />\n    <span>Toggle Visibility:</span>\n    <div ng-repeat="command in cbDevCtrl.commandBarData.bar">\n\n        <div ng-switch="command.type">\n\n            <div ng-switch-when="Command">\n                <button ng-click="command.visibility = !command.visibility"> {{command.name}}: {{command.visibility}}</button>\n            </div>\n\n            <div ng-switch-when="Sep">\n                \x3c!-- Separator button --\x3e\n            </div>\n\n            <div ng-switch-when="Group">\n                \x3c!-- Group Button button --\x3e\n                <div ng-repeat="subcommand in command.group">\n\n                    <div ng-switch="subcommand.type">\n\n                        <div ng-switch-when="Command">\n                            <button ng-click="subcommand.visibility = !subcommand.visibility">{{command.name}}/{{subcommand.name}}: {{subcommand.visibility}}</button>\n                        </div>\n\n                        <div ng-switch-when="Sep">\n                            \x3c!-- Separator button --\x3e\n                        </div>\n\n                        <div ng-switch-default>\n                            Unknown sub command type: Allowed values are "Command" or "Sep"\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div ng-switch-default>\n                Unknown sub command type: Allowed values are "Command", "Group" or "Sep"\n            </div>\n        </div>\n    </div>\n\n    \x3c!--</div>\n    </div>--\x3e\n</div>')}]),angular.module("common/widgets/commandBar/samples/command-bar-dev.html",[]).run(["$templateCache",function(e){e.put("common/widgets/commandBar/samples/command-bar-dev.html",'<!DOCTYPE html>\n<html data-ng-app="siemens.simaticit.app">\n<head>\n    <title data-ng-bind="title">Command Bar Development</title>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />\n\n    <link href="/common/styles/common-dark.css" rel="stylesheet" />\n\n    <style>\n        html, body {\n            width: \'100%\';\n            height: \'100%\';\n        }\n\n        #test-container {\n            border: 2px solid black;\n            padding: 4px;\n            margin: 4px;\n        }\n    </style>\n</head>\n\n<body ng-controller="CommandBarDevController as cbDevCtrl">\n\n    <div class="container">\n        <div class="row">\n            <input type="checkbox" ng-model="useColors" ng-change="changeColors()" /> Use Colors\n\n        </div>\n\n        <div class="row" ng-style="redStyle">\n            <div class="col-md-20 col-xs-20 col-lg-20 col-sm-20"></div>\n            <div class="col-md-20 col-xs-20 col-lg-20 col-sm-20" ng-style="yellowStyle">\n                <sit-command-bar sit-commands="cbDevCtrl.commandBarData" on-click="cbDevCtrl.commandBarClick(clickedCommand)"></sit-command-bar>\n            </div>\n        </div>\n        <div class="row">\n            TEST\n        </div>\n\n        <br />\n\n        <div style="width:100%; height: 150px; overflow:auto;">\n            <strong>Notifications</strong><br />\n            <ul>\n                <li ng-repeat="event in events">{{event}}</li>\n            </ul>\n        </div>\n\n        <br />\n        <span>\n            <button ng-click="cbDevCtrl.switchMode(cbDevCtrl.commandBarData)"> Switch mode</button>\n            <span> mode : {{cbDevCtrl.commandBarData.barType}}</span>\n\n\n        </span>\n        <br />\n        <br />\n        <span>\n            <button ng-click="cbDevCtrl.addButton()"> Add Button</button>\n\n\n        </span>\n        <br />\n        <br />\n        <span>Toggle Visibility:</span>\n        <div ng-repeat="command in cbDevCtrl.commandBarData.bar">\n\n            <div ng-switch="command.type">\n\n                <div ng-switch-when="Command">\n                    <button ng-click="command.visibility = !command.visibility"> {{command.name}}: {{command.visibility}}</button>\n                </div>\n\n                <div ng-switch-when="Sep">\n                    \x3c!-- Separator button --\x3e\n                </div>\n\n                <div ng-switch-when="Group">\n                    \x3c!-- Group Button button --\x3e\n                    <div ng-repeat="subcommand in command.group">\n\n                        <div ng-switch="subcommand.type">\n\n                            <div ng-switch-when="Command">\n                                <button ng-click="subcommand.visibility = !subcommand.visibility">{{command.name}}/{{subcommand.name}}: {{subcommand.visibility}}</button>\n                            </div>\n\n                            <div ng-switch-when="Sep">\n                                \x3c!-- Separator button --\x3e\n                            </div>\n\n                            <div ng-switch-default>\n                                Unknown sub command type: Allowed values are "Command" or "Sep"\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div ng-switch-default>\n                    Unknown sub command type: Allowed values are "Command", "Group" or "Sep"\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n\n    \x3c!-- Vendor Scripts --\x3e\n    <script src="/common/scripts/jquery-2.1.1.js"><\/script>\n    <script src="/common/scripts/angular/angular.js"><\/script>\n    <script src="/common/scripts/angular/angular-animate.js"><\/script>\n    <script src="/common/scripts/angular/angular-route.js"><\/script>\n    <script src="/common/scripts/angular/angular-sanitize.js"><\/script>\n    <script src="/common/scripts/bootstrap.js"><\/script>\n    <script src="/common/scripts/angular-ui/ui-bootstrap-tpls.js"><\/script>\n    <script src="/common/scripts/angular-ui-router.js"><\/script>\n\n    \x3c!-- Bootstrapping --\x3e\n    <script src="/common/widgets/commandBar/samples/command-bar-dev-app.js"><\/script>\n\n    \x3c!-- Test Data --\x3e\n    <script src="/common/widgets/commandBar/samples/command-bar-test-data.js"><\/script>\n\n    \x3c!-- command bar Widget scripts --\x3e\n    <script src="/common/widgets/commandBar/sit-command-bar-mod.js"><\/script>\n    <script src="/common/widgets/commandBar/sit-command-bar-dir.js"><\/script>\n    <script src="/common/widgets/commandBar/sit-command-dir.js"><\/script>\n    <script src="/common/widgets/commandBar/sit-command-group-dir.js"><\/script>\n\n</body>\n\n</html>')}]),angular.module("common/widgets/commandBar/samples/commandbar-dev-view.html",[]).run(["$templateCache",function(e){e.put("common/widgets/commandBar/samples/commandbar-dev-view.html",'<div  \n     style="margin-left:50px; text-align: left;  vertical-align: top; ">\n    <ng-include src="\'/app/common/widgets/commandBar/docs/command-bar-dev-tpl.html\'" />\n</div>')}]),angular.module("common/widgets/commandBar/search.html",[]).run(["$templateCache",function(e){e.put("common/widgets/commandBar/search.html",'<div ng-transclude class="command-hide"></div>\n<div data-internal-type="quick-search-container" class="contextual-search-container">\n\n    <input data-internal-type="quickSearchTextBox" type="text" ng-change="searchCtrl.changeSearch(searchCtrl.quickSearchText)"\n           placeholder="{{searchCtrl.placeholder}}" class="form-control contextual-quick-search" ng-model="searchCtrl.quickSearchText"\n           ng-focus="searchCtrl.focusSearch()" ng-blur="searchCtrl.blurSearch()" />\n    <em id="ContextualSearchIcon" data-internal-type="quickSearchIcon" ng-class="{momIcon: searchCtrl.svgIcons.search }" sit-class="svg-icon"\n        sit-mom-icon="searchCtrl.svgIcons.search"\n        class="fa fa-search contextual-search-icon" ng-click="searchCtrl.clickSearch(searchCtrl.quickSearchText)"></em>\n    <em id="ContextualSearchIcon" data-internal-type="quickSearchIcon" ng-if="searchCtrl.quickSearchText.length > 0" ng-class="{momIcon: searchCtrl.svgIcons.close }" sit-class="svg-icon"\n        sit-mom-icon="searchCtrl.svgIcons.close"\n        class="fa fa-close contextual-close-icon" ng-click="searchCtrl.quickSearchText =\'\';searchCtrl.clickSearch(\'\');"></em>\n\n    \n</div>')}]),angular.module("common/widgets/component/samples/swac/index.html",[]).run(["$templateCache",function(e){e.put("common/widgets/component/samples/swac/index.html",'<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n    <title>SWAC Chat Messenger</title>\n           \n    <script src="../../../../scripts/jquery-2.1.1.min.js"><\/script>\n    \n    <script src="../../../../scripts/angular/angular.min.js"><\/script>    \n    <script src="../../../../scripts/swac/swac-base.js"><\/script>    \n    <script src="../../../../scripts/swac/swac-boot.js"><\/script>\n\n    <script src="swac-dev-app.js"><\/script>\n    <script src="Directives/swac-dev-scroll-down-directive.js"><\/script>\n    <script src="Services/swac-dev-swac-component-service.js"><\/script>\n    <script src="Services/swac-dev-chat-messenger-service.js"><\/script>\n    <script src="Controllers/swac-dev-chat-messenger-controller.js"><\/script>\n\n</head>\n<body style="background-color: lightgray">\n    <div id="appDivContainer" ng-app="chatApp" ng-controller="chatMessengerCtrl">\n            <div>\n                Messenger Name:\n                <input type="text" ng-model="messengerName" placeholder="Enter Name"/>\n            </div>\n            <div scroll-down style="overflow:auto; height:300px; width:400px;background-color:white; border:1px solid; line-height:25px;">\n                <div ng-repeat="chat in chatRecieved">\n                    {{chat.sender}}: {{chat.message}}\n                </div>\n            </div>\n            <div>\n                Message: <input type="text" ng-model="chatToSend" ng-keypress="onKeyPress($event)" size="32" />\n                <button ng-click="sendChat()">Send</button>\n            </div>\n    </div>\n</body>\n</html>\n')}]),angular.module("common/widgets/component/samples/test.html",[]).run(["$templateCache",function(e){e.put("common/widgets/component/samples/test.html",'<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n    <title>Mashup Runtime</title>\n    <script src="../../../scripts/jquery-2.1.1.js"><\/script>\n    <script src="../../../scripts/angular/angular.min.js"><\/script>\n    <script src="../../../scripts/swac/swac-base.js"><\/script>\n    <script src="../../../scripts/swac/swac-container.js"><\/script>\n\n    <script src="app.js"><\/script>\n    <script src="../uy-swac-module.js"><\/script>\n    <script src="../sit-container-dir.js"><\/script>\n    <script src="../uy-element-directive.js"><\/script>\n    <script src="../sit-wire-dir.js"><\/script>\n    <script src="../../../services/swac/sit-swac-component-svc.js"><\/script>\n    <script src="../../../services/swac/sit-swac-container-svc.js"><\/script>\n    <script src="../../../services/swac/sit-ui-component-svc.js"><\/script>\n    <script src="ui/scroll-down.js"><\/script>\n    <script src="ui/chatMessenger.js"><\/script>\n    <script src="ui/chatMessengerCtrl.js"><\/script>\n    <script src="mashupWireController.js"><\/script>\n</head>\n<body>\n    <div ng-app="myApp" style="position:relative;width:100%;height:900px;">\n        <uy-container create="20000" internal="20000" functions="20000" events="20000" ng-controller="mashupWireController as mashup" isswac="true">\n            <uy-element name="SWAC_Messenger1" type="swac" source="swac/index.html" left="0" top="1" width="3" height="6" flavor="ui"></uy-element>\n            <uy-element name="messenger2" type="ui" source="chat-messenger" componenttype="ui" left="4" top="3" width="3" height="6" flavor="ui"></uy-element>\n            <uy-element name="messenger3" type="ui" source="chat-messenger" componenttype="ui" left="8" top="2" width="3" height="6" flavor="ui"></uy-element>\n\n            <uy-wire name="wire1" inputcomponents="messenger3" inputevents="newMessageTyped" outputcomponents="messenger2" outputapis="getChatMessage" converters="mashup.Wire1Converters" inputtypes="ui" outputtypes="ui"></uy-wire>\n            <uy-wire name="wire3" inputcomponents="SWAC_Messenger1" inputevents="newMessageTyped" outputcomponents="messenger2,messenger3" outputapis="getChatMessage,getChatMessage" converters="mashup.Wire3Converters" inputtypes="swac" outputtypes="ui,ui"></uy-wire>\n        </uy-container>\n    </div>\n</body>\n</html>\n')}]),angular.module("common/widgets/component/samples/ui/chatMessenger.html",[]).run(["$templateCache",function(e){e.put("common/widgets/component/samples/ui/chatMessenger.html",'<div>\n    Messenger Name:\n    <input type="text" ng-model="messengerName" placeholder="Enter Name"/>\n</div>\n<div scroll-down style="overflow:auto; height:300px; width:400px;background-color:white; border:1px solid; line-height:25px;">\n    <div ng-repeat="chat in chatRecieved">\n        {{chat.sender}}: {{chat.message}}\n    </div>\n</div>\n<div>\n    Message: <input type="text" ng-model="chatToSend" ng-keypress="onKeyPress($event)" size="32" />\n    <button ng-click="sendChat()">Send</button>\n</div>\n')}]),angular.module("common/widgets/datePicker/date-picker.html",[]).run(["$templateCache",function(e){e.put("common/widgets/datePicker/date-picker.html",'<div class="property-grid-input-group">\n    <div ng-if="datepickerCtrl.readOnly || datepickerCtrl.ngReadonly" class="label-property-grid-control-readonly property-value-ellipsis"> {{datepickerCtrl.value | date: \'shortDate\'}} </div>\n</div>\n\n<ng-form ng-if="!(datepickerCtrl.readOnly || datepickerCtrl.ngReadonly)" \n         name=\'datepickerForm\' \n         ng-class="{\'isrequired\' : (datepickerCtrl.validation.required) && (datepickerCtrl.value===undefined) }">\n    <div class="property-grid-input-group" style="border:0;">\n        <input type="text"\n               class="property-grid-control validator-control"\n               ng-click="datepickerCtrl.open($event)"\n               ng-class="{\'validator-control-invalid\':((datepickerForm.$invalid && datepickerForm.$dirty) || (datepickerForm.$invalid && datepickerForm.$visited)),\n               \'validator-control\':!((datepickerForm.$invalid && datepickerForm.$dirty) || (datepickerForm.$invalid && datepickerForm.$visited)),\n               \'ng-dirty\':datepickerForm.$dirty}"\n               uib-datepicker-popup="{{datepickerCtrl.format}}"\n               ng-model="datepickerCtrl.value"\n               is-open="datepickerCtrl.opened"\n               close-text="{{\'dateTimePicker.close\' | translate}}"\n               clear-text="{{\'dateTimePicker.clear\' | translate}}"\n               current-text="{{\'dateTimePicker.today\' | translate}}"\n               datepicker-options="datepickerCtrl.dateOptions"\n               ng-required="datepickerCtrl.validation.required"\n               show-button-bar="datepickerCtrl.showButtonBar"\n               style="cursor:pointer;"\n               datepicker-append-to-body="datepickerCtrl.appendToBody"\n               ng-blur="datepickerCtrl.ngBlur()"\n               sit-change="datepickerCtrl.sitChange"\n               ng-disabled="datepickerCtrl.ngDisabled"\n               ng-focus="datepickerCtrl.ngFocus()"\n               sit-form-input-validator readonly="readonly" />\n        <div class="btn property-grid-addon-icon" ng-click="datepickerCtrl.open($event)" ng-disabled="datepickerCtrl.ngDisabled">\n            <em class="fa fa-calendar" ng-disabled="datepickerCtrl.ngDisabled"></em>\n        </div>\n    </div>\n</ng-form>\n')}]),angular.module("common/widgets/dateTimePicker/date-time-picker.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dateTimePicker/date-time-picker.html",'<div class="property-grid-input-group">\n    <div class="label label-property-grid-control-readonly property-value-ellipsis" ng-if="dateTimePickerCtrl.readOnly || dateTimePickerCtrl.ngReadonly">\n        {{dateTimePickerCtrl.value | date: \'medium\'}}\n    </div>\n</div>\n\n<ng-form name=\'dateTimePickerForm\' ng-if="!(dateTimePickerCtrl.readOnly || dateTimePickerCtrl.ngReadonly)"\n         ng-class="{\'isrequired\' : (dateTimePickerCtrl.validation.required) && (dateTimePickerCtrl.value===undefined)}">\n    <div class="property-grid-input-group">\n        <div class="property-grid-input-group">\n            <input type="text"\n                   class="property-grid-control validator-control date-time-input-hover"\n                   ng-model="dateTimePickerCtrl.value"\n                   uib-datepicker-popup="{{dateTimePickerCtrl.format}}"\n                   ng-class="{\'validator-control-invalid\':((dateTimePickerForm.$invalid && dateTimePickerForm.$dirty) || (dateTimePickerForm.$invalid && dateTimePickerForm.$visited)),\n               \'validator-control\':!((dateTimePickerForm.$invalid && dateTimePickerForm.$dirty) || (dateTimePickerForm.$invalid && dateTimePickerForm.$visited)),\n               \'ng-dirty\':dateTimePickerForm.$dirty}"\n                   ng-click="dateTimePickerCtrl.clicked()"\n                   ng-keydown="dateTimePickerCtrl.keydownPressed($event)"\n                   ng-disabled="dateTimePickerCtrl.ngDisabled"\n                   ng-required="dateTimePickerCtrl.validation.required"\n                   sit-change="dateTimePickerCtrl.sitChange"\n                   sit-form-input-validator\n                   readonly="readonly" />\n            <div class="btn property-grid-addon-icon" ng-click="dateTimePickerCtrl.ngDisabled || dateTimePickerCtrl.clicked()" ng-disabled="dateTimePickerCtrl.ngDisabled">\n                <em class="fa fa-calendar"></em>\n            </div>\n        </div>\n\n        <div class="dropdown-menu" ng-style="{display: (dateTimePickerCtrl.isOpen && \'block\') || \'none\'}">\n            <div class="date-time-icon">\n                <button type="button" class="date-time-icon-btn" ng-click="dateTimePickerCtrl.switchDateTimePicker()"><em ng-class="dateTimePickerCtrl.isCollapsed ? \'fa fa-clock-o fa-lg\' : \'fa fa-calendar-o fa-lg\' "></em></button>\n            </div>\n\n            <div id="datepicker" sit-data-internal-type="datepicker" uib-collapse="!dateTimePickerCtrl.isCollapsed">\n                <div uib-datepicker ng-model="dateTimePickerCtrl.value" datepicker-options="dateTimePickerCtrl.dateOptions">\n                </div>\n            </div>\n\n            <div id="timepicker" sit-data-internal-type="timepicker" uib-collapse="dateTimePickerCtrl.isCollapsed">\n                <div uib-timepicker ng-model="dateTimePickerCtrl.value" show-seconds="dateTimePickerCtrl.showSeconds" show-meridian="dateTimePickerCtrl.showMeridian" class="time-picker-centered">\n                </div>\n            </div>\n\n            <div class="uib-button-bar" ng-class="{\'pull-center\' : !dateTimePickerCtrl.showButtonBar}">\n                <span class="pull-left btn-group" ng-show="dateTimePickerCtrl.showButtonBar">\n                    <button type="button" class="btn btn-sm btn-info" ng-click="dateTimePickerCtrl.today()">{{dateTimePickerCtrl.buttonLabel}}</button>\n                    <button type="button" class="btn btn-sm btn-danger" ng-click="dateTimePickerCtrl.clear()">{{dateTimePickerCtrl.clearLabel}}</button>\n                </span>\n                <button type="button" ng-class="{\'pull-right\' : dateTimePickerCtrl.showButtonBar}" class="btn btn-sm btn-success" ng-click="dateTimePickerCtrl.close()">{{dateTimePickerCtrl.closeLabel}}</button>\n            </div>\n\n        </div>\n    </div>\n</ng-form>\n')}]),angular.module("common/widgets/dialog/dialog.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dialog/dialog.html",'<div class="modal dialog-modal" id={{Dialog.modalid}} tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">\n    \x3c!--[Fix]Bug - 8894. The duplicate template code is the fix for slow dialog rendering in IE.--\x3e\n    <div class="modal-dialog dialog-dialog dialog-dialog-centered" ng-if="Dialog.positioning == \'centered\'">\n        <div data-internal-type="input-dialog-border" class="dialog-dialogborder">\n            <div data-internal-type="input-dialog-content" class="dialog-content">\n\n                <div data-internal-type="input-dialog-header" class="dialog-header">\n                    <div class="dialog-header-text">{{Dialog.dialogTitle}}</div>\n                    <div class="dialog-close-btn" ng-if="Dialog.isCloseButtonShown" ng-click="Dialog.closeDialog()" title="{{Dialog.closeButtonTooltip}}">\n                        <span class="dialog-button" style="display:none" sit-class="dialog-button" sit-mom-icon="Dialog.closeIcon" aria-hidden="true"></span>\n                    </div>\n                </div>\n                <div data-internal-type="input-dialog-body" class="dialog-body">\n                    <div class="row">\n                        <div class="dialog-body-overflow">\n                            <ng-include id="{{Dialog.modalid}}-includeTemplate" ng-if="Dialog.dialogTemplate" src="Dialog.dialogTemplate"> </ng-include>\n                            <div ng-if="!Dialog.dialogTemplate">\n                                <div class="dialog-information-{{Dialog.templatedata.layout}}" ng-if="Dialog.templatedata.information">\n                                    <div ng-bind-html="Dialog.templatedata.information"></div>\n                                </div>\n                                <div>\n                                    <sit-property-grid sit-id="{{Dialog.modalid}}_dialog_property_grid"\n                                                       sit-data="Dialog.templatedata.data"\n                                                       sit-layout="{{Dialog.templatedata.layout}}"\n                                                       sit-type="Fixed"\n                                                       sit-mode="{{Dialog.templatedata.mode ? Dialog.templatedata.mode : \'edit\'}}"\n                                                       sit-columns="1">\n                                    </sit-property-grid>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="dialog-alert-container-{{Dialog.templatedata.layout}}" ng-hide="Dialog.isValid.value">\n                            <div class="alert alert-warning dialog-alert">\n                                <em class="fa fa-warning "></em>\n                                <span class="alert-title">{{\'dialog.validator.warningTitle\'|translate}} </span>\n                                {{\'dialog.validator.warningMessage\'|translate}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div data-internal-type="input-dialog-footer" class="dialog-footer">\n                    <div class="dialog-div-button" ng-if="button.displayName" ng-repeat="button in Dialog.buttons.slice().reverse()" ng-class="{\'last-dialog-button\':($last && Dialog.buttons.length)}">\n                        <sit-dialog-button sit-button="button" />\n                    </div>\n                </div>\n            </div>\x3c!-- /.modal-content --\x3e\n        </div>\x3c!-- /.modal-dialog --\x3e\n    </div>\n    <div class="modal-dialog dialog-dialog dialog-dialog-notcentered" ng-if="Dialog.positioning == \'notcentered\'">\n        <div data-internal-type="input-dialog-border" class="dialog-dialogborder">\n            <div data-internal-type="input-dialog-content" class="dialog-content">\n                <div data-internal-type="input-dialog-header" class="dialog-header">\n                    <div class="dialog-header-text">{{Dialog.dialogTitle}}</div>\n                    <div class="dialog-close-btn" ng-if="Dialog.isCloseButtonShown" ng-click="Dialog.closeDialog()" title="{{Dialog.closeButtonTooltip}}">\n                        <span class="dialog-button" style="display:none" sit-class="dialog-button" sit-mom-icon="Dialog.closeIcon" aria-hidden="true"></span>\n                    </div>\n                </div>\n\n                <div data-internal-type="input-dialog-body" class="dialog-body">\n                    <div class="row">\n                        <div class="dialog-body-overflow">\n                            <ng-include id="{{Dialog.modalid}}-includeTemplate" ng-if="Dialog.dialogTemplate" src="Dialog.dialogTemplate"> </ng-include>\n                            <div ng-if="!Dialog.dialogTemplate">\n                                <div class="dialog-information-{{Dialog.templatedata.layout}}" ng-if="Dialog.templatedata.information">\n                                    <div ng-bind-html="Dialog.templatedata.information"></div>\n                                </div>\n                                <div>\n                                    <sit-property-grid sit-id="{{Dialog.modalid}}_dialog_property_grid"\n                                                       sit-data="Dialog.templatedata.data"\n                                                       sit-layout="{{Dialog.templatedata.layout}}"\n                                                       sit-type="Fixed"\n                                                       sit-mode="{{Dialog.templatedata.mode ? Dialog.templatedata.mode : \'edit\'}}"\n                                                       sit-columns="1">\n                                    </sit-property-grid>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="dialog-alert-container-{{Dialog.templatedata.layout}}" ng-hide="Dialog.isValid.value">\n                            <div class="alert alert-warning dialog-alert">\n                                <em class="fa fa-warning "></em>\n                                <span class="alert-title">{{\'dialog.validator.warningTitle\'|translate}} </span>\n                                {{\'dialog.validator.warningMessage\'|translate}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div data-internal-type="input-dialog-footer" class="dialog-footer">\n                    <div class="dialog-div-button" ng-if="button.displayName" ng-repeat="button in Dialog.buttons.slice().reverse()" ng-class="{\'last-dialog-button\':($last && Dialog.buttons.length)}">\n                        <sit-dialog-button sit-button="button" />\n                    </div>\n                </div>\n            </div>\x3c!-- /.modal-content --\x3e\n        </div>\x3c!-- /.modal-dialog --\x3e\n    </div>\n</div>\n\n\n')}]),angular.module("common/widgets/dialog/samples/dialog-dev-popup1-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dialog/samples/dialog-dev-popup1-template.html",'<div class="row" style="width:500px">\n   \n\n    <div class="row">\n        <div id="test-container">\n            <sit-property-grid sit-id="MyID"\n                               sit-data="templatedata"\n                               sit-layout="\'Vertical\'"\n                               sit-mode="edit"></sit-property-grid>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/dialog/samples/dialog-dev-popup2-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dialog/samples/dialog-dev-popup2-template.html",'<div class="row" style="width:auto">\n\n\n    <div class="row">\n        <div id="test-container">\n\n            <sit-property-grid sit-id="dialogPopup2"\n                               sit-data="Dialog.templatedata"\n                               sit-layout="\'Horizontal\'"\n                               sit-type="\'Fixed\'"\n                               sit-mode="edit"\n                               sit-columns="\'1\'">\n\n            </sit-property-grid>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/dialog/samples/dialog-dev-tpl.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dialog/samples/dialog-dev-tpl.html",'<div ng-controller="DialogDevController as dDevCtrl">\n\n    <div class="container">\n        <div>\n            Vertical : <input type="checkbox" ng-model="dialoglayout" ng-init="dialoglayout=true" />\n            \n        </div>\n        <div class="row"></div>\n        <button id="buttonTest" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup1()" >\n            Launch modal 1\n        </button>\n        <div class="row"></div>\n        <div class="row"></div>\n        <button id="buttonTestCenter" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup1Center()" >\n            Launch modal 1 centered\n        </button>\n        <button id="buttonTest2" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup2()" >\n            Launch modal 2\n        </button>\n        <div class="row"></div>\n        <div class="row"></div>\n        <button id="buttonTestCenter2" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup2Center()" >\n            Launch modal 2 centered\n        </button>\n        <div class="row"></div>\n        <div class="row"></div>\n        <sit-dialog sit-title="dDevCtrl.dialogVerticalDataTitle"\n                    sit-templatedata=\'dDevCtrl.dialogVerticalData\'\n                    sit-modalid="popup1"\n                    sit-buttons=\'dDevCtrl.buttonsList\'>\n\n        </sit-dialog>\n        <sit-dialog sit-title="dDevCtrl.dialogHorizontalDataTitle"\n                    sit-templatedata=\'dDevCtrl.dialogHorizontalData\'\n                    sit-modalid="popup3"\n                    sit-buttons=\'dDevCtrl.buttonsList\'>\n\n        </sit-dialog>\n        <sit-dialog sit-title="dDevCtrl.dialogDataTitle"\n                    sit-templatedata=\'dDevCtrl.dialogData\'\n                    sit-templateuri="dDevCtrl.dialogDataTemplateUri"\n                    sit-modalid="popup2"\n                    sit-buttons=\'dDevCtrl.buttonsList\'>\n\n        </sit-dialog>\n\n    </div>\n</div>')}]),angular.module("common/widgets/dialog/samples/dialog-dev.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dialog/samples/dialog-dev.html",'<!DOCTYPE html>\n<html data-ng-app="siemens.simaticit.app">\n<head>\n    <title data-ng-bind="title">Dialog popup Development</title>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />\n\n    <link href="/common/styles/common-dark.css" rel="stylesheet" />\n\n    <style>\n        html, body {\n            width: \'100%\';\n            height: \'100%\';\n        }\n    </style>\n</head>\n\n<body ng-controller="DialogDevController as dDevCtrl">\n\n    <div class="container">\n        <div>\n            Vertical : <input type="checkbox" ng-model="dialoglayout" ng-init="dialoglayout=true" />\n\n        </div>\n        <div class="row"></div>\n        <button id="buttonTest" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup1()">\n            Launch modal 1\n        </button>\n        <div class="row"></div>\n        <div class="row"></div>\n        <button id="buttonTestCenter" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup1Center()">\n            Launch modal 1 centered\n        </button>\n        <button id="buttonTest2" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup2()">\n            Launch modal 2\n        </button>\n        <div class="row"></div>\n        <div class="row"></div>\n        <button id="buttonTestCenter2" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup2Center()">\n            Launch modal 2 centered\n        </button>\n        <div class="row"></div>\n        <div class="row"></div>\n        <sit-dialog sit-title="dDevCtrl.dialogVerticalDataTitle"\n                    sit-templatedata=\'dDevCtrl.dialogVerticalData\'\n                    sit-modalid="popup1"\n                    sit-buttons=\'dDevCtrl.buttonsList\'>\n\n        </sit-dialog>\n        <sit-dialog sit-title="dDevCtrl.dialogHorizontalDataTitle"\n                    sit-templatedata=\'dDevCtrl.dialogHorizontalData\'\n                    sit-modalid="popup3"\n                    sit-buttons=\'dDevCtrl.buttonsList\'>\n\n        </sit-dialog>\n        <sit-dialog sit-title="dDevCtrl.dialogDataTitle"\n                    sit-templatedata=\'dDevCtrl.dialogData\'\n                    sit-templateuri="dialog-dev-popup2-template.html"\n                    sit-modalid="popup2"\n                    sit-buttons=\'dDevCtrl.buttonsList\'>\n\n        </sit-dialog>\n\n    </div>\n\n    \x3c!-- Vendor Scripts --\x3e\n    <script src="/common/scripts/jquery-2.1.1.js"><\/script>\n    <script src="/common/scripts/angular/angular.js"><\/script>\n    <script src="/common/scripts/angular/angular-animate.js"><\/script>\n    <script src="/common/scripts/angular/angular-route.js"><\/script>\n    <script src="/common/scripts/angular/angular-sanitize.js"><\/script>\n    <script src="/common/scripts/bootstrap.js"><\/script>\n    <script src="/common/scripts/angular-ui/ui-bootstrap-tpls.js"><\/script>\n    <script src="/common/scripts/angular-ui-router.js"><\/script>\n\n\n    <script src="/common/scripts/angular-translate/translate.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/default-interpolation.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/handler-log.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/loader-static-files.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/loader-partial.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/storage-key.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/storage-local.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/storage-cookie.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/translate.js"><\/script>\n    <script src="/common/scripts/angular-translate/directive/translate-cloak.js"><\/script>\n    <script src="/common/scripts/angular-translate/directive/translate.js"><\/script>\n    <script src="/common/scripts/angular-translate/filter/translate.js"><\/script>\n\n\n\n    \x3c!-- Property Grid Widget scripts --\x3e\n    <script src="/common/widgets/propertyGrid/sit-property-grid-module.js"><\/script>\n    <script src="/common/widgets/propertyGrid/sit-property-grid-service.js"><\/script>\n    <script src="/common/widgets/propertyGrid/sit-property-grid-directive.js"><\/script>\n    <script src="/common/widgets/propertyGrid/sit-property-grid-fixed-directive.js"><\/script>\n    <script src="/common/widgets/propertyGrid/sit-property-grid-fluid-directive.js"><\/script>\n    <script src="/common/widgets/propertyGrid/sit-property-grid-vertical-directive.js"><\/script>\n\n\n    \x3c!-- dialog button Widget scripts --\x3e\n    <script src="/common/widgets/dialogButton/sit-dialog-button-mod.js"><\/script>\n    <script src="/common/widgets/dialogButton/sit-dialog-button-dir.js"><\/script>\n\n    \x3c!-- Bootstrapping --\x3e\n    <script src="/common/widgets/dialog/samples/dialog-dev-app.js"><\/script>\n\n    \x3c!-- Test Data --\x3e\n    <script src="/common/widgets/dialog/samples/dialog-test-data.js"><\/script>\n\n    \x3c!-- Dialog Widget scripts --\x3e\n    <script src="/common/widgets/dialog/sit-dialog-mod.js"><\/script>\n    <script src="/common/widgets/dialog/sit-dialog-svc.js"><\/script>\n    <script src="/common/widgets/dialog/sit-dialog-dir.js"><\/script>\n\n</body>\n\n</html>')}]),angular.module("common/widgets/dialogButton/dialogButton.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dialogButton/dialogButton.html",'<button id={{dialogButtonCtrl.button.id}} class="btn btn-default dialogButton" ng-click="dialogButtonCtrl.button.onClickCallback()" ng-disabled="dialogButtonCtrl.button.disabled">\n    {{dialogButtonCtrl.button.displayName}}\n</button>\n')}]),angular.module("common/widgets/dialogButton/samples/dialog-button-dev.html",[]).run(["$templateCache",function(e){e.put("common/widgets/dialogButton/samples/dialog-button-dev.html",'<!DOCTYPE html>\n<html data-ng-app="app">\n<head>\n    <title data-ng-bind="title">Dialog Button Development</title>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />\n\n\n    <link href="/common/styles/common-dark.css" rel="stylesheet" />\n\n    <style>\n        html, body {\n            overflow: auto !important;\n        }\n    </style>\n</head>\n\n<body ng-controller="dialogButtonDevController">\n\n    \x3c!-- UI-ROUTER EXAMPLE --\x3e\n    <div>\n        <p>Test Dialog Button 2</p>\n        <sit-dialog-button sit-button="myButton" />\n\n    </div>\n    \x3c!-- END UI-ROUTER EXAMPLE --\x3e\n    \x3c!-- Vendor Scripts --\x3e\n    <script src="/scripts/jquery-2.1.1.js"><\/script>\n    <script src="/scripts/angular/angular.js"><\/script>\n    <script src="/scripts/angular/angular-animate.js"><\/script>\n    <script src="/scripts/angular/angular-route.js"><\/script>\n    <script src="/scripts/angular/angular-sanitize.js"><\/script>\n    <script src="/scripts/bootstrap.js"><\/script>\n    <script src="/scripts/angular-ui/ui-bootstrap-tpls.js"><\/script>\n    <script src="/scripts/angular-ui-router.js"><\/script>\n\n    \x3c!-- Bootstrapping --\x3e\n    <script src="dialog-button-dev-app.js"><\/script>\n\n    \x3c!-- Test Data --\x3e\n    \x3c!-- Flyout Widget scripts --\x3e\n    <script src="../sit-dialog-button-mod.js"><\/script>\n    <script src="../sit-dialog-button-dir.js"><\/script>\n\n</body>\n\n</html>')}]),angular.module("common/widgets/documentViewer/document-carousel.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/document-carousel.html",'<div class="carousel-container">\n    <div class="carousel-arrow-left" ng-click="$ctrl.prevItems()" ng-if="$ctrl.page>1">\n        <div class="carousel-arrow">\n            <em sit-mom-icon="{\'path\': \'common/icons/miscChevronRight16.svg\'}" title="Previous page"></em>\n        </div>\n    </div>\n\n    <div class="doc-group">\n        <div ng-repeat="documentData in $ctrl.carouselData">\n            <div class="doc-icon" ng-class="{active:documentData.name === $ctrl.parent.document.name}" ng-click="$ctrl.onThumbnailClick(documentData)">\n                <img class="img-view" ng-if="documentData.thumbnail && documentData.thumbnail!==undefined" \n                     ng-src="{{documentData.thumbnail}}" ng-attr-title="{{documentData.name}}" alt="thumbnail"/>\n                <div ng-if="!documentData.thumbnail || documentData.thumbnail===undefined" ng-switch="documentData.format">\n                    <em ng-switch-when="image" class="fa fa-file-image-o" ng-attr-title="{{documentData.name}}"></em>\n                    <em ng-switch-when="pdf" sit-mom-icon="{path: \'common/icons/typePdf48.svg\'}" ng-attr-title="{{documentData.name}}"></em>\n                    <em ng-switch-when="video" class="fa fa-file-video-o" ng-attr-title="{{documentData.name}}"></em>\n                    <em ng-switch-when="text" sit-mom-icon="{path: \'common/icons/typeTxt48.svg\'}" ng-attr-title="{{documentData.name}}"></em>\n                    <em ng-switch-default class="fa fa-file" ng-attr-title="{{documentData.name}}"></em>\n                </div>\n            </div>\n        </div>\n        <p ng-if="$ctrl.carouselData.length===0">No Data</p>\n    </div>\n\n    <div class="carousel-arrow-right" ng-click="$ctrl.nextItems()" ng-if="$ctrl.page!==$ctrl.last && $ctrl.carouselData.length!==0">\n        <div class="carousel-arrow">\n            <em sit-mom-icon="{\'path\': \'common/icons/miscChevronRight16.svg\'}" title="Next page"></em>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/documentViewer/document-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/document-viewer.html",'<div class="sit-document-viewer">\n    <div class="doc-header">\n        <div class="doc-title" title="{{$ctrl.title}}">{{$ctrl.title}}</div>\n        <div class="doc-header-icons" ng-if="($ctrl.data.length > 0) ? true : false">\n            <div class="doc-viewer-default-btn" ng-if="!$ctrl.docContent">\n                <div ng-if="$ctrl.fullScreenMode===\'toolbar\'" class="header-icons">\n                    <em sit-mom-icon="{\'path\': \'common/icons/cmdFitToWindow24.svg\'}" title="Maximize Document" aria-hidden="true"\n                        ng-click="$ctrl.maximizeClicked($ctrl.document)"></em>\n                </div>\n                <div class="header-icons max-doc-detail" title="Maximize Details">\n                    <em sit-mom-icon="{\'path\': \'common/icons/cmdFullSizeVertical24.svg\'}" ng-click="$ctrl.toggleViewer()"></em>\n                </div>\n            </div>\n\n            <div class="doc-viewer-custom-btn" ng-if="!$ctrl.docContent">\n                <div class="header-icons" ng-repeat="action in $ctrl.actions">\n                    <em ng-class="{momIcon:action.displayIcon!==null}"sit-mom-icon="action.displayIcon" title="{{action.label}}"\n                        ng-click="action.action()"></em>\n                </div>\n            </div>\n\n            <div class="doc-viewer-minimize-btn" ng-if="$ctrl.docContent">\n                <div class="header-icons min-doc-detail" title="Minimize Details">\n                    <em sit-mom-icon="{\'path\': \'common/icons/cmdExitFullSizeVertical24.svg\'}" ng-click="$ctrl.toggleViewer()"></em>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="doc-content" ng-if="!$ctrl.docContent" sit-document-plugin sit-plugins="$ctrl.config.plugins">\n    </div>\n    <div ng-class="{\'doc-list\':$ctrl.docContent === false , \'doc-details\': $ctrl.docContent === true}">\n        <sit-tabset>\n            <sit-tab ng-repeat="tab in $ctrl.categories track by tab.id" heading="{{tab.label}}"\n                     select="$ctrl.enableTabs(tab.id)" active="tab.tabActive">\n                <sit-document-carousel sit-data="$ctrl.items" sit-config="$ctrl.config" ng-show="!$ctrl.docContent"></sit-document-carousel>\n                <sit-tile-view sit-tiles="$ctrl.tabContent" sit-options="$ctrl.options" ng-if="$ctrl.tabContent" \n                               ng-show="$ctrl.docContent"></sit-tile-view>\n            </sit-tab>\n        </sit-tabset>\n    </div>\n</div>')}]),angular.module("common/widgets/documentViewer/plugins/image/image-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/plugins/image/image-viewer.html",'<div class="image-canvas" ng-click="$ctrl.showFullScreen()">\n    <img alt="" ng-src="{{$ctrl.source}}" />\n</div>\n\n<div ng-if="$ctrl.isImageFullScreenMode" id="full-screen-image" class="full-image-background">\n    <img alt="" ng-src="{{$ctrl.source}}" class="full-screen-image" />\n</div>')}]),angular.module("common/widgets/documentViewer/plugins/pdf/pdf-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/plugins/pdf/pdf-viewer.html",'<div class="pdf-canvas" ng-click="$ctrl.showFullScreen()">\n    <div class="pdf-viewer"></div>\n</div>\n\n<div id="pdf-full-screen" ng-if="$ctrl.isFullScreenMode" ng-include="\'common/widgets/documentViewer/plugins/pdf/viewer.html\'"></div>\n\n\n')}]),angular.module("common/widgets/documentViewer/plugins/pdf/viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/plugins/pdf/viewer.html",'<div tabindex="-1" id="pdf-full-screen-viewer" class="customViewer loadingInProgress">\n        <div id="outerContainer">\n            <div id="sidebarContainer">\n                <div id="toolbarSidebar">\n                    <div class="splitToolbarButton toggled">\n                        <button id="viewThumbnail" class="toolbarButton toggled" title="Show Thumbnails" tabindex="2" data-l10n-id="thumbs">\n                            <span data-l10n-id="thumbs_label">Thumbnails</span>\n                        </button>\n                        <button id="viewAttachments" class="toolbarButton" title="Show Attachments" tabindex="4" data-l10n-id="attachments">\n                            <span data-l10n-id="attachments_label">Attachments</span>\n                        </button>\n                    </div>\n                </div>\n                <div id="sidebarContent">\n                    <div id="thumbnailView">\n                    </div>\n                    <div id="outlineView" class="hidden">\n                    </div>\n                    <div id="attachmentsView" class="hidden">\n                    </div>\n                </div>\n            </div>  \x3c!-- sidebarContainer --\x3e\n\n            <div id="mainContainer">\n                <div class="findbar hidden doorHanger" id="findbar">\n                    <div id="findbarInputContainer">\n                        <input id="findInput" class="toolbarField" title="Find" placeholder="Find in document" tabindex="91" data-l10n-id="find_input">\n                        <div class="splitToolbarButton">\n                            <button id="findPrevious" class="toolbarButton findPrevious" title="Find the previous occurrence of the phrase" tabindex="92" data-l10n-id="find_previous">\n                                <span data-l10n-id="find_previous_label">Previous</span>\n                            </button>\n                            <div class="splitToolbarButtonSeparator"></div>\n                            <button id="findNext" class="toolbarButton findNext" title="Find the next occurrence of the phrase" tabindex="93" data-l10n-id="find_next">\n                                <span data-l10n-id="find_next_label">Next</span>\n                            </button>\n                        </div>\n                    </div>\n\n                    <div id="findbarOptionsContainer">\n                        <input type="checkbox" id="findHighlightAll" class="toolbarField" tabindex="94">\n                        <label for="findHighlightAll" class="toolbarLabel" data-l10n-id="find_highlight">Highlight all</label>\n                        <input type="checkbox" id="findMatchCase" class="toolbarField" tabindex="95">\n                        <label for="findMatchCase" class="toolbarLabel" data-l10n-id="find_match_case_label">Match case</label>\n                        <span id="findResultsCount" class="toolbarLabel hidden"></span>\n                    </div>\n\n                    <div id="findbarMessageContainer">\n                        <span id="findMsg" class="toolbarLabel"></span>\n                    </div>\n                </div>  \x3c!-- findbar --\x3e\n\n                <div id="secondaryToolbar" class="secondaryToolbar hidden doorHangerRight">\n                    <div id="secondaryToolbarButtonContainer">\n                        <button id="secondaryPresentationMode" class="secondaryToolbarButton presentationMode visibleLargeView" title="Switch to Presentation Mode" tabindex="51" data-l10n-id="presentation_mode">\n                            <span data-l10n-id="presentation_mode_label">Presentation Mode</span>\n                        </button>\n\n                        <button id="secondaryPrint" class="secondaryToolbarButton print visibleMediumView" title="Print" tabindex="53" data-l10n-id="print">\n                            <span data-l10n-id="print_label">Print</span>\n                        </button>\n\n                        <button id="secondaryDownload" class="secondaryToolbarButton download visibleMediumView" title="Download" tabindex="54" data-l10n-id="download">\n                            <span data-l10n-id="download_label">Download</span>\n                        </button>\n\n                        <button id="secondaryClose" class="secondaryToolbarButton close visibleMediumView" title="Close" tabindex="55" data-l10n-id="close">\n                            <span data-l10n-id="close_label">Close</span>\n                        </button>\n\n                        <a href="#" id="secondaryViewBookmark" class="secondaryToolbarButton bookmark visibleSmallView" title="Current view (copy or open in new window)" tabindex="55" data-l10n-id="bookmark">\n                            <span data-l10n-id="bookmark_label">Current View</span>\n                        </a>\n\n                        <div class="horizontalToolbarSeparator visibleLargeView"></div>\n\n                        <button id="firstPage" class="secondaryToolbarButton firstPage" title="Go to First Page" tabindex="56" data-l10n-id="first_page">\n                            <span data-l10n-id="first_page_label">Go to First Page</span>\n                        </button>\n                        <button id="lastPage" class="secondaryToolbarButton lastPage" title="Go to Last Page" tabindex="57" data-l10n-id="last_page">\n                            <span data-l10n-id="last_page_label">Go to Last Page</span>\n                        </button>\n\n                        <div class="horizontalToolbarSeparator"></div>\n\n                        <button id="pageRotateCw" class="secondaryToolbarButton rotateCw" title="Rotate Clockwise" tabindex="58" data-l10n-id="page_rotate_cw">\n                            <span data-l10n-id="page_rotate_cw_label">Rotate Clockwise</span>\n                        </button>\n                        <button id="pageRotateCcw" class="secondaryToolbarButton rotateCcw" title="Rotate Counterclockwise" tabindex="59" data-l10n-id="page_rotate_ccw">\n                            <span data-l10n-id="page_rotate_ccw_label">Rotate Counterclockwise</span>\n                        </button>\n\n                        <div class="horizontalToolbarSeparator"></div>\n\n                        <button id="cursorSelectTool" class="secondaryToolbarButton selectTool toggled" title="Enable Text Selection Tool" tabindex="60" data-l10n-id="cursor_text_select_tool">\n                            <span data-l10n-id="cursor_text_select_tool_label">Text Selection Tool</span>\n                        </button>\n                        <button id="cursorHandTool" class="secondaryToolbarButton handTool" title="Enable Hand Tool" tabindex="61" data-l10n-id="cursor_hand_tool">\n                            <span data-l10n-id="cursor_hand_tool_label">Hand Tool</span>\n                        </button>\n\n                        <div class="horizontalToolbarSeparator"></div>\n\n                        <button id="documentProperties" class="secondaryToolbarButton documentProperties" title="Document Properties" tabindex="62" data-l10n-id="document_properties">\n                            <span data-l10n-id="document_properties_label">Document Properties</span>\n                        </button>\n                    </div>\n                </div>  \x3c!-- secondaryToolbar --\x3e\n\n                <div class="toolbar">\n                    <div id="toolbarContainer">\n                        <div id="toolbarViewer">\n                            <div id="toolbarViewerLeft">\n                                <button id="sidebarToggle" class="toolbarButton" title="Toggle Sidebar" tabindex="11" data-l10n-id="toggle_sidebar">\n                                    <span data-l10n-id="toggle_sidebar_label">Toggle Sidebar</span>\n                                </button>\n                                <div class="toolbarButtonSpacer"></div>\n                                <button id="viewFind" class="toolbarButton" title="Find in Document" tabindex="12" data-l10n-id="findbar">\n                                    <span data-l10n-id="findbar_label">Find</span>\n                                </button>\n                                <div class="splitToolbarButton hiddenSmallView">\n                                    <button class="toolbarButton pageUp" title="Previous Page" id="previous" tabindex="13" data-l10n-id="previous">\n                                        <span data-l10n-id="previous_label">Previous</span>\n                                    </button>\n                                    <div class="splitToolbarButtonSeparator"></div>\n                                    <button class="toolbarButton pageDown" title="Next Page" id="next" tabindex="14" data-l10n-id="next">\n                                        <span data-l10n-id="next_label">Next</span>\n                                    </button>\n                                </div>\n                                <input type="number" id="pageNumber" class="toolbarField pageNumber" title="Page" value="1" size="4" min="1" tabindex="15" data-l10n-id="page">\n                                <span id="numPages" class="toolbarLabel"></span>\n                            </div>\n                            <div id="toolbarViewerRight">\n                                <button id="presentationMode" class="toolbarButton presentationMode hiddenLargeView" title="Switch to Presentation Mode" tabindex="31" data-l10n-id="presentation_mode">\n                                    <span data-l10n-id="presentation_mode_label">Presentation Mode</span>\n                                </button>\n\n                                <button id="print" class="toolbarButton print hiddenMediumView" title="Print" tabindex="33" data-l10n-id="print">\n                                    <span data-l10n-id="print_label">Print</span>\n                                </button>\n\n                                <button id="download" class="toolbarButton download hiddenMediumView" title="Download" tabindex="34" data-l10n-id="download">\n                                    <span data-l10n-id="download_label">Download</span>\n                                </button>\n                                <button id="close" class="toolbarButton close hiddenMediumView" title="Close" tabindex="35" data-l10n-id="close">\n                                    <span data-l10n-id="close_label">Close</span>\n                                </button>\n                                <a href="#" id="viewBookmark" class="toolbarButton bookmark hiddenSmallView" title="Current view (copy or open in new window)" tabindex="35" data-l10n-id="bookmark">\n                                    <span data-l10n-id="bookmark_label">Current View</span>\n                                </a>\n\n                                <div class="verticalToolbarSeparator hiddenSmallView"></div>\n\n                                <button id="secondaryToolbarToggle" class="toolbarButton" title="Tools" tabindex="36" data-l10n-id="tools">\n                                    <span data-l10n-id="tools_label">Tools</span>\n                                </button>\n                            </div>\n                            <div id="toolbarViewerMiddle">\n                                <div class="splitToolbarButton">\n                                    <button id="zoomOut" class="toolbarButton zoomOut" title="Zoom Out" tabindex="21" data-l10n-id="zoom_out">\n                                        <span data-l10n-id="zoom_out_label">Zoom Out</span>\n                                    </button>\n                                    <div class="splitToolbarButtonSeparator"></div>\n                                    <button id="zoomIn" class="toolbarButton zoomIn" title="Zoom In" tabindex="22" data-l10n-id="zoom_in">\n                                        <span data-l10n-id="zoom_in_label">Zoom In</span>\n                                    </button>\n                                </div>\n                                <span id="scaleSelectContainer" class="dropdownToolbarButton">\n                                    <select id="scaleSelect" title="Zoom" tabindex="23" data-l10n-id="zoom">\n                                        <option id="pageAutoOption" title="" value="auto" selected="selected" data-l10n-id="page_scale_auto">Automatic Zoom</option>\n                                        <option id="pageActualOption" title="" value="page-actual" data-l10n-id="page_scale_actual">Actual Size</option>\n                                        <option id="pageFitOption" title="" value="page-fit" data-l10n-id="page_scale_fit">Page Fit</option>\n                                        <option id="pageWidthOption" title="" value="page-width" data-l10n-id="page_scale_width">Page Width</option>\n                                        <option id="customScaleOption" title="" value="custom" disabled="disabled" hidden="true"></option>\n                                        <option title="" value="0.5" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 50 }\'>50%</option>\n                                        <option title="" value="0.75" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 75 }\'>75%</option>\n                                        <option title="" value="1" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 100 }\'>100%</option>\n                                        <option title="" value="1.25" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 125 }\'>125%</option>\n                                        <option title="" value="1.5" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 150 }\'>150%</option>\n                                        <option title="" value="2" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 200 }\'>200%</option>\n                                        <option title="" value="3" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 300 }\'>300%</option>\n                                        <option title="" value="4" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 400 }\'>400%</option>\n                                    </select>\n                                </span>\n                            </div>\n                        </div>\n                        <div id="loadingBar">\n                            <div class="progress">\n                                <div class="glimmer">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <menu type="context" id="viewerContextMenu">\n                    <menuitem id="contextFirstPage" label="First Page"\n                              data-l10n-id="first_page"></menuitem>\n                    <menuitem id="contextLastPage" label="Last Page"\n                              data-l10n-id="last_page"></menuitem>\n                    <menuitem id="contextPageRotateCw" label="Rotate Clockwise"\n                              data-l10n-id="page_rotate_cw"></menuitem>\n                    <menuitem id="contextPageRotateCcw" label="Rotate Counter-Clockwise"\n                              data-l10n-id="page_rotate_ccw"></menuitem>\n                </menu>\n\n                <div id="viewerContainer" tabindex="0">\n                    <div id="viewer" class="pdfViewer"></div>\n                </div>\n\n                <div id="errorWrapper" hidden=\'true\'>\n                    <div id="errorMessageLeft">\n                        <span id="errorMessage"></span>\n                        <button id="errorShowMore" data-l10n-id="error_more_info">\n                            More Information\n                        </button>\n                        <button id="errorShowLess" data-l10n-id="error_less_info" hidden=\'true\'>\n                            Less Information\n                        </button>\n                    </div>\n                    <div id="errorMessageRight">\n                        <button id="errorClose" data-l10n-id="error_close">\n                            Close\n                        </button>\n                    </div>\n                    <div class="clearBoth"></div>\n                    <textarea id="errorMoreInfo" hidden=\'true\' readonly="readonly"></textarea>\n                </div>\n            </div> \x3c!-- mainContainer --\x3e\n\n            <div id="overlayContainer" class="hidden">\n                <div id="passwordOverlay" class="container hidden">\n                    <div class="dialog">\n                        <div class="row">\n                            <p id="passwordText" data-l10n-id="password_label">Enter the password to open this PDF file:</p>\n                        </div>\n                        <div class="row">\n                            <input type="password" id="password" class="toolbarField">\n                        </div>\n                        <div class="buttonRow">\n                            <button id="passwordCancel" class="overlayButton"><span data-l10n-id="password_cancel">Cancel</span></button>\n                            <button id="passwordSubmit" class="overlayButton"><span data-l10n-id="password_ok">OK</span></button>\n                        </div>\n                    </div>\n                </div>\n                <div id="documentPropertiesOverlay" class="container hidden">\n                    <div class="dialog">\n                        <div class="row">\n                            <span data-l10n-id="document_properties_file_name">File name:</span> <p id="fileNameField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_file_size">File size:</span> <p id="fileSizeField">-</p>\n                        </div>\n                        <div class="separator"></div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_title">Title:</span> <p id="titleField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_author">Author:</span> <p id="authorField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_subject">Subject:</span> <p id="subjectField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_keywords">Keywords:</span> <p id="keywordsField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_creation_date">Creation Date:</span> <p id="creationDateField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_modification_date">Modification Date:</span> <p id="modificationDateField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_creator">Creator:</span> <p id="creatorField">-</p>\n                        </div>\n                        <div class="separator"></div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_producer">PDF Producer:</span> <p id="producerField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_version">PDF Version:</span> <p id="versionField">-</p>\n                        </div>\n                        <div class="row">\n                            <span data-l10n-id="document_properties_page_count">Page Count:</span> <p id="pageCountField">-</p>\n                        </div>\n                        <div class="buttonRow">\n                            <button id="documentPropertiesClose" class="overlayButton"><span data-l10n-id="document_properties_close">Close</span></button>\n                        </div>\n                    </div>\n                </div>\n                <div id="printServiceOverlay" class="container hidden">\n                    <div class="dialog">\n                        <div class="row">\n                            <span data-l10n-id="print_progress_message">Preparing document for printing</span>\n                        </div>\n                        <div class="row">\n                            <progress value="0" max="100"></progress>\n                            <span data-l10n-id="print_progress_percent" data-l10n-args=\'{ "progress": 0 }\' class="relative-progress">0%</span>\n                        </div>\n                        <div class="buttonRow">\n                            <button id="printCancel" class="overlayButton"><span data-l10n-id="print_progress_close">Cancel</span></button>\n                        </div>\n                    </div>\n                </div>\n            </div>  \x3c!-- overlayContainer --\x3e\n\n        </div> \x3c!-- outerContainer --\x3e\n        <div id="printContainer"></div>\n    </div>\n')}]),angular.module("common/widgets/documentViewer/plugins/text/text-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/plugins/text/text-viewer.html",'<div class="text-canvas" ng-click="$ctrl.showFullScreen()">\n    <p ng-bind-html="$ctrl.textData | textLineBreak"></p>\n</div>\n\n<div ng-if="$ctrl.istextFullScreenMode" id="full-screen-text" class="full-text-background">\n    <p class="full-screen-text" ng-bind-html="$ctrl.textData | textLineBreak"></p>\n</div>')}]),angular.module("common/widgets/documentViewer/plugins/vector/vector-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/plugins/vector/vector-viewer.html",'<div class="vector-canvas">\n    <div ng-bind-html="$ctrl.finalSVG" class="vector-view"></div>\n</div>\n\n<div ng-if="$ctrl.isVectorFullScreenMode" id="vector-full-screen" class="full-vector-background">\n    <div class="vector-fullscreen-header">\n        <em class="fa fa-times" aria-hidden="true" title="Close" ng-click="$ctrl.toggleFullScreen()"></em>\n    </div>\n    <div ng-bind-html="$ctrl.finalSVG" class="full-screen-vector"></div>\n</div>\n')}]),angular.module("common/widgets/documentViewer/plugins/video/video-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/documentViewer/plugins/video/video-viewer.html",'<div class="video-canvas" ng-click="$ctrl.showFullScreen()">\n    <video id="video-element" controls ng-src="{{$ctrl.source}}"></video>\n</div>\n')}]),angular.module("common/widgets/electronicSignature/browse-scenarios-popup.html",[]).run(["$templateCache",function(e){e.put("common/widgets/electronicSignature/browse-scenarios-popup.html",'<div class="entity-picker-popup">\n    <sit-es-browse-scenarios sit-config="Dialog.templatedata.config" sit-filter="Dialog.templatedata.filter" sit-vmpicker="Dialog.templatedata.vmpicker" style="width:100%; height:100%;"></sit-es-browse-scenarios>\n</div>\n')}]),angular.module("common/widgets/electronicSignature/es-browse-signers.html",[]).run(["$templateCache",function(e){e.put("common/widgets/electronicSignature/es-browse-signers.html",'<script src="common/scripts/moment.js"><\/script>\n<script src="common/scripts/moment-with-locales.js"><\/script>\n\n\n\n\n<script>\n\n    //Make the DIV element draggable:\n    var outerdivclassname = "dialog-modal";\n    var headerdivclassname = "input-dialog-header";\n    //var headerdivclassname = "dialog-header-text";\n    dragElement(document.getElementsByClassName(outerdivclassname)[0]);\n\n    function dragElement(elmnt) {\n        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;\n        if (document.getElementsByClassName(headerdivclassname)[0]) {\n\n            document.getElementsByClassName(headerdivclassname)[0].onmousedown = dragMouseDown;\n        } else {\n\n            elmnt.onmousedown = dragMouseDown;\n        }\n\n        function dragMouseDown(e) {\n            e = e || window.event;\n            e.preventDefault();\n            // get the mouse cursor position at startup:\n            pos3 = e.clientX;\n            pos4 = e.clientY;\n            document.onmouseup = closeDragElement;\n            // call a function whenever the cursor moves:\n            document.onmousemove = elementDrag;\n        }\n\n        function elementDrag(e) {\n            e = e || window.event;\n            e.preventDefault();\n            // calculate the new cursor position:\n            pos1 = pos3 - e.clientX;\n            pos2 = pos4 - e.clientY;\n            pos3 = e.clientX;\n            pos4 = e.clientY;\n            // set the element\'s new position:\n            elmnt.style.top = (elmnt.offsetTop - pos2) + "px";\n            elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";\n        }\n\n        function closeDragElement() {\n\n            document.onmouseup = null;\n            document.onmousemove = null;\n        }\n    }\n<\/script>\n\n\n<style>\n\n    #es-browse-signers \n    {\n        max-width:100%;\n    }\n    #signs_accordion\n    {\n        max-width:100%;\n    }\n    #es-browse-signers .error_rectangle {\n        color: #DC0000;\n        text-align: left;\n        text-decoration: none;\n        font-family: \'Segoe UI\',Arial;\n        font-size: 10.0pt;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 0px;\n        background-attachment: scroll;\n        background-color: rgb(251, 238, 237);\n        background-size: auto;\n        border-bottom-color: rgb(239, 187, 185);\n        border-bottom-style: solid;\n        border-bottom-width: 1px;\n        border-collapse: separate;\n        border-left-color: rgb(239, 187, 185);\n        border-left-style: solid;\n        border-left-width: 1px;\n        border-right-color: rgb(239, 187, 185);\n        border-right-style: solid;\n        border-right-width: 1px;\n        border-top-color: rgb(239, 187, 185);\n        border-top-style: solid;\n        border-top-width: 1px;\n        box-shadow: none;\n        display: block;\n        font-family: "Segoe UI", Arial;\n        font-size: 13.3333px;\n        height: 46px;\n        line-height: 18px;\n        pointer-events: auto;\n        width:100%;\n        -webkit-border-horizontal-spacing: 0px;\n        -webkit-border-vertical-spacing: 0px;\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    }\n\n    #es-browse-signers .accordion_header {\n        background-color: #ffffff;\n        text-decoration: none !important;\n        border: none;\n        border-width: 0;\n        border-style: none;\n    }\n\n    #es-browse-signers .accordionGroup {\n        background-color: #ffffff;\n        text-decoration: none !important;\n        border: none;\n        border-width: 0;\n        border-style: none;\n    }\n\n    #es-browse-signers .isOpened {\n        transform: rotate(0deg);\n    }\n\n    #es-browse-signers .isClosed {\n        transform: rotate(270deg);\n    }\n\n    #es-browse-signers .panel-group .panel {\n        border: none !important;\n        border-width: 0;\n        border-style: none;\n        background-color: #ffffff;\n        overflow:auto;\n    }\n\n    #es-browse-signers .panel-body {\n        background-color: #f0f0f0;\n        border: none !important;\n        border-width: 0;\n        border-style: none;\n    }\n\n    #es-browse-signers .panel {\n        border: none !important;\n        ;\n        border-width: 0;\n        border-style: none;\n        background-color: #ffffff;\n    }\n\n    #es-browse-signers .panel-open {\n        border: none;\n        border-width: 0;\n        border-style: none;\n    }\n\n    #es-browse-signers .box {\n        height: 100%;\n        float: left;\n        display: block;\n    }\n\n    #es-browse-signers a:hover {\n        text-decoration: none !important;\n    }\n\n    #es-browse-signers a {\n        text-decoration: none !important;\n    }\n\n    #es-browse-signers a:hover span {\n            text-decoration: none;\n        }\n\n    #es-browse-signers .Signature_text_style {\n        color: #464646;\n        text-align: left;\n        text-decoration: none;\n        font-family: \'Segoe UI\',Arial;\n        font-size: 9.0pt;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 0px;\n    }\n\n    #es-browse-signers .Paragraph {\n        color: #464646;\n        text-align: left;\n        text-decoration: none;\n        font-family: \'Segoe UI\',Arial;\n        font-size: 12.5pt;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 0px;\n    }\n\n    #es-browse-signers .headersDIV {\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n\n    #es-browse-signers .progressheaderDIV {\n        height: 20px;\n        border: 1px solid #aaaaaa;\n        max-width:100%;\n    }\n\n    #es-browse-signers .signer_info_header {\n        color: #5A5A5A;\n        text-align: left;\n        text-decoration: none;\n        font-family: \'Segoe UI\',Arial;\n        font-size: 9.0pt;\n        font-style: normal;\n        font-weight: 700;\n        line-height: 0px;\n    }\n\n    #es-browse-signers .signer_info_text {\n        color: #464646;\n        text-align: left;\n        text-decoration: none;\n        font-family: \'Segoe UI\',Arial;\n        font-size: 10.5pt;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 0px;\n        max-width:100%;\n    }\n\n    #globalDialogId {\n        position: absolute;\n        z-index: 9;\n    }\n\n    #es-browse-signers .dialog-header-text {\n        z-index: 10;\n    }\n    #es-browse-signers .collapsing {\n    -webkit-transition: none;\n    transition: none;\n    display: none;\n}\n\n</style>\n<div id="es-browse-signers">\n    <div>\n        <div>\n            <div class="headersDIV">\n                <span class="Paragraph">{{vm.config.description}}</span>\n            </div>\n            <div class="progressheaderDIV" style="">\n                <div class="progress-bar" role="progressbar" style="background-color: #55A0B9 !important; width: {{vm.config.progressvalue}}%;" aria-valuenow="{{vm.config.progressvalue}}" aria-valuemin="0" aria-valuemax="{{vm.config.signstocollect}}"></div>\n            </div>\n            <div class="headersDIV">\n                <span class="Signature_text_style">{{vm.config.signsleftdescription}}</span>\n            </div>\n        </div>\n\n    </div>\n\n    <div id="signs_accordion" uib-accordion class="sortHead without_widgets_group" close-others="true">\n        <div uib-accordion-group ng-repeat="xxx in vm.config.items.SignatureInstances" is-open="isOpen" on-finish-render="ReStyle()" class="accordionGroup">\n            <div uib-accordion-heading class="accordion_header">\n                <table id="tablerowaccordionheader{{xxx.Id}}" style="width:100%" class="accordionGroup" ng-click="vm.Opened(isOpen, $index)">\n                    <tr>\n                        <td style="width:5%;padding:5px;">\n                            <div id="{{xxx.Id}}_imginfotable">\n                                <svg preserveAspectRatio="none" ng-class="{isOpened: isOpen, isClosed:!isOpen}" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" xml:space="preserve">                 \n                                <polygon class="aw-theme-iconOutline" fill="#464646" points="4,6 8,10 12,6 "></polygon>\n                        </svg>\n                            </div>\n                        </td>\n                        <td style="width:50%;padding:10px;">\n                            <div id="{{xxx.Id}}_maxleftinfotable" style="text-decoration: none;">\n                                <div id="{{xxx.Id}}_upper_infomaxleftinfotable" style="text-decoration: none !important;">\n                                    <span style="color: #5A5A5A;text-align: left;text-decoration: none !important;font-family: \'Segoe UI\',Arial;font-size: 9.0pt;font-style: normal;font-weight: 700;line-height: 0px;">{{vm.Translate(xxx.Signer.Type)}}</span>\n\n                                </div>\n                                <div id="{{xxx.Id}}_upperinner_infomaxleftinfotable" style="text-decoration: none !important;">\n                                    <span style="color: #464646;text-align: left;text-decoration: none !important;font-family: \'Segoe UI\',Arial;font-size: 10.5pt;font-style: normal;font-weight: 400;line-height: 0px;">{{xxx.Signer.Name}}</span>\n                                </div>\n                            </div>\n                        </td>\n                        <td style="width:40%;padding:10px;">\n                            <div id="{{xxx.Id}}_maxleftinfotable" style="text-decoration: none;">\n                                <div id="{{xxx.Id}}_upper_infomaxleftinfotable" style="text-decoration: none !important;">\n                                    <span style="color: #5A5A5A;text-align: left;text-decoration: none !important;font-family: \'Segoe UI\',Arial;font-size: 9.0pt;font-style: normal;font-weight: 700;line-height: 0px;">{{vm.Translate(\'Meaning\')}}</span>\n\n                                </div>\n                                <div id="{{xxx.Id}}_upperinner_infomaxleftinfotable" style="text-decoration: none !important;">\n                                    <span style="color: #464646;text-align: left;text-decoration: none !important;font-family: \'Segoe UI\',Arial;font-size: 10.5pt;font-style: normal;font-weight: 400;line-height: 0px;">{{xxx.ShortReason}}</span>\n                                </div>\n\n                            </div>\n                        </td>\n                        <td style="width:5%;padding:5px;">\n                            <div id="{{xxx.Id}}_Initial_State" class="pie image firer ie-background commentable" alt="image" overlay="#464646" ng-hide="xxx.Status!=\'Initial\'">\n                                <svg preserveAspectRatio="none" width="24" height="24" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1024 544v448q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h224v-352q0-14 9-23t23-9h64q14 0 23 9t9 23zm416 352q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z" style="fill:#464646 !important;"></path></svg>\n                            </div>\n                            <div id="{{xxx.Id}}_Accepted_State" class="pie image firer ie-background commentable" alt="image" overlay="#464646" ng-hide="xxx.Status!=\'Approved\'">\n                                <svg preserveAspectRatio="none" width="24" height="24" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z" style="fill:#464646 !important;"></path></svg>\n                            </div>\n                            <div id="{{xxx.Id}}_Warning_State" class="pie image firer ie-background commentable" alt="image" overlay="#464646" ng-hide="xxx.Status!=\'Warning\'">\n                                <svg preserveAspectRatio="none" width="24" height="24" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z" style="fill:#464646 !important;"></path></svg>\n                            </div>\n                            <div id="{{xxx.Id}}_Error_State" class="pie image firer ie-background commentable" alt="image" overlay="#464646" ng-hide="xxx.Status!=\'Rejected\'">\n                                <svg preserveAspectRatio="none" width="24" height="24" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z" style="fill:#464646 !important;"></path></svg>\n                            </div>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="panel-collapse collapse" uib-collapse="!isOpen">\n                <div id="{{xxx.Id}}_error" class="error_rectangle" ng-show="xxx.error.length>0">\n                    <span>{{xxx.error}}</span>\n                </div>\n                <div id="{{xxx.Id}}_header" ng-hide="vm.config.items.ValidationMode==\'Approve\'"></div>\n                <center>\n                    <div id="{{xxx.Id}}_content"></div>\n                </center>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/electronicSignature/es-rich-radio.html",[]).run(["$templateCache",function(e){e.put("common/widgets/electronicSignature/es-rich-radio.html",'<style>\n\n    #custom-radio .AppRejLabel \n    {\n        color: #464646;text-align: left;text-decoration: none !important;font-family: \'Segoe UI\',Arial;font-size: 10.5pt;font-style: normal;font-weight: 400;line-height: 0px;\n        display:inline-block;\n        vertical-align:middle;\n    }\n\n    #custom-radio input[type="radio"] {\n        visibility: hidden;\n        text-align:center !important;\n        vertical-align:middle;\n    }\n\n    #custom-radio label input[type="radio"] ~ em.fa.radio-off {\n        /*color: #c8c8c8;*/\n        display:inline-block;\n        text-align:center !important;\n        vertical-align:middle;\n    }\n\n    #custom-radio label input[type="radio"] ~ em.fa.radio-on {\n        display: none;\n        text-align:center !important;\n        vertical-align:middle;\n    }\n\n    #custom-radio  label input[type="radio"]:checked ~ em.fa.radio-off {\n        display: none;\n    }\n\n    #custom-radio label input[type="radio"]:checked ~ em.fa.radio-on {\n        color: #197695;\n        text-align:center !important;\n        display:inline-block;\n        vertical-align:middle;\n    }\n\n    #custom-radio label:hover input[type="radio"] ~ em.fa {\n        color: #197695;\n        text-align:center !important;\n        vertical-align:middle;\n    }\n\n\n</style>\n<div id="custom-radio">\n    <div class="label label-property-grid-control-readonly property-value-ellipsis" ng-if="richRadioCtrl.readOnly || richRadioCtrl.ngReadonly">\n        {{richRadioCtrl.value}}\n    </div>\n\n    <div class="sit-radio">\n        <ng-form ng-if="!(richRadioCtrl.readOnly || richRadioCtrl.ngReadonly)" name="radioForm" ng-class="{\'isrequired\' :(richRadioCtrl.validation.required) && richRadioCtrl.value===undefined}">\n            <table style="width:60%;">\n                <tr>\n                    <td ng-repeat="val in richRadioCtrl.options">\n                        <label class="AppRejLabel">\n                            <input type=\'radio\'\n                                   name=\'{{richRadioCtrl.name}}\'\n                                   ng-model=\'richRadioCtrl.value\'\n                                   ng-required="richRadioCtrl.validation.required"\n                                   ng-value=\'val.value\'\n                                   ng-blur="richRadioCtrl.ngBlur()"\n                                   sit-change="richRadioCtrl.sitChange"\n                                   ng-disabled="richRadioCtrl.ngDisabled"\n                                   ng-focus="richRadioCtrl.ngFocus()"\n                                   ng-readonly="richRadioCtrl.ngReadOnly"\n                                   shared-model="true"\n                                   sit-form-input-validator\n                                   style="vertical-align:top;z-index:10000;" />\n                            <em class="fa radio-off">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 48 48">\n                                    <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z" />\n                                    <path d="M0 0h48v48H0z" fill="none" />\n                                </svg>\n                            </em>\n                            <em class="fa radio-on">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 48 48">\n                                    <path d="M24 14c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0-10C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z" style="fill:#197695 !important;" />\n                                    <path d="M0 0h48v48H0z" fill="none" />\n                                </svg>\n                            </em>\n                            <span>{{val.label}}</span>\n                        </label>\n                    </td>\n                </tr>\n            </table>\n        </ng-form>\n    </div>\n</div>\n\n')}]),angular.module("common/widgets/electronicSignature/sit-es-browse-scenarios.html",[]).run(["$templateCache",function(e){e.put("common/widgets/electronicSignature/sit-es-browse-scenarios.html",'<div style="width:100%; height:100%;">\n    <table sit-table="esViewer" class="table" sit-config="vm.tableConfig">\n        <thead>\n            <tr>\n                <th>\n                    <div class="tool-bar">\n                        <span sit-table-filterbar></span>\n                        <span sit-table-button\n                              sit-cmd-icon="Refresh"\n                              ng-click="vm.refreshData()"\n                              sit-label={{vm.refreshTitle}}></span>\n                    </div>\n                </th>\n            </tr>\n            <tr>\n                <th style="width:26px"></th>\n                <th>{{vm.tableConfig.fields.NId.displayName}}</th>\n                <th>{{vm.tableConfig.fields.Name.displayName}}</th>\n                <th>{{vm.tableConfig.fields.Description.displayName}}</th>\n            </tr>\n        </thead>\n\n        <tbody>\n            <tr ng-repeat-start="row in vm.tableConfig.data" ng-class="{\'st-selected\':row.NId === vm.config.SelectedScenario}">\n                <td style="width:26px" ng-if="row.expanded" ng-click="row.expanded=false"><em sit-mom-icon="{path:\'common/icons/miscDownArrow16.svg\', size: \'16px\'}"></em></td>\n                <td style="width:26px" ng-if="!row.expanded" ng-click="row.expanded=true"><em sit-mom-icon="{path:\'common/icons/miscRightArrow16.svg\', size: \'16px\'}"></em></td>\n                <td>{{row.NId}}</td>\n                <td>{{row.Name}}</td>\n                <td>{{row.Description}}</td>\n            </tr>\n            <tr sit-freez ng-show="false"></tr>\n            <tr sit-freez ng-repeat-end ng-show="row.expanded">\n                <td colspan="8">\n\n                    <div class="scenario-details-container" ng-if="row.expanded">\n\n                        <div ng-repeat="sig in row.SignatureConfigurations" style="margin-left: 15px; height:36px; cursor: default;">\n\n                            <div style="display:inline-table;">\n                                <em class="fa es-signer-badge"  sit-mom-icon="{path:\'common/icons/cmdUser24.svg\', size: \'16px\'}" ng-if="sig.Signer.Type==\'SpecificUser\'"></em>\n                                <em class="fa es-signer-badge"  sit-mom-icon="{path:\'common/icons/cmdCardId24.svg\', size: \'16px\'}" ng-if="sig.Signer.Type==\'Role\'">\n                                </em>\n                                    <div style="display:inline-block; margin-top: -5px; margin-left: 5px;">\n                                        <div ng-if="sig.Signer.Type==\'SpecificUser\'">\n                                            <em class="es-record-detail-header">{{\'electronicSignature.user\' | translate}}: </em> <em class="es-record-detail-label">{{sig.Signer.Name}}</em>\n                                        </div>\n                                        <div ng-if="sig.Signer.Type==\'Role\'">\n                                            <em class="es-record-detail-header">{{\'electronicSignature.role\' | translate}}: </em> <em class="es-record-detail-label">{{sig.Signer.Name}}</em>\n                                        </div>\n                                        <div style="margin-top: -5px;">\n                                            <em class="es-record-detail-header">{{\'electronicSignature.reason\' | translate}}: </em> <em class="es-record-detail-label">{{sig.Reason}}</em>\n                                        </div>\n                                    </div>\n                                </div>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n\n        <tfoot>\n            <tr sit-table-pager></tr>\n        </tfoot>\n    </table>\n</div>\n')}]),angular.module("common/widgets/electronicSignature/sit-es-scenario-picker.html",[]).run(["$templateCache",function(e){e.put("common/widgets/electronicSignature/sit-es-scenario-picker.html",'<div class="entity-picker-container" ng-if="vm.isEnabled">\n    <div class="container-fluid" style="width: 100%; height: 100%;">\n        <div data-internal-type="entity-picker-container" id="entity-picker-container" class="property-grid-input-group entity-picker-container">\n            <div ng-if ="vm.mode === \'Horizontal\'" style="display: flex; width: 100%; height: 32px;">\n                <label class="es-scenario-label-horizontal">{{\'electronicSignature.scenarioConfiguration\' | translate}}</label>\n                <div style="display: flex; width: 100%; height: 32px;">\n                    <input type="text"\n                           class="es-scenario-picker-input validator-control"\n                           placeholder="{{\'electronicSignature.pickerPlaceHolder\' | translate}}"\n                           ng-model="vm.displayName" \n                           ng-readonly="vm.config.IsReadOnly===true"\n                           ng-class="{\'readonly-bg-color\': (vm.config.IsReadOnly===true)}" />\n                    <div class="btn property-grid-addon-icon" style="position: relative !IMPORTANT; border: 1px solid #969696;" ng-click="vm.browsScenarios(vm)" \n                         ng-disabled="vm.config.IsReadOnly===true || vm.ready===false">\n                        <em sit-mom-icon="{path: \'common/icons/cmdMore16.svg\', size: \'16px\'}"></em>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="vm.mode === \'Vertical\'" style="width: 100%; height: 32px;">\n                <label class="es-scenario-label-vertical">{{\'electronicSignature.scenarioConfiguration\' | translate}}</label>\n                <div style="display: flex; width: 100%; height: 32px;">\n                    <input type="text"\n                           class="es-scenario-picker-input validator-control"\n                           placeholder="{{\'electronicSignature.pickerPlaceHolder\' | translate}}"\n                           ng-model="vm.displayName" \n                           ng-readonly="vm.config.IsReadOnly===true"\n                           ng-class="{\'readonly-bg-color\': (vm.config.IsReadOnly===true)}" />\n                    <div class="btn property-grid-addon-icon" style="position: relative !IMPORTANT; border: 1px solid #969696;" ng-click="vm.browsScenarios(vm)" ng-disabled="vm.config.IsReadOnly===true || vm.ready===false">\n                        <em sit-mom-icon="{path: \'common/icons/cmdMore16.svg\', size: \'16px\'}"></em>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/electronicSignature/sit-rt-signatures-dialog.html",[]).run(["$templateCache",function(e){e.put("common/widgets/electronicSignature/sit-rt-signatures-dialog.html",'<div class="es-dialog-popup">\n    <sit-es-browse-signers sit-config="Dialog.templatedata.config" ></sit-es-browse-signers>\n</div>\n')}]),angular.module("common/widgets/electronicSignature/sit-rt-signatures.html",[]).run(["$templateCache",function(e){e.put("common/widgets/electronicSignature/sit-rt-signatures.html",'<style>\n    .sign-icon {\n        width: 24px;\n        height: 24px;\n        left: -3px;\n        top: 8px;\n        position: relative;\n    }\n    .sign-status {\n        width: 16px;\n        height: 16px;\n        left: 5px;\n        top: -2px;\n        position: relative;\n    }\n    .table-width {\n        width: 100%\n    }\n</style>\n\n<div class="container-fluid" ng-if="vm.isEnabled">\n    <button class="btn-default" ng-click="vm.OpenDialog($event)">\n        <table id="ES_Instance_{{xxx.Id}}" class="table-width" ng-click="vm.Opened(isOpen, $index)">\n            <tr>\n                <td width="45%">\n                    <div id="Sigico" class="sign-icon pie image firer ie-background commentable" alt="image" systemname="./images/9daf15f8-46d9-4968-9a9d-cf9e2177ca3e.svg" overlay="#464646" ng-show="vm.dialogData.templatedata.config.items.Status==undefined || vm.dialogData.templatedata.config.items.Status==\'Initial\' || vm.dialogData.templatedata.config.items.Status==\'InProgress\'">\n                        <svg preserveAspectRatio="none" width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z" style="fill:#464646 !important;"></path>\n                        </svg>\n                    </div>\n                    <div id="Status_{{xxx.Id}}" class="sign-status pie image firer ie-background commentable" alt="image" systemname="./images/9daf15f8-46d9-4968-9a9d-cf9e2177ca3e.svg" overlay="#464646" ng-hide="vm.dialogData.templatedata.config.items.Status!=\'Rejected\'">\n                        <svg preserveAspectRatio="none" width="16" height="16" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z" style="fill:#DC0000 !important;"></path>\n                        </svg>\n                    </div>\n                    <div id="Status_{{xxx.Id}}" class="sign-status pie image firer ie-background commentable" alt="image" systemname="./images/9daf15f8-46d9-4968-9a9d-cf9e2177ca3e.svg" overlay="#464646" ng-hide="vm.dialogData.templatedata.config.items.Status!=\'Approved\'">\n                        <svg preserveAspectRatio="none" width="16" height="16" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z" style="fill:#0A9B00 !important;"></path>\n                        </svg>\n                    </div>\n                    <div id="Status_{{xxx.Id}}" class="sign-status pie image firer ie-background commentable" alt="image" systemname="./images/9daf15f8-46d9-4968-9a9d-cf9e2177ca3e.svg" overlay="#464646" ng-hide="vm.dialogData.templatedata.config.items.Status!=\'Aborted\'">\n                        <svg preserveAspectRatio="none" width="16" height="16" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z" style="fill:#EB780A !important;"></path>\n                        </svg>\n                    </div>\n                </td>\n                <td width="50%">\n                    <span data-internal-type="text-container" class="MainCommandActionLabel">{{vm.buttonEStext}}</span>\n\n                </td>\n                <td width="5%">\n                    <span data-internal-type="text-container" class="badge"> {{vm.dialogData.templatedata.config.signscollected}}/{{vm.dialogData.templatedata.config.signstocollect}}</span>\n                </td>\n            </tr>\n        </table>\n    </button>\n\n</div>')}]),angular.module("common/widgets/email/email.html",[]).run(["$templateCache",function(e){e.put("common/widgets/email/email.html","<div ng-if=\"emailCtrl.readOnly || emailCtrl.ngReadonly\" class=\"label label-property-grid-control-readonly property-value-ellipsis\"> {{emailCtrl.value}} </div>\n\n<ng-form ng-if=\"!(emailCtrl.readOnly || emailCtrl.ngReadonly)\" name='emailForm' ng-class=\"{'isrequired' : (emailCtrl.validation.required) && emailCtrl.value===undefined}\">\n    <div class='property-grid-input-group'>\n        <input type='email'\n               name='{{emailCtrl.value}}'\n               ng-class=\"{'validator-control-invalid':((emailForm.$invalid && emailForm.$dirty) || (emailForm.$invalid && emailForm.$visited)),\n               'validator-control':!((emailForm.$invalid && emailForm.$dirty) || (emailForm.$invalid && emailForm.$visited)),\n               'ng-dirty':emailForm.$dirty}\"\n               ng-model='emailCtrl.value'\n               ng-required='emailCtrl.validation.required'\n               ng-minlength='emailCtrl.validation.minlength'\n               ng-maxlength='emailCtrl.validation.maxlength'\n               ng-pattern='emailCtrl.validation.pattern'\n               sit-form-input-validator\n               ng-blur=\"emailCtrl.ngBlur()\"\n               sit-change=\"emailCtrl.sitChange\"\n               ng-disabled=\"emailCtrl.ngDisabled\"\n               ng-focus=\"emailCtrl.ngFocus()\" />\n    </div>\n</ng-form>")}]),angular.module("common/widgets/entityPicker/entityPicker.html",[]).run(["$templateCache",function(e){e.put("common/widgets/entityPicker/entityPicker.html",'<div ng-if="entityPickerCtrl.readOnly || entityPickerCtrl.ngReadonly" class="label-property-grid-control-readonly property-value-ellipsis">\n    {{entityPickerCtrl.readOnlyValue | entityPickrerFilter}}\n</div>\n<ng-form name="entityPickerForm" ng-if="!(entityPickerCtrl.readOnly || entityPickerCtrl.ngReadonly)" ng-class="{\'isrequired\' : (entityPickerCtrl.validation.required) && entityPickerCtrl.value===undefined}">\n    <div data-internal-type="entity-picker-container" id="entity-picker-container" class="property-grid-input-group property-grid-list entity-picker-container">\n        <div id="entity-picker-value" ng-if="entityPickerCtrl.isLocalDatasource">\n            <input ng-required="entityPickerCtrl.required"\n                   ng-attr-id="{{entityPickerCtrl.id ? entityPickerCtrl.id + \'.typeahead\' : undefined}}"\n                   type="text" ng-model="entityPickerCtrl.value"\n                   placeholder={{entityPickerCtrl.placeholder}}\n                   class="entityPicker-control"\n                   uib-typeahead="entity as entity[entityPickerCtrl.selectedAttributeToDisplay] for entity in entityPickerCtrl.datasource | entityPickrerSearchFilter: $viewValue:entityPickerCtrl.attributeToSearch | limitTo:entityPickerCtrl.limit"\n                   typeahead-template-url={{entityPickerCtrl.templateUrl}}\n                   typeahead-editable=entityPickerCtrl.editable\n                   sit-form-input-validator="{{entityPickerCtrl.label}}"\n                   typeahead-on-select=\'entityPickerCtrl.onSelect($item, $model, $label)\'\n                   typeahead-wait-ms="entityPickerCtrl.waitTime"\n                   ng-class="{\'validator-control-options\': entityPickerCtrl.sitoption && ((entityPickerForm.$invalid && entityPickerForm.$dirty) || (entityPickerForm.$invalid && entityPickerForm.$visited)),\n                    \'validator-control-invalid\':((entityPickerForm.$invalid && entityPickerForm.$dirty) || (entityPickerForm.$invalid && entityPickerForm.$visited)),\n                    \'validator-control\':!((entityPickerForm.$invalid && entityPickerForm.$dirty) || (entityPickerForm.$invalid && entityPickerForm.$visited)),\n                    \'ng-dirty\':entityPickerForm.$dirty}"\n                   ng-blur="entityPickerCtrl.ngBlur()"\n                   sit-change="entityPickerCtrl.sitChange"\n                   ng-disabled="entityPickerCtrl.ngDisabled"\n                   ng-focus="entityPickerCtrl.ngFocus()"\n                   autocomplete="off"\n                   ng-change="entityPickerCtrl.setDropDownHeight()" />\n        </div>\n\n        <div id="entity-picker-value" ng-if="!entityPickerCtrl.isLocalDatasource">\n            <input ng-required="entityPickerCtrl.required"\n                   ng-attr-id="{{entityPickerCtrl.id ? entityPickerCtrl.id + \'.typeahead\' : undefined}}"\n                   type="text" ng-model="entityPickerCtrl.value"\n                   placeholder={{entityPickerCtrl.placeholder}}\n                   class="entityPicker-control"\n                   uib-typeahead="entity as entity[entityPickerCtrl.selectedAttributeToDisplay] for entity in entityPickerCtrl.datasource($viewValue)  | limitTo:entityPickerCtrl.limit"\n                   typeahead-template-url={{entityPickerCtrl.templateUrl}}\n                   typeahead-editable=entityPickerCtrl.editable\n                   sit-form-input-validator="{{entityPickerCtrl.label}}"\n                   typeahead-on-select=\'entityPickerCtrl.onSelect($item, $model, $label)\'\n                   typeahead-wait-ms="entityPickerCtrl.waitTime"\n                   ng-class="{\'validator-control-options\': entityPickerCtrl.sitoption && ((entityPickerForm.$invalid && entityPickerForm.$dirty) || (entityPickerForm.$invalid && entityPickerForm.$visited)),\n                    \'validator-control-invalid\':((entityPickerForm.$invalid && entityPickerForm.$dirty) || (entityPickerForm.$invalid && entityPickerForm.$visited)),\n                    \'validator-control\':!((entityPickerForm.$invalid && entityPickerForm.$dirty) || (entityPickerForm.$invalid && entityPickerForm.$visited)),\n                    \'ng-dirty\':entityPickerForm.$dirty}"\n                   ng-blur="entityPickerCtrl.ngBlur()"\n                   sit-change="entityPickerCtrl.sitChange"\n                   ng-disabled="entityPickerCtrl.ngDisabled"\n                   ng-focus="entityPickerCtrl.ngFocus()"\n                   autocomplete="off"\n                   ng-change="entityPickerCtrl.setDropDownHeight()" />\n        </div>\n        <div class="btn property-grid-addon-icon entity-dialog-btn" ng-click="entityPickerCtrl.ngDisabled || entityPickerCtrl.showPopup()" ng-hide="!entityPickerCtrl.sitoption" ng-disabled="entityPickerCtrl.ngDisabled">\n            <em sit-mom-icon="entityPickerCtrl.cmdIcon" ng-hide="!entityPickerCtrl.sitoption" ng-disabled="entityPickerCtrl.ngDisabled"></em>\n        </div>\n    </div>\n</ng-form>\n')}]),angular.module("common/widgets/entityPicker/popup-default-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/entityPicker/popup-default-template.html",'<div class="entity-picker-popup">\n    <sit-item-collection-viewer id="{{Dialog.modalid}}-item-colletion-viewer" sit-data="Dialog.templatedata.data" sit-options="Dialog.templatedata.options"></sit-item-collection-viewer>\n</div>\n')}]),angular.module("common/widgets/entityPicker/samples/entity-picker-custom-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/entityPicker/samples/entity-picker-custom-template.html",'<a class="aClass">\n    <div class="mainContainer">\n        <div class="leftContainer">\n            <span class="highlighted" bind-html-unsafe="match.model.name | typeaheadHighlight:query"></span>\n        </div>\n        <div class="rightContainer">\n            <div class="rightRowContainer normalText">\n                <label> version: </label>\n                <label bind-html-unsafe="match.model.version | typeaheadHighlight:query"></label>\n            </div>\n            <div class="rightRowContainer normalText">\n                <label> product: </label>\n                <label bind-html-unsafe="match.model.product | typeaheadHighlight:query"></label>\n            </div>\n            <div class="rightRowContainer normalText">\n                <label> status: </label>\n                <label bind-html-unsafe="match.model.status | typeaheadHighlight:query"></label>\n            </div>\n        </div>\n    </div>\n</a>')}]),angular.module("common/widgets/entityPicker/samples/index.html",[]).run(["$templateCache",function(e){e.put("common/widgets/entityPicker/samples/index.html",'<!doctype html>\n<html ng-app="app">\n<head>\n    <title data-ng-bind="title">entityPicker Development</title>\n    <link href="/common/styles/common-light.css" rel="stylesheet" />\n</head>\n<body>\n    <style>\n        .mainContainer {\n            display: table;\n            background-color: #eeeeee;\n            width: 400px;\n            height: 100px;\n        }\n\n            .mainContainer:hover {\n                border: solid;\n                border-color: #2882a0;\n                border-width: thin;\n            }\n\n        .group {\n            display: table-cell;\n            text-align: center;\n            border-style: solid;\n            border-color: #808080;\n            border-width: thin;\n            width: 33%;\n            height: 100px;\n        }\n\n        .generalInfo {\n            display: table-cell;\n            text-align: center;\n            vertical-align: middle;\n            border-style: solid;\n            border-color: #808080;\n            border-width: thin;\n            height: 100px;\n        }\n\n        .leftContainer {\n            display: table-cell;\n            text-align: center;\n            vertical-align: middle;\n            height: 100px;\n        }\n\n        .rightContainer {\n            display: table-cell;\n            height: 100px;\n            padding-left: 60px;\n        }\n\n        .topRightContainer {\n            display: table-row;\n            text-align: right;\n            padding-bottom: 70px;\n            table-layout: auto;\n        }\n\n        .bottomRightContainer {\n            display: table-row;\n            text-align: right;\n            vertical-align: bottom;\n            height: 50%;\n            table-layout: auto;\n        }\n\n        .highlighted {\n            font-family: \'Segoe UI\';\n            font-size: 16pt;\n            font-weight: bold;\n            color: #808080;\n        }\n\n        .normalText {\n            font-family: \'Segoe UI\';\n            font-size: 12pt;\n            color: #808080;\n        }\n        ul {\n            list-style-type: none;\n            margin: 0;\n            padding: 0;\n        }\n    </style>\n    <script type="text/ng-template" id="customTemplate.html">\n        <div class="mainContainer">\n            <div class="group">\n                <label class="normalText">\n                    {{match.model.product}}\n                </label>\n            </div>\n            <div class="generalInfo">\n                <div class="leftContainer">\n                    <label class="highlighted">\n                        {{match.model.name}}\n                    </label>\n                </div>\n                <div class="rightContainer">\n                    <div class="topRightContainer">\n                        <label class="normalText">\n                            version: {{match.model.version}}\n                        </label>\n                    </div>\n                    <div>\n                        <label class="normalText">\n                            status: {{match.model.status}}\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n    <\/script>\n    <div class=\'container-fluid\' ng-controller="entityPickerController">\n        \x3c!--<input type="text" ng-model="customSelected" placeholder="Custom template" typeahead="state for state in toto | filter:$viewValue | limitTo:8" typeahead-template-url="customTemplate.html" class="form-control" typeahead-editable="false">--\x3e\n        <sit-entity-picker sit-datasource="datasource"\n                           sit-template-url="\'customTemplate.html\'"\n                           sit-selected-attribute-to-display="selectedAttributeToDisplay"\n                           sit-selected-object="selectedObject"\n                           sit-limit="limit"\n                           sit-editable="editable"\n                           sit-required="required"\n                           sit-placeholder="placeholder"\n                           sit-id="\'ep01\'" />\n    </div>\n\n\n    \x3c!-- Vendor Scripts --\x3e\n    <script src="/common/scripts/jquery-2.1.1.js"><\/script>\n    <script src="/common/scripts/angular/angular.js"><\/script>\n    <script src="/common/scripts/angular/angular-animate.js"><\/script>\n    <script src="/common/scripts/angular/angular-route.js"><\/script>\n    <script src="/common/scripts/angular/angular-sanitize.js"><\/script>\n    <script src="/common/scripts/bootstrap.js"><\/script>\n    <script src="/common/scripts/angular-ui/ui-bootstrap-tpls.js"><\/script>\n    <script src="/common/scripts/angular-ui-router.js"><\/script>\n    \n    <script src="/common/scripts/angular-translate/translate.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/default-interpolation.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/handler-log.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/loader-static-files.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/loader-partial.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/storage-key.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/storage-local.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/storage-cookie.js"><\/script>\n    <script src="/common/scripts/angular-translate/service/translate.js"><\/script>\n    <script src="/common/scripts/angular-translate/directive/translate-cloak.js"><\/script>\n    <script src="/common/scripts/angular-translate/directive/translate.js"><\/script>\n    <script src="/common/scripts/angular-translate/filter/translate.js"><\/script>\n    \n\n    <script src="/common/widgets/validator/sit-validator-mod.js"><\/script>\n    <script src="/common/widgets/validator/sit-validator-dir.js"><\/script>\n\n    \x3c!-- Bootstrapping --\x3e\n    <script src="/common/widgets/entityPicker/samples/app.js"><\/script>\n\n    \x3c!-- Property Grid Widget scripts --\x3e\n    <script src="/common/widgets/entityPicker/sit-entityPicker-mod.js"><\/script>\n    <script src="/common/widgets/entityPicker/sit-entityPicker-dir.js"><\/script>\n\n</body>\n\n</html>\n')}]),angular.module("common/widgets/entityPicker/typeahead-default-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/entityPicker/typeahead-default-template.html",'<a class="aClass" style="width:auto !important">\n    <div>\n        <span class="highlighted" ng-bind-html="match.label | uibTypeaheadHighlight:query">\n        </span>\n    </div>\n</a>')}]),angular.module("common/widgets/fileUpload/file-upload.html",[]).run(["$templateCache",function(e){e.put("common/widgets/fileUpload/file-upload.html",'<div ng-show="uploadCtrl.readOnly || uploadCtrl.ngReadonly" class="label-property-grid-control-readonly property-value-ellipsis"> {{uploadCtrl.selectedFile.name}} </div>\n<ng-form name="fileForm" ng-hide="uploadCtrl.readOnly || uploadCtrl.ngReadonly">\n    <div>\n        <span ng-transclude></span>\n        <div class="textboxHolder">            \n            <span ng-show="uploadCtrl.currentPercentage!==\'\' && uploadCtrl.currentPercentage!==\'100%\'"\n                  class="btn btn-primary progressBar" ng-style="{\'width\': uploadCtrl.currentPercentage}">{{uploadCtrl.currentPercentage}}</span>\n            <div class="form-control uploadSection" tabindex="1" ng-class="{\'form-control-invalid\':((fileForm.$invalid && fileForm.$dirty) || (fileForm.$invalid && fileForm.$visited))}">\n                <input type="text" \n                       class="showStatus" \n                       data-internal-type="fileStatus" \n                       title={{uploadCtrl.selectedFile.name}} \n                       ng-model="uploadCtrl.uploadedFile.name" \n                       placeholder="{{uploadCtrl.selectedFile.name}}" \n                       ng-required="uploadCtrl.validation.required"\n                       sit-change="uploadCtrl.sitChange" \n                       ng-class="{\'ng-dirty\':fileForm.$dirty}" \n                       sit-form-input-validator readonly />\n                <a class="upload-delete-button" data-internal-type="deleteButton" ng-show="uploadCtrl.isFileLoaded" ng-click="uploadCtrl.removeFile($event)" role="button" title="Remove">\n                    <em sit-mom-icon="uploadCtrl.deleteAction" sit-class="upload-delete-fill"></em>\n                </a>\n                <input type="file" data-internal-type="fileInput"\n                       class="btn actionButton File" style="display:none" ng-model="uploadCtrl.selectedFile" accept="{{uploadCtrl.accept}}" ng-disabled="uploadCtrl.ngDisabled">\n                <a class="upload-button" data-internal-type="uploadButton" role="button" title="Browse" ng-class="{disable:uploadCtrl.isFileLoaded}" ng-disabled="uploadCtrl.ngDisabled">\n                    <em sit-mom-icon="uploadCtrl.openAction" sit-class="upload-fill" ng-class="{disable:uploadCtrl.isFileLoaded ||uploadCtrl.ngDisabled}"></em>\n                </a>\n            </div>\n        </div>\n    </div>\n</ng-form>')}]),angular.module("common/widgets/filter/sit-filter.html",[]).run(["$templateCache",function(e){e.put("common/widgets/filter/sit-filter.html",'<div class="filter-container">\n    <ng-form name="filterForm">\n        <div ng-if="FilterCtrl.userPrefId">\n            <div class="filter-commands-buttons">\n                <sit-command-bar sit-commands="FilterCtrl.commandButtons" sit-layout="contextual"></sit-command-bar>\n            </div>\n            <div>\n                <label>{{\'filterPanel.filterName\' | translate}} :</label> {{FilterCtrl.filterData.filterName}}\n            </div>\n        </div>\n\n        <table class="sit-filter-table">\n            <thead>\n                <tr>\n                    <td class="add-remove"></td>\n                    <td class="add-remove"></td>\n                    <td class="filter-group" ng-if="FilterCtrl.allowGrouping" ng-class="FilterCtrl.isGroupingEnabled === true ? \'enabled\' : \'disabled\'" ng-click="FilterCtrl.group()">\n                        <span title="{{\'common.group\' | translate}}">\n                            <em sit-class="pl-svg-icon" sit-mom-icon="FilterCtrl.linkIcon" class="link-unlink-icon"></em>\n                        </span>\n                    </td>\n                    <td ng-if="FilterCtrl.lastGrpId !== -1" class="grp"> </td>\n                    <td class="logical-operator">{{\'common.and-or\' | translate}}</td>\n                    <td class="field">{{\'common.field\' | translate}}</td>\n                    <td class="operator">{{\'common.operator\' | translate}}</td>\n                    <td>{{\'common.value\' | translate}}</td>\n                    <td></td>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat="clause in FilterCtrl.clauses">\n                    <td class="add-remove" ng-click="FilterCtrl.addClause(clause)"><em sit-class="pl-svg-icon" sit-mom-icon="FilterCtrl.addBtn"></em></td>\n                    <td class="add-remove" ng-click="FilterCtrl.removeClause(clause)"><em sit-class="pl-svg-icon" sit-mom-icon="FilterCtrl.minusBtn"></em></td>\n                    <td class="filter-group" ng-if="FilterCtrl.allowGrouping" ng-init="clause.index = $index">\n                        <div class="custom-checkbox">\n                            <input type="checkbox" ng-model="clause.selected" ng-change="FilterCtrl.clauseSelectionChange()" />\n                            <span class="checkbox-match"></span>\n                        </div>\n                    </td>\n                    <td ng-if="FilterCtrl.lastGrpId !== -1" class="{{clause.grpClass}}">\n                        <span ng-if="clause.grpClass && clause.grpClass.indexOf(\'grp-start\') !== -1" ng-click="FilterCtrl.unGroup(clause.grpId)" title="{{\'common.ungroup\' | translate}}" class="ungrp">\n                            <em sit-class="pl-svg-icon" sit-mom-icon="FilterCtrl.unLinkIcon" class="link-unlink-icon"></em>\n                        </span>\n                    </td>\n                    <td class="logical-operator">\n                        <select ng-model="clause.andOr" ng-hide="$index===0">\n                            <option ng-repeat="option in FilterCtrl.operatorOptions" value="{{option.id}}">{{option.value}}</option>\n                        </select>\n                    </td>\n\n                    <td class="field">\n                        <select ng-model="clause.filterField"\n                                ng-options="filterField.displayName || filterField.field for filterField in FilterCtrl.sitFilterFields"\n                                ng-change="FilterCtrl.fieldChanged(\'{{clause.filterField.type}}\', clause)"></select>\n                    </td>\n                    <td class="operator">\n                        <select ng-model="clause.operator"\n                                ng-change="FilterCtrl.operatorChanged(clause)"\n                                ng-options="operator.id as operator.display for operator in FilterCtrl.getOperators(clause)"></select>\n                    </td>\n\n                    <td class="value-field" ng-switch="clause.widget" ng-if="!(clause.operator===\'isnull\' || clause.operator===\'isnotnull\') && !clause.showValueField">\n                        <sit-numeric ng-switch-when="sit-numeric"\n                                     ng-readonly="false"\n                                     data-sit-value="clause.value"\n                                     data-sit-validation="clause.validation"></sit-numeric>\n                        <sit-text ng-switch-when="sit-text"\n                                  ng-readonly="false"\n                                  data-sit-value="clause.value"\n                                  data-sit-validation="clause.validation"></sit-text>\n                        <sit-select ng-switch-when="sit-select"\n                                    ng-readonly="false"\n                                    data-sit-value="clause.selectValue"\n                                    data-sit-options="clause.filterField.selectValues"\n                                    data-sit-to-keep="\'id\'"\n                                    data-sit-to-display="\'name\'"\n                                    data-sit-validation="clause.validation"></sit-select>\n                        <sit-entity-picker ng-switch-when="sit-entity-picker"\n                                           ng-readonly="false"\n                                           data-sit-selected-object="clause.selectValue"\n                                           data-sit-datasource="clause.filterField.selectValues"\n                                           data-sit-validation="clause.validation"\n                                           data-sit-placeholder="clause.placeHolder">\n                        </sit-entity-picker>\n                        <sit-multi-select ng-switch-when="sit-multi-select"\n                                          data-sit-options="clause.filterField.selectValues"\n                                          data-sit-selected-string="clause.value"\n                                          data-sit-split-list="true"\n                                          data-sit-placeholder="FilterCtrl.multiSelectPlaceHolder"\n                                          data-sit-validation="clause.validation"></sit-multi-select>\n                        <sit-checkbox ng-switch-when="sit-checkbox"\n                                      ng-readonly="false"\n                                      data-sit-value="clause.checkValue"\n                                      data-sit-validation="clause.validation"></sit-checkbox>\n                        <sit-datepicker ng-switch-when="sit-datepicker"\n                                        ng-readonly="false"\n                                        data-sit-value="clause.value"\n                                        data-sit-append-to-body="true"\n                                        data-sit-format="FilterCtrl.dateFormat"\n                                        data-sit-validation="clause.validation"></sit-datepicker>\n                        <sit-date-time-picker ng-switch-when="sit-date-time-picker"\n                                              ng-readonly="false"\n                                              sit-value="clause.value"\n                                              sit-format="FilterCtrl.dateTimeOptions.format"\n                                              sit-show-seconds="FilterCtrl.dateTimeOptions.showSeconds"\n                                              sit-validation="clause.validation"></sit-date-time-picker>\n                    </td>\n\n\n                    <td class="value-field" ng-if="!(clause.operator===\'isnull\' || clause.operator===\'isnotnull\') && clause.showValueField ">\n\n                        <sit-select ng-readonly="false"\n                                    data-sit-value="clause.selectValueColumn"\n                                    data-sit-options="clause.filterField.selectValueColumns"\n                                    data-sit-to-keep="\'id\'"\n                                    data-sit-to-display="\'name\'"\n                                    data-sit-validation="clause.validation"></sit-select>\n\n                    </td>\n\n                    <td class="match-case" ng-if="FilterCtrl.isMatchCaseShown">\n                        <div class="custom-checkbox" ng-if="!(clause.operator===\'isnull\' || clause.operator===\'isnotnull\') && clause.filterField.type===\'string\' && clause.filterField.showMatchCase!== false && !FilterCtrl.sitFilterServerSide && FilterCtrl.isMatchCaseShown">\n                            <input type="checkbox" ng-model="clause.matchCase" />\n                            <span class="checkbox-match">{{\'common.match-case\' | translate}}</span>\n                        </div>\n                    </td>\n                    <td class="value-icon" ng-if="!(clause.operator===\'isnull\' || clause.operator===\'isnotnull\') && clause.filterField.selectValueColumns.length > 0" ng-click="FilterCtrl.canShowValueField(clause)">\n                        <em sit-class="pl-svg-icon" sit-mom-icon="FilterCtrl.constBtn" ng-class="!clause.showValueField === true ? \'switch-button switch-button-select\' : \'switch-button\'" title="{{\'filter.constant\' | translate}}"></em>\n                    </td>\n                    <td class="value-icon" ng-if="!(clause.operator===\'isnull\' || clause.operator===\'isnotnull\') && clause.filterField.selectValueColumns.length > 0" ng-click="FilterCtrl.canShowValueColumnField(clause)">\n                        <em sit-class="pl-svg-icon" sit-mom-icon="FilterCtrl.listBtn" ng-class="clause.showValueField === true ? \'switch-button switch-button-select\' : \'switch-button\'" title="{{\'filter.field\' | translate}}"></em>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n        <div class="pl-icon-link filter-add" ng-click="FilterCtrl.addClause();">\n            <div class="pl-icon-link-container" sit-class="pl-icon-link-svg" sit-mom-icon="FilterCtrl.addBtn"></div>\n            <div><a href="" class="pl-simple-link"> {{\'filter.add-new-clause\' | translate}}</a></div>\n        </div>\n\n        <br />\n        <button ng-if="!FilterCtrl.sitHideApplyReset" ng-click="FilterCtrl.reset();" class="sit-filter-button-reset">{{\'common.reset\' | translate}}</button>\n        <button ng-if="!FilterCtrl.sitHideApplyReset" ng-click="FilterCtrl.apply();" ng-disabled="filterForm.$invalid" class="sit-filter-button-apply">{{\'common.apply\' | translate}}</button>\n    </ng-form>\n</div>')}]),angular.module("common/widgets/filterBar/filter-bar.html",[]).run(["$templateCache",function(e){e.put("common/widgets/filterBar/filter-bar.html",'<div id="filterBarContainer" data-internal-type="filterbarcontainer" class="filter-bar-holder" ng-if="filterBarCtrl.showFilterBar">\n    <sit-command-bar sit-commands="filterBarCtrl.commandBarData" sit-layout="contextual">\n    </sit-command-bar>\n</div>\n')}]),angular.module("common/widgets/filterPanel/save-filter-panel.html",[]).run(["$templateCache",function(e){e.put("common/widgets/filterPanel/save-filter-panel.html",'<div class="sit-filter-panel-container">\n    <sit-property-grid sit-id="filterPanelSaveForm"\n                       sit-layout="Vertical"\n                       sit-type="Fixed"\n                       sit-mode="edit"\n                       sit-state-change="Dialog.templatedata.onValidityChangeCallback"\n                       sit-columns="1">\n\n        <sit-property sit-widget="sit-text" sit-value="Dialog.templatedata.name.value" sit-placeholder="Dialog.templatedata.name.placeholder"\n                      sit-validation="Dialog.templatedata.name.validation">{{\'filterPanel.name\'| translate}}:\n        </sit-property>\n\n        <sit-property sit-widget="sit-textarea" sit-value="Dialog.templatedata.description.value"\n                      sit-placeholder="Dialog.templatedata.description.placeholder">{{\'filterPanel.description\'| translate}}:\n        </sit-property>\n    </sit-property-grid>\n</div>')}]),angular.module("common/widgets/filterPanel/sit-filter-panel.html",[]).run(["$templateCache",function(e){e.put("common/widgets/filterPanel/sit-filter-panel.html",'<div id="filter-panel" class="simple-filter-panel">\n    <div class="header">\n        <div class="header-text">\n            {{\'filterPanel.title\' | translate}}\n        </div>\n        <div class="filter-panel-close-btn">\n            <div class="filter-panel-close-img filter-close-button"\n                 sit-class="filter-close-button"\n                 sit-mom-icon="filterPanelCtrl.closeIcon"\n                 ng-click="filterPanelCtrl.close()">\n            </div>\n        </div>\n    </div>\n\n    <div id="filters" class="simple-filter-clauses">\n        <div class="filter-commands-buttons" ng-if="filterPanelCtrl.userPrefId && filterPanelCtrl.userPrefId !== \'\' && filterPanelCtrl.userPrefId !== undefined">\n            <sit-command-bar sit-commands="filterPanelCtrl.commandButtons" sit-layout="contextual"></sit-command-bar>\n        </div>\n\n        <sit-property-grid sit-id="simple-filter-name" sit-layout="Vertical" sit-type="" sit-mode="view">\n            <sit-property sit-id="filterName"  sit-widget="sit-text" sit-value="filterPanelCtrl.filterData.filterName">{{\'filterPanel.filterName\' | translate}}:</sit-property>\n        </sit-property-grid>\n\n        <sit-property-grid sit-id="simple-filters" sit-layout="Vertical" sit-type="" sit-mode="edit">\n            <sit-property  ng-repeat="filter in filterPanelCtrl.filterData.filterClauses" sit-id="{{filter.id}}" ng-if="filter.widget"\n                          sit-widget="{{filter.widget}}"\n                          sit-value="filter.value"\n                          sit-options="filter.options"\n                          sit-to-display="filter.toDisplay"\n                          sit-to-keep="filter.toKeep"\n                          sit-change="filter.onChange"\n                          sit-widget-attributes="filter.widgetAttributes"\n                          sit-selected-string ="filter.value">{{filter.displayName}}:</sit-property>\n        </sit-property-grid>\n    </div>\n\n    <div class="action-button-footer">\n        <div class="action-buttons">\n            <button class="bottom-action-button" title="{{\'filterPanel.reset\' | translate}}" ng-click="filterPanelCtrl.reset()">\n                <span data-internal-type="text-container">{{\'filterPanel.reset\' | translate}}</span>\n            </button>\n            <button class="bottom-action-button last-action-button" title="{{\'filterPanel.apply\' | translate}}" ng-click="filterPanelCtrl.apply(filterPanelCtrl.filterData.filterClauses)">\n                <span data-internal-type="text-container">{{\'filterPanel.apply\' | translate}}</span>\n            </button>\n\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/flow/directives/toolbar.html",[]).run(["$templateCache",function(e){e.put("common/widgets/flow/directives/toolbar.html","<div class='sit-flow-toolbar-container'>\n\n    <div class='sit-flow-toolbar'>\n        <span id=\"btnRefresh\" class='fa fa-refresh sit-flow-clickable sit-flow-toolbar-element' ng-click='refresh()' title='Refresh' ng-show='sitShowRefresh'></span>\n        <span id=\"btnAutoGenerationAll\" class='vm vm-generate-big-block-phase sit-flow-clickable sit-flow-toolbar-element' ng-click='autoGenerate()' title='Auto-generate' ng-show='sitShowAutogenerate'></span>\n        <span id=\"btnUndo\" class='fa fa-reply sit-flow-clickable sit-flow-toolbar-element' ng-click='undo()' data-ng-show='canUndo' title='Undo'></span>\n        <span id=\"btnRedo\" class='fa fa-share sit-flow-clickable sit-flow-toolbar-element' ng-click='redo()' data-ng-show='canRedo' title='Redo'></span>\n        <span id=\"btnEditElement\" class='fa fa-pencil sit-flow-clickable sit-flow-toolbar-element' ng-click='edit()' data-ng-show='canEdit' title='Edit'></span>\n        <span id=\"btnRemoveElement\" class='fa fa-trash sit-flow-clickable sit-flow-toolbar-element' ng-click='remove()' data-ng-show='canRemove' title='Remove'></span>\n        <span id=\"btnBringToFront\" class='vm vm-bring-to-front sit-flow-clickable sit-flow-toolbar-element' ng-click='bringToFront()' title='Bring To Front' ng-show='canBringToFront'></span>\n        <span id=\"btnSendToBack\" class='vm vm-send-to-back sit-flow-clickable sit-flow-toolbar-element' ng-click='sendToBack()' title='Send To Back' ng-show='canSendToBack'></span>\n        <span id=\"btnPan\" class='fa fa-arrows sit-flow-clickable sit-flow-toolbar-element' ng-class='{\"sit-flow-toolbar-toggle-down\": panChecked, \"sit-flow-toolbar-toggle-up\": !panChecked}' ng-click='togglePan()' title='Pan' ng-show='sitShowPan'></span>\n        <span id=\"btnZoomIn\" class='fa fa-search-plus sit-flow-clickable sit-flow-toolbar-element' ng-click='zoomin()' title='Zoom In' ng-show='sitShowZoom'></span>\n        <span id=\"btnZoomOut\" class='fa fa-search-minus sit-flow-clickable sit-flow-toolbar-element' ng-click='zoomout()' title='Zoom Out' ng-show='sitShowZoom'></span>\n        <span id=\"btnZoomToFit\" class='vm vm-shrink-to-fit sit-flow-clickable sit-flow-toolbar-element' ng-click='zoomfit()' title='Zoom To Fit' ng-show='sitShowZoom'></span>\n        <span id=\"btnSaveBB\" class='fa fa-save sit-flow-clickable sit-flow-toolbar-element' ng-click='save()' title='Save' ng-show='sitShowSave'></span>\n        <span id=\"btnRenameBB\" class='fa fa-pencil sit-flow-clickable sit-flow-toolbar-element' ng-click='rename()' title='Rename' ng-show='sitShowRename'></span>\n        <span id=\"btnSettings\" class='fa fa-cog sit-flow-clickable sit-flow-toolbar-element' ng-click='editSettings()' title='Settings' ng-show='sitShowSettings'></span>\n    </div>\n</div>")}]),angular.module("common/widgets/flow/directives/toolbox.html",[]).run(["$templateCache",function(e){e.put("common/widgets/flow/directives/toolbox.html","<div id=\"toolbox\" class='toolbox'>\n    <div class='sit-flow-toolbox-content'>\n        <div data-ng-repeat='block in blocks' class='sit-flow-toolbox-group-background'>\n            <div data-ng-click='block.Collapsed= !block.Collapsed' ng-show='block[0].Group!= \"\"' class='sit-flow-toolbox-group-header'>\n"+'                <img ng-if="!block.Collapsed" data-ng-src="common/icons/miscDownArrow16.svg" width="16" height="16" alt="Down Arrow">\n                <img ng-if="block.Collapsed" data-ng-src="common/icons/miscRightArrow16.svg" width="16" height="16" alt="Down Right">\n                <span name=\'lnk_{{block[0].Group}}\' class=\'sit-flow-toolbox-group-label\'>{{block[0].Group}}</span>\n            </div>\n            <div data-ng-hide=\'block.Collapsed\' class=\'sit-flow-toolbox-group-content\'>\n                <div id=\'{{item.Type}}\' sit-flow-toolbox-drag-on-click sit-flow-toolbox-draggable ng-repeat=\'item in block\' class=\'sit-flow-toolbox-item\' ng-class=\'{"sit-flow-toolbox-item-list" : sitMode == "list", "sit-flow-toolbox-item-tiles" : sitMode == "tiles"}\'>\n                    <div sit-flow-toolbox-icon title=\'\'> </div>\n                    <div class=\'sit-flow-toolbox-item-label\' ng-show=\'sitMode == "list"\'>{{item.Label}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/flyout/samples/flyout-dev-tpl.html",[]).run(["$templateCache",function(e){e.put("common/widgets/flyout/samples/flyout-dev-tpl.html",'<div class="container" ng-controller="DialogDevController as dDevCtrl">\n\n    <button id="showDialogCenteredModal" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup1Center()">\n        Show Dialog Centered Modal\n    </button>\n\n    <button id="showDialogCenteredModal2" class="btn btn-primary btn-lg" ng-click="dDevCtrl.showPopup2Center()">\n        Show Dialog Centered Modal 2\n    </button>\n\n    <button id="bottomFlyout" class="btn btn-lg btn-info" data-sit-flyout data-sit-templateuri="common/widgets/flyout/samples/sit-flyout-template.html" data-sit-placement="bottom">Bottom Template</button>\n    <button class="btn btn-lg btn-info" data-sit-flyout data-sit-templateuri="common/widgets/flyout/samples/sit-flyout-template.html" data-sit-placement="right">Right Template</button>\n    <button class="btn btn-lg btn-info" data-sit-flyout data-sit-templateuri="common/widgets/flyout/samples/sit-flyout-template.html" data-sit-placement="left">Left Template</button>\n    <button class="btn btn-lg btn-info" data-sit-flyout data-sit-templateuri="common/widgets/flyout/samples/sit-flyout-template.html" data-sit-placement="top">Top Template</button>\n    <button class="btn btn-lg btn-info" data-sit-flyout data-sit-templateuri="common/widgets/flyout/samples/sit-flyout-template.html" data-sit-placement="auto">Auto Template</button>\n\n\n    <button class="btn btn-lg btn-info" data-sit-flyout data-sit-templateuri="QA/1559/sit-flyout-template2.html" data-sit-templatedata="currentUser" data-sit-placement="right">Template</button>\n\n\n    <sit-dialog sit-title="dDevCtrl.dialogTitle"\n                sit-templatedata=\'currentUser\'\n                sit-templateuri="dDevCtrl.dialogTemplateUri"\n                sit-modalid="popup1"\n                sit-buttons=\'dDevCtrl.buttonsList\'>\n    </sit-dialog>\n    <sit-dialog sit-title="dDevCtrl.dialogTitleModify"\n                sit-templatedata=\'dDevCtrl.dialogData2\'\n                sit-templateuri="dDevCtrl.dialogTemplateUriModify"\n                sit-modalid="popup2"\n                sit-buttons=\'dDevCtrl.buttonsList2\'>\n    </sit-dialog>\n\n    <button class="btn btn-lg btn-info" data-sit-flyout data-sit-templateuri="common/widgets/flyout/samples/sit-flyout-template.html" data-sit-placement="auto">Auto Template</button>\n</div>\n')}]),angular.module("common/widgets/flyout/samples/flyout-dev-view.html",[]).run(["$templateCache",function(e){e.put("common/widgets/flyout/samples/flyout-dev-view.html",'<div style="margin-left:50px; text-align: left;  vertical-align: top; ">\n    <ng-include src="\'/common/widgets/flyout/samples/flyout-dev-tpl.html\'" />\n</div>')}]),angular.module("common/widgets/flyout/samples/flyout-dev.html",[]).run(["$templateCache",function(e){e.put("common/widgets/flyout/samples/flyout-dev.html",'<!DOCTYPE html>\n<html data-ng-app="app">\n<head>\n    <title data-ng-bind="title">Flyout Development</title>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />\n\n    <link href="../../../styles/common-dark.css" rel="stylesheet" />\n\n    <style>\n        html, body {\n            overflow: auto !important;\n        }\n    </style>\n</head>\n\n<body ng-controller="flyoutDevController">\n\n    \x3c!-- UI-ROUTER EXAMPLE --\x3e\n    <div>\n        <div style="height:350px"></div>\n        <p>Current User: {{currentUser}}</p>\n        <a href="#" class="btn btn-lg btn-info" data-sit-flyout data-templateuri="sit-flyout-template.html" data-placement="bottom">Bottom placement Template 1</a>\n        <button class="btn btn-lg btn-info" data-sit-flyout data-templateuri="sit-flyout-template2.html" data-templatedata="currentUser" data-placement="auto">Auto placement Template 2</button>\n\n    </div>\n    \x3c!-- END UI-ROUTER EXAMPLE --\x3e\n    \x3c!-- Vendor Scripts --\x3e\n    <script src="../../../scripts/jquery-2.1.1.js"><\/script>\n    <script src="../../../scripts/angular/angular.js"><\/script>\n    <script src="../../../scripts/angular/angular-animate.js"><\/script>\n    <script src="../../../scripts/angular/angular-route.js"><\/script>\n    <script src="../../../scripts/angular/angular-sanitize.js"><\/script>\n    <script src="../../../scripts/bootstrap.js"><\/script>\n    <script src="../../../scripts/angular-ui/ui-bootstrap-tpls.js"><\/script>\n    <script src="../../../scripts/angular-ui-router.js"><\/script>\n\n    \x3c!-- Bootstrapping --\x3e\n    <script src="./flyout-dev-app.js"><\/script>\n\n    \x3c!-- Test Data --\x3e\n    \x3c!-- Flyout Widget scripts --\x3e\n    <script src="../sit-flyout-mod.js"><\/script>\n    <script src="../sit-flyout-svc.js"><\/script>\n    <script src="../sit-flyout-dir.js"><\/script>\n\n</body>\n\n</html>')}]),angular.module("common/widgets/flyout/samples/sit-flyout-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/flyout/samples/sit-flyout-template.html","<p>This is a flyout with a really really really really really long text</p>\n")}]),angular.module("common/widgets/flyout/samples/sit-flyout-template2.html",[]).run(["$templateCache",function(e){e.put("common/widgets/flyout/samples/sit-flyout-template2.html",'<p>This is an other template with binding</p>\nCurrent User <input type="text" ng-model="templatedata" />\n')}]),angular.module("common/widgets/fullscreenDialog/fullscreen-context.html",[]).run(["$templateCache",function(e){e.put("common/widgets/fullscreenDialog/fullscreen-context.html",'<div class="context-container">\n    <button data-internal-type="menuButton" class="context-dropdown" ng-click="contextCtrl.toggleContextMenu($event)"  title="{{contextCtrl.tooltip}}">\n        <span>\n            <em class="fa {{contextCtrl.menuIcon}} fa-lg" sit-mom-icon="contextCtrl.svgIcon" ng-class= "{momIcon: contextCtrl.svgIcon}"></em>\n            <em class="caret"></em>\n        </span>\n    </button>\n    <div data-internal-type="contextMenu" class="context-menu-container context-menu-hide">\n        <div data-internal-type="menuDropdownIcon" class="context-menu-icon">\n            <em class="fa fa-caret-up fa-2x"></em>\n        </div>\n        <div data-internal-type="contextMenuPopup" class="context-menu drop-shadow">\n            <ul>\n                <li ng-repeat="context in contextCtrl.contextConfig.contexts">\n                    <div class="context-menu-item">\n                        <div class="context-menu-item-icon">\n                        <em class="fa {{context.icon}}" sit-mom-icon ="{path: context.svgIcon, size: \'16px\' }" ng-class= "{momIcon: context.svgIcon}"></em>\n                        </div>\n                        <div class="context-menu-item-text" title="{{context.tooltip}}">{{context.label}}{{context.separator}} {{context.value}}</div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/fullscreenDialog/fullscreen-dialog.html",[]).run(["$templateCache",function(e){e.put("common/widgets/fullscreenDialog/fullscreen-dialog.html",'<div class="background-container"></div>\n<div class="sit-fullscreen-header-container">\n    <div class="fullscreen-transclude-container" style="width:100%;height:100%;" ng-transclude></div>\n</div>\n')}]),angular.module("common/widgets/fullscreenDialog/fullscreen-header.html",[]).run(["$templateCache",function(e){e.put("common/widgets/fullscreenDialog/fullscreen-header.html",'<div class="header-container">\n    <div class="transclude-container" ng-transclude>\n    </div>\n    <div ng-click="headerCtrl.sitCloseCallback()" title="Close" class="close-button-container">\n        <span class="fa fa-times fa-lg" aria-hidden="true"></span>\n    </div>\n</div>\n')}]),angular.module("common/widgets/fullscreenDialog/fullscreen-title.html",[]).run(["$templateCache",function(e){e.put("common/widgets/fullscreenDialog/fullscreen-title.html","<ng-transclude></ng-transclude>")}]),angular.module("common/widgets/graph/graph.html",[]).run(["$templateCache",function(e){e.put("common/widgets/graph/graph.html",'<div class="graphbackground" ng-show="GraphCtrl.isGraphValid">\n    <div>\n        <div ng-show="GraphCtrl.sitOptions.zooming" class="graphZoomControl">\n            <div class="zoom"><label>Zoom: &nbsp;</label></div>\n            <input class="graphZoomControlInput" type="range" min="1" max="8" ng-model="zoomLevel" step=".1" />\n            <button class="btn btn-info graphAutoFit">Auto Fit</button>\n            <button class="btn btn-info panAndZoom">Pan and Zoom</button>\n        </div>\n    </div>\n    <div data-internal-type="graphwrapper" class="graphWrapperMain">\n        <svg data-internal-type="graphsvg" width="500" height="500"></svg>\n    </div>\n    <div ng-show="GraphCtrl.sitOptions.zooming" class="panZoom" ng-class="GraphCtrl.showPan==1?\'pan\':\'panHidden\'">\n        <svg data-internal-type="panWindow">\n            <g></g>\n        </svg>\n    </div>\n</div>\n<label ng-show="!GraphCtrl.isGraphValid">{{graphError}}</label>\n')}]),angular.module("common/widgets/grid/grid.html",[]).run(["$templateCache",function(e){e.put("common/widgets/grid/grid.html",'<div id="gridContainerDiv" ng-class="gridCtrl.sitGridOptions.gridContainerClass" data-internal-type="gridContainerDiv" class="grid" ng-style="gridCtrl.gridHeight">\n    <div ng-if="gridCtrl.showGrid" id="showHideGrid">\n        <div class="gridStyle" ng-style="gridCtrl.gridHeight" ng-grid="gridCtrl.gridOptions"></div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/headerButton/headerButton.html",[]).run(["$templateCache",function(e){e.put("common/widgets/headerButton/headerButton.html",'<div class="dropdown dropdown-toggle header-container" id="hdrbtn_{{vm.id}}" ng-click="vm.onButtonClick()" data-internal-type="headerButtonContainer">\n    <span data-toggle="dropdown" class="header-button" data-internal-type="headerButton">\n        <em class="fa fa-lg {{vm.icon}}" sit-mom-icon="vm.displayIcon" ng-class="{momIcon: vm.displayIcon !== null }"></em><span ng-if="vm.title.length > 0"  class="header-button-text">\n            {{vm.title}}\n        </span>\n    </span>\n    <div class="dropdown-menu header-dropdown" ng-if="vm.showDropdown">\n        <div ng-include="vm.templateuri"></div>\n    </div>\n</div>')}]),angular.module("common/widgets/homeCard/sit-home-card.html",[]).run(["$templateCache",function(e){e.put("common/widgets/homeCard/sit-home-card.html",'<section class="sit-home-card" ng-class="{\'action-card\': homeCardCtrl.options.callback}" ng-click="homeCardCtrl.options.callback(homeCardCtrl.options)">\n    <div class="image">\n        <img ng-src="{{homeCardCtrl.options.image}}" alt="{{homeCardCtrl.options.title}}" />\n    </div>\n    <div class="content">\n        <div class="title">{{homeCardCtrl.options.title}}</div>\n        <div class="description">{{ homeCardCtrl.options.description }}</div>\n        <div class="actions" ng-if="homeCardCtrl.options.action">\n            <div class="action-button" sit-class="svg-icon" title="{{homeCardCtrl.options.action.title}}"\n                  sit-mom-icon="homeCardCtrl.options.action.icon"\n                  ng-click="homeCardCtrl.options.action.callback(homeCardCtrl.options)"></div>\n        </div>\n    </div>\n</section>\n')}]),angular.module("common/widgets/homeTile/sit-home-tile.html",[]).run(["$templateCache",function(e){e.put("common/widgets/homeTile/sit-home-tile.html",'<section class="sit-home-tile" \n         title="{{homeTileCtrl.options.title}}" \n         ng-click="homeTileCtrl.options.callback(homeTileCtrl.options)">\n    <div class="icon">\n        <em ng-if="!homeTileCtrl.isSvgIcon" class="fa" ng-class="homeTileCtrl.options.icon"></em>\n        <div ng-if="homeTileCtrl.isSvgIcon" sit-class="svg-icon" sit-mom-icon="homeTileCtrl.options.icon"></div>\n    </div>\n    <div class="title">\n        {{homeTileCtrl.options.title}}\n    </div>\n</section>\n')}]),angular.module("common/widgets/iconPicker/icon-selection-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/iconPicker/icon-selection-template.html",'<a class="icon-picker-dropdown">\n    <div class="icon-details">\n        <div ng-if="match.model.text.startsWith(\'svg \') == false" class="icon-container">\n            <em class="fa {{match.model.icon}} fa-lg"></em>\n        </div>\n        <div ng-if="match.model.text.startsWith(\'svg \') == true" class="icon-container">\n            <img alt="{{match.model.icon}}" class="svg-icon" ng-src="{{match.model.icon}}" height="24" width="24" />\n        </div>\n        <div class="icon-name-container">\n            <div class="name-container icon-text">\n                <label class="image-name" ng-bind-html="match.model.text"></label>\n            </div>\n        </div>\n    </div>\n</a>')}]),angular.module("common/widgets/iconPicker/iconPicker.html",[]).run(["$templateCache",function(e){e.put("common/widgets/iconPicker/iconPicker.html",'<div data-internal-type="icon-picker-container" id="icon-picker-container" class="icon-picker-container">\n    <div class="icon-selector">\n        <sit-entity-picker sit-id="iconPickerCtrl.id"\n                           sit-value="iconPickerCtrl.value"\n                           sit-change="iconPickerCtrl.valueChanged"\n                           sit-datasource="iconPickerCtrl.datasource"\n                           sit-limit="iconPickerCtrl.limit"\n                           sit-placeholder="iconPickerCtrl.placeholder"\n                           sit-selected-attribute-to-display="iconPickerCtrl.selectedAttributeToDisplay"\n                           sit-editable="iconPickerCtrl.editable"\n                           sit-required="iconPickerCtrl.required"\n                           sit-template-url="iconPickerCtrl.templateUrl"\n                           sit-read-only="iconPickerCtrl.readOnly"\n                           sit-validation="iconPickerCtrl.validation"\n                           sit-selected-object="iconPickerCtrl.selectedObject"\n                           ng-blur="iconPickerCtrl.ngBlur"\n                           ng-disabled="iconPickerCtrl.ngDisabled"\n                           ng-focus="iconPickerCtrl.ngFocus"\n                           ng-readonly="iconPickerCtrl.ngReadonly"\n                           class="property-grid-input-group" />\n    </div>\n    <div class="icon-view">\n        <span>\n            <em ng-if="iconPickerCtrl.selectedObject.text.startsWith(\'svg \') == false" class="fa {{iconPickerCtrl.selectedObject.icon}} fa-lg"></em>\n            <img alt="{{iconPickerCtrl.selectedObject.icon}}" style="margin-left:5px" ng-if="iconPickerCtrl.selectedObject.text.startsWith(\'svg \') == true" class="svg-icon" ng-src="{{iconPickerCtrl.selectedObject.icon}}" height="24" width="24" />\n        </span>\n    </div>\n</div>')}]),angular.module("common/widgets/iconPreview/iconPreview.html",[]).run(["$templateCache",function(e){e.put("common/widgets/iconPreview/iconPreview.html",'<span ng-if="iconpreviewCtrl.readOnly || iconpreviewCtrl.ngReadonly" class="label-property-grid-control-readonly property-value-ellipsis">\n    <em class="fa {{iconpreviewCtrl.value}} fa-lg"></em>\n</span>\n<ng-form name=\'iconpreviewForm\' ng-if="!(iconpreviewCtrl.readOnly || iconpreviewCtrl.ngReadonly)" ng-class="{\'isrequired\' :(iconpreviewCtrl.validation.required) && iconpreviewCtrl.value===undefined}">\n    <span style="display: inline-block; width:95%" class=\'property-grid-input-group\'>\n        <input type="text"\n               name=\'{{iconpreviewCtrl.value}}\'\n               ng-class=\'((iconpreviewForm.$invalid && iconpreviewForm.$dirty) || (iconpreviewForm.$invalid && iconpreviewForm.$visited)) ? "validator-control-invalid" : "validator-control"\'\n               ng-model=\'iconpreviewCtrl.value\'\n               ng-required=\'iconpreviewCtrl.validation.required\'\n               ng-minlength=\'iconpreviewCtrl.validation.minlength\'\n               ng-maxlength=\'iconpreviewCtrl.validation.maxlength\'\n               ng-pattern=\'iconpreviewCtrl.validation.pattern\'\n               ng-blur="iconpreviewCtrl.ngBlur()"\n               sit-change="iconpreviewCtrl.sitChange"\n               ng-disabled="iconpreviewCtrl.ngDisabled"\n               ng-readonly="iconpreviewCtrl.ngReadOnly"\n               ng-focus="iconpreviewCtrl.ngFocus()"\n               sit-form-input-validator=\'{{iconpreviewCtrl.value}}\' />\n    </span>\n    <span>\n        <em class="fa {{iconpreviewCtrl.value}} fa-lg"></em>\n    </span>\n</ng-form>')}]),angular.module("common/widgets/itemCollectionViewer/grid-personalization.html",[]).run(["$templateCache",function(e){e.put("common/widgets/itemCollectionViewer/grid-personalization.html",'<sit-column-configurator sit-config="Dialog.templatedata"></sit-column-configurator>')}]),angular.module("common/widgets/itemCollectionViewer/grid-tile-personalization.html",[]).run(["$templateCache",function(e){e.put("common/widgets/itemCollectionViewer/grid-tile-personalization.html",'<div class="grid-tile-personalization">\n    <div class="radio-buttons">\n        <sit-property-grid sit-id="propertyGrid_verticalNew" sit-layout="Horizontal" sit-type="Fixed" sit-mode="Edit"\n                           sit-columns="1">\n            <sit-property sit-widget="sit-radio" sit-value="Dialog.templatedata.radio.value" sit-options="Dialog.templatedata.radio.options"\n                          sit-change="Dialog.templatedata.radio.onChange">{{\'userPrefrences.defaultViewModeHeading\'|translate}}:</sit-property>\n        </sit-property-grid>\n    </div>\n    <div style="clear:both"></div>\n    <div>\n        <sit-tabset>\n            <sit-tab heading="{{\'userPrefrences.columnConfigurator.heading\'|translate}}" active="Dialog.templatedata.grid.isGridActive"\n                     select="Dialog.templatedata.selectTab(Dialog.templatedata, \'grid\')">\n                <sit-column-configurator sit-config="Dialog.templatedata.grid"></sit-column-configurator>\n            </sit-tab>\n            <sit-tab heading="{{\'userPrefrences.tileConfigurator.heading\'|translate}}" active="Dialog.templatedata.tile.isTileActve"\n                     select="Dialog.templatedata.selectTab(Dialog.templatedata, \'tile\')">\n                <sit-tile-configurator sit-config="Dialog.templatedata.tile"></sit-tile-configurator>\n            </sit-tab>\n        </sit-tabset>\n    </div>\n</div>')}]),angular.module("common/widgets/itemCollectionViewer/item-collection-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/itemCollectionViewer/item-collection-viewer.html",'<div id="itemCollectionViewerContainer" data-internal-type="itemCollectionViewerContainer" ng-style="ICVController.compactStyle" mode="{{ICVController.viewMode}}">\n    <div ng-if="ICVController.resetView">\n        <div id="topCommandBars" data-internal-type="topCommandBars" class="top-command-bars">\n            <div id="filterBar" data-internal-type="filterBar" class="filterBar-container">\n                <sit-filter-bar sit-filter-options="ICVController.filterOptions"></sit-filter-bar>\n            </div>\n\n            <div id="filter" class="filter-container" ng-class="ICVController.showFilter && ICVController.sitOptions.filterFields.type !== \'filterPanel\' ? \'open\' : \'closed\'" data-internal-type="filter">\n                <sit-filter-panel ng-if="ICVController.sitOptions.filterFields.type === \'filterPanel\' && ICVController.showFilter" sit-data="ICVController.sitOptions.filterFields" sit-user-preference="ICVController.sitOptions.userPrefId"></sit-filter-panel>\n                <sit-filter ng-if="!ICVController.sitOptions.filterFields.type" sit-filter-fields="ICVController.sitOptions.filterFields" sit-filter-server-side="ICVController.sitOptions.serverDataOptions" sit-user-preference="ICVController.sitOptions.userPrefId" sit-filter-options="ICVController.sitFilterOptions" sit-apply-callback="ICVController.applyFilter(clauses)" sit-reset-callback="ICVController.resetFilter()" sit-allow-grouping="ICVController.sitFilterOptions.groupEnabled"></sit-filter>\n            </div>\n        </div>\n        <div id="itemCollectionCanvas" data-internal-type="itemCollectionCanvas" ng-style="ICVController.collectionStyle">\n            <div id="noDataDiv" data-internal-type="noDataDiv" ng-style="ICVController.collectionStyle" ng-if="ICVController.noData && !ICVController.pageManager.isServerData()" style="font-size: 10.5pt;font-weight: 600; padding-left: 10px;">{{ICVController.noDataMessage}}</div>\n            <div id="gridViewDiv" data-internal-type="gridViewDiv" ng-style="ICVController.collectionStyle" ng-if="(!ICVController.noData || ICVController.pageManager.isServerData()) && ICVController.viewMode == \'grid\'">\n                <sit-grid data-sit-grid-data="ICVController.sitData" data-sit-grid-options="ICVController.gridOptions"></sit-grid>\n            </div>\n            <div id="tileViewDiv" data-internal-type="tileViewDiv" ng-style="ICVController.collectionStyle" ng-if="(!ICVController.noData || ICVController.pageManager.isServerData()) && ICVController.viewMode != \'grid\'">\n                <sit-tile-view data-sit-tiles="ICVController.sitData" data-sit-options="ICVController.tileViewOptions"></sit-tile-view>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/itemCollectionViewer/tile-personalization.html",[]).run(["$templateCache",function(e){e.put("common/widgets/itemCollectionViewer/tile-personalization.html",'<sit-tile-configurator sit-config="Dialog.templatedata"></sit-tile-configurator>')}]),angular.module("common/widgets/label/label.html",[]).run(["$templateCache",function(e){e.put("common/widgets/label/label.html","<div class='label-property-grid-control-readonly property-grid-label property-value-ellipsis' title=\"{{labelCtrl.value}}\">{{labelCtrl.value}}</div>")}]),angular.module("common/widgets/multiSelect/sit-advanced-select.html",[]).run(["$templateCache",function(e){e.put("common/widgets/multiSelect/sit-advanced-select.html",'<div class="label label-property-grid-control-readonly property-value-ellipsis" ng-if="ctrl.readOnly || ctrl.ngReadonly">\n    {{ ctrl.sitSelectedString || ctrl.sitPlaceholder }}\n</div>\n<ng-form ng-if="!(ctrl.readOnly || ctrl.ngReadonly)" name=\'multiselectForm\'\n         ng-class="{\'isrequired\' : (ctrl.validation.required) && ! ((ctrl.sitOptions | filter:{selected:true}).length > 0)}">\n    <div class="dropdown multi-select-dropdown single-selection">\n        <button class="btn btn-default" type="button" id="dropdownMenuAdvanced" aria-expanded="true" data-toggle="dropdown"\n                ng-class="{\'validator-control-invalid\':((multiselectForm.$invalid && multiselectForm.$dirty) || (multiselectForm.$invalid && multiselectForm.$visited)),\n               \'validator-control\':!((multiselectForm.$invalid && multiselectForm.$dirty) || (multiselectForm.$invalid && multiselectForm.$visited)),\n               \'ng-dirty\':multiselectForm.$dirty}"\n                ng-blur="ctrl.ngBlur()" ng-disabled="ctrl.ngDisabled" ng-focus="ctrl.ngFocus()">\n            <span class="dropdownButtonLabel">{{ctrl.getSelectedText()}}</span>\n            <i class="fa fa-chevron-down"></i>\n        </button>\n        <input type="hidden" ng-model="ctrl.sitSelectedString" ng-required="ctrl.validation.required" sit-change="ctrl.sitChange" sit-form-input-validator />\n\n        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuAdvanced">\n            <li ng-repeat="selectable in ctrl.sitOptions | filter: ctrl.sitSplitList ? {selected:true} : {}"\n                ng-class="{selected: selectable.selected}" role="presentation" ng-click="ctrl.toggleSelected($event, selectable)" class="dropdown-item">\n                <a role="menuitem" tabindex="-1">{{selectable.name}}</a>\n                \x3c!--TODO - make this configurable\n                <i class="fa" ng-class="selectable.direction===\'desc\' ? \'fa-sort-alpha-desc\' : \'fa-sort-alpha-asc\'" ng-click="ctrl.toggleDirection($event, selectable)"></i>--\x3e\n            </li>\n            \x3c!--This is VERY inefficient--\x3e\n            <li role="presentation" class="divider" ng-if="ctrl.sitSplitList && (ctrl.sitOptions | filter:ctrl.isFalsy).length > 0 && (ctrl.sitOptions | filter:{selected:true}).length > 0"></li>\n            <li ng-if="ctrl.sitSplitList" ng-class="{selected: selectable.selected}" ng-repeat="selectable in ctrl.sitOptions | filter:ctrl.isFalsy" role="presentation" ng-click="ctrl.toggleSelected($event, selectable)" class="dropdown-item">\n                <input type="checkbox" ng-checked="selectable.selected" class="view-text" />\n                <a role="menuitem" tabindex="-1">{{selectable.name}}</a>\n            </li>\n        </ul>\n    </div>\n</ng-form>')}]),angular.module("common/widgets/multiSelect/sit-multi-select.html",[]).run(["$templateCache",function(e){e.put("common/widgets/multiSelect/sit-multi-select.html",'<sit-advanced-select sit-options="ctrl.sitOptions"\n                     sit-selected-string="ctrl.sitSelectedString"\n                     sit-split-list="ctrl.sitSplitList"\n                     sit-placeholder="ctrl.sitPlaceholder"\n                     sit-done-callback="ctrl.sitDoneCallback"\n                     ng-blur="ctrl.ngBlur" sit-change="ctrl.sitChange" ng-disabled="ctrl.ngDisabled" ng-focus="ctrl.ngFocus" ng-readonly="ctrl.ngReadonly" sit-read-only="ctrl.readOnly" sit-validation="ctrl.validation" sit-multi-select="ctrl.multiselection">\n</sit-advanced-select>')}]),angular.module("common/widgets/navigationLink/sit-tab.html",[]).run(["$templateCache",function(e){e.put("common/widgets/navigationLink/sit-tab.html","<div sit-tab-heading-transclude></div>")}]),angular.module("common/widgets/navigationLink/sit-tabset.html",[]).run(["$templateCache",function(e){e.put("common/widgets/navigationLink/sit-tabset.html",'<div class="sit-navigation-tabs" data-internal-type="sit-navigation-tabs">\n    <ng-transclude ng-show="false"></ng-transclude>\n    <ul class="nav navbar-nav tabset" data-internal-type="sit-navigation-tabs-navbar" sit-navigation-slide="true">\n        <li class="navbar-nav-tab" data-internal-type="sit-navigation-tabs-navbar-tab-item" ng-repeat="tab in tabs" \n            ng-class="{active: tab.active, disabled: tab.disabled, warning: tab.warning, new: tab.new}" \n            ng-if="$index<=tabsetCtrl.visibleTabs - 1" ng-style="{\'max-width\' : tabsetCtrl.maxTabWidth}"\n            uib-tooltip-html="tab.heading" tooltip-palacement="top" tooltip-enable="tabsetCtrl.isTabEllipsis(tab)">\n            <a ng-click="tab.select()">\n                <div>\n                    <div class="sit-nav-tab-i" ng-if="tab.warning || tab.new">\n                        <em class="fa fa-warning" ng-if="tab.warning"></em>\n                        <em class="fa fa-asterisk" ng-if="tab.new"></em>\n                    </div>\n                    <div class="sit-nav-tab-label" data-ellipsis-id="sit-nav-tab-span-{{tab.$id}}" ng-bind-html="tab.heading"></div>\n                </div>\n            </a>\n        </li>\n        <li class="navbar-nav-dropdown" data-internal-type="sit-navigation-tabs-navbar-dropdown" ng-show="tabsetCtrl.displayDropdown">\n            <button data-toggle="dropdown" title="Other commands" class="dropdown-toggle" ng-click="tabsetCtrl.setDropdownHeight()">\n                <div style="display:inline-block">\n                    <div class="tab-dropdown-label">{{tabsetCtrl.otherTabs}}</div>\n                </div>\n            </button>\n\n            <ul class="dropdown-menu dropdown-menu-right"  data-internal-type="sit-navigation-tabs-navbar-dropdown-ul" role="menu" data-toggle="dropdown">\n                <li class="sit-tab-dropdown-menu-items"  data-internal-type="sit-navigation-tabs-navbar-dropdown-ul-li" ng-repeat="tab in tabs" ng-class="{active: tab.active, disabled: tab.disabled, warning: tab.warning, new: tab.new}" ng-show="$index>tabsetCtrl.visibleTabs - 1">\n                    <a ng-click="tab.select()">\n                        <span>\n                            <em class="fa fa-warning" ng-show="tab.warning"></em>\n                            <em class="fa fa-asterisk" ng-show="tab.new"></em>\n                            <span ng-bind-html="tab.heading"></span>\n                        </span>\n                    </a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n    <hr ng-if="tabsetCtrl.visibleTabs > 0" data-internal-type="slidingLine" class="slider" />\n    <div class="sit-tab-clear-div"></div>\n    <div class="tab-content">\n        <div class="tab-pane" ng-repeat="tab in tabs" ng-class="{active: tab.active}" sit-tab-content-transclude="tab">\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/navigationLink/tab.html",[]).run(["$templateCache",function(e){e.put("common/widgets/navigationLink/tab.html","<div tab-heading-transclude>\n</div>")}]),angular.module("common/widgets/navigationLink/tabset.html",[]).run(["$templateCache",function(e){e.put("common/widgets/navigationLink/tabset.html",'<div class="sit-navigation-tabs" data-internal-type="sit-navigation-tabs" >\n    <ng-transclude ng-show="false"></ng-transclude>\n    <ul class="nav navbar-nav tabset" data-internal-type="sit-navigation-tabs-navbar" sit-navigation-slide="true">\n        <li class="navbar-nav-tab" data-internal-type="sit-navigation-tabs-navbar-tab-item" ng-repeat="tab in tabs" \n            ng-class="{active: tab.active, disabled: tab.disabled, warning: tab.warning, new: tab.new}" \n            ng-if="$index<=tabsetCtrl.visibleTabs - 1" ng-style="{\'max-width\' : tabsetCtrl.maxTabWidth}" \n            uib-tooltip-html="tab.heading" tooltip-enable="tabsetCtrl.isTabEllipsis(tab)">\n            <a ng-click="tab.select()">\n                <div>\n                    <div class="sit-nav-tab-i" ng-if="tab.warning || tab.new">\n                        <em class="fa fa-warning" ng-if="tab.warning"></em>\n                        <em class="fa fa-asterisk" ng-if="tab.new"></em>\n                    </div>\n                    <div class="sit-nav-tab-label" data-ellipsis-id="sit-nav-tab-span-{{tab.$id}}" ng-bind-html="tab.heading"></div>\n                </div>\n            </a>\n        </li>\n        <li class="navbar-nav-dropdown" data-internal-type="sit-navigation-tabs-navbar-dropdown" ng-show="tabsetCtrl.displayDropdown">\n            <button data-toggle="dropdown" title="Other commands" class="dropdown-toggle" ng-click="tabsetCtrl.setDropdownHeight()">\n                <div style="display:inline-block">\n                    <div class="tab-dropdown-label">{{tabsetCtrl.otherTabs}}</div>\n                </div>\n            </button>\n\n            <ul class="dropdown-menu dropdown-menu-right"  data-internal-type="sit-navigation-tabs-navbar-dropdown-ul" role="menu" data-toggle="dropdown">\n                <li class="sit-tab-dropdown-menu-items"  data-internal-type="sit-navigation-tabs-navbar-dropdown-ul-li" ng-repeat="tab in tabs" ng-class="{disabled: tab.disabled, warning: tab.warning, new: tab.new}" ng-show="$index>tabsetCtrl.visibleTabs - 1">\n                    <a ng-click="tab.select()">\n                        <span>\n                            <em class="fa fa-warning" ng-show="tab.warning"></em>\n                            <em class="fa fa-asterisk" ng-show="tab.new"></em>\n                            <span ng-bind-html="tab.heading"></span>\n                        </span>\n                    </a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n    <hr ng-if="tabsetCtrl.visibleTabs > 0" data-internal-type="slidingLine" class="slider" />\n    <div class="sit-tab-clear-div"></div>\n    <div class="tab-content">\n        <div class="tab-pane" ng-repeat="tab in tabs" ng-class="{active: tab.active}" tab-content-transclude="tab">\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/notificationTile/notification-tile.html",[]).run(["$templateCache",function(e){e.put("common/widgets/notificationTile/notification-tile.html",'<div class="notification-tile"\n     ng-click="notificationCtrl.thisTileClick()"\n     ng-show="notificationCtrl.tileIsVisible"\n     ng-class="{\'notification-tile-popup\': notificationCtrl.tilePopup,\n'+"                'notification-tile-color-info': notificationCtrl.tileType=='info',\n                'notification-tile-color-warning':  notificationCtrl.tileType=='warning',\n                'normalTile':notificationCtrl.format!=='wide',\n                'wideTile':notificationCtrl.format=='wide',\n                'topCenterPositioning':notificationCtrl.position=='topCenter',\n                'normalPositioning':notificationCtrl.position=='topRight',\n                'bottomRightPositioning':notificationCtrl.position=='bottomRight',\n                'topLeftPositioning':notificationCtrl.position=='topLeft',\n                'dropShadow':notificationCtrl.shadow!==false}\"\n     ng-mouseenter=\"notificationCtrl.stpoInterval()\"\n     ng-mouseleave=\"notificationCtrl.startInterval()\">\n\n    <div class=\"notification-tile-container\">\n        <div class=\"notification-tile-title\" data-internal-type=\"title\">{{notificationCtrl.cropedTitle}}</div>\n        <div class=\"notification-tile-description\" data-internal-type=\"content\">{{notificationCtrl.cropedContent}}</div>\n        <div class=\"notification-tile-icon\" data-internal-type=\"icon\">\n            <em class=\"fa\" ng-class=\"{'fa-info': notificationCtrl.tileType=='info',\n                                     'fa-warning': notificationCtrl.tileType=='warning'}\">\n            </em>\n        </div>\n        <div class=\"notification-tile-counter\" data-internal-type=\"counter\"> <span>{{notificationCtrl.tileCounter}}</span> </div>\n    </div>\n</div>")}]),angular.module("common/widgets/notificationTile/samples/notification-tile-dev.html",[]).run(["$templateCache",function(e){e.put("common/widgets/notificationTile/samples/notification-tile-dev.html",'<!DOCTYPE html>\n<html data-ng-app="app">\n<head>\n    <title data-ng-bind="title">Notification Tile Development</title>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />\n\n    <link href="/common/styles/font-awesome/font-awesome.css" rel="stylesheet" />\n    <link href="../../../styles/common-dark.css" rel="stylesheet" />\n\n    <style type="text/css">\n        body {\n            overflow: auto;\n        }\n    </style>\n\n</head>\n\n<body ng-controller="notificationTileDevController">\n\n\n    <div>\n        <div class="row">\n            <div style="width:1000px; padding:20px; border:1px solid #3366AA; position:relative; margin:50px;">\n\n                <div data-sit-notification-tile\n                     data-sit-tile-title="\'Success\'"\n                     data-sit-tile-content="\'Form has been saved!\'"\n                     data-sit-tile-type="\'info\'"\n                     data-sit-tile-counter="1"\n                     data-sit-tile-click="hasClicked(\'Tile info was clicked!\')"\n                     data-sit-tile-popup="true"\n                     id="infoTile"></div>\n\n                <div data-sit-notification-tile\n                     data-sit-tile-title="\'warning\'"\n                     data-sit-tile-content="\'Error saving form\'"\n                     data-sit-tile-type="\'warning\'"\n                     data-sit-tile-counter="1"\n                     data-sit-tile-click="hasClicked(\'Tile warning was clicked!\')"\n                     data-sit-tile-popup="true"\n                     id="warningForm"></div>\n\n\n\n                <h3 style="color:#3366AA;">Notification Tile Development</h3>\n                <div style="width:500px;  padding:20px; border:1px solid #3366AA; position:relative; margin:50px;">\n                    <h3 style="color:#3366AA;">Form</h3>\n                    <form role="form">\n                        <div class="form-group">\n                            <label for="txtName">Login:</label>\n                            <input type="text" class="form-control" id="txtLogin">\n\n                            <div style="position:absolute; top:14px; left:482px;">\n                                <div data-sit-notification-tile\n                                     data-sit-tile-title="\'Warning Message\'"\n                                     data-sit-tile-content="\'This field is required\'"\n                                     data-sit-tile-type="\'warning\'"\n                                     data-sit-tile-counter="1"\n                                     id="warningTile"></div>\n                            </div>\n\n                        </div>\n\n                        \x3c!--<div class="form-group">\n                            <label for="txtPwd">Password:</label>\n                            <input type="password" class="form-control" id="txtPwd">\n                        </div>--\x3e\n                        \x3c!--<button type="submit" id="btnSubmit" class="btn btn-default">Submit</button>--\x3e\n\n                        <div class="form-group">\n                            <button type="button" id="btnInput" class="btn btn-default" ng-click="hasClicked(\'Show info notification\');">Show info notification</button>\n                        </div>\n\n                        <div class="form-group">\n                            <button type="button" id="btnInputHide" class="btn btn-default" ng-click="hasClicked(\'Hide info notification\');">Hide info notification</button>\n                        </div>\n\n                        <div class="form-group">\n                            <button type="button" id="btnInputToggle" class="btn btn-default" ng-click="hasClicked(\'Toggle info notification\');">Toggle info notification</button>\n                        </div>\n\n                        <div class="form-group">\n                            <button type="button" id="btnContainerSuccess" class="btn btn-default" ng-click="hasClicked(\'Show popup info notification\')">Show popup info notification</button>\n                        </div>\n\n                        <div class="form-group">\n                            <button type="button" id="btnContainerWarning" class="btn btn-default" ng-click="hasClicked(\'Show popup Warning notification\');">Show popup Warning notification</button>\n                        </div>\n\n                    </form>\n                    <br />\n                    <div>\n                        <strong>Notifications</strong><br />\n                        <ul>\n                            <li ng-repeat="event in events">{{event}}</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n\n            <div class="row">\n\n                \x3c!--<button type="button" class="btn btn-default" onclick="$(\'#infoTile\').data(\'notificationTileToggle\')()">Info</button>\n                <button type="button" class="btn btn-default" onclick="$(\'#warningTile\').data(\'notificationTileToggle\')()">Warning</button>--\x3e\n\n            </div>\n\n        </div>\n\n        \x3c!-- Vendor Scripts --\x3e\n        <script src="../../../scripts/jquery-2.1.1.js"><\/script>\n        <script src="../../../scripts/angular/angular.js"><\/script>\n        <script src="../../../scripts/angular/angular-animate.js"><\/script>\n        <script src="../../../scripts/angular/angular-route.js"><\/script>\n        <script src="../../../scripts/angular/angular-sanitize.js"><\/script>\n        <script src="../../../scripts/bootstrap.js"><\/script>\n        <script src="../../../scripts/angular-ui/ui-bootstrap-tpls.js"><\/script>\n        <script src="../../../scripts/angular-ui-router.js"><\/script>\n\n        \x3c!-- Bootstrapping --\x3e\n        <script src="./notification-tile-dev-app.js"><\/script>\n\n        \x3c!-- Test Data --\x3e\n        \x3c!-- NotificationTile Widget scripts --\x3e\n        <script src="../sit-notification-tile-mod.js"><\/script>\n        <script src="../sit-notification-tile-svc.js"><\/script>\n        <script src="../sit-notification-tile-dir.js"><\/script>\n\n\n        \x3c!--<script type="text/javascript">\n            $(document).ready(function () {\n                $("#txtLogin").blur(function () {\n                    if ($(this).val() == "") {\n                        $(\'#warningTile\').data(\'notificationTileShow\')();\n                    } else {\n                        $(\'#warningTile\').data(\'notificationTileHide\')();\n                    }\n                });\n\n                $("#btnSubmit").click(function () {\n                    if ($("#txtLogin").val() == "" || $("#txtPwd").val() == "") {\n'+"                        $('#warningForm').data('notificationTileShow')();\n                    } else {\n                        $('#infoTile').data('notificationTileShow')();\n                    }\n\n                });\n            });\n\n        <\/script>--\x3e\n\n        <script type=\"text/javascript\">\n            $(document).ready(function () {\n                $(\"#btnInput\").click(function () {\n                    $('#warningTile').data('notificationTileShow')();\n                });\n\n                $(\"#btnInputToggle\").click(function () {\n                    $('#warningTile').data('notificationTileToggle')();\n                });\n\n                $(\"#btnInputHide\").click(function () {\n                    $('#warningTile').data('notificationTileHide')();\n                });\n\n                $(\"#btnContainerSuccess\").click(function () {\n                    $('#infoTile').data('notificationTileShow')();\n                });\n\n                $(\"#btnContainerWarning\").click(function () {\n                    $('#warningForm').data('notificationTileShow')();\n                });\n            });\n\n        <\/script>\n\n\n\n</body>\n\n</html>")}]),angular.module("common/widgets/numeric/numeric.html",[]).run(["$templateCache",function(e){e.put("common/widgets/numeric/numeric.html","<div ng-if=\"numericCtrl.readOnly || numericCtrl.ngReadonly\" class=\"label-property-grid-control-readonly property-value-ellipsis\"> {{numericCtrl.value}} </div>\n\n<ng-form ng-if=\"!(numericCtrl.readOnly || numericCtrl.ngReadonly)\" name='numericForm' ng-class=\"{'isrequired' : (numericCtrl.validation.required) && numericCtrl.value===undefined}\">\n    <div class='property-grid-input-group'>\n        <input type='number'\n               step=\"any\"\n               name='{{numericCtrl.value}}'\n                ng-class=\"{'validator-control-invalid':((numericForm.$invalid && numericForm.$dirty) || (numericForm.$invalid && numericForm.$visited)),\n               'validator-control':!((numericForm.$invalid && numericForm.$dirty) || (numericForm.$invalid && numericForm.$visited)),\n               'ng-dirty':numericForm.$dirty}\"\n               ng-model='numericCtrl.value'\n               ng-required='numericCtrl.validation.required'\n               ng-minlength='numericCtrl.validation.minlength'\n               ng-maxlength='numericCtrl.validation.maxlength'\n               ng-pattern='numericCtrl.validation.pattern'\n               ng-min='numericCtrl.validation.min'\n               ng-max='numericCtrl.validation.max'\n               ng-blur=\"numericCtrl.ngBlur()\"\n               sit-change=\"numericCtrl.sitChange\"\n               ng-disabled=\"numericCtrl.ngDisabled\"\n               ng-focus=\"numericCtrl.ngFocus()\"\n               sit-form-input-validator />\n    </div>\n</ng-form>")}]),angular.module("common/widgets/overlay/overlay.html",[]).run(["$templateCache",function(e){e.put("common/widgets/overlay/overlay.html",'<div class="modal fade overlay-modal" id={{overlayCtrl.modalid}} tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">\n    <div class="overlay-dialog">\n        <div class="overlay-content">\n            <div class="overlay-header">\n                <span data-internal-type="overlay-header-content" class="overlay-title">{{overlayCtrl.title}}</span>\n            </div>\n                <div data-internal-type="overlay-text-content" class="overlay-body" style="white-space:pre-wrap">{{overlayCtrl.modaltext}}</div>\n            <div class="overlay-footer">\n                <div data-internal-type="overlay-buttons-content" class="overlay-div-button" ng-repeat="button in overlayCtrl.buttons">\n                    <sit-dialog-button sit-button="button" />\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n')}]),angular.module("common/widgets/overlay/samples/overlay-dev-tpl.html",[]).run(["$templateCache",function(e){e.put("common/widgets/overlay/samples/overlay-dev-tpl.html",'<div ng-controller="OverlayController as overlayDevCtrl">\n\n    <div class="container"><br />\n        <div>\n            Title:\n            <input value="Main instruction" ng-model="title">\n\n        </div><br />\n        <div>\n            Text:\n            <textarea ng-model="modaltext" cols="50" rows="5">\n                uifhufhurhfurh\n                </textarea>\n        </div><br />\n        <div style="display:inline">\n            <button class="btn btn-primary btn-lg" ng-click="overlayDevCtrl.addApplyButton(true)">\n                Add apply button\n            </button>\n            <button class="btn btn-primary btn-lg" ng-click="overlayDevCtrl.addApplyButton(false)">\n                Delete apply button\n            </button>\n        </div><br /><br />\n        <button class="btn btn-primary btn-lg" ng-click="overlayDevCtrl.showOverlay(\'TestOverlay\')">\n            Launch modal\n        </button>\n        <sit-overlay sit-modalid="TestOverlay" sit-modaltext="modaltext" sit-title="title" sit-buttons="overlayDevCtrl.buttons"></sit-overlay>\n\n    </div>\n\n</div>')}]),angular.module("common/widgets/overlay/samples/overlay-dev.html",[]).run(["$templateCache",function(e){e.put("common/widgets/overlay/samples/overlay-dev.html",'<!DOCTYPE html>\n<html data-ng-app="app">\n<head>\n    <title data-ng-bind="title">Overlay Development</title>\n    <meta charset="utf-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />\n\n    <link href="/common/styles/common-dark.css" rel="stylesheet" />\n\n    <style>\n        html, body {\n            width: \'100%\';\n            height: \'100%\';\n        }\n\n        #test-container {\n            border: 2px solid black;\n            padding: 4px;\n            margin: 4px;\n        }\n    </style>\n</head>\n\n<body ng-controller="OverlayController as overlayDevCtrl">\n\n    <div class="container"><br />\n        <div>\n            Title:\n            <input value="Main instruction" ng-model="title">\n\n        </div><br />\n        <div>\n            Text:\n            <textarea ng-model="modaltext" cols="50" rows="5">\n                uifhufhurhfurh\n                </textarea>\n        </div><br />\n        <div style="display:inline">\n            <button class="btn btn-primary btn-lg" ng-click="overlayDevCtrl.addApplyButton(true)">\n                Add apply button\n            </button>\n            <button class="btn btn-primary btn-lg" ng-click="overlayDevCtrl.addApplyButton(false)">\n                Delete apply button\n            </button>\n        </div><br /><br />\n        <button class="btn btn-primary btn-lg" ng-click="overlayDevCtrl.showOverlay(\'TestOverlay\')">\n            Launch modal\n        </button>\n        <sit-overlay sit-modalid="TestOverlay" sit-modaltext="modaltext" sit-title="title" sit-buttons="overlayDevCtrl.buttons"></sit-overlay>\n\n    </div>\n\n    \x3c!-- Vendor Scripts --\x3e\n    <script src="/scripts/jquery-2.1.1.js"><\/script>\n    <script src="/scripts/angular/angular.js"><\/script>\n    <script src="/scripts/angular/angular-animate.js"><\/script>\n    <script src="/scripts/angular/angular-route.js"><\/script>\n    <script src="/scripts/angular/angular-sanitize.js"><\/script>\n    <script src="/scripts/bootstrap.js"><\/script>\n    <script src="/scripts/angular-ui/ui-bootstrap-tpls.js"><\/script>\n    <script src="/scripts/angular-ui-router.js"><\/script>\n\n    \x3c!-- Bootstrapping --\x3e\n    <script src="/app/common/widgets/overlay/docs/overlay-app.js"><\/script>\n\n    \x3c!-- Property Grid Widget scripts --\x3e\n\n    <script src="/app/common/widgets/dialogButton/sit-dialog-button-mod.js"><\/script>\n    <script src="/app/common/widgets/dialogButton/sit-dialog-button-dir.js"><\/script>\n    <script src="/app/common/widgets/overlay/sit-overlay-mod.js"><\/script>\n    <script src="/app/common/widgets/overlay/sit-overlay-svc.js"><\/script>\n    <script src="/app/common/widgets/overlay/sit-overlay-dir.js"><\/script>\n   \n\n</body>\n\n</html>')}]),angular.module("common/widgets/pager/pager.html",[]).run(["$templateCache",function(e){e.put("common/widgets/pager/pager.html",'<div id="pagerContainer" data-internal-type="pagerContainer" class="ngGrid ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryuitheme, \'ui-corner-bottom\': jqueryuitheme}" ng-style="pagerCtrl.footerStyle()">\n    <div class="ngTotalSelectContainer">\n        <div class="ngFooterTotalItems" ng-class="{ngNoMultiSelect: !multiselect}">\n            <span class="ngLabel" ng-show="pagerCtrl.pagingOptions.showTotalItems">{{\'pager.total-items\' | translate}}: {{pagerCtrl.pagingOptions.totalItems}}</span>\n            <span class="ngLabel" ng-show="pagerCtrl.pagingOptions.showFilterItems">({{\'pager.filtered-items\' | translate}}: {{pagerCtrl.pagingOptions.filterItems}})</span>\n        </div>\n        <div class="ngFooterSelectedItems" ng-show="pagerCtrl.pagingOptions.showSelectedItems">\n            <span class="ngLabel">{{\'pager.selected-items\' | translate}}: {{pagerCtrl.pagingOptions.selectedItems}}</span>\n        </div>\n    </div>\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;">\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\n            <span style="float: left; margin-top: 5px; margin-right:5px" class="ngLabel">{{\'pager.page-size\' | translate}}:</span>\n            <select style="float: left; height: 27px; width: 100px" ng-model="pagerCtrl.pagingOptions.pageSize" class="uyRowCountSelect" ng-options="pageSize for pageSize in pagerCtrl.pagingOptions.pageSizes">\n            </select>\n        </div>\n        <div style="float:left; margin-right: 10px; min-width: 135px;" class="ngPagerControl">\n            <button type="button" class="ngPagerButton" ng-click="pagerCtrl.pageToFirst()" ng-disabled="pagerCtrl.cantPageBackward()" title="{{\'pager.page-first\' | translate}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>\n            <button type="button" class="ngPagerButton" ng-click="pagerCtrl.pageBackward()" ng-disabled="pagerCtrl.cantPageBackward()" title="{{\'pager.page-prev\' | translate}}"><div class="ngPagerFirstTriangle ngpagerprevtriangle"></div></button>\n            <div style="display:inline-block; vertical-align:top;">\n                <input ng-show="pagerCtrl.currentPage" class="ngPagerCurrent" min="1" max="{{pagerCtrl.maxPage}}" type="number" style="width:50px; padding: 0 4px 0 4px; height:25px; min-height: 25px; font-size: 12px;" ng-model="pagerCtrl.currentPage" />\n                <span class="ngGridMaxPagesNumber" ng-show="pagerCtrl.maxPage > 0">/ {{pagerCtrl.maxPage}}</span>\n            </div>\n            <button type="button" class="ngPagerButton" ng-click="pagerCtrl.pageForward()" ng-disabled="pagerCtrl.cantPageForward()" title="{{\'pager.page-next\' | translate}}"><div class="ngPagerLastTriangle ngpagernexttriangle"></div></button>\n            <button type="button" class="ngPagerButton" ng-click="pagerCtrl.pageToLast()" ng-disabled="pagerCtrl.cantPageToLast()" title="{{\'pager.page-last\' | translate}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/password/password.html",[]).run(["$templateCache",function(e){e.put("common/widgets/password/password.html","<div ng-if=\"passwordCtrl.readOnly || passwordCtrl.ngReadonly\" class=\"label-property-grid-control-readonly property-value-ellipsis\"> {{passwordCtrl.value}} </div>\n\n<ng-form name='textForm' ng-if=\"!(passwordCtrl.readOnly || passwordCtrl.ngReadonly)\" ng-class=\"{'isrequired' : (passwordCtrl.validation.required) && passwordCtrl.value===undefined}\">\n    <div class='property-grid-input-group'>\n        <input type='password'\n               name='{{passwordCtrl.name}}'\n               ng-class='{\"validator-control-invalid\":((textForm.$invalid && textForm.$dirty) || (textForm.$invalid && textForm.$visited)),\n                \"validator-control\":!((textForm.$invalid && textForm.$dirty) || (textForm.$invalid && textForm.$visited)) ,\n                \"ng-dirty\":textForm.$dirty}'\n               ng-model='passwordCtrl.value'\n               ng-required='passwordCtrl.validation.required'\n               ng-minlength='passwordCtrl.validation.minlength'\n               ng-maxlength='passwordCtrl.validation.maxlength'\n               ng-pattern='passwordCtrl.validation.pattern'\n               ng-blur=\"passwordCtrl.ngBlur()\"\n               sit-change=\"passwordCtrl.sitChange\"\n               ng-disabled=\"passwordCtrl.ngDisabled\"\n               ng-focus=\"passwordCtrl.ngFocus()\"\n               sit-form-input-validator='Password'\n               ng-readonly=\"passwordCtrl.ngReadonly\" />\n    </div>\n</ng-form>")}]),angular.module("common/widgets/popUpPanel/pop-up-panel.html",[]).run(["$templateCache",function(e){e.put("common/widgets/popUpPanel/pop-up-panel.html",'<div class="pop-up-panel-container" ng-show="popUpPanel.sitPopUpContent.showContent">\n    <div class="pop-up-panel-header">\n        <div class="pop-up-panel-header-text">{{popUpPanel.sitPopUpContent.title}}</div>\n        <div class="pop-up-panel-close-button">\n            <button type="button" class="pop-up-panel-close-btn" ng-click="popUpPanel.closePopUpPanel()" title="Close">\n                <span class="fa fa-times pop-up-panel-close-img" sit-class="pop-up-panel-mom-button" sit-mom-icon="popUpPanel.closePanel" aria-hidden="true"\n                      ng-class="{momIcon: popUpPanel.closePanel !== null }"></span>\n            </button>\n        </div>\n    </div>\n    <div class="pop-up-panel-content" ng-transclude>\n    </div>\n</div>')}]),angular.module("common/widgets/propertyGrid/property-grid.html",[]).run(["$templateCache",function(e){e.put("common/widgets/propertyGrid/property-grid.html",'\x3c!--Old Configuration--\x3e\n<div class="property-grid-container" ng-if="!propertyGridCtrl.transclusionIsSet">\n    <sit-property-grid-layout ng-if="propertyGridCtrl.layout === \'Vertical\' || propertyGridCtrl.showGroups"\n                              sit-id="{{propertyGridCtrl.id}}"\n                              sit-mode="{{propertyGridCtrl.mode}}"\n                              sit-data="propertyGridCtrl.data"\n                              class="property-grid-vertical-layout" ng-class="{\'pl-property-grid-list\': propertyGridCtrl.mode == \'list\' }">\n    </sit-property-grid-layout>\n    <sit-property-grid-layout ng-if="propertyGridCtrl.layout === \'Horizontal\' && propertyGridCtrl.type === \'Fixed\' && !propertyGridCtrl.showGroups"\n                              sit-id="{{propertyGridCtrl.id}}"\n                              sit-mode="{{propertyGridCtrl.mode}}"\n                              sit-data="propertyGridCtrl.data"\n                              ng-attr-class="{{propertyGridCtrl.columns !== 0 ? \'property-grid-horizontal-fixed-layout x\' + propertyGridCtrl.columns : \'property-grid-horizontal-fixed-layout\'}}"\n                              ng-class="{\'pl-property-grid-list\': propertyGridCtrl.mode == \'list\' }">\n    </sit-property-grid-layout>\n    <sit-property-grid-layout ng-if="propertyGridCtrl.layout === \'Horizontal\' && propertyGridCtrl.type === \'Fluid\' && !propertyGridCtrl.showGroups"\n                              sit-id="{{propertyGridCtrl.id}}"\n                              sit-mode="{{propertyGridCtrl.mode}}"\n                              sit-data="propertyGridCtrl.data"\n                              class="property-grid-horizontal-fluid-layout" ng-class="{\'pl-property-grid-list\': propertyGridCtrl.mode == \'list\' }">\n    </sit-property-grid-layout>\n\n    <div ng-if="propertyGridCtrl.layout === \'Horizontal\' && (propertyGridCtrl.type !== \'Fixed\' && propertyGridCtrl.type !== \'Fluid\')">\n        {{\'propertyGrid.invalidLayout\'|translate}}\n    </div>\n</div>\n\n\n\x3c!--New Configuration--\x3e\n\n<div class="property-grid-container" ng-if="propertyGridCtrl.transclusionIsSet">\n    <form name="{{\'Form\'+propertyGridCtrl.id}}">\n        <sit-property-grid-layout ng-if="propertyGridCtrl.layout === \'Vertical\' || propertyGridCtrl.showGroups"\n                                  sit-id="{{propertyGridCtrl.id}}"\n                                  sit-mode="{{propertyGridCtrl.mode}}"\n                                  class="property-grid-vertical-layout" ng-class="{\'pl-property-grid-list\': propertyGridCtrl.mode == \'list\' }" ng-transclude>\n        </sit-property-grid-layout>\n        <sit-property-grid-layout  ng-if="propertyGridCtrl.layout === \'Horizontal\' && propertyGridCtrl.type === \'Fixed\' && !propertyGridCtrl.showGroups"\n                                  sit-id="{{propertyGridCtrl.id}}"\n                                  sit-mode="{{propertyGridCtrl.mode}}"\n                                  ng-attr-class="{{propertyGridCtrl.columns !== 0 ? \'property-grid-horizontal-fixed-layout x\' + propertyGridCtrl.columns : \'property-grid-horizontal-fixed-layout\'}}"\n                                  ng-class="{\'pl-property-grid-list\': propertyGridCtrl.mode == \'list\' }" ng-transclude>\n        </sit-property-grid-layout>\n        <sit-property-grid-layout ng-if="propertyGridCtrl.layout === \'Horizontal\' && propertyGridCtrl.type === \'Fluid\' && !propertyGridCtrl.showGroups"\n                                  sit-id="{{propertyGridCtrl.id}}"\n                                  sit-mode="{{propertyGridCtrl.mode}}"\n                                  class="property-grid-horizontal-fluid-layout" ng-class="{\'pl-property-grid-list\': propertyGridCtrl.mode == \'list\' }" ng-transclude>\n        </sit-property-grid-layout>\n'+"        <div ng-if=\"propertyGridCtrl.layout === 'Horizontal' && (propertyGridCtrl.type !== 'Fixed' && propertyGridCtrl.type !== 'Fluid')\">\n            {{'propertyGrid.invalidLayout'|translate}}\n        </div>\n    </form>\n</div>\n\n")}]),angular.module("common/widgets/propertyGrid/property-group.html",[]).run(["$templateCache",function(e){e.put("common/widgets/propertyGrid/property-group.html",'<div class="property-grid-group" ng-if="propertyGroupCtrl.accordion">\n    <div ng-if="propertyGroupCtrl.isCollapsible" class="group-header" ng-click="propertyGroupCtrl.toggle()">\n        <div class="group-toggle collapsed" ng-class="{collapsed: propertyGroupCtrl.singleSelection && propertyGroupCtrl.isCollapsed}" aria-controls="#{{propertyGroupCtrl.sitId}}AccordionBody" data-toggle="collapse" data-target="#{{propertyGroupCtrl.sitId}}AccordionBody"\n             aria-expanded="false" data-parent="#accordionExample">\n            <span class="group-header-arrow-button" sit-mom-icon="propertyGroupCtrl.svgIcon" sit-class="svg-icon"></span>\n            <span class="group-header-label"> {{propertyGroupCtrl.name}}</span>\n        </div>\n    </div>\n    <div ng-if="!propertyGroupCtrl.isCollapsible" class="group-header">\n        <div>{{propertyGroupCtrl.name}}</div>\n    </div>\n    <div id="{{propertyGroupCtrl.sitId}}AccordionBody" class="group-body collapse" ng-class="{\'show\': !propertyGroupCtrl.isCollapsible, \'in\' : propertyGroupCtrl.singleSelection && !propertyGroupCtrl.isCollapsed }">\n        <div class="cf">\n            <div ng-if="propertyGroupCtrl.parentScope.layout === \'Vertical\'"\n                 class="property-grid-vertical-layout" ng-transclude>\n            </div>\n            <div ng-if="propertyGroupCtrl.parentScope.layout === \'Horizontal\' && propertyGroupCtrl.parentScope.type === \'Fixed\'"\n                 ng-attr-class="{{propertyGroupCtrl.parentScope.columns !== 0 ? \'property-grid-horizontal-fixed-layout x\' + propertyGroupCtrl.parentScope.columns : \'property-grid-horizontal-fixed-layout\'}}" ng-transclude>\n            </div>\n            <div ng-if="propertyGroupCtrl.parentScope.layout === \'Horizontal\' && propertyGroupCtrl.parentScope.type === \'Fluid\'"\n                 class="property-grid-horizontal-fluid-layout" ng-transclude>\n            </div>\n        </div>\n    </div>\n</div>\n<div ng-if="propertyGroupCtrl.parentScope.layout == \'Vertical\' && !propertyGroupCtrl.accordion" class="property-grid-vertical-list-layout">\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("common/widgets/propertyGrid/property.html",[]).run(["$templateCache",function(e){e.put("common/widgets/propertyGrid/property.html","<div class=\"property\" ng-if=\"propertyCtrl.parentScope.mode !== 'list'\" data-mode=\"{{propertyCtrl.parentScope.mode}}\">\n    <div ng-class=\"[{ asterisk_req:propertyCtrl.sitRequired || (propertyCtrl.validation && propertyCtrl.validation.required)},\n         { VERTICAL: 'vertical-property-grid-control-label',\n           HORIZONTAL: { FLUID: ['property-grid-col-label-fluid',{true: 'property-group-col-width', false: 'property-grid-col-label-width'}[propertyCtrl.isWithinGroup]],\n                         FIXED: ['property-grid-col-label-fixed',{true: 'property-group-col-width', false: 'property-grid-col-label-width'}[propertyCtrl.isWithinGroup]]\n                        }[propertyCtrl.parentScope.type]\n        }[propertyCtrl.parentScope.layout]]\"><span ng-class=\"propertyCtrl.ngDisabled? 'property-label-disabled' : 'property-label'\" ng-transclude></span><sup ng-if=\"propertyCtrl.sitRequired || (propertyCtrl.validation && propertyCtrl.validation.required)\">*</sup></div>\n    <div ng-if=\"propertyCtrl.isMultiValueWidget && propertyCtrl.value.length === 0 && !(propertyCtrl.readOnly || propertyCtrl.ngReadonly)\">\n        <a class=\"btn btn-link\" ng-click=\"propertyCtrl.addWidgetInstance(0)\">{{'propertyGrid.property.addItem'|translate}}</a>\n    </div>\n    <div ng-if=\"propertyCtrl.isMultiValueWidget\"\n         ng-class=\"[{HORIZONTAL:\n                        { FLUID: ['property-grid-col-value-fluid',{ true: 'property-group-col-width', false: 'property-grid-col-value-width'}[propertyCtrl.isWithinGroup]],\n                          FIXED: ['property-grid-col-value-fixed',{ true: 'property-group-col-width', false: 'property-grid-col-value-width'}[propertyCtrl.isWithinGroup]]\n                        }[propertyCtrl.parentScope.type]}[propertyCtrl.parentScope.layout]]\">\n        <div ng-repeat=\"item in propertyCtrl.value track by $index\" ng-class=\"{'property-grid-control-div': !(propertyCtrl.ngReadonly || propertyCtrl.readOnly)}\">\n"+'            <div ng-hide="propertyCtrl.ngReadonly || propertyCtrl.readOnly" class="property-grid-icons-div">\n                <span title="{{propertyCtrl.addBtnTitle}}" class="property-grid-icon-add" ng-click="propertyCtrl.addWidgetInstance($index)" ng-disabled="propertyCtrl.value.length === propertyCtrl.maxItems"><em class="fa fa-plus"></em></span>\n                <span title="{{propertyCtrl.removeBtnTitle}}" class="property-grid-icon-remove" ng-click="propertyCtrl.removeWidgetInstance($index)" ng-disabled="propertyCtrl.value.length <= propertyCtrl.minItems"><em class="fa fa-times"></em></span>\n            </div>\n            <div ng-class="{ \'property-grid-item-div\': !(propertyCtrl.ngReadonly || propertyCtrl.readOnly), \'property-grid-item-div-readonly\': (propertyCtrl.ngReadonly || propertyCtrl.readOnly) }">\n                <sit-property-item sit-widget="{{propertyCtrl.sitWidget}}" sit-id="{{propertyCtrl.sitId}}"\n                                   sit-name="{{propertyCtrl.name+$index}}"\n                                   sit-value="propertyCtrl.value[$index]"\n                                   sit-validation="propertyCtrl.validation"\n                                   sit-read-only="propertyCtrl.readOnly"\n                                   sit-placeholder="propertyCtrl.placeholder"\n                                   sit-limit="propertyCtrl.limit"\n                                   sit-template-url="propertyCtrl.templateUrl"\n                                   sit-selected-attribute-to-display="propertyCtrl.selectedAttributeToDisplay"\n                                   sit-attribute-to-search="propertyCtrl.attributeToSearch"\n                                   sit-options="propertyCtrl.options"\n                                   sit-to-display="propertyCtrl.toDisplay"\n                                   sit-to-keep="propertyCtrl.toKeep"\n                                   sit-datasource="propertyCtrl.sitDatasource"\n                                   sit-selected-object="propertyCtrl.sitSelectedObject"\n                                   sit-editable="propertyCtrl.sitEditable"\n                                   accept="propertyCtrl.accept"\n                                   sit-min-size="propertyCtrl.sitMinSize"\n                                   sit-max-size="propertyCtrl.sitMaxSize"\n                                   sit-selected-string="propertyCtrl.sitSelectedString"\n                                   sit-split-list="propertyCtrl.sitSplitList"\n                                   sit-done-callback="propertyCtrl.sitDoneCallback"\n                                   sit-format="propertyCtrl.format"\n                                   sit-append-to-body="propertyCtrl.appendToBody"\n                                   sit-show-button-bar="propertyCtrl.showButtonBar"\n                                   sit-show-weeks="propertyCtrl.showWeeks"\n                                   sit-show-meridian="propertyCtrl.showMeridian"\n                                   sit-widget-attributes="propertyCtrl.widgetAttributes"\n                                   ng-blur="propertyCtrl.ngBlur()"\n                                   sit-change="propertyCtrl.sitChange"\n                                   ng-disabled="propertyCtrl.ngDisabled"\n                                   ng-focus="propertyCtrl.ngFocus()"\n                                   ng-readonly="propertyCtrl.ngReadonly"\n                                   ng-model="propertyCtrl.value[$index]"\n                                   sit-required="propertyCtrl.sitRequired"\n                                   class="property-grid-input-group"\n                                   sit-allow-reset="propertyCtrl.sitAllowReset">\n                </sit-property-item>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!propertyCtrl.isMultiValueWidget"\n         ng-class="[{HORIZONTAL: { FLUID: [\'property-grid-col-value-fluid\',{ true: \'property-group-col-width\', false: \'property-grid-col-value-width\'}[propertyCtrl.isWithinGroup]],\n                                   FIXED: [\'property-grid-col-value-fixed\',{ true: \'property-group-col-width\', false: \'property-grid-col-value-width\'}[propertyCtrl.isWithinGroup]]\n                                 }[propertyCtrl.parentScope.type]}[propertyCtrl.parentScope.layout]]">\n        <sit-property-item ng-if="propertyCtrl.parentScope.mode !== \'list\'" sit-widget="{{propertyCtrl.sitWidget}}" sit-id="{{propertyCtrl.sitId}}"\n                           sit-name="{{propertyCtrl.name}}"\n                           sit-value="propertyCtrl.value"\n                           sit-validation="propertyCtrl.validation"\n                           sit-read-only="propertyCtrl.readOnly"\n                           sit-placeholder="propertyCtrl.placeholder"\n                           sit-limit="propertyCtrl.limit"\n                           sit-template-url="propertyCtrl.templateUrl"\n                           sit-selected-attribute-to-display="propertyCtrl.selectedAttributeToDisplay"\n                           sit-attribute-to-search="propertyCtrl.attributeToSearch"\n                           sit-options="propertyCtrl.options"\n                           sit-to-display="propertyCtrl.toDisplay"\n                           sit-to-keep="propertyCtrl.toKeep"\n                           sit-datasource="propertyCtrl.sitDatasource"\n                           sit-selected-object="propertyCtrl.sitSelectedObject"\n                           sit-editable="propertyCtrl.sitEditable"\n                           accept="propertyCtrl.accept"\n                           sit-min-size="propertyCtrl.sitMinSize"\n                           sit-max-size="propertyCtrl.sitMaxSize"\n                           sit-selected-string="propertyCtrl.sitSelectedString"\n                           sit-split-list="propertyCtrl.sitSplitList"\n                           sit-done-callback="propertyCtrl.sitDoneCallback"\n                           sit-format="propertyCtrl.format"\n                           sit-append-to-body="propertyCtrl.appendToBody"\n                           sit-show-button-bar="propertyCtrl.showButtonBar"\n                           sit-show-weeks="propertyCtrl.showWeeks"\n                           sit-show-meridian="propertyCtrl.showMeridian"\n                           sit-widget-attributes="propertyCtrl.widgetAttributes"\n                           ng-blur="propertyCtrl.ngBlur()"\n                           sit-change="propertyCtrl.sitChange"\n                           ng-disabled="propertyCtrl.ngDisabled"\n                           ng-focus="propertyCtrl.ngFocus()"\n                           ng-readonly="propertyCtrl.ngReadonly"\n                           ng-model="propertyCtrl.value"\n                           sit-required="propertyCtrl.sitRequired"\n                           class="property-grid-input-group"\n                           sit-allow-reset="propertyCtrl.sitAllowReset">\n        </sit-property-item>\n        <span class="pl-value" ng-if="propertyCtrl.parentScope.mode === \'list\'" style="padding-left:16px; display: table-cell">{{propertyCtrl.parseValue(propertyCtrl)}}</span>\n    </div>\n</div>\n\n<div class="pl-label" ng-if="propertyCtrl.parentScope.mode === \'list\'" style="display: table-cell"><span ng-transclude></span></div>\n<span class="pl-value" ng-if="propertyCtrl.parentScope.mode === \'list\'" style="display: table-cell">{{propertyCtrl.listValue(propertyCtrl)}}</span>')}]),angular.module("common/widgets/radio/radio.html",[]).run(["$templateCache",function(e){e.put("common/widgets/radio/radio.html",'<div class="label label-property-grid-control-readonly" ng-if="radioCtrl.readOnly || radioCtrl.ngReadonly || radioCtrl.ngDisabled">\n    <div class="sit-radio">\n        <ng-form name="radioForm" ng-class="{\'isrequired\' :(radioCtrl.validation.required) && radioCtrl.value===undefined}">\n            <div class="property-grid-span-group-block" ng-model="radioCtrl.value">\n                <div class="radiogroup group-control" ng-repeat="val in radioCtrl.options" ng-checked="radioCtrl.value === val.value">\n                    <div class="group-control-data radio-button" ng-class="!(radioCtrl.readOnly || radioCtrl.ngReadonly || radioCtrl.ngDisabled) ? \'radio-enabled\' : \'radio-disabled\'">\n                        <input type=\'radio\'\n                               name=\'{{radioCtrl.name}}\'\n                               ng-model=\'radioCtrl.value\'\n                               ng-required="radioCtrl.validation.required"\n                               ng-value=\'val.value\'\n                               sit-change="radioCtrl.sitChange"\n                               ng-disabled="radioCtrl.ngDisabled"\n                               ng-readonly="radioCtrl.ngReadOnly"\n                               shared-model="true"\n                               sit-form-input-validator />\n                        <span class="radio-text">{{val.label}}</span>\n                    </div>\n                </div>\n            </div>\n        </ng-form>\n    </div>\n\n</div>\n\n<div class="sit-radio">\n    <ng-form ng-if="!(radioCtrl.readOnly || radioCtrl.ngReadonly || radioCtrl.ngDisabled)" name="radioForm" ng-class="{\'isrequired\' :(radioCtrl.validation.required) && radioCtrl.value===undefined}">\n        <div class="property-grid-span-group-block validator-control" ng-model="radioCtrl.value">\n            <div class="radiogroup group-control" ng-repeat="val in radioCtrl.options" ng-checked="radioCtrl.value === val.value">\n                <div class="group-control-data radio-button" ng-class="!radioCtrl.ngDisabled ? \'radio-enabled\' : \'radio-disabled\'">\n                    <input type=\'radio\'\n                           name=\'{{radioCtrl.name}}\'\n                           ng-model=\'radioCtrl.value\'\n                           ng-required="radioCtrl.validation.required"\n                           ng-value=\'val.value\'\n                           sit-change="radioCtrl.sitChange"\n                           ng-disabled="radioCtrl.ngDisabled"\n                           ng-readonly="radioCtrl.ngReadOnly"\n                           shared-model="true"\n                           sit-form-input-validator />\n                    <span class="radio-text">{{val.label}}</span>\n                </div>\n            </div>\n        </div>\n    </ng-form>\n</div>\n')}]),angular.module("common/widgets/richRadio/rich-radio.html",[]).run(["$templateCache",function(e){e.put("common/widgets/richRadio/rich-radio.html",'<div class="label label-property-grid-control-readonly property-value-ellipsis" ng-if="richRadioCtrl.readOnly || richRadioCtrl.ngReadonly">\n    <div class="sit-radio">\n        <ng-form ng-if="(richRadioCtrl.readOnly || richRadioCtrl.ngReadonly || richRadioCtrl.ngDisabled)" name="radioForm" ng-class="{\'isrequired\' :(richRadioCtrl.validation.required) && richRadioCtrl.value===undefined}">\n            <div class="property-grid-span-group-block " ng-model="richRadioCtrl.value">\n                <div class="radiogroup group-control" ng-repeat="val in richRadioCtrl.options" ng-checked="richRadioCtrl.value === val.value">\n                    <div class="group-control-data radio-button" ng-class="!richRadioCtrl.ngDisabled && !richRadioCtrl.readOnly && !richRadioCtrl.ngReadonly ? \'radio-enabled\' : \'radio-disabled\'">\n                        <input type=\'radio\'\n                               name=\'{{richRadioCtrl.name}}\'\n                               ng-model=\'richRadioCtrl.value\'\n                               ng-required="richRadioCtrl.validation.required"\n                               ng-value=\'val.value\'\n                               ng-blur="richRadioCtrl.ngBlur()"\n                               sit-change="richRadioCtrl.sitChange"\n                               ng-disabled="richRadioCtrl.ngDisabled"\n                               ng-focus="richRadioCtrl.ngFocus()"\n                               ng-readonly="richRadioCtrl.ngReadOnly"\n                               shared-model="true"\n                               sit-form-input-validator\n                               style="vertical-align:top" />\n                        <span class="radio-text radio-title">{{val.label}}<br /><span ng-if="val.description" class="radio-description">{{val.description}}</span></span>\n                    </div>\n                </div>\n            </div>\n        </ng-form>\n    </div>\n</div>\n\n<div class="sit-radio">\n    <ng-form ng-if="!(richRadioCtrl.readOnly || richRadioCtrl.ngReadonly || richRadioCtrl.ngDisabled)" name="radioForm" ng-class="{\'isrequired\' :(richRadioCtrl.validation.required) && richRadioCtrl.value===undefined}">\n        <div class="property-grid-span-group-block validator-control" ng-model="richRadioCtrl.value">\n            <div class="radiogroup group-control" ng-repeat="val in richRadioCtrl.options" ng-checked="richRadioCtrl.value === val.value">\n                <div class="group-control-data radio-button" ng-class="!richRadioCtrl.ngDisabled ? \'radio-enabled\' : \'radio-disabled\'">\n                    <input type=\'radio\'\n                           name=\'{{richRadioCtrl.name}}\'\n                           ng-model=\'richRadioCtrl.value\'\n                           ng-required="richRadioCtrl.validation.required"\n                           ng-value=\'val.value\'\n                           ng-blur="richRadioCtrl.ngBlur()"\n                           sit-change="richRadioCtrl.sitChange"\n                           ng-disabled="richRadioCtrl.ngDisabled"\n                           ng-focus="richRadioCtrl.ngFocus()"\n                           ng-readonly="richRadioCtrl.ngReadOnly"\n                           shared-model="true"\n                           sit-form-input-validator\n                           style="vertical-align:top" />\n                    <span class="radio-text radio-title">{{val.label}}<br /><span ng-if="val.description" class="radio-description">{{val.description}}</span></span>\n                </div>\n            </div>\n        </div>\n    </ng-form>\n</div>\n\n')}]),angular.module("common/widgets/select/select.html",[]).run(["$templateCache",function(e){e.put("common/widgets/select/select.html","<sit-advanced-select sit-read-only='selectCtrl.readOnly'\n                     sit-selected-string='selectCtrl.sitSelectedString'\n                     sit-split-list='selectCtrl.splitListVisibility'\n                     sit-placeholder='selectCtrl.placeholder'\n                     sit-done-callback='selectCtrl.doneCallback'\n                     sit-validation='selectCtrl.selectValidation'\n                     sit-options='selectCtrl.sitOptions'\n                     ng-blur='selectCtrl.ngBlur()'\n                     sit-change='selectCtrl.selectionChanged'\n                     ng-disabled='selectCtrl.ngDisabled'\n                     ng-focus='selectCtrl.ngFocus()'\n                     ng-selected='selectCtrl.ngSelected'\n                     ng-readonly='selectCtrl.ngReadonly'\n                     ng-required='selectCtrl.validation.required'>\n</sit-advanced-select>\n\n")}]),angular.module("common/widgets/sidePanel/sidepanel.html",[]).run(["$templateCache",function(e){e.put("common/widgets/sidePanel/sidepanel.html",'<div class="side-panel-container">\n    <div class="side-panel-top">\n        <div class="side-panel-header">\n            <div class="side-panel-header-text">{{sidepanelCtrl.title}}</div>\n            <div style="display:flex; align-items:center">\n                <button type="button" class="side-panel-max-btn" ng-if="!sidepanelCtrl.isMinimizeDisabled && sidepanelCtrl.iscollapseButtonShown && sidepanelCtrl.isContentMinimizable" ng-click="sidepanelCtrl.toggleSidePanelContent()"\n                        title="{{sidepanelCtrl.collapseButtonTooltip}}">\n                    <span class="side-panel-min-img side-panel-mom-button" ng-show="!sidepanelCtrl.isMaximized" sit-class="side-panel-mom-button" sit-mom-icon="sidepanelCtrl.maximizePanel" aria-hidden="true" ng-class="{momIcon: sidepanelCtrl.maximizePanel !== null }"></span>\n                    <span class="side-panel-min-img side-panel-mom-button" ng-show="sidepanelCtrl.isMaximized" sit-class="side-panel-mom-button" sit-mom-icon="sidepanelCtrl.minimizePanel" aria-hidden="true" ng-class="{momIcon: sidepanelCtrl.minimizePanel !== null }"></span>\n                </button>\n                <button type="button" class="side-panel-close-btn" ng-show="sidepanelCtrl.isCloseButtonShown" ng-click="sidepanelCtrl.closeSidepanel()" title="{{sidepanelCtrl.closeButtonTooltip}}">\n                    <span class="fa fa-times side-panel-close-img" sit-class="side-panel-mom-button" sit-mom-icon="sidepanelCtrl.closePanel" aria-hidden="true" ng-class="{momIcon: sidepanelCtrl.closePanel !== null }"></span>\n                </button>\n            </div>\n        </div>\n\n        <div class="side-panel-commands" ng-class="{\'sidepanel-contextual-command\':(sidepanelCtrl.commandButtons && sidepanelCtrl.commandButtons.length === 0)}" \n             ng-if="(sidepanelCtrl.commandButtons && sidepanelCtrl.commandButtons.length !== 0)">\n            <sit-command-bar sit-commands="sidepanelCtrl.ContextualCommandButtons" sit-layout="contextual"></sit-command-bar>\n        </div>\n       \n    </div>\n\n    <div class="side-panel-content" ng-class="{contentHeight:\'content-height\',contentCommandHeight:\'content-command-height\',contentActionHeight:\'content-action-height\',contentButtonHeight:\'content-button-height\'}[sidepanelCtrl.contentClassType]">\n        <div class="side-panel-notification-area" ng-repeat="message in sidepanelCtrl.messages | filter : { text : \'!!\' }" ng-if="message.text.length !== 0">\n            <p class="side-panel-message" ng-class="{\n                   \'admonition admonition-warning\':message.type==\'warning\',\n                   \'admonition admonition-info\':message.type==\'info\'}">\n                <span>{{message.text}}</span>\n            </p>\n        </div>\n        <div class="side-panel-custom" ng-transclude></div>\n    </div>\n\n    <div class="side-panel-bottom" ng-if="(sidepanelCtrl.actionButtons && sidepanelCtrl.actionButtons.length !== 0)">\n        <ul class="side-panel-actions">\n            <li class="btn-group dropdown-action-menu" ng-show="sidepanelCtrl.displayDropdownActions">\n                <button data-toggle="dropdown" title="Other commands" class="dropdown-toggle dropdown-action-button">\n                    <div style="display:inline">\n                        <span class="fa-stack fa-lg">\n                            <em class="fa fa-bars fa-stack "></em>\n                        </span>\n                        <div class="caret"></div>\n                    </div>\n                </button>\n\n                <ul class="dropdown-menu" role="menu" data-toggle="dropdown">\n                    <li ng-repeat="action in sidepanelCtrl.actionButtons.slice().reverse()" ng-show="$index<=sidepanelCtrl.maxIndexNumberActions">\n                        <div ng-show="action.visible">\n                            <button data-internal-type="command-button-command-bar" ng-class="{\'last-action-button\':($last && sidepanelCtrl.actionButtons.length>1)}"\n                                    class="menu-action-button"\n                                    ng-click="action.onClick()" title="{{action.tooltip || action.label}}" ng-disabled="!action.enabled">\n                                <span data-internal-type="text-container">{{action.label}}</span>\n                            </button>\n                        </div>\n                    </li>\n                </ul>\n            </li>\n            <li ng-repeat="action in sidepanelCtrl.actionButtons.slice().reverse()">\n                <div ng-show="(!sidepanelCtrl.displayDropdownActions || ($index>sidepanelCtrl.maxIndexNumberActions)) && action.visible ">\n                    <button data-internal-type="command-button-command-bar" ng-class="{\'last-action-button\':($last && sidepanelCtrl.actionButtons.length>1)}"\n                            class="bottom-action-button"\n                            ng-click="action.onClick()" title="{{action.tooltip || action.label}}" ng-disabled="!action.enabled">\n                        <span data-internal-type="text-container">{{action.label}}</span>\n                    </button>\n                </div>\n            </li>\n\n        </ul>\n    </div>\n</div>')}]),angular.module("common/widgets/sidebar/scroll.html",[]).run(["$templateCache",function(e){e.put("common/widgets/sidebar/scroll.html",'<div class="sitscroll up" ng-show="scrollCtrl.isEnabled && scrollCtrl.display">\n    <em class="fa fa-stack-1x fa-sort-up"></em>\n</div>\n<div class="sitscroll body" ng-transclude></div>\n<div class="sitscroll down" ng-show="scrollCtrl.isEnabled && scrollCtrl.display">\n    <em class="fa fa-stack-1x fa-sort-down"></em>\n</div>\n')}]),angular.module("common/widgets/sidebar/sidebar-item.html",[]).run(["$templateCache",function(e){e.put("common/widgets/sidebar/sidebar-item.html",'<sit-scroll sit-enable="{{itemCtrl.type == \'static\'}}" sit-on-reload="common.sidebar.sitSidebar.initilize">\n    <div class="sidebar-items" ng-if="itemCtrl.source && itemCtrl.source.length">\n        <div ng-class="itemCtrl.type">\n            <ul class="nav nav-sidebar">\n                <li ng-repeat="item in itemCtrl.source track by $index"\n                    ng-click="itemCtrl.click(itemCtrl,item)"\n                    data-toggle="sidebar" ng-hide="item.display==false"\n                    title="{{item.translatedTitle}}"\n                    class="sidebar-item-{{item.id}}"\n                    ng-class="{select: item.id===itemCtrl.selected || itemCtrl.isChildrenSelected(item, itemCtrl.selected), parent: item.contents && item.contents.length}">\n                    <a ng-class="{\'svg-icon-action\': item.svgIcon}">\n                        <em class="fa" ng-class="item.icon" sit-class="svg-icon" sit-mom-icon="item.svgIcon"></em>\n                        <span class="text" ng-bind="item.translatedTitle" ng-if="item.title"></span>\n                        <span class="right-caret" ng-if="item.contents && item.contents.length"></span>\n                    </a>\n                    <div ng-if="item.contents && item.contents.length"\n                         ng-class="{\'children\':item.contents && item.contents.length}" style="top:25px">\n                        <h3 ng-bind="item.translatedTitle"></h3>\n                        <sit-sidebar-item sit-source="item.contents" sit-selected="itemCtrl.selected" sit-environment="itemCtrl.environment">\n                        </sit-sidebar-item>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</sit-scroll>\n')}]),angular.module("common/widgets/sidebar/sidebar.html",[]).run(["$templateCache",function(e){e.put("common/widgets/sidebar/sidebar.html",'<div class="sidebar" style="display:none" ng-class="{\'open\':sidebar.options.isExpanded}" ng-transclude></div>\n')}]),angular.module("common/widgets/sortableAccordion/sortable-accordion.html",[]).run(["$templateCache",function(e){e.put("common/widgets/sortableAccordion/sortable-accordion.html",'\x3c!-- item.templateUrl (e.g. group-template.html) is the intended template url to be loaded inside accordion --\x3e\n\x3c!-- userTemplate.html is the html that holds the item.templateUrl as the content and rendered inside homeTemplate.html.\n    It acts like a wrapper for item.templateUrl --\x3e\n\n<uib-accordion class="sortHead" close-others="sortAccCtrl.closeOthers">\n    <ul class="nestingAccordionCustom" ui-sortable="sortAccCtrl.sortableOptions" ng-model="sortAccCtrl.items">\n        <li ng-repeat="item in sortAccCtrl.items">\n            <script type="text/ng-template" id="userTemplate.html" ng-bind="item.templateUrl">\n                <div ng-include="item.templateUrl" /> \x3c!-- Passing the html template corresponding to heading --\x3e\n            <\/script>\n            <div uib-accordion-group class="accordion_content" is-disabled="sortAccCtrl.status.isFirstDisabled">\n                <uib-accordion-heading>\n                    <span class="panel_header_text">{{item.headerName}}<em class="accordion_warning fa {{item.warning.icon}}" ng-if="item.warning.show"></em></span>\n                    <span class="accordion_buttons" ng-repeat="btn in item.buttons">\n                        <em ng-class="[\'fa \', btn.icon, {\'disable-button\' : sortAccCtrl.readOnly}]" ng-click="btn.callBackMethod(sortAccCtrl.items, btn.callBackParam)" title="{{btn.name}}" />\n                    </span>\n                </uib-accordion-heading>\n                <div ng-include="\'userTemplate.html\'" init="{{readOnly=sortAccCtrl.readOnly}}"></div>\n            </div>\n        </li>\n    </ul>\n</uib-accordion>\n<style>\n    span[uib-accordion-header] {\n        height: 24px;\n        line-height: 24px;\n    }\n\n    .nestingAccordionCustom {\n        list-style: none;\n        margin-left: -20px;\n        margin-bottom: -15px;\n    }\n\n    nestingAccordionCustom li {\n        padding-top: 5px;\n    }\n\n    .accordion_buttons {\n        float: right;\n    }\n\n        .accordion_buttons i {\n            margin: 0 10px;\n        }\n\n    .accordion_content {\n        margin-left: -20px;\n        margin-top: 4px !important;\n        border-color: #ddd;\n    }\n\n    .accordion_icons {\n        margin: 0 10px;\n        font-size: 18px;\n    }\n\n    .accordion_warning {\n        color: orange;\n        padding-left: 5px;\n    }\n\n    .disable-button {\n        pointer-events: none;\n        opacity: 0.2;\n    }\n</style>\n')}]),angular.module("common/widgets/status/status.html",[]).run(["$templateCache",function(e){e.put("common/widgets/status/status.html",'<div class="status">\n   <h3> {{statusCtrl.title}} </h3> \n<div class="subdesc">\n    <div class="admonition admonition-info">{{statusCtrl.desc}}</div>\n    <div class="body">\n        <div class="chart-container" ng-if="statusCtrl.chart == \'true\'">\n            <div class="pie-wrapper" ng-class="statusCtrl.progressCSSClass">\n                <span class="label">{{statusCtrl.progressValue}}<span class="smaller">%</span><span class="total">TOTAL</span></span>\n                <div class="pie">\n                    <div class="left-side half-circle"></div>\n                    <div class="right-side half-circle"></div>\n                </div>\n                <div class="shadow"></div>\n            </div>\n        </div>\n\n        <div class="properties">\n            <ul>\n                <li ng-repeat="prop in statusCtrl.properties track by $index"> {{prop.name}} <span class="badge">{{prop.value}}</span></li>\n            </ul>\n        </div>\n    </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/switchButton/switch-button.html",[]).run(["$templateCache",function(e){e.put("common/widgets/switchButton/switch-button.html",'<div ng-repeat="button in switchButtonCtrl.buttons"\n     ng-class="\'switch-button\' + (button.selected ? \' switch-button-select\' : \'\') + switchButtonCtrl.getMarginClass($index)"\n     ng-click="switchButtonCtrl.buttonClicked($index)"\n     title="{{button.tooltip}}">\n    <em ng-class="{momIcon: button.icon }" class="fa {{button.faIcon}}" sit-class="svg-icon" sit-mom-icon="button.icon" style="vertical-align:top"></em>\n</div>\n')}]),angular.module("common/widgets/table/table-button.html",[]).run(["$templateCache",function(e){e.put("common/widgets/table/table-button.html",'<div tablebuttonclick="tableBtnCtrl.buttonClicked(tableBtnCtrl);" title="{{tableBtnCtrl.label}}" \n     ng-class="[{\'toggle\': tableBtnCtrl.type === \'toggle\' && tableBtnCtrl.selected}]" >\n        <em class="fa {{tableBtnCtrl.icon}}" sit-mom-icon="tableBtnCtrl.displayIcon" ng-class="{momIcon:tableBtnCtrl.displayIcon!==null}" sit-class="table-mom-icon"></em>\n</div>\n')}]),angular.module("common/widgets/table/table-filterbar.html",[]).run(["$templateCache",function(e){e.put("common/widgets/table/table-filterbar.html",'<div class="sit-table-filterbar">\n    <div id="filterBar" data-internal-type="filterBar" class="filterBar-container">\n        <sit-filter-bar sit-filter-options="sitTableFilterbarCtrl.filterOptions"></sit-filter-bar>\n    </div>\n    <div id="filter" class="filter-container" ng-class="sitTableFilterbarCtrl.showFilter && !sitTableFilterbarCtrl.isFilterPanel? \'open\' : \'closed\'" data-internal-type="filter">\n        <sit-filter ng-if="!sitTableFilterbarCtrl.isFilterPanel && sitTableFilterbarCtrl.filterOptions.filterFields.length > 0"\n                    sit-clauses="sitTableFilterbarCtrl.filterClauses"\n                    sit-filter-server-side="sitTableFilterbarCtrl.serverData"\n                    sit-filter-fields="sitTableFilterbarCtrl.filterOptions.filterFields"\n                    sit-user-preference="sitTableFilterbarCtrl.tableCtrl.sitConfig.userPrefId"\n                    sit-filter-options="sitTableFilterbarCtrl.filterSearchOptions"\n                    sit-apply-callback="sitTableFilterbarCtrl.applyFilter(clauses)"\n                    sit-reset-callback="sitTableFilterbarCtrl.resetFilter()"></sit-filter>\n\n        <sit-filter-panel ng-if="sitTableFilterbarCtrl.isFilterPanel && sitTableFilterbarCtrl.showFilter"\n                          sit-data="sitTableFilterbarCtrl.filterPanelData"\n                          sit-user-preference="sitTableFilterbarCtrl.tableCtrl.sitConfig.userPrefId">\n        </sit-filter-panel>\n    </div>\n</div>')}]),angular.module("common/widgets/table/table-personalization.html",[]).run(["$templateCache",function(e){e.put("common/widgets/table/table-personalization.html",'<sit-column-configurator sit-config="Dialog.templatedata"></sit-column-configurator>\n')}]),angular.module("common/widgets/table/table-with-group.html",[]).run(["$templateCache",function(e){e.put("common/widgets/table/table-with-group.html",'<tbody>\n    <tr ng-repeat-start="row in rowCollection" sit-freez>\n        <td ng-click="show = !show">\n            > {{row.key}} ({{row.items.length}})\n        </td>\n    </tr>\n    <tr ng-if="show" sit-select-row="row"></tr>\n    <tr ng-repeat-end="" ng-if="false"></tr>\n</tbody>')}]),angular.module("common/widgets/taglist/taglist.html",[]).run(["$templateCache",function(e){e.put("common/widgets/taglist/taglist.html",'<div class="taglist-container">\n    <ul class="tags-list">\n        <li class="tag-list-item" ng-repeat="tag in taglistCtrl.tags track by $index" ng-if="$index<=taglistCtrl.visibleTags - 1 && tag && tag.Name.length!== 0">\n            <div ng-style="tag.style" class="tagbullet"></div>\n            <span class="taglabel" title="{{tag.Name}}">\n                {{tag.ShortName}}\n            </span>\n        </li>\n        <li class="btn-group tag-list-menu" ng-if="taglistCtrl.displayDropdownTags">\n\n            <button class="dropdown-toggle tag-list-button" type="button" data-toggle="dropdown" ng-click="taglistCtrl.dropDownFixPosition($event)">\n                <span class="fa fa-ellipsis-v"></span>\n            </button>\n\n            <ul class="dropdown-menu tag-menu" role="menu" data-toggle="dropdown">\n                <li class="dropdown-item tag-list-item" ng-repeat="tag in taglistCtrl.tags track by $index" ng-show="$index>taglistCtrl.visibleTags - 1  && tag && tag.Name.length!== 0">\n                    <div ng-style="tag.style" class="tagbullet"></div>\n                    <span class="taglabel" title="{{tag.Name}}">\n                        {{tag.ShortName}}\n                    </span>\n                </li>\n            </ul>\n\n        </li>\n    </ul>\n</div>\n')}]),angular.module("common/widgets/tagsManager/sit-manage-tags-editor.directive.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tagsManager/sit-manage-tags-editor.directive.html",'<sit-tags-warning-panel visible="vm.warningMessageVisible" message="vm.warningMessage"></sit-tags-warning-panel>\n<div class="tagEditorPanel">\n    <div id="assignedTagsContainer" ng-if="vm.assignedTags.length > 0">\n        <div class="sidePanelLabel" ng-if="vm.assignedTags.length > 0">{{ \'tagsManager.assignedTags\' | translate }}</div>\n        <sit-tags-viewer tags="vm.assignedTags" mode="vm.assignedTagViewerMode" \n                        on-register-api="vm.onAssignedTagsViewerRegisterApi(api)" \n                        on-remove="vm.tagViewerRemoveAssignedTag(tag)"\n                        ng-if="vm.assignedTags.length > 0"></sit-tags-viewer>\n    </div>\n\n    <div id="availableTagsContainer" ng-if="vm.availableTags.length > 0">\n        <div class="sidePanelLabel" ng-if="vm.availableTags.length > 0">{{ \'tagsManager.availableTags\' | translate }}</div>\n        <sit-tags-viewer tags="vm.availableTags" mode="vm.availableTagViewerMode" \n                        on-register-api="vm.onAvailableTagsViewerRegisterApi(api)" \n                        on-add="vm.tagViewerAddAvailableTag(tag)" ng-if="vm.availableTags.length > 0"></sit-tags-viewer>\n    </div>\n</div>')}]),angular.module("common/widgets/tagsManager/sit-tag-element.directive.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tagsManager/sit-tag-element.directive.html",'<div class="tagelement" ng-style="vm.style" data-toggle="tooltip" data-placement="top" title="{{vm.tag.Name}}" ng-if="vm.mode === \'select\'">\n    <input type="checkbox" class="tagelement" name="tagElementSelected" ng-if="vm.mode === \'select\'" ng-model="vm.tag.selected" ng-change="vm.selectionChanged()" ng-disabled="vm.tag.disabled" />\n    <span class="tagelementinside" ng-class="{tagelementinsidewide: vm.mode === \'select\'}">{{vm.tag.ShortName}}</span>\n    <i data-internal-type="TagElementAdd" class="fa fa-plus tagelementinside" aria-hidden="true" ng-if="vm.mode === \'add\'" ng-click="vm.add();" ng-style="vm.style" style="cursor:pointer"></i>\n    <i data-internal-type="TagElementRemove" class="fa fa-times tagelementinside" aria-hidden="true" ng-if="vm.mode === \'remove\'" ng-click="vm.remove();" ng-style="vm.style" style="cursor:pointer"></i>\n</div>\n\n<div class="tagelement" data-toggle="tooltip" data-placement="top" title="{{vm.tag.Name}}" ng-if="vm.mode !== \'select\'">\n    <div ng-style="vm.style" class="tagbullet"></div>\n    <span class="tagelementinside">{{vm.tag.ShortName}}</span>\n    <span class="svg-icon-container" sit-class="svg-icon" sit-mom-icon="vm.addIcon" aria-hidden="true" data-internal-type="TagElementAdd"  ng-if="vm.mode === \'add\'" ng-click="vm.add()"></span>\n    <span class="svg-icon-container" sit-class="svg-icon" sit-mom-icon="vm.removeIcon" aria-hidden="true" data-internal-type="TagElementRemove"  ng-if="vm.mode === \'remove\'" ng-click="vm.remove()"></span>\n</div> ')}]),angular.module("common/widgets/tagsManager/sit-tags-manager.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tagsManager/sit-tags-manager.html",'<sit-side-panel sit-title="{{vm.title}}" sit-actions="vm.actionButtons" sit-close="vm.closeButton">\n    <sit-manage-tags-editor assigned-tags="vm.originalAssignedTags"\n                           available-tags="vm.availableTags"\n                           on-validity-changed="vm.validityChanged(validity)"\n                           on-register-api="vm.onManageTagsEditorRegisterApi(api)" \n                           warning-message-visible="vm.warningMessageVisible"\n                           warning-message="vm.warningMessage">\n    </sit-manage-tags-editor>\n</sit-side-panel> ')}]),angular.module("common/widgets/tagsManager/sit-tags-viewer.directive.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tagsManager/sit-tags-viewer.directive.html",'<div id="tagsViewerFilter" class="tag-viwer-filter">\n    <div id="quickSearchContainer" class="quick-search-container">\n        <input id="quickSearchTextBox" type="text" ng-focus="vm.focus()" ng-blur="vm.blur()" ng-change="vm.filterChanged()" placeholder="{{vm.quickSearchText}}" class="form-control filter-quick-search" ng-model="vm.filterValue">\n        <span class="filter-close-icon" sit-class="svg-icon" sit-mom-icon="vm.svgIcons.close" ng-show="vm.showIcon" ng-click="vm.clearFilter()"></span>\n        <span id="quickSearchIcon" class="filter-search-icon" sit-class="svg-icon" sit-mom-icon="vm.svgIcons.search"></span>\n    </div>\n</div>\n\n<div class="tagcontainer">\n    <sit-tag-element ng-repeat="tag in vm.currentPageTags" class="animate-repeat" tag="tag" mode="vm.mode" on-add="vm.onTagAdd(tag)" on-remove="vm.onTagRemove(tag)" on-selection-changed="vm.onTagSelectionChanged(tag)"></sit-tag-element>\n</div>\n<div id="tagsViewerPager" ng-show="vm.pagerNumberTotalItems > vm.pageSize">\n    <div class="row">\n        <div class="col-xs-40 col-sm-40 col-md-40 col-lg-40 totalItemsLabel">\n            {{ \'tagsManager.totalItems\' | translate }}: {{vm.pagerNumberTotalItems}}\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-xs-40 col-sm-40 col-md-40 col-lg-40">\n            <ul uib-pagination total-items="vm.pagerNumberTotalItems" ng-model="vm.currentPage" ng-change="vm.pageChanged()"></ul>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/tagsManager/sit-tags-warning-panel.directive.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tagsManager/sit-tags-warning-panel.directive.html",'<div class="alert alert-warning dialog-alert sit-tags-warning-panel" ng-if="vm.visible">\n    <em class="fa fa-warning"></em>\n    <span class="alert-title">{{ \'tagsManager.warning\' | translate }}:  </span>{{ vm.message }}\n</div>')}]),angular.module("common/widgets/taskContainer/taskContainer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/taskContainer/taskContainer.html",'<div style="height:100%; width:100%">\n    <div id="itemlist" ng-if="vm.isTaskUiListVisible" class="content-area content-area-relative" style="float:left;  height:100%">\n        <sit-item-collection-viewer sit-data="vm.viewerData" sit-options="vm.viewerOptions"></sit-item-collection-viewer>\n    </div>\n\n    <div id="itemContent" ng-class="{largeWidth: vm.isTaskUiListVisible == false, smallWidth: vm.isTaskUiListVisible != false}"\n         style="width:calc(100% - {{vm.myWidth}}px); height: 100%; top: 4px!important;  display:block; padding-top: 16px; padding-left: 16px;">\n        <sit-command-bar sit-type="action" class="commandbar-horizontal" ng-if="vm.taskIdSelected && vm.showCommandBar" sit-layout="contextual">\n            \x3c!--<sit-command sit-icon="sit sit-update-existing-instances" sit-name="migrate" ng-click="vm.migrateTask"\n        sit-label={{\'SIT.TSK.commandBar.migrateLabel\'|translate}} sit-tooltip={{\'SIT.TSK.commandBar.migrateTaskTooltip\'|translate}}\n        ng-show="vm.isMigrateVisible"></sit-command>--\x3e\n            \x3c!--sit-label="{{ \'task.activate\' | translate }}"--\x3e\n            <sit-command sit-name="activate" ng-click="vm.activateTask" cmd-icon="TaskActivate"\n                         sit-tooltip="{{ \'task.activate\' | translate }}"\n                         ng-show="vm.isActivateVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.suspend\' | translate }}"--\x3e\n            <sit-command sit-name="suspend" ng-click="vm.suspend" cmd-icon="Time"\n                         sit-tooltip="{{ \'task.suspend\' | translate }}"\n                         ng-show="vm.isSuspendVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.start\' | translate }}"--\x3e\n            <sit-command sit-name="start" ng-click="vm.start" cmd-icon="Start"\n                         sit-tooltip="{{ \'task.start\' | translate }}"\n                         ng-show="vm.isStartVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.pause\' | translate }}"--\x3e\n            <sit-command sit-name="pause" ng-click="vm.pause" cmd-icon="Pause"\n                         sit-tooltip="{{ \'task.pause\' | translate }}"\n                         ng-show="vm.isPauseCompleteVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.resume\' | translate }}"--\x3e\n            <sit-command sit-name="resume" ng-click="vm.resume" cmd-icon="Forwards"\n                         sit-tooltip="{{ \'task.resume\' | translate }}"\n                         ng-show="vm.isResumeVisible"></sit-command>\n            \x3c!--<sit-command sit-name="repeat" ng-click="vm.repeat" cmd-icon="TaskRepeat"\n        sit-tooltip="{{ \'task.repeat\' | translate }}" sit-label="{{ \'task.repeat\' | translate }}"\n        ng-show="vm.isRepeatVisible"></sit-command>--\x3e\n            \x3c!--sit-label="{{ \'task.complete\' | translate }}"--\x3e\n            <sit-command cmd-icon="Validate" sit-name="complete" ng-click="vm.complete"\n                         sit-tooltip="{{ \'task.complete\' | translate }}"\n                         ng-show="vm.isPauseCompleteVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.skip\' | translate }}"--\x3e\n            <sit-command sit-name="skip" ng-click="vm.skip" svg-icon="common/icons/miscGoToLast24.svg"\n                         sit-tooltip="{{ \'task.skip\' | translate }}"\n                         ng-show="vm.isSkipVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.cancel\' | translate }}"--\x3e\n            <sit-command sit-name="cancel" ng-click="vm.cancel" cmd-icon="ClosePanel"\n                         sit-tooltip="{{ \'task.cancel\' | translate }}"\n                         ng-show="vm.isCancelVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.recover\' | translate }}"--\x3e\n            <sit-command sit-name="recover" ng-click="vm.recover" cmd-icon="TaskRecover"\n                         sit-tooltip="{{ \'task.recover\' | translate }}"\n                         ng-show="vm.isFailRecoverVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.fail\' | translate }}"--\x3e\n            <sit-command sit-name="fail" ng-click="vm.fail" svg-icon="common/icons/indicatorRedCircle16.svg"\n                         sit-tooltip="{{ \'task.fail\' | translate }}"\n                         ng-show="vm.isFailRecoverVisible"></sit-command>\n            \x3c!--sit-label="{{ \'task.abort\' | translate }}"--\x3e\n            <sit-command sit-name="abort" ng-click="vm.abort" cmd-icon="Cancel"\n                         sit-tooltip="{{ \'task.abort\' | translate }}"\n                         ng-show="vm.isAbortVisible"></sit-command>\n            \x3c!--<sit-command sit-icon="sit sit-freeze" sit-name="freeze" ng-click="vm.freeze"\n                     sit-tooltip="{{ \'SIT.TSK.common.freeze\' | translate }}" sit-label="{{ \'SIT.TSK.common.freeze\' | translate }}"\n                     ng-show="vm.isTaskCommandsVisible && !vm.isFrozenTask"></sit-command>\n        <sit-command sit-icon="sit sit-unfreeze" sit-name="unfreeze" ng-click="vm.unfreeze"\n                     sit-tooltip="{{ \'SIT.TSK.common.unfreeze\' | translate }}" sit-label="{{ \'SIT.TSK.common.unfreeze\' | translate }}"\n                     ng-show="vm.isTaskCommandsVisible && vm.isFrozenTask"></sit-command>--\x3e\n            \x3c!--<sit-command sit-name="delete" ng-click="vm.deleteTask" cmd-icon="Trash"\n        sit-label={{\'SIT.TSK.commandBar.deleteLabel\'|translate}} sit-tooltip={{\'SIT.TSK.commandBar.deleteTaskTooltip\'|translate}}\n        ng-show="vm.isDeleteVisible"></sit-command>--\x3e\n\n        </sit-command-bar>\n        \x3c!--ng-if="vm.taskIdSelected"  select="vm.getContent($index)" class="tab-animation" heading="{{component.componentName}}"--\x3e\n        <div style="height: 100%; width:100%" ng-show="vm.viewerData.length > 0">\n            <tabset style="width:calc(100% - 2px); height: 100%; margin-top:-8px;" id="taskContainerCanvas">\n                <tab ng-repeat="component in vm.componentInstances" active="component.componentVisible">\n                    \x3c!--<div ng-hide="vm.isLoaded" style="height:700px;width:100%; float:left; background-color:gray"><h3>No Task UI Available</h3></div>--\x3e\n                    \x3c!--ng-hide="!vm.isLoaded"--\x3e\n                    <div ng-show="component.componentVisible" style="height:100%; width:calc(100% - 2px);  margin-top:{{vm.margintop}}px;">\n                        <sit-container sit-isswac="false">\n                            <sit-component sit-id="{{component.componentName}}"\n                                           sit-name="{{component.componentName}}"\n                                           sit-componentname="{{component.componentName}}"\n                                           sit-type="ui"\n                                           sit-source="{{component.componentSource}}"\n                                           size-x="4"\n                                           size-y="4"\n                                           sit-left="0"\n                                           sit-top="0"\n                                           sit-cols="12"\n                                           sit-rows="12"\n                                           sit-flavor="ui"\n                                           sit-dpc="vm.dpc">\n                            </sit-component>\n                        </sit-container>\n                    </div>\n                </tab>\n            </tabset>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/text/text.html",[]).run(["$templateCache",function(e){e.put("common/widgets/text/text.html","<div ng-if=\"textCtrl.readOnly || textCtrl.ngReadonly\" class=\"label-property-grid-control-readonly property-value-ellipsis\"> {{textCtrl.value}} </div>\n\n<ng-form name='textForm' ng-if=\"!(textCtrl.readOnly || textCtrl.ngReadonly)\" ng-class=\"{'isrequired' :(textCtrl.validation.required) && textCtrl.value!==undefined}\">\n    <div class='property-grid-input-group'>\n        <input type='text'\n               ng-class=\"{'validator-control-invalid':((textForm.$invalid && textForm.$dirty) || (textForm.$invalid && textForm.$visited)),\n               'validator-control':!((textForm.$invalid && textForm.$dirty) || (textForm.$invalid && textForm.$visited)),\n               'ng-dirty':textForm.$dirty}\"\n               ng-model='textCtrl.value'\n               ng-required='textCtrl.validation.required'\n               ng-minlength='textCtrl.validation.minlength'\n               ng-maxlength='textCtrl.validation.maxlength'\n               ng-pattern='textCtrl.validation.pattern'\n               ng-blur=\"textCtrl.ngBlur()\"\n               sit-change=\"textCtrl.sitChange\"\n               ng-disabled=\"textCtrl.ngDisabled\"\n               ng-focus=\"textCtrl.ngFocus()\"\n               placeholder={{textCtrl.placeholder}}\n               sit-form-input-validator />\n    </div>\n</ng-form>")}]),angular.module("common/widgets/textEditor/image-upload-dialog-template.html",[]).run(["$templateCache",function(e){e.put("common/widgets/textEditor/image-upload-dialog-template.html",'<div id="image-tab-container" class="image-upload-tab">\n    <sit-tabset>\n        <sit-tab heading="{{Dialog.templatedata[0].tabHeadingtext}}">\n            <sit-property-grid sit-id="dialogPopup" sit-layout="Vertical" sit-type="Fixed" sit-mode="edit" sit-columns="1">\n                <sit-property sit-id="imageUpload" sit-widget="sit-file-uploader" sit-value="Dialog.templatedata[0].value" sit-autofocus=true\n                              sit-widget-attributes="Dialog.templatedata[0].widgetAttributes">{{Dialog.templatedata[0].browseText}}</sit-property>\n            </sit-property-grid>\n        </sit-tab>\n    </sit-tabset>\n</div>\n')}]),angular.module("common/widgets/textEditor/text-editor.html",[]).run(["$templateCache",function(e){e.put("common/widgets/textEditor/text-editor.html",'<div class="sit-text-editor">\n    <textarea id="{{textEditorCtrl.id}}"></textarea>\n</div>\n')}]),angular.module("common/widgets/textarea/textarea.html",[]).run(["$templateCache",function(e){e.put("common/widgets/textarea/textarea.html","<div class=\"label-property-grid-control-readonly textarea-control-readonly\" ng-if=\"textareaCtrl.readOnly || textareaCtrl.ngReadonly\"> {{textareaCtrl.value}} </div>\n\n<ng-form name='textForm' ng-if=\"!(textareaCtrl.readOnly || textareaCtrl.ngReadonly)\" ng-class=\"{'isrequired' :(textareaCtrl.validation.required) && textareaCtrl.value===undefined}\">\n    <div class='property-grid-input-group'>\n        <textarea name='{{textareaCtrl.value}}'\n                  ng-class=\"{'validator-control-invalid':((textForm.$invalid && textForm.$dirty) || (textForm.$invalid && textForm.$visited)),\n               'validator-control':!((textForm.$invalid && textForm.$dirty) || (textForm.$invalid && textForm.$visited)),\n               'ng-dirty':textForm.$dirty}\"\n                  ng-model='textareaCtrl.value'\n                  ng-required='textareaCtrl.validation.required'\n                  ng-minlength='textareaCtrl.validation.minlength'\n                  ng-maxlength='textareaCtrl.validation.maxlength'\n                  ng-pattern='textareaCtrl.validation.pattern'\n                  ng-blur=\"textareaCtrl.ngBlur()\"\n                  sit-change=\"textareaCtrl.sitChange\"\n                  ng-disabled=\"textareaCtrl.ngDisabled\"\n                  ng-focus=\"textareaCtrl.ngFocus()\"\n                  placeholder={{textareaCtrl.placeholder}}\n                  sit-form-input-validator></textarea>\n    </div>\n</ng-form>")}]),angular.module("common/widgets/tileConfigurator/tile-configurator.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tileConfigurator/tile-configurator.html",'<div class="table-column-configuration">\n    <div class="columns">\n        <div class="header">\n            <h2 class="sit-h2">\n                {{ tileConfiguratorCtrl.sitConfig.data.inputFieldsHeader || \'userPrefrences.tileConfigurator.inputFieldsHeader\'|translate }}\n            </h2>\n        </div>\n        <div class="no-border frame">\n            <sit-property-grid sit-id="propertyGrid_verticalNew" sit-data="" sit-layout="Vertical" sit-type="" sit-mode="Edit"\n                               sit-columns="">\n                <sit-property sit-widget="sit-select" sit-value="tileConfiguratorCtrl.titleField" sit-options="tileConfiguratorCtrl.titleDescriptionValues"\n                              sit-to-display="tileConfiguratorCtrl.select.toDisplay" sit-change="tileConfiguratorCtrl.updateUserTitle"\n                              sit-to-keep="tileConfiguratorCtrl.select.toKeep">{{\'userPrefrences.tileConfigurator.title\'|translate}}:</sit-property>\n                <sit-property sit-widget="sit-select" sit-value="tileConfiguratorCtrl.descriptionField" sit-options="tileConfiguratorCtrl.titleDescriptionValues"\n                              sit-to-display="tileConfiguratorCtrl.select.toDisplay" sit-change="tileConfiguratorCtrl.updateUserDesc"\n                              sit-to-keep="tileConfiguratorCtrl.select.toKeep">{{\'userPrefrences.tileConfigurator.description\'|translate}}:</sit-property>\n                <sit-property sit-widget="sit-select" sit-value="tileConfiguratorCtrl.sitConfig.data.userPreferences.propertyFields[0]"\n                              sit-options="tileConfiguratorCtrl.initialTileFields" sit-to-display="tileConfiguratorCtrl.select.toDisplay"\n                              sit-change="tileConfiguratorCtrl.updateUserPropone" sit-to-keep="tileConfiguratorCtrl.select.toKeep">{{\'userPrefrences.tileConfigurator.property1\'|translate}}:</sit-property>\n                <sit-property sit-widget="sit-select" sit-value="tileConfiguratorCtrl.sitConfig.data.userPreferences.propertyFields[1]"\n                              sit-options="tileConfiguratorCtrl.initialTileFields" sit-to-display="tileConfiguratorCtrl.select.toDisplay"\n                              sit-change="tileConfiguratorCtrl.updateUserProptwo"\n                              sit-to-keep="tileConfiguratorCtrl.select.toKeep">{{\'userPrefrences.tileConfigurator.property2\'|translate}}:</sit-property>\n                <sit-property sit-widget="sit-select" sit-value="tileConfiguratorCtrl.sitConfig.data.userPreferences.propertyFields[2]"\n                              sit-options="tileConfiguratorCtrl.initialTileFields" sit-to-display="tileConfiguratorCtrl.select.toDisplay"\n                              sit-change="tileConfiguratorCtrl.updateUserPropthree"\n                              sit-to-keep="tileConfiguratorCtrl.select.toKeep">{{\'userPrefrences.tileConfigurator.property3\'|translate}}:</sit-property>\n                <sit-property sit-widget="sit-select" sit-value="tileConfiguratorCtrl.sitConfig.data.userPreferences.propertyFields[3]"\n                              sit-options="tileConfiguratorCtrl.initialTileFields" sit-change="tileConfiguratorCtrl.updateUserPropfour"\n                              sit-to-display="tileConfiguratorCtrl.select.toDisplay" sit-to-keep="tileConfiguratorCtrl.select.toKeep">{{\'userPrefrences.tileConfigurator.property4\'|translate}}:</sit-property>\n\n            </sit-property-grid>\n        </div>\n    </div>\n    <div class="command-buttons">\n        <button type="button" class="sit-command-icon-button" ng-click="tileConfiguratorCtrl.resetColumns()" title="{{tileConfiguratorCtrl.sitConfig.data.resetButtonLabel || \'userPrefrences.tileConfigurator.resetButtonLabel\'|translate}}">\n            <em sit-class="svg-icon" sit-mom-icon="tileConfiguratorCtrl.svgIcons.reset"></em>\n        </button>\n    </div>\n    <div class="columns">\n        <div class="header">\n            <h2 class="sit-h2">\n                {{ tileConfiguratorCtrl.sitConfig.data.liveTilePreviewHeader || \'userPrefrences.tileConfigurator.liveTilePreviewHeader\'|translate }}\n            </h2>\n        </div>\n        <div class="frame-two no-border">\n            <div id="tile-container">\n                <div class="tile-view">\n                    <sit-tile-view sit-tiles="tileConfiguratorCtrl.tiles" sit-options="tileConfiguratorCtrl.options"></sit-tile-view>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/tiles/action-tile.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/action-tile.html",'<div class="tile" ng-switch on="actnTileCtrl.tileContent.size" ng-click="actnTileCtrl.tileClicked()">\n    <div data-internal-type="wideActionTile" class=\'wide wide-action\' ng-switch-when=\'wide\' ng-style="{color: actnTileCtrl.color, \'background-color\': actnTileCtrl.bgColor}">\n        <div class="image-container-96x96" data-internal-type="image-container">\n            <div class="image-vcenter-96x96" data-internal-type="image-vcenter" ng-class="actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon ? \'remove-font-awesome\':\'\'">\n                <em ng-if="actnTileCtrl.tileContent.image || actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon" class="fa {{actnTileCtrl.tileContent.image}}" sit-mom-icon="actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon"></em>\n            </div>\n        </div>\n\n        <span class="wide-action-text" data-internal-type="title">{{actnTileCtrl.getDisplayText()}}</span>\n        <span class="wide-action-counter" data-internal-type="counter">{{actnTileCtrl.tileContent.count | limitTo:4}}</span>\n    </div>\n\n    <div data-internal-type="squareActionTile" class=\'square\' ng-switch-when=\'square\' ng-style="{color: actnTileCtrl.color, \'background-color\': actnTileCtrl.bgColor}">\n        <div class="image-container-96x96" data-internal-type="image-container">\n            <div class="image-vcenter-96x96" data-internal-type="image-vcenter" ng-class="actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon ? \'remove-font-awesome\':\'\'">\n                <em ng-if="actnTileCtrl.tileContent.image || actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon" class="fa {{actnTileCtrl.tileContent.image}}" sit-mom-icon="actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon" ></em>\n            </div>\n        </div>\n        <div class="square-text" data-internal-type="title">{{actnTileCtrl.getDisplayText()}}</div>\n    </div>\n\n    <div data-internal-type="squareShortcutActionTile" class=\'square-shortcut\' ng-switch-when=\'square-shortcut\' ng-style="{color: actnTileCtrl.color, \'background-color\': actnTileCtrl.bgColor}">\n        <div class="square-text square-shortcut-text" data-internal-type="title">{{actnTileCtrl.getDisplayText()}}</div>\n        <div class="shortcut-image-container" data-internal-type="image-container">\n            <em sit-mom-icon="actnTileCtrl.tileContent.shortCutImage"></em>\n        </div>\n    </div>\n\n    <div data-internal-type="squareSummaryActionTile" class=\'square-summary\' ng-switch-when=\'square-summary\' ng-style="{color: actnTileCtrl.color, \'background-color\': actnTileCtrl.bgColor}">\n        <div class="summary-text" data-internal-type="counter">{{actnTileCtrl.getSummaryCountText()}}</div>\n        <div class="category-text" data-internal-type="title">{{actnTileCtrl.getDisplayText()}}</div>\n    </div>\n\n    <div data-internal-type="smallActionTile" class=\'small small-action\' ng-switch-when="small" ng-style="{color: actnTileCtrl.color, \'background-color\': actnTileCtrl.bgColor}">\n        <div class="image-container-48x48" data-internal-type="image-container">\n            <div class="image-vcenter-48x48" data-internal-type="image-vcenter" ng-class="actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon ? \'remove-font-awesome\':\'\'">\n                <em ng-if="actnTileCtrl.tileContent.image || actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon" class="fa {{actnTileCtrl.tileContent.image}} fa-3x" sit-mom-icon="actnTileCtrl.tileContent.svgIcon || actnTileCtrl.tileContent.typeIcon"></em>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("common/widgets/tiles/custom-tile-item.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/custom-tile-item.html","<div ng-attr-data-internal-type=\"{{itemTileCtrl.template == 'large'? 'largeItemTile' : itemTileCtrl.template == 'wide'? 'wideItemTile' : 'mediumItemTile'}}\" class=\"tile\" ng-click=\"itemTileCtrl.tileClicked()\">\n    <div data-internal-type='custom-template-container' ng-class=\"{'large large-item' : itemTileCtrl.template == 'large','wide wide-item' : itemTileCtrl.template == 'wide','medium medium-item' : itemTileCtrl.template == 'medium' }\" class='{{itemTileCtrl.selectClass}}' ng-style=\"{'color': itemTileCtrl.color, 'background-color': itemTileCtrl.bgColor}\">\n        <div ng-class=\"{'large-select' : itemTileCtrl.template == 'large','wide-select' : itemTileCtrl.template == 'wide','medium-select' : itemTileCtrl.template == 'medium' }\" ng-show=\"itemTileCtrl.showSelectCheck()\"></div>\n"+'        <div ng-show="itemTileCtrl.showSelectCheck()" class="top-right-corner-triangle" data-internal-type="selection-triangle"></div>\n        <span ng-show="itemTileCtrl.showSelectCheck()" class="top-right-select-img fa fa-check fa-lg fa-inverse" data-internal-type="selection-check"></span>\n        <div class="item-tile-tag" ng-if="itemTileCtrl.isTagShown" ng-class="{\'wide-item-tag-expand\':itemTileCtrl.isTagContainerExpanded && itemTileCtrl.template === \'wide\', \'wide-item-tag\':!itemTileCtrl.isTagContainerExpanded && itemTileCtrl.template === \'wide\', \'large-item-tag-expand\':itemTileCtrl.isTagContainerExpanded && itemTileCtrl.template === \'large\', \'large-item-tag\':!itemTileCtrl.isTagContainerExpanded && itemTileCtrl.template === \'large\'}" ng-click="$event.stopPropagation()">\n            <div class="tag-icon" ng-click="itemTileCtrl.toggleTagContainer()" ng-show="itemTileCtrl.showTagExpandIcon">\n                <em ng-if="itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgDown"></em>\n                <em ng-if="!itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgUp"></em>\n            </div>\n            <div class="tag-text-container" data-internal-type="tag-text-container">\n                <span ng-repeat="tag in itemTileCtrl.tileContent[itemTileCtrl.tag] track by $index" class="tag-text" ng-show="tag.Name.length >0" title="{{tag.Name}}">\n                    <div ng-style="tag.style" class="tagbullet"></div>\n                    {{tag.ShortName}}\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/tiles/item-tile.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/item-tile.html","<div class='item-tile-wrapper' ng-include=\"'common/widgets/tiles/'+ itemTileCtrl.tempalteUrl\" onload=\"itemTileCtrl.templateLoaded()\" />\n\n")}]),angular.module("common/widgets/tiles/large-tile-item.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/large-tile-item.html",'<div data-internal-type="largeItemTile" class="tile" ng-click="itemTileCtrl.tileClicked()" title="{{itemTileCtrl.displayTooltip}}">\n    <div class=\'large large-item {{itemTileCtrl.selectClass}}\' ng-style="{\'color\': itemTileCtrl.color, \'background-color\': itemTileCtrl.bgColor}">\n        <div class="large-select" ng-show="itemTileCtrl.showSelectCheck()"></div>\n        <div ng-show="itemTileCtrl.showSelectCheck()" class="top-right-corner-triangle" data-internal-type="selection-triangle"></div>\n        <span ng-show="itemTileCtrl.showSelectCheck()" class="top-right-select-img fa fa-check fa-lg fa-inverse" data-internal-type="selection-check"></span>\n        <div class="large-item-image-container-86x86" data-internal-type="image-container">\n            <div class="large-item-image-vcenter-62x62" data-internal-type="image-vcenter" ng-class="itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon ? \'remove-font-awesome\':\'\'">\n                <div ng-if="(itemTileCtrl.tileContent.image || itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon) && !itemTileCtrl.tileContent.imageTemplate" class="fa fa-4x {{itemTileCtrl.tileContent.image}}" sit-mom-icon="itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon"></div>\n                <div ng-if="itemTileCtrl.tileContent.imageTemplate" class="fa fa-4x" ng-bind-html="itemTileCtrl.tileContent.imageTemplate"></div>\n            </div>\n            <div class="content-status-icon">\n                <span ng-if="itemTileCtrl.tileContent.contentStatus ===\'editing\'" class="bottom-left-status-img" sit-mom-icon="itemTileCtrl.svgIcons.certificate" />\n                <span ng-if="itemTileCtrl.tileContent.contentStatus ===\'warning\'" class="bottom-left-status-img" sit-mom-icon="itemTileCtrl.svgIcons.warning" />\n            </div>\n        </div>\n        <div class="large-item-title-container">\n            <div title="{{itemTileCtrl.displayTooltip}}" class="item-title-vcenter" data-internal-type="title">{{itemTileCtrl.displayTitle}}</div>\n        </div>\n        <div class="large-item-text-container" data-internal-type="text-container">\n            <div title="{{itemTileCtrl.descriptionTooltip}}" class="large-item-description" data-internal-type="description">{{itemTileCtrl.displayDescription}}</div>\n            <div class="large-item-properties" data-internal-type="properties">\n                <div title="{{itemTileCtrl.displayProp1.sanitizedVal}}" ng-if="itemTileCtrl.displayProp1" class="large-item-property"><span>{{itemTileCtrl.displayProp1.name}}</span><span>{{itemTileCtrl.displayProp1.sanitizedVal}}</span></div>\n                <div title="{{itemTileCtrl.displayProp2.sanitizedVal}}" ng-if="itemTileCtrl.displayProp2" class="large-item-property"><span>{{itemTileCtrl.displayProp2.name}}</span><span>{{itemTileCtrl.displayProp2.sanitizedVal}}</span></div>\n                <div title="{{itemTileCtrl.displayProp3.sanitizedVal}}" ng-if="itemTileCtrl.displayProp3" class="large-item-property"><span>{{itemTileCtrl.displayProp3.name}}</span><span>{{itemTileCtrl.displayProp3.sanitizedVal}}</span></div>\n                <div title="{{itemTileCtrl.displayProp4.sanitizedVal}}" ng-if="itemTileCtrl.displayProp4" class="large-item-property"><span>{{itemTileCtrl.displayProp4.name}}</span><span>{{itemTileCtrl.displayProp4.sanitizedVal}}</span></div>\n            </div>\n        </div>\n        <div class="item-tile-tag" ng-if="itemTileCtrl.isTagShown" ng-class="itemTileCtrl.isTagContainerExpanded ? \'large-item-tag-expand\' : \'large-item-tag\'" ng-click="$event.stopPropagation()">\n            <div class="tag-icon" ng-click="itemTileCtrl.toggleTagContainer()" ng-show="itemTileCtrl.showTagExpandIcon">\n                <em ng-if="itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgDown"></em>\n                <em ng-if="!itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgUp"></em>\n            </div>\n            <div class="tag-text-container" data-internal-type="tag-text-container">\n                <span ng-repeat="tag in itemTileCtrl.tileContent[itemTileCtrl.tag] track by $index" class="tag-text" ng-show="tag.Name.length >0" title="{{tag.Name}}">\n                    <div ng-style="tag.style" class="tagbullet"></div>\n                    {{tag.ShortName}}\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/tiles/medium-tile-item.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/medium-tile-item.html",'<div data-internal-type="mediumItemTile" class="tile" ng-click="itemTileCtrl.tileClicked()" sit-tile-height="true">\n    <div class=\'medium-wide medium-item {{itemTileCtrl.selectClass}} \' ng-style="{\'color\': itemTileCtrl.color, \'background-color\': itemTileCtrl.bgColor}">\n        <div class="medium-select" ng-show="itemTileCtrl.showSelectCheck()"></div>\n        <div ng-show="itemTileCtrl.showSelectCheck()" class="top-right-corner-triangle-med" data-internal-type="selection-triangle"></div>\n        <span ng-show="itemTileCtrl.showSelectCheck()" class="top-right-select-img-med fa fa-check fa-inverse" data-internal-type="selection-check"></span>\n        <div class="medium-item-image-container" data-internal-type="image-container">\n            <div class="medium-item-image" data-internal-type="medium-image" ng-class="itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon ? \'remove-font-awesome\':\'\'">\n                <div ng-if="(itemTileCtrl.tileContent.image || itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon) && !itemTileCtrl.tileContent.imageTemplate" class="fa fa-2x {{itemTileCtrl.tileContent.image}} " sit-mom-icon="itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon"></div>\n                <div ng-if="itemTileCtrl.tileContent.imageTemplate" class="fa fa-2x" ng-bind-html="itemTileCtrl.tileContent.imageTemplate"></div>\n            </div>\n        </div>\n\n        <div class="medium-item-text-container" data-internal-type="text-container">\n            <div title="{{itemTileCtrl.displayTooltip}}" class="medium-item-text medium-title-display" data-internal-type="title">{{itemTileCtrl.displayTitle}}</div>\n            <div title="{{itemTileCtrl.descriptionTooltip}}" class="{{itemTileCtrl.descriptionClass}} medium-description-display" data-internal-type="description">{{itemTileCtrl.displayDescription}}</div>\n        </div>\n\n        <div class="action-buttons" ng-if="itemTileCtrl.isCell">\n            <div ng-repeat="command in itemTileCtrl._commands" class="action-button-item" ng-if="$index <= 1 && command.isVisible">\n                <div title="{{command.tooltip}}" ng-class="command.cmdIcon ? \'remove-font-awesome\':\'action-button-icon\'">\n                    <em class="fa {{command.img}}" sit-mom-icon="command.cmdIcon" ng-click="itemTileCtrl.commandCallback($event, command)"></em>\n                </div>\n            </div>\n        </div>\n        <div class="medium-item-properties" data-internal-type="properties">\n            <div title="{{property.sanitizedVal}}" ng-repeat="property in itemTileCtrl.displayProperties track by $index" ng-if="property" class="medium-item-property"><span class="displayProperty">{{property.name}}</span><span>{{property.sanitizedVal}}</span></div>\n        </div>\n        <div ng-if="itemTileCtrl.isCell">\n            <div ng-repeat="indicator in itemTileCtrl._indicators track by $index" ng-if="$index <= 9 && indicator.isVisible" class="fa fa-2x {{indicator.image}} indicator-icons" sit-mom-icon="indicator.svgIcon">\n            </div>\n        </div>\n        <div ng-if="itemTileCtrl.isTagShown && itemTileCtrl.isCell" class="item-tile-tag-container">\n            <div class="item-tile-tag" ng-if="itemTileCtrl.isTagShown" ng-class="itemTileCtrl.isTagContainerExpanded ? \'wide-item-tag-expand\' : \'wide-item-tag\'" ng-click="$event.stopPropagation()">\n                <div class="tag-icon" ng-click="itemTileCtrl.toggleTagContainer()" ng-show="itemTileCtrl.showTagExpandIcon">\n                    <em ng-if="itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgDown"></em>\n                    <em ng-if="!itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgUp"></em>\n                </div>\n                <div class="tag-text-container" data-internal-type="tag-text-container">\n                    <span ng-repeat="tag in itemTileCtrl.tileContent[itemTileCtrl.tag] track by $index" class="tag-text" ng-show="tag.Name.length >0" title="{{tag.Name}}">\n                        <div ng-style="tag.style" class="tagbullet"></div>\n                        {{tag.ShortName}}\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/tiles/tile-group.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/tile-group.html",'\x3c!-- header --\x3e\n<div ng-if="!tileGrpCtrl.group.isDummy" ng-style="rowStyle(row)" style="overflow:hidden;" class="tile-group-header">\n    <div style="display:inline-block; float:left;" ng-click="tileGrpCtrl.toggleGroup(tileGrpCtrl.group)">\n        <div class="{{tileGrpCtrl.group.arrowClass()}}" ng-style="{height: tileGrpCtrl.group.rowheight}"></div>\n    </div>\n\n    <div ng-style="{height: tileGrpCtrl.group.rowheight}" class="tile-group-text" ng-click="tileGrpCtrl.toggleGroup(tileGrpCtrl.group)">\n        <div style="display:table-cell; vertical-align:middle; height:inherit;">{{tileGrpCtrl.group.name}} ({{tileGrpCtrl.group.childCount()}})</div>\n    </div>\n\n    <div ng-style="{height: tileGrpCtrl.group.rowheight}" class="tile-group-select" ng-show="tileGrpCtrl.selectionMode === \'multi\' && tileGrpCtrl.multiSelect">\n        <div style="display:table-cell; vertical-align:middle; height:inherit;">\n            <input type="checkbox" style="margin-left:10px; cursor: pointer" ng-model="tileGrpCtrl.groupSelected" ng-checked="tileGrpCtrl.groupSelected" ng-click="tileGrpCtrl.selectGroup()" />\n        </div>\n    </div>\n    <div class="tile-group-line-container" ng-style="{height: tileGrpCtrl.group.rowheight}">\n        <div class="tile-group-line"></div>\n    </div>\n</div>\n\n\x3c!-- tiles container --\x3e\n\x3c!-- Do not change whitespace here.  Needed to remove space between multiple inline-block elements --\x3e\n<div data-internal-type="itemTileContainer" ng-if="tileGrpCtrl.group.expanded || (tileGrpCtrl.groupsLength <= 1 && tileGrpCtrl.group.isDummy)">\n    \x3c!--\n    --\x3e\n    <sit-item-tile sit-format="tileGrpCtrl.sitFormat" ng-repeat="tile in tileGrpCtrl.group.tiles" sit-tile-content="tile" sit-tile-options="tileGrpCtrl.tileOptions" sit-tile-template="tileGrpCtrl.tileOptions.tileTemplate" sit-last-tile></sit-item-tile>\n    \x3c!--\n    --\x3e\n</div>\n')}]),angular.module("common/widgets/tiles/tile-view.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/tile-view.html",'<div data-internal-type="tileViewContainerDiv">\n    <div data-internal-type="tileContainerDiv" ng-class="tileViewCtrl.options.tileContainerClass" class="tile-container">\n        <div data-internal-type="showHideView" ng-switch="tileViewCtrl.options.tileType" ng-if="tileViewCtrl.showView">\n            <div ng-switch-when="action">\n                <sit-action-tile ng-repeat="tile in tileViewCtrl.tiles" sit-tile-content="tile">\n                </sit-action-tile>\n            </div>\n\n            <div ng-switch-when="item">\n                <sit-tile-group sit-format="tileViewCtrl.sitFormat" ng-repeat="group in tileViewCtrl.groups" data-sit-group="group" data-sit-groups-length="{{tileViewCtrl.groups.length}}" sit-group-expanding="tileViewCtrl.groupExpanding(groupCount)" sit-tile-options="tileViewCtrl.tileOptions" sit-multi-select="tileViewCtrl.options.multiSelect" sit-selection-mode="tileViewCtrl.options.selectionMode">\n                </sit-tile-group>\n            </div>\n\n            <div ng-switch-when="notification">\n                Notification tiles\n            </div>\n\n            <div ng-switch-default>\n                Unknown tile type: {{tileViewCtrl.options.tileType}}.\n            </div>\n        </div>\n        <div data-internal-type="showHideMessage" ng-if="tileViewCtrl.showMessage" class="no-data-content">\n            {{tileViewCtrl.messageText}}\n        </div>\n    </div>\n    <div data-internal-type="loading-container-xxx" ng-if="tileViewCtrl.loadingMany" style="position:absolute;left:50%;top:50%; width:300px; height:100px; margin:-50px auto auto -150px; overflow:hidden; text-align:center; background-color:white;">\n        <span style="line-height:100px;"></span>\n        <div style="display:inline-block; font-size:xx-large;">{{tileViewCtrl.loadingMessage}}</div>\n    </div>\n    <div>\n        <sit-pager ng-show="tileViewCtrl.options.showPager" sit-paging-options="tileViewCtrl.options.pagingOptions" page-changing="pageChanging()"></sit-pager>\n    </div>\n</div>')}]),angular.module("common/widgets/tiles/wide-tile-item.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tiles/wide-tile-item.html",'<div data-internal-type="wideItemTile" class="tile" ng-click="itemTileCtrl.tileClicked()" sit-tile-height="true">\n    <div class="medium-wide wide-item {{itemTileCtrl.selectClass}} " ng-style="{\'color\': itemTileCtrl.color, \'background-color\': itemTileCtrl.bgColor}">\n        <div class="wide-select" ng-show="itemTileCtrl.showSelectCheck()"></div>\n        <div ng-show="itemTileCtrl.showSelectCheck()" class="top-right-corner-triangle" data-internal-type="selection-triangle"></div>\n        <span ng-show="itemTileCtrl.showSelectCheck()" class="top-right-select-img fa fa-check fa-inverse fa-lg" data-internal-type="selection-check"></span>\n        <div class="wide-item-left-col" data-internal-type="left-column">\n            <div class="image-container-40x40" data-internal-type="image-container">\n                <div class="image-vcenter-32x32" data-internal-type="image-vcenter" ng-class="itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon ? \'remove-font-awesome\':\'\'">\n                    <div ng-if="(itemTileCtrl.tileContent.image || itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon) && !itemTileCtrl.tileContent.imageTemplate" class="fa fa-2x {{itemTileCtrl.tileContent.image}} " sit-mom-icon="itemTileCtrl.tileContent.svgIcon || itemTileCtrl.tileContent.typeIcon"></div>\n                    <div ng-if="itemTileCtrl.tileContent.imageTemplate" class="fa fa-2x" ng-bind-html="itemTileCtrl.tileContent.imageTemplate"></div>\n                </div>\n            </div>\n        </div>\n        <div class="wide-item-text" data-internal-type="text-container">\n            <div class="wide-item-title" data-internal-type="title" title="{{itemTileCtrl.displayTooltip}}"><strong>{{itemTileCtrl.displayTitle}}</strong></div>\n            <div class="{{itemTileCtrl.descriptionClass}}" title="{{itemTileCtrl.descriptionTooltip}}" data-internal-type="description">{{itemTileCtrl.displayDescription}}</div>\n        </div>\n\n        <div class="action-buttons" ng-if="itemTileCtrl.isCell">\n\n            <div ng-repeat="command in itemTileCtrl._commands track by $index" class="action-button-item" ng-if="$index <= 1 && command.isVisible">\n                <div title="{{command.tooltip}}" ng-class="command.cmdIcon ? \'remove-font-awesome\':\'action-button-icon\'">\n                    <em class="fa {{command.img}}" sit-mom-icon="command.cmdIcon" ng-click="itemTileCtrl.commandCallback($event, command)"></em>\n                </div>\n            </div>\n        </div>\n        <div class="wide-item-properties" data-internal-type="properties">\n            <div title="{{property.sanitizedVal}}" ng-repeat="property in itemTileCtrl.displayProperties track by $index" ng-if="property" class="wide-item-property">\n                <span class="displayProperty">{{property.name}}</span><span>{{property.sanitizedVal}}</span>\n            </div>\n        </div>\n        <div ng-if="itemTileCtrl.isCell">\n            <span ng-if="itemTileCtrl.tileContent.contentStatus ===\'editing\'" class="bottom-left-status-img" sit-mom-icon="itemTileCtrl.svgIcons.certificate" />\n            <span ng-if="itemTileCtrl.tileContent.contentStatus ===\'warning\'" class="bottom-left-status-img" sit-mom-icon="itemTileCtrl.svgIcons.warning" />\n            <div ng-repeat="indicator in itemTileCtrl._indicators track by $index" ng-if="$index <= 9 && indicator.isVisible" class="fa fa-2x {{indicator.image}} indicator-icons" sit-mom-icon="indicator.svgIcon">\n            </div>\n        </div>\n        <div ng-if="itemTileCtrl.isTagShown" class="item-tile-tag-container">\n            <div class="item-tile-tag" ng-if="itemTileCtrl.isTagShown" ng-class="itemTileCtrl.isTagContainerExpanded ? \'wide-item-tag-expand\' : \'wide-item-tag\'" ng-click="$event.stopPropagation()">\n\n                <div class="tag-icon" ng-click="itemTileCtrl.toggleTagContainer()" ng-show="itemTileCtrl.showTagExpandIcon">\n                    <em ng-if="itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgDown"></em>\n                    <em ng-if="!itemTileCtrl.isTagContainerExpanded" sit-mom-icon="itemTileCtrl.svgIcons.svgUp"></em>\n                </div>\n                <div class="tag-text-container" data-internal-type="tag-text-container">\n                    <span ng-repeat="tag in itemTileCtrl.tileContent[itemTileCtrl.tag] track by $index" class="tag-text" ng-show="tag.Name.length >0" title="{{tag.Name}}">\n                        <div ng-style="tag.style" class="tagbullet"></div>\n                        {{tag.ShortName}}\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/widgets/timePicker/time-picker.html",[]).run(["$templateCache",function(e){e.put("common/widgets/timePicker/time-picker.html",'<div class="label label-property-grid-control-readonly property-value-ellipsis" ng-if="timePickerCtrl.readOnly || timePickerCtrl.ngReadonly">\n    {{timePickerCtrl.value | date: \'shortTime\'}}\n</div>\n\n<ng-form name=\'timePickerForm\' ng-if="!(timePickerCtrl.readOnly || timePickerCtrl.ngReadonly)" ng-class="{\'isrequired\' : (timePickerCtrl.validation.required) && (timePickerCtrl.value===undefined)}">\n    <div class="sitTimePicker" style="border:none;">\n        <div class="property-grid-input-group">\n            <input style="cursor:pointer;" class="property-grid-control validator-control" type="text" readonly="readonly" ng-model="timePickerCtrl.value" value="{{timePickerCtrl.value | date: timePickerCtrl.format}}"\n                   ng-class="{\'validator-control-invalid\':((timePickerForm.$invalid && timePickerForm.$dirty) || (timePickerForm.$invalid && timePickerForm.$visited)),\n               \'validator-control\':!((timePickerForm.$invalid && timePickerForm.$dirty) || (timePickerForm.$invalid && timePickerForm.$visited)),\n               \'ng-dirty\':timePickerForm.$dirty}"\n                   ng-click="timePickerCtrl.ngDisabled || timePickerCtrl.clicked($event)" ng-required="timePickerCtrl.validation.required" sit-form-input-validator\n                   sit-change="timePickerCtrl.sitChange" ng-disabled="timePickerCtrl.ngDisabled" ng-blur="timePickerCtrl.ngBlur()" ng-focus="timePickerCtrl.ngFocus()" />\n            <div class="btn property-grid-addon-icon" ng-click="timePickerCtrl.ngDisabled || timePickerCtrl.clicked($event)" ng-disabled="timePickerCtrl.ngDisabled">\n                <em class="fa fa-clock-o" ng-disabled="timePickerCtrl.ngDisabled" ng-blur="timePickerCtrl.ngBlur"></em>\n            </div>\n        </div>\n        <div class="dropdown-menu property-grid-time-picker-popup" ng-style="{display: (timePickerCtrl.isOpen && \'block\') || \'none\'}" ng-disabled="timePickerCtrl.ngDisabled">\n            <div uib-timepicker ng-if="timePickerCtrl.format===\'mediumTime\'" ng-model="timePickerCtrl.popupValue" show-seconds=true show-meridian="timePickerCtrl.showMeridian"></div>\n            <div uib-timepicker ng-if="!(timePickerCtrl.format===\'mediumTime\')" ng-model="timePickerCtrl.popupValue" show-meridian="timePickerCtrl.showMeridian"></div>\n            <button type="button" class="property-grid-time-picker-popup-button pull-left" ng-click="timePickerCtrl.ngDisabled || timePickerCtrl.setClicked($event)">{{\'timePicker.set\' | translate}}</button>\n            <button type="button" class="property-grid-time-picker-popup-button pull-right" ng-click="timePickerCtrl.ngDisabled || timePickerCtrl.clearTime($event)">{{\'timePicker.clear\' | translate}}</button>\n        </div>\n    </div>\n</ng-form>')}]),angular.module("common/widgets/toolbox/toolbox-section.html",[]).run(["$templateCache",function(e){e.put("common/widgets/toolbox/toolbox-section.html",'<div class="toolbox-section">\n    <div ng-class="toolboxSecCtrl.isExpanded ? \'toolbox-section-header-open\' : \'toolbox-section-header\'" >\n        <em class="{{toolboxSecCtrl.sitIcon}}" sit-mom-icon="toolboxSecCtrl.displayIcon" ng-class="{momIcon: toolboxSecCtrl.displayIcon !== null}"></em>\n        <span class="toolbox-section-title"> {{toolboxSecCtrl.sitTitle}}</span>\n        <div  ng-click="toolboxSecCtrl.toggleSection()" class="toolbox-section-toggle" ng-hide="toolboxSecCtrl.isDisabled">\n            <span ng-class="toolboxSecCtrl.isExpanded ? \'fa fa-angle-down\' : \'fa fa-angle-left\'"></span>\n        </div>\n    </div>\n    <div class="toolbox-section-content" ng-class="toolboxSecCtrl.isExpanded ? \'toolbox-section-content-show\' : \'toolbox-section-content-hide\'" ng-transclude></div>\n\n</div>\n\n')}]),angular.module("common/widgets/toolbox/toolbox.html",[]).run(["$templateCache",function(e){e.put("common/widgets/toolbox/toolbox.html",'<div class="toolbox-main-container" style="width:100%">\n\n    <div ng-show="toolboxCtrl.isCollapsible">\n        <div class="toolbox-collapsible-icon" ng-if="toolboxCtrl.align===\'left\'"\n             ng-class="toolboxCtrl.isCollapsed ? \'fa fa-angle-right toolbox-collapsible-icon-left-align \' :\n             {\'fa fa-angle-left\': (!toolboxCtrl.isCollapsed),\n'+"              'toolbox-collapsible-icon-left-sm': (toolboxCtrl.size === 'sm'),\n              'toolbox-collapsible-icon-left-md': (toolboxCtrl.size === 'md'),\n              'toolbox-collapsible-icon-left-lg': (toolboxCtrl.size === 'lg')}\"\n             ng-style=\"toolboxCtrl.isCollapsed ? {} : {'float':'left','position':'absolute','min-height':(toolboxCtrl.isTitleShown ? '40px':'34px')}\"\n             ng-click=\"toolboxCtrl.toggleSection()\">\n        </div>\n\n        <div class=\"toolbox-collapsible-icon\" ng-if=\"toolboxCtrl.align==='right'\"\n             ng-class=\"toolboxCtrl.isCollapsed ? 'fa fa-angle-left toolbox-collapsible-icon-right-align ' :\n             {'fa fa-angle-right': (!toolboxCtrl.isCollapsed),\n              'toolbox-collapsible-icon-right-sm': (toolboxCtrl.size === 'sm'),\n              'toolbox-collapsible-icon-right-md': (toolboxCtrl.size === 'md'),\n              'toolbox-collapsible-icon-right-lg': (toolboxCtrl.size === 'lg')}\"\n             ng-style=\"toolboxCtrl.isCollapsed ? {} : {'float':'right','position':'absolute','min-height':(toolboxCtrl.isTitleShown ? '40px':'34px')} \"\n             ng-click=\"toolboxCtrl.toggleSection()\">\n        </div>\n    </div>\n\n    <div class=\"toolbox-container\" ng-class=\"{'toolBox-right-align':(toolboxCtrl.align === 'right'),'toolBox-left-align':!(toolboxCtrl.align === 'right'),\n    'toolBox-width-sm':(toolboxCtrl.size === 'sm'), 'toolBox-width-md':(toolboxCtrl.size === 'md'), 'toolBox-width-lg':(toolboxCtrl.size === 'lg')}\" \n         ng-hide=\"toolboxCtrl.isCollapsed\">\n        <div class=\"toolbox-header\" ng-if=\"toolboxCtrl.isTitleShown\">\n            <label>{{toolboxCtrl.config.title}}</label>\n        </div>\n        <div class=\"toolbox-section-container\" ng-class=\"{'toolbox-section-container-scroll':!toolboxCtrl.closeOthers}\" ng-transclude> </div>\n    </div>\n</div>\n")}]),angular.module("common/widgets/tristateCheckbox/tristate-checkbox.html",[]).run(["$templateCache",function(e){e.put("common/widgets/tristateCheckbox/tristate-checkbox.html",'<div class="sit-tristate-checkbox">\n    <div class="label label-property-grid-control-readonly " ng-if="checkboxCtrl.readOnly || checkboxCtrl.ngReadonly || checkboxCtrl.ngDisabled">\n        <ng-form name="checkboxForm" ng-class="{\'isrequired\' : (checkboxCtrl.validation.required) && (checkboxForm.$error.required.length===checkboxCtrl.value.length) }">\n            <div class="property-grid-span-group-block " ng-model="checkboxCtrl.value">\n                <div class="sit-checkbox">\n                    <ng-form name="checkboxItemForm" class="group-control property-grid-no-border-items" ng-repeat="item in checkboxCtrl.value" style="display:block;">\n                        <div class="group-control-data check-box" ng-class="!(checkboxCtrl.readOnly || checkboxCtrl.ngReadonly || checkboxCtrl.ngDisabled) ? \'checkbox-enabled\' : \'checkbox-disabled\'">\n                            <input type=\'button\'\n                               name=\'{{item.label}}\'\n                               ng-class="{\'un-checked\': item.checked === false, \'checked\': item.checked == true, \'indeterminate\': item.checked === \'null\'}"\n                               ng-model=\'item.checked\'\n                               ng-blur="checkboxCtrl.ngBlur()"\n                               sit-change="checkboxCtrl.sitChange"\n                               ng-disabled="checkboxCtrl.ngDisabled"\n                               ng-focus="checkboxCtrl.ngFocus()"\n                               ng-required="checkboxCtrl.validation.required"\n                               sit-form-input-validator />\n                            <span class="tri-state property-label-ellipsis">{{item.label}}</span>\n                        </div>\n                    </ng-form>\n                </div>\n            </div>\n        </ng-form>\n    </div>\n    <ng-form ng-if="!(checkboxCtrl.readOnly || checkboxCtrl.ngReadonly || checkboxCtrl.ngDisabled)"\n             name="checkboxForm" ng-class="{\'isrequired\' : (checkboxCtrl.validation.required) && (checkboxForm.$error.required.length===checkboxCtrl.value.length) }">\n        <div class="property-grid-span-group-block validator-control" ng-model="checkboxCtrl.value">\n            <div class="sit-checkbox">\n                <ng-form name="checkboxItemForm" class="group-control" ng-repeat="item in checkboxCtrl.value" style="display:block;">\n                    <div class="group-control-data check-box" ng-class="!checkboxCtrl.ngDisabled ? \'checkbox-enabled\' : \'checkbox-disabled\'">\n                        <input type=\'button\'\n                               name=\'{{item.label}}\'\n                               ng-click="checkboxCtrl.updateState($index, item.checked)"\n                               ng-class="{\'un-checked\': item.checked === false || item.checked === undefined, \'checked\': item.checked == true, \'indeterminate\': item.checked === \'null\'}"\n                               ng-model=\'item.checked\'\n                               ng-blur="checkboxCtrl.ngBlur()"\n                               sit-change="checkboxCtrl.sitChange"\n                               ng-disabled="checkboxCtrl.ngDisabled"\n                               ng-focus="checkboxCtrl.ngFocus()"\n                               ng-required="checkboxCtrl.validation.required"\n                               sit-form-input-validator />\n                        <span class="tri-state property-label-ellipsis">{{item.label}}</span>\n                    </div>\n                </ng-form>\n            </div>\n        </div>\n    </ng-form>\n</div>\n')}]),angular.module("common/widgets/typeahead/typeahead.html",[]).run(["$templateCache",function(e){e.put("common/widgets/typeahead/typeahead.html","<div ng-if=\"typeaheadCtrl.readOnly || typeaheadCtrl.ngReadonly\" class='label-property-grid-control-readonly property-value-ellipsis'>{{typeaheadCtrl.value}}</div>\n\n<ng-form ng-if=\"!(typeaheadCtrl.readOnly || typeaheadCtrl.ngReadonly)\" name='typeaheadForm' ng-class=\"{'isrequired' : (typeaheadCtrl.validation.required) && typeaheadCtrl.value===undefined}\">\n    <div class='property-grid-input-group property-grid-list' ng-if=\"typeaheadCtrl.toDisplay != null\">\n        <input type='text'\n               name='{{typeaheadCtrl.value}}'\n               ng-class=\"{'validator-control-invalid':((typeaheadForm.$invalid && typeaheadForm.$dirty) || (typeaheadForm.$invalid && typeaheadForm.$visited)),\n               'validator-control':!((typeaheadForm.$invalid && typeaheadForm.$dirty) || (typeaheadForm.$invalid && typeaheadForm.$visited)),\n               'ng-dirty':typeaheadForm.$dirty}\"\n               ng-model='typeaheadCtrl.value'\n               ng-required='typeaheadCtrl.validation.required'\n               ng-pattern='typeaheadCtrl.validation.pattern'\n               uib-typeahead='option as option[typeaheadCtrl.toDisplay] for option in typeaheadCtrl.options | filter:$viewValue'\n               ng-blur=\"typeaheadCtrl.ngBlur()\"\n               sit-change=\"typeaheadCtrl.sitChange\"\n               ng-disabled=\"typeaheadCtrl.ngDisabled\"\n               ng-focus=\"typeaheadCtrl.ngFocus()\"\n               sit-form-input-validator />\n    </div>\n\n    <div class='property-grid-input-group property-grid-list' ng-if=\"typeaheadCtrl.toDisplay == null\">\n        <input type='text'\n               name='{{typeaheadCtrl.value}}'\n               ng-class=\"{'validator-control-invalid':((typeaheadForm.$invalid && typeaheadForm.$dirty) || (typeaheadForm.$invalid && typeaheadForm.$visited)),\n               'validator-control':!((typeaheadForm.$invalid && typeaheadForm.$dirty) || (typeaheadForm.$invalid && typeaheadForm.$visited)),\n               'ng-dirty':typeaheadForm.$dirty}\"\n               ng-model='typeaheadCtrl.value'\n               ng-required='typeaheadCtrl.validation.required'\n               ng-pattern='typeaheadCtrl.validation.pattern'\n               uib-typeahead='val for val in typeaheadCtrl.options | filter:$viewValue'\n               ng-blur=\"typeaheadCtrl.ngBlur()\"\n               sit-change=\"typeaheadCtrl.sitChange\"\n               ng-disabled=\"typeaheadCtrl.ngDisabled\"\n               ng-focus=\"typeaheadCtrl.ngFocus()\"\n               sit-form-input-validator />\n    </div>\n</ng-form>")}]),angular.module("common/widgets/viewBar/view-bar.html",[]).run(["$templateCache",function(e){e.put("common/widgets/viewBar/view-bar.html",'<div id="viewBarContainer" data-internal-type="viewBarContainer">\n    <style>\n        .view-text {\n            margin-left: 5px;\n        }\n    </style>\n    <div class="dropdown btn-group group-dropdown" style="display:inline-block;" ng-if="viewBarCtrl.viewButtons.length > 1">\n        <em class="dropdown-toggle switch-button switch-button-dropdown fa ng-class:viewBarCtrl.selectedButton.faIcon" data-toggle="dropdown"><span class="caret"></span></em>\n        <ul class="dropdown-menu sit-dropdown-menu" role="menu">\n            <li ng-repeat="viewButton in viewBarCtrl.viewButtons" role="presentation" ng-click="viewBarCtrl.selectView($event, viewButton)">\n                <a role="menuitem" tabindex="-1">\n                    <span class="view-text">\n                        <em class="fa ng-class:viewButton.faIcon"></em>\n                        {{viewButton.text}}\n                    </span>\n                    <em class="fa fa-check" ng-show="viewButton.selected"></em>\n                    <br style="clear:both"/>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <sit-switch-button ng-if="viewBarCtrl.selectButton.length > 0" sit-buttons="viewBarCtrl.selectButton"></sit-switch-button>\n    <sit-switch-button ng-if="viewBarCtrl.detailsButton.length > 0" sit-buttons="viewBarCtrl.detailsButton"></sit-switch-button>\n</div>\n\n')}]),angular.module("common/widgets/workInstructionInstanceViewer/work-instruction-instance-viewer.html",[]).run(["$templateCache",function(e){e.put("common/widgets/workInstructionInstanceViewer/work-instruction-instance-viewer.html",'<div class="instance-viewer-content panel-group">\n    <div class="wi-header" ng-show="instanceViewerCtr.sections.length>1">\n        <em ng-class="(instanceViewerCtr.isAllExpanded) ? \'fa fa-2x fa-angle-double-up\' : \'fa fa-2x fa-angle-double-down\'" class="keep-right" ng-click="instanceViewerCtr.toggleExpand();"></em>\n    </div>\n    <ul class="custom-accordion sections">\n        <li ng-repeat="section in instanceViewerCtr.sections" class="panel accordion-content" ng-class="{\'closed-section\':!section.isOpen, \'single-section\':instanceViewerCtr.sections.length === 1 && section.isOpen, \'double-section\':instanceViewerCtr.sections.length === 2 && section.isOpen, \'multiple-section\':instanceViewerCtr.sections.length > 2  && section.isOpen}">\n            <div class="panel-heading">\n                <h4 class="panel-title" ng-click="instanceViewerCtr.toggleOpen(section)">\n                    <span class="panel-header-text"><label class="display-name" title="{{section.displayName}}" ng-class="section.IsCompleted ? \'ellipsis-width\' : \'full-width\'">{{section.displayName}}</label></span>\n                    <span ng-if="section.IsCompleted" class="keep-right">\n                        <em sit-mom-icon="{\'path\':\'common/icons/cmdCheckmark16.svg\',\'size\':\'16px\'}"></em>\n                    </span>\n                </h4>\n            </div>\n            <div class="panel-body" ng-class="section.isOpen ? \'step-content-show\' : \'step-content-hide\'">\n                <ul class="custom-accordion" ng-class="section.noOfSteps>1 ? \'with-pager\' : \'without-pager\'">\n                    <li ng-repeat="step in section.Steps | limitTo : 1 : (section.currentPage - 1) * 1">\n                        <span class="step-header"><label class="display-name full-width">{{step.displayName}}</label></span>\n                        <div class="step-body">\n                            <div class="instructions-box">\n                                <div ng-bind-html="step.stepInstruction" html-render-complete></div>\n                                <div class="clearfix"></div>\n                            </div>\n                            <div ng-if="step.Type === \'DataCollection\'">\n                                <sit-property-grid sit-id="content_fields_form_{{section.NId}}_{{step.NId}}"\n                                                   sit-layout="Vertical"\n                                                   sit-type="Fluid"\n                                                   sit-mode="edit">\n                                    <div ng-repeat="item in step.DataCollectionItems">\n                                        <div class="data-collection-item-caption property-label-ellipsis">\n                                            <span class="data-collection-item-bold" title="{{item.formData.Caption}}">{{item.formData.Caption}}</span>\n                                        </div>\n                                        <div ng-switch="item.UIControl" ng-class="(item.AcquisitionBehavior === instanceViewerCtr.semiAuto) ? \'acquisition-behavior-field\' : \'\'">\n                                            <div ng-switch-when="Text" class="data-collection-item">\n                                                <sit-property sit-widget="sit-text"\n                                                              sit-value="item.formData.value"\n                                                              sit-validation="item.formData.Validation"\n                                                              sit-placeholder="item.formData.Placeholder"\n                                                              ng-disabled="step.isDisabled || item.IsReadOnly || step.IsCompleted || step.IsSignaturePending"\n                                                              ng-blur="instanceViewerCtr.saveStepItem(item)">{{item.formData.Label}}:</sit-property>\n                                            </div>\n                                            <div ng-switch-when="Number" class="data-collection-item">\n                                                <div ng-class="item.formData.Uom ? \'number-box-row-flex\' : \'number-box-column-flex\'">\n                                                    <div ng-class="item.formData.Uom ? \'number-box-width\':\'number-box-full-width\'">\n                                                        <sit-property sit-widget="sit-numeric"\n                                                                      sit-value="item.formData.value"\n                                                                      sit-validation="item.formData.Validation"\n                                                                      ng-disabled="step.isDisabled || item.IsReadOnly || step.IsCompleted || step.IsSignaturePending"\n                                                                      ng-blur="instanceViewerCtr.saveStepItem(item)">{{item.formData.Label}}:</sit-property>\n                                                    </div>\n                                                    <div ng-if="item.formData.Uom !== \'\'" class="data-collection-item-uom">\n                                                        <span>{{item.formData.Uom}}</span>\n                                                    </div>\n                                                </div>\n                                                <div class="number-box-row-flex">\n                                                    <div ng-if="item.formData.IsLowLimitVisible">\n                                                        {{\'instanceViewer.dataCollection.lowLimit\' | translate}}: {{item.formData.lowLimit}}\n                                                    </div>\n\n                                                    <div ng-class="{\'space-limit\':item.formData.IsLowLimitVisible}" ng-if="item.formData.IsHighLimitVisible">\n                                                        {{\'instanceViewer.dataCollection.highLimit\' | translate}}: {{item.formData.highLimit}}\n                                                    </div>\n                                                    <div ng-class="{\'space-limit\':item.formData.IsLowLimitVisible || item.formData.IsHighLimitVisible}" ng-if="item.formData.IsTargetVisible">\n                                                        {{\'instanceViewer.dataCollection.target\' | translate}}: {{item.formData.Target}}\n                                                    </div>\n                                                </div>\n                                                <div ng-if="item.formData.validationMessage">\n                                                    <em class="fa fa-warning number-warning-message"></em>\n                                                    <span>{{item.formData.validationMessage}}</span>\n                                                </div>\n                                            </div>\n                                            <div ng-switch-when="Multiline" class="data-collection-item text-area-no-resize" ng-class="{\'text-area-large\':item.formData.Size === \'large\',\'text-area-medium\' :item.formData.Size === \'medium\'}">\n                                                <sit-property sit-widget="sit-textarea"\n                                                              sit-value="item.formData.value"\n                                                              sit-placeholder="item.formData.Placeholder"\n                                                              sit-validation="item.formData.Validation"\n                                                              ng-disabled="step.isDisabled || item.IsReadOnly || step.IsCompleted || step.IsSignaturePending"\n                                                              ng-blur="instanceViewerCtr.saveStepItem(item)">{{item.formData.Label}}:</sit-property>\n                                            </div>\n                                            <div ng-switch-when="Checkbox" class="data-collection-item">\n                                                <sit-property sit-widget="sit-tristate-checkbox"\n                                                              sit-value="item.formData.value"\n                                                              sit-validation="item.formData.Validation"\n                                                              ng-disabled="step.isDisabled || item.IsReadOnly || step.IsCompleted || step.IsSignaturePending"\n                                                              ng-blur="instanceViewerCtr.saveStepItem(item)">{{item.formData.Label}}:</sit-property>\n                                                <div ng-if="item.formData.IsTargetVisible">\n                                                    {{\'instanceViewer.dataCollection.target\' | translate}}: {{item.formData.Target}}\n                                                </div>\n                                                <div ng-if="item.formData.validationMessage">\n                                                    <em class="fa fa-warning number-warning-message"></em>\n                                                    <span>{{item.formData.validationMessage}}</span>\n                                                </div>\n                                            </div>\n                                            <div ng-switch-when="Dropdown" class="data-collection-item">\n                                                <sit-property sit-widget="sit-select"\n                                                              sit-value="item.formData.value"\n                                                              sit-validation="{required:item.IsRequired}"\n                                                              ng-disabled="step.isDisabled || item.IsReadOnly || step.IsCompleted || step.IsSignaturePending"\n                                                              sit-options="item.formData.options"\n                                                              sit-to-display="\'label\'"\n                                                              sit-to-keep="\'value\'"\n                                                              ng-blur="instanceViewerCtr.saveStepItem(item)">{{item.formData.Label}}:</sit-property>\n                                            </div>\n                                            <div ng-switch-when="MultipleChoice" class="data-collection-item">\n                                                <sit-property sit-widget="sit-radio"\n                                                              sit-value="item.formData.value"\n                                                              sit-validation="item.formData.Validation"\n                                                              ng-disabled="step.isDisabled || item.IsReadOnly || step.IsCompleted || step.IsSignaturePending"\n                                                              sit-options="item.formData.options"\n                                                              ng-blur="instanceViewerCtr.saveStepItem(item)">{{item.formData.Label}}:</sit-property>\n                                                <div ng-if="item.formData.IsTargetVisible">\n                                                    {{\'instanceViewer.dataCollection.target\' | translate}}: {{item.formData.Target}}\n                                                </div>\n                                                <div ng-if="item.formData.validationMessage">\n                                                    <em class="fa fa-warning number-warning-message"></em>\n                                                    <span>{{item.formData.validationMessage}}</span>\n                                                </div>\n                                            </div>\n                                            <div ng-switch-when="Datetime" class="data-collection-item">\n                                                <sit-property sit-widget="sit-date-time-picker"\n                                                              sit-value="item.formData.value"\n                                                              sit-format="\'MMM dd,yyyy hh:mm:ss a\'"\n                                                              ng-disabled="step.isDisabled || item.IsReadOnly || step.IsCompleted || step.IsSignaturePending"\n                                                              sit-validation="item.formData.Validation"\n                                                              ng-blur="instanceViewerCtr.saveStepItem(item)">{{item.formData.Label}}:</sit-property>\n                                                <div class="number-box-row-flex">\n                                                    <div ng-if="item.formData.IsLowLimitVisible">\n                                                        {{\'instanceViewer.dataCollection.lowLimit\' | translate}}: {{item.formData.lowLimit| date:\'MMM dd,yyyy hh:mm:ss a\'}}\n                                                    </div>\n\n                                                    <div ng-class="{\'space-limit\':item.formData.IsLowLimitVisible}" ng-if="item.formData.IsHighLimitVisible">\n                                                        {{\'instanceViewer.dataCollection.highLimit\' | translate}}: {{item.formData.highLimit| date:\'MMM dd,yyyy hh:mm:ss a\'}}\n                                                    </div>\n                                                    <div ng-class="{\'space-limit\':item.formData.IsLowLimitVisible || item.formData.IsHighLimitVisible}" ng-if="item.formData.IsTargetVisible">\n                                                        {{\'instanceViewer.dataCollection.target\' | translate}}: {{item.formData.Target| date:\'MMM dd,yyyy hh:mm:ss a\'}}\n                                                    </div>\n                                                </div>\n                                                <div ng-if="item.formData.validationMessage">\n                                                    <em class="fa fa-warning number-warning-message"></em>\n                                                    <span>{{item.formData.validationMessage}}</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </sit-property-grid>\n                            </div>\n                            <div class="confirm-button-container">\n                                <button ng-if="step.IsCompleted && instanceViewerCtr.isReEditEnabled" class="acknowledge-button float-left" ng-click="instanceViewerCtr.reEditStep(step.Id)">{{\'instanceViewer.reEdit.button\' | translate}}</button>\n                                <div ng-if="step.IsSignButtonVisible" ng-class="(!step.isDisabled && (step.IsSignaturePending || step.IsCompleted || (step.ScenarioInstanceId != null)))  ? \'button-enable\' : \'button-disable\'" class="rt-sign-button-container float-left wi-es-sign-button">\n                                    <sit-rt-signatures sit-scenario-instance="step.ScenarioInstance"></sit-rt-signatures>\n                                </div>\n                                <div class="confirm-button-type" ng-if="step.Type === \'Acknowledge\'">\n                                    <label ng-if="step.IsCompleted || step.IsSignaturePending">{{\'instanceViewer.acknowledge.text\' | translate: { CompletedBy:step.CompletedBy, AcknowledgeOn: (step.AcknowledgeOn | date:\'medium\') } }}</label>\n                                    <button ng-if="!(step.IsCompleted || step.IsSignaturePending)" class="acknowledge-button" ng-disabled="step.isDisabled" ng-click="instanceViewerCtr.acknowledge(step)">{{\'instanceViewer.acknowledge.button\' | translate}}</button>\n                                </div>\n                                <div class="confirm-button-type" ng-if="step.Type === \'DataCollection\'">\n                                    <label ng-if="step.IsCompleted || step.IsSignaturePending">{{\'instanceViewer.dataCollection.text\' | translate: { CompletedBy:step.CompletedBy, AcknowledgeOn: (step.AcknowledgeOn | date:\'medium\') } }} <label ng-if="(step.IsCompleted || step.IsSignaturePending) && step.IsOutOfSpecValues"> {{\'instanceViewer.dataCollection.outOfSpecMessage\'|translate}}</label></label>\n                                    <button ng-if="!(step.IsCompleted || step.IsSignaturePending)" class="acknowledge-button" ng-disabled="step.isDisabled || !step.validInputs" ng-click="instanceViewerCtr.confirmDataCollectionStep(step)">{{\'instanceViewer.dataCollection.button\' | translate}}</button>\n                                </div>\n                                <div class="confirm-button-type" ng-if="instanceViewerCtr.hasAcquireStep(step)">\n                                    <button ng-if="!(step.IsCompleted || step.IsSignaturePending)" class="dialogButton defaultBtnBorder"\n                                            ng-disabled="step.isDisabled || !step.validInputs" ng-click="instanceViewerCtr.acquireDataCollectionStep(step)">\n                                        {{\'instanceViewer.acquire.button\' | translate}}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n                <ul uib-pagination items-per-page="1" total-items="section.noOfSteps" ng-model="section.currentPage" boundary-links="true" max-size="10" ng-if="section.noOfSteps>1" class="pager"></ul>\n            </div>\n        </li>\n    </ul>\n</div>')}]),angular.module("common/blueprints/executeCommandTemplate/execute-commandTemplate.html",[]).run(["$templateCache",function(e){e.put("common/blueprints/executeCommandTemplate/execute-commandTemplate.html",'<sit-side-panel sit-title="{{vm.sidepanelConfig.title}}"\n                sit-messages="vm.sidepanelConfig.messages"\n                sit-actions="vm.sidepanelConfig.actionButtons"\n                sit-close="vm.sidepanelConfig.closeButton">\n\n    <div style="width:100%;height:100%" ng-if="vm.renderComplete">\n\n        <sit-property-grid sit-id="itemPropertyGrid"\n                           sit-layout="Vertical"\n                           sit-type="Fluid"\n                           sit-columns="1"\n                           sit-mode="edit"\n                           sit-form="vm.forms">\n            <div ng-repeat="obj in vm.displayData">\n                <sit-property-group ng-if="obj.container === \'g\'"\n                                    sit-id="{{obj.groupDetails.id}}"\n                                    sit-name="obj.groupDetails.heading"\n                                    sit-collapsible="obj.groupDetails.collapsible">\n                    <sit-property ng-repeat="prop in obj.fields track by prop.id"\n                                  sit-id="{{prop.name}}"\n                                  sit-widget="{{prop.widget}}"\n                                  sit-change="vm.DigestEval"\n                                  ng-disabled="prop.readOnly || vm.ngDisableItem[prop.name].value"\n                                  sit-widget-attributes="prop.widgetAttributes"\n                                  sit-value="vm.currentItem[prop.name]"\n                                  sit-validation="vm.allValidations[prop.name]">\n                        {{prop.label}}:\n                    </sit-property>\n                </sit-property-group>\n                <sit-property ng-if="obj.container === \'f\'"\n                              sit-id="{{obj.name}}"\n                              sit-widget="{{obj.widget}}"\n                              sit-change="vm.DigestEval"\n                              ng-disabled="obj.readOnly || vm.ngDisableItem[obj.name].value"\n                              sit-widget-attributes="obj.widgetAttributes"\n                              sit-value="vm.currentItem[obj.name]"\n                              sit-validation="vm.allValidations[obj.name]">\n                    {{obj.label}}:\n                </sit-property>\n            </div>\n        </sit-property-grid>\n    </div>\n</sit-side-panel>')}]),angular.module("common/blueprints/masterDetailsTemplate/masterDetailsLayoutTemplate.html",[]).run(["$templateCache",function(e){e.put("common/blueprints/masterDetailsTemplate/masterDetailsLayoutTemplate.html",'<div class="content-area content-area-relative" style="height:100% !important" id="masterDetailsLayout" ng-if="vm.isInitComplete">\n    <h2>{{vm.screenTitle}}</h2>\n    <div id="masterList" style="height:100%">\n        <div style="display:inline-block;vertical-align:top;float:right;height:100%">\n            <sit-command-bar sit-commands="vm.newObj.actions" sit-layout="vertical"></sit-command-bar>\n        </div>\n        <div style="display:inline-block;vertical-align:top; height:99%">\n            <sit-item-collection-viewer sit-data="vm.newObj.master.runtimeData" sit-options="vm.newObj.master.runtimeConf"></sit-item-collection-viewer>\n        </div>\n        <div class="mduiDetails" ng-class="{noDrillDownPadding:!vm.isDrillDownState}">\n            <div class="mduiBreadcrumb" ng-if="vm.isDrillDownState"> <sit-breadcrumb></sit-breadcrumb></div>\n            <tabset ng-class="{drillDownTab:vm.isDrillDownState === true }">\n                <tab ng-repeat="detail in vm.newObj.details" index="{{$index}}" heading="{{detail.title || detail.id | translate}}" select="vm.setActiveTabIndex(detail.id)" active="detail.isActive" disabled="detail.isDisabled">\n                    <div id="detailList" ng-if="detail.multiplicity === \'many\' && detail.id === vm.activeContentId" style="height:100%">\n                        <sit-item-collection-viewer sit-data="detail.runtimeData" sit-options="detail.runtimeConf"></sit-item-collection-viewer>\n                    </div>\n                    <div ng-if="detail.multiplicity === \'one\' && vm.ready && vm.propertiesLoaded">\n                        <sit-property-grid sit-id="itemPropertyGrid1"\n                                           sit-layout="Horizontal"\n                                           sit-type="{{detail.runtimeConf.type}}"\n                                           sit-columns="detail.runtimeConf.columns"\n                                           sit-mode="{{detail.runtimeConf.mode}}"\n                                           sit-data="detail.runtimeConf.data"\n                                           sit-groups="vm.groupDetails">\n                        </sit-property-grid>\n                    </div>\n                    <div ng-if="detail.multiplicity === \'auditTrail\' && detail.runtimeConf.filter.EntityId !==\'\'">\n                        <sit-at-viewer sit-filter="detail.runtimeConf.filter"\n                                       sit-start-empty="detail.runtimeConf.startEmpty"\n                                       sit-config="detail.runtimeConf.config">\n                        </sit-at-viewer>\n                    </div>\n                    <div style="overflow-x:auto;overflow-y:auto;height:100%" ng-if="detail.multiplicity === \'custom\'">\n                        <div init="{{activeContent = vm.activeContentId}}" ng-include="detail.templatePath"></div>\n                    </div>\n                </tab>\n            </tabset>\n        </div>\n    </div>\n</div>\n')}]),angular.module("common/blueprints/overviewTemplate/overviewTemplate.html",[]).run(["$templateCache",function(e){e.put("common/blueprints/overviewTemplate/overviewTemplate.html",'<sit-side-panel sit-title="{{vm.sidepanelConfig.title}}"\n                sit-messages="vm.sidepanelConfig.messages"\n                sit-actions="vm.sidepanelConfig.actionButtons"\n                sit-close="vm.sidepanelConfig.closeButton">\n\n    <sit-property-grid sit-id="itemPropertyGrid"\n                       sit-layout="Vertical"\n                       sit-type="Fluid"\n                       sit-columns="1"\n                       sit-mode="list">\n        <div ng-repeat="obj in vm.displayData">\n            <sit-property-group ng-if="obj.container === \'g\'"\n                                sit-id="{{obj.groupDetails.id}}"\n                                sit-name="obj.groupDetails.heading"\n                                sit-collapsible="obj.groupDetails.collapsible">\n                <sit-property ng-repeat="prop in obj.fields"\n                              sit-id="{{prop.name}}"\n                              sit-widget="{{prop.widget}}"\n                              ng-disabled="true"\n                              sit-widget-attributes="prop.widgetAttributes"\n                              sit-value="vm.currentItem[prop.name]">\n                    {{prop.label}}:\n                </sit-property>\n            </sit-property-group>\n            <sit-property-group ng-if="obj.container === \'f\'"\n                                 sit-show-accordion="false">\n                <sit-property ng-repeat="prop in obj.fields"\n                              sit-id="{{prop.name}}"\n                              sit-widget="{{prop.widget}}"\n                              ng-disabled="true"\n                              sit-widget-attributes="prop.widgetAttributes"\n                              sit-value="vm.currentItem[prop.name]">\n                    {{prop.label}}:\n                </sit-property>\n        </div>\n\n    </sit-property-grid>\n</sit-side-panel>')}]),angular.module("common/blueprints/singleEntityTemplate/singleEntityLayoutTemplate.html",[]).run(["$templateCache",function(e){e.put("common/blueprints/singleEntityTemplate/singleEntityLayoutTemplate.html",'<div class="content-area content-area-relative" style="height:100% !important" id="singleEntityLayout" ng-if="vm.isInitComplete">\n    <h2>{{vm.screenTitle}}</h2>\n    <div ng-if="vm.isDrillDownState" class="mduiBreadcrumb mduiBreadcrumbPadding"> <sit-breadcrumb></sit-breadcrumb></div>\n    <div style="display:inline-block;vertical-align:top;float:right;height:100%;">\n        <sit-command-bar sit-commands="vm.newObj.actions" sit-layout="vertical"></sit-command-bar>\n    </div>\n    <div id="masterList" class="mduiSingleEntity"\n         ng-style="{\'height\': (vm.isDrillDownState != true) ? \'calc(100% - 16px)\': \'calc(100% - 61px)\'}">\n        <sit-item-collection-viewer sit-data="vm.newObj.master.runtimeData" sit-options="vm.newObj.master.runtimeConf"></sit-item-collection-viewer>\n    </div>\n</div>\n')}]),function(){"use strict";angular.module("siemens.simaticit.common.services.security",[])}(),function(e){var t,n,i,o,a;t=e.simaticit||(e.simaticit={}),n=t.common||(t.common={}),i=n.services||(n.services={}),o=i.security||(i.security={}),a=function(){function e(e,t,n,i,o){this.$q=e,this.CONFIG=t,this.securityService=n,this.functionRightModel=i,this.authenticationSvc=o,(this._this=this).securableScreens=[],this.authorizedScreens=[],this.isFunctionalRightsLoaded=!1}return e.prototype.initialize=function(){var t=this.$q.defer(),n=this;if(this.securableScreens=[],this.authorizedScreens=[],this.CONFIG.menu.forEach(function(e){e.contents&&0<e.contents.length?e.contents.forEach(function(e){!0===e.securable&&n.securableScreens.push(e.id)}):!0===e.securable&&n.securableScreens.push(e.id)}),0<n.securableScreens.length)if("test"===n.CONFIG.mode&&n.isAdminUser())n.authorizedScreens=n.securableScreens,n.isFunctionalRightsLoaded=!0,t.resolve();else{var e=[new n.functionRightModel("screen",n.securableScreens[0],"view")];n.securityService.canPerformOp(e).then(function(){n.securityService.rightList.forEach(function(e){n.authorizedScreens.push(e.object_name)}),n.authorizedScreens=_.uniq(n.authorizedScreens),n.isFunctionalRightsLoaded=!0,t.resolve()},function(e){n.isFunctionalRightsLoaded=!0,t.reject(e)})}else n.isFunctionalRightsLoaded=!0,t.resolve();return t.promise},e.prototype.isAdminUser=function(){var t=!1;return this.authenticationSvc._userGroup&&(_.isArray(this.authenticationSvc._userGroup)?this.authenticationSvc._userGroup.forEach(function(e){-1<e.search("SIT_UAF_SYSADMIN")&&(t=!0)}):t=-1<this.authenticationSvc._userGroup.search("SIT_UAF_SYSADMIN")),t},e.prototype.getAuthorizedScreens=function(){return this.authorizedScreens},e.prototype.getSecurableScreens=function(){return this.securableScreens},e.prototype.isScreenAccessible=function(e){return!_.contains(this.securableScreens,e)||!!_.contains(this.authorizedScreens,e)},e.$inject=["$q","CONFIG","common.services.security.securityService","common.services.security.functionRightModel","common.services.ui.authentication"],e}(),o.UIAuthSvc=a,angular.module("siemens.simaticit.common.services.security").service("common.services.security.ui.authorization",a)}(siemens||(siemens={})),function(){"use strict";angular.module("siemens.simaticit.common.services.security").factory("common.services.security.functionRightModel",function(){return function(e,t,n){this.categoryName=e,this.objectName=t,this.operationName=n}}),angular.module("siemens.simaticit.common.services.security").factory("common.services.security.functionRightListModel",function(){return function(e){this.functionRightList=e}}),angular.module("siemens.simaticit.common.services.security").factory("common.services.security.securityResponse",["ExecutionError",function(a){return function(e,t,n,i,o){this.categoryName=e,this.objectName=t,this.operationName=n,this.isAccessible=i||!1,this.error=$.extend(new a,o||{errorCode:0,errorMessage:""})}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.security").provider("common.services.security.config",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.security").service("common.services.security.securityService",["$q","$http","common","ExecutionError","common.services.security.securityResponse","CommandResponse","common.services.security.config",function(c,l,d,m,u,p,e){var g=e.config.oDataServiceURI,f=null,h=null,v=!1;this.canPerformOp=function(e){var t=c.defer(),n=[],i=null,o=null;if(e.length<=0)return i=new p(!1,new m(-1,"You must specify an array with at least one Right.")),d.logger.logError("-1 : You must specify an array with at least one Right.","","Security Service"),t.reject(i),t.promise;o=e[0].categoryName;var a,r,s=!0;return n=_.map(e,function(e){return e.categoryName!==o&&(s=!1),new u(e.categoryName,e.objectName,e.operationName)}),s?(a=o,r=c.defer(),f&&f.hasOwnProperty(a)?r.resolve():(void 0===C[a]&&(C[a]=[]),C[a].push(r),1===C[a].length&&l.post(g+"GetCurrentIdentityClaimsCommand",{command:{Category:a}}).then(function(e){f||(f={}),f[a]=JSON.parse(e.data.Identity),_.each(C[a],function(e){e.resolve()}),C[a]=void 0},function(){d.logger.logError("-1: Command Error: user data is not present","","QoS Security Service"),_.each(C[a],function(e){e.reject()}),C[a]=void 0}).catch(function(){_.each(C[a],function(e){d.logger.logError("-1: Command Error: Service unavailable","","QoS Security Service"),e.reject()}),C[a]=void 0})),r.promise).then(function(){!function(e,t){try{if(!(h&&0<h.length&&h[0].category_name===t)){var n=f[t].role_associations;h=[],n.forEach(function(e){h=h.concat(function n(e){var i=[];try{e.forEach(function(e){if(i.push({category_name:e.category_name,object_name:e.object_name,operation_name:e.operation_name}),e.function_rights&&0<e.function_rights.length){var t=n(e.function_rights);i=i.concat(t)}})}catch(e){v=!0}return i}(e.function_rights))})}y.rightList=h||[],e.forEach(function(e){if(v)e.error.errorCode=-1,e.error.errorMessage="generic Error";else{var t=_.findWhere(h,{category_name:e.categoryName,object_name:e.objectName,operation_name:e.operationName});t&&(e.isAccessible=!0)}})}catch(e){v=!0,d.logger.logError("getFunctionRightPermission",e,"siemens.simaticit.common.services.security")}}(n,o),t.resolve(n)},function(){t.reject(n)}):(i=new p(!1,new m(-1,"You must specify the same category for all the array elements.")),d.logger.logError("-1 : You must specify the same category for all the array elements.","","Security Service"),t.reject(i)),t.promise};var y=this,C={};d.authentication.getCurrentUser().then(null,null,function(e){e||(f=null)})}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.administration",[])}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(){this.config={oDataServiceURI:""}}return e.prototype.$get=function(){return{config:this.config}},e}(),t.AdministrationConfig=n,angular.module("siemens.simaticit.common.services.administration").provider("common.services.administration.DataConfig",n),angular.module("siemens.simaticit.common.services.administration").service("common.services.administration.data.service",["common.services.administration.DataConfig","$injector","$translate","$q","common","CommandResponse","ExecutionError","common.services.logger.service",function(e,l,t,d,m,r,s,c){var u=e.config.oDataServiceURI,p=function(e){switch(e){case 404:return t.instant("ERRORS.404");case 503:return t.instant("ERRORS.503");case 400:return t.instant("ERRORS.400");case 403:return t.instant("ERRORS.403");case 500:return t.instant("ERRORS.500");case"4XX":return t.instant("ERRORS.4XX");case"5XX":return t.instant("ERRORS.5XX")}};function g(e,t,n){var i=null;if(e)try{var o=JSON.parse(e);o.Error?(i=new r(o.Succeeded,new s(o.Error.ErrorCode,o.Error.ErrorMessage)),c.logDebug(o.Error.ErrorCode+" : "+o.Error.ErrorMessage,"","siemens.unity.common.administration"),o.Identity&&(i.identity=JSON.parse(o.Identity)),o.NodeStatusList&&(i.hosts=JSON.parse(o.NodeStatusList)),o.LicenseStatusInfo&&(i.licenseStatusInfo=JSON.parse(o.LicenseStatusInfo))):(i=new r(!1,new s(o.error.code,o.error.message)),c.logError(o.error.code+" : "+o.error.message,"","siemens.unity.common.administration"))}catch(e){var a=Math.floor(n/100);p(n)?(i=new r(!1,new s(n,"Error: "+p(n))),c.logError(n+"Error: "+p(n),"siemens.unity.common.administration")):p(a+"XX")?(i=new r(!1,new s(n,"Error: "+p(a+"XX"))),c.logError(n+"Error: "+p(a+"XX"),"siemens.unity.common.administration")):(i=new r(!1,new s(-1,"Error: "+e.message)),c.logError("-1: Error: "+e.message,"","siemens.unity.common.administration"))}else i=new r(!1,new s(-1,"Generic Error")),c.logError("-1: Error: Generic Error","","siemens.unity.common.administration");return i}this.getIdentityClaims=function(){var e=l.get("$http");return l.get("$resource")("",{},{getIdentity:{method:"POST",url:u+"GetCurrentIdentityClaimsCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Category:e.category}}}].concat(e.defaults.transformRequest),transformResponse:[g].concat(e.defaults.transformResponse)}})},this.invokeAdministrationCommand=function(e,t){return n=u,i=e,o=t,a=d.defer(),(r=i,s=n,c=l.get("$http"),l.get("$resource")("",{},{cmd:{method:"POST",url:s+r,transformRequest:[function(e){return{command:e}}].concat(c.defaults.transformRequest),transformResponse:[g].concat(c.defaults.transformResponse)}})).cmd(o,function(e){a.resolve(e)},function(e){var t=m.setExecutionError(e);a.reject(t)}),a.promise;var n,i,o,a,r,s,c}}])}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.component",[])}(),function(){"use strict";function e(m,e,o,t,u){var n=this,i={},p=[],g=[],a=[],r=u.defer();function s(e,t){(i[e]=t).beginShow(!0)}function c(e){i[e]=void 0}function l(e,t){o.logError(e,t,"common.services.component.swacComponentService")}function d(){if(0!==p.length)for(;0<p.length;)v(p.pop(),g.pop())}function f(){l("Error in container close lifecycle"),d()}function h(){r.resolve()}function v(e,i){r.promise.then(function(){SWAC.Container.beginCreate([e]).then(function(e){var t,n;t="Container component(s) successfully created:"+e,o.logInfo(t,n,"common.services.component.swacComponentService"),i&&i.resolve(e)},function(e){i&&i.reject(e),l("Error during component creation:"+e)})})}function y(e,t,n,i,o,a,r,s,c){if(void 0===e||void 0===t||void 0===n||void 0===o||void 0===a||void 0===r||void 0===s||void 0===c)throw new Error("swacService createComponent method failed!");var l=u.defer(),d={name:e,type:t,source:n,parent:i,settings:{left:o+"px",top:a+"px",width:r,height:s,flavor:c}};return m.isContainerClosing()?(p.push(d),g.push(l)):v(d,l),l.promise}function C(e){return i[e]}function b(e,t,n){if(m.isContainerClosing())a.push({componentName:e,eventName:t,callback:n});else{var i=C(e);i?void 0!==i.proxy?void 0!==i.proxy[t]?i.proxy[t].subscribe(function(e){var t=e.data;n(t)}):l("handleComponentEvent: component proxy doesn't contain the event",{component:e,event:t}):l("handleComponentEvent: component proxy is not available",{component:e}):a.push({componentName:e,eventName:t,callback:n})}}function w(){var e=a;a=[];for(var t=0;t<e.length;t++){var n=e[t];b(n.componentName,n.eventName,n.callback)}}function S(e,t,n){var i=C(e);void 0!==i?void 0!==i.proxy?void 0!==i.proxy[t]?i.proxy[t].apply(i,n):l("callComponentFunction: component proxy doesn't contain the function",{component:e,function:t}):l("callComponentFunction: component proxy is not available",{component:e}):l("callComponentFunction: unable to find component",{component:e})}n.loadComponent=y,n.getComponent=C,n.handleComponentEvent=b,n.callComponentFunction=S,n.handleEvents=w,n.setComponentReady=s,n.setComponentRemoved=c,n.setServiceReady=h,m.onReadySubscribe(s),m.onRemoveSubscribe(c),t.$on("component.swacContainerService.containerCloseStarted",d),t.$on("component.swacContainerService.containerClosedFailed",f)}angular.module("siemens.simaticit.common.services.component").service("common.services.component.swacComponentService",e),e.$inject=["common.services.component.swacContainerService","$timeout","common.services.logger.service","$rootScope","$q"]}(),function(){"use strict";function e(i,o,e){var t=this,a=!1,r={};function n(e,t){SWAC.Services.register(e,t)}function s(e){SWAC.Config.TimeOuts.Create=e||2e4}function c(e){SWAC.Config.TimeOuts.Internal=e||2e4}function l(e){SWAC.Config.TimeOuts.Proxy.Functions=e||2e4}function d(e){SWAC.Config.TimeOuts.Proxy.Events=e||2e4}function m(e){SWAC.Config.Container.URLs.BaseLibrary=function(){return e}}function u(e){var t=null;e&&0<e.length&&(t=e),a=!0,SWAC.Container.beginClose(t,!0,6e4).then(function(e){var t,n;a=!1,o.$broadcast("component.swacContainerService.containerCloseStarted"),t="Container successfully closed:"+e,i.logInfo(t,n,"common.services.component.swacComponentService")},function(e){var t,n;a=!1,o.$broadcast("component.swacContainerService.containerClosedFailed",e),t="Error during container close:"+e,i.logError(t,n,"common.services.component.swacComponentService")})}function p(e){void 0!==e&&x("onReady",e)}function g(e){void 0!==e&&T("onReady",e)}function f(e){void 0!==e&&x("onCreated",e)}function h(e){void 0!==e&&T("onCreated",e)}function v(e){void 0!==e&&x("onRemove",e)}function y(e){void 0!==e&&T("onRemove",e)}function C(){return a}function b(e){I("onCreated",[e.data.name])}function w(e){I("onReady",[e.data.name,SWAC.Container.get({name:e.data.name})])}function S(e){I("onRemove",[e.data.name])}function x(e,t){void 0===r[e]&&(r[e]=[]),r[e].push(t)}function T(e,t){if(void 0!==r[e]){var n,i,o=0;for(o=0,i=(n=r[e]).length;o<i;o++)if(n[o]===t){n.splice(o,1);break}}}function I(e,t){if(void 0!==r[e]){var n,i,o=0;for(o=0,i=(n=r[e].slice()).length;o<i;o++)n[o].apply(this,t)}}t.isContainerClosing=C,t.setCreateTimeOut=s,t.setInternalTimeOut=c,t.setProxyFunctionsTimeOut=l,t.setProxyEventsTimeOut=d,t.setContainerBaseLibrary=m,t.closeContainer=u,t.onReadySubscribe=p,t.onReadyUnsubscribe=g,t.onCreatedSubscribe=f,t.onCreatedUnsubscribe=h,t.onRemoveSubscribe=v,t.onRemoveUnsubscribe=y,t.registerService=n,SWAC.Container.onCreated.subscribe(b),SWAC.Container.onReady.subscribe(w),SWAC.Container.onRemoved.subscribe(S)}angular.module("siemens.simaticit.common.services.component").service("common.services.component.swacContainerService",e),e.$inject=["common.services.logger.service","$rootScope","common.services.umc"]}(),function(){"use strict";function e(a,i,o,r,n){var e=this,s={},c=[],l={};function t(e,t){if(S("_onDesignModeToggle",[t]),l.designModeToggleCallbacks&&0!==l.designModeToggleCallbacks.length)for(var n=0;n<l.designModeToggleCallbacks.length;n++)l.designModeToggleCallbacks[n](t)}function d(e){if(e.componentName){var t={height:e.height,width:e.width};if(S("_onComponentResize",[t],[e.componentName]),l[e.componentName]&&0!==l[e.componentName].length)for(var n=0;n<l[e.componentName].length;n++)l[e.componentName][n](t)}}function m(e,t){e?t?(l[e]||(l[e]=[]),l[e].push(t)):I("registerComponentResizeCallback: unable to register callback: valid callback method should be passed as second argument",{}):I("registerComponentResizeCallback: unable to register callback: component name should be passed as first argument",{})}function u(e,t){if(e)if(t){if(l[e]&&0!==l[e].length)for(var n=0;n<l[e].length;n++)if(l[e][n]===t){l[e].splice(n,1);break}}else I("deregisterComponentResizeCallback: unable to de-register callback: valid callback method should be passed as second argument",{});else I("deregisterComponentResizeCallback: unable to de-register callback: component name should be passed as first argument",{})}function p(e){e?(l.designModeToggleCallbacks||(l.designModeToggleCallbacks=[]),l.designModeToggleCallbacks.push(e)):I("registerDesignModeToggleCallback: unable to register callback: valid callback method should be passed as argument",{})}function g(e){if(e){if(l.designModeToggleCallbacks&&0!==l.designModeToggleCallbacks.length)for(var t=0;t<l.designModeToggleCallbacks.length;t++)if(l.designModeToggleCallbacks[t]===e){l.designModeToggleCallbacks.splice(t,1);break}}else I("deregisterDesignModeToggleCallback: unable to de-register callback: valid callback method should be passed as argument",{})}function f(e,t){s[e]={instance:t,handlers:[]}}function h(){S("_onComponentDestroy",[]);for(var e=0,t=Object.keys(s),n=t.length;e<n;e++)for(var i=t[e],o=0;o<s[i].handlers.length;o++)s[i].handlers[o]();s={}}function v(e){if(void 0!==e&&0!==e.length){S("_onComponentDestroy",[],e);for(var t=0,n=e.length;t<n;t++){var i=e[t];if(s.hasOwnProperty(i)){for(var o=0;o<s[i].handlers.length;o++)s[i].handlers[o]();delete s[i]}}}else h()}function y(e){return s[e]}function C(e,t,n){var i=y(e);if(i){var o=a.$on(i.instance.componentName+"."+e+"."+t,function(e,t){n(t)});i.handlers.push(o)}else c.push({componentName:e,eventName:t,callback:n})}function b(){var e=c;c=[];for(var t=0;t<e.length;t++){var n=e[t];C(n.componentName,n.eventName,n.callback)}}function w(){for(var e=0,t=Object.keys(s),n=t.length;e<n;e++){var i=t[e],o=s[i].instance;o.hub.hasOwnProperty("_onComponentReady")&&"function"==typeof o.hub._onComponentReady&&o.hub._onComponentReady.call(o.hub,o.instance)}}function S(e,t,n){void 0===n&&(n=Object.keys(s));for(var i=0,o=n.length;i<o;i++){var a=n[i];if(s.hasOwnProperty(a)){var r=s[a].instance.hub;r.hasOwnProperty(e)&&"function"==typeof r[e]&&x(r,e,t)}}}function x(e,t,n){i(function(){e[t].apply(e,n)})}function T(e,t,n){var i=y(e);void 0!==i?void 0!==i.instance.hub?void 0!==i.instance.hub[t]?i.instance.hub[t].apply(i.instance.hub,n):I("callComponentFunction: component hub does'nt contain the function",{component:e,function:t}):I("callComponentFunction: component hub is not available",{component:e}):I("callComponentFunction: unable to find component",{component:e})}function I(e,t){n.logError(e,t,"common.services.component.uiComponentService")}function k(e,t){var n=e+"\\components\\"+t+".json",i=r.defer();return o.get(n).then(function(e){i.resolve(e.data)}).catch(function(){i.reject}),i.promise}e.addComponent=f,e.resetComponents=h,e.getComponent=y,e.handleComponentEvent=C,e.callComponentFunction=T,e.getComponentManifest=k,e.handleEvents=b,e.removeComponents=v,e.registerComponentResizeCallback=m,e.registerDesignModeToggleCallback=p,e.deregisterDesignModeToggleCallback=g,e.deregisterComponentResizeCallback=u,e.onComponentResize=d,e.startComponents=w,a.$on("siemens.simaticit.common.services.layout.shell.gridster-resizable-draggable-changed",t)}angular.module("siemens.simaticit.common.services.component").service("common.services.component.uiComponentService",e),e.$inject=["$rootScope","$timeout","$http","$q","common.services.logger.service"]}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e,t,n,i,o,a){var r=this;this.$window=e,this.$log=t,this.$q=n,this.authentication=i,this.uiComponentService=o,this.$rootScope=a,this.createDpcNode=function(e,t){if("data"!==t.node){if("structures"===t.node)for(var n in e+=".",t.children)t.children.hasOwnProperty(n)&&r.createDpcNode(e+n,t.children[n])}else r.dpcStructure(e,t)},this.dpcStructure=function(e,t){var n={key:void 0,value:void 0,flags:void 0,type:void 0};n.key=e,n.value=r.getDefaultValue(t.type),n.flags=t.permission,n.type=t.type,r.dpc(n)},this.defaultBind=function(e){r.swacComponent.root=e;var t=r;r.swacComponent.root.onValueChanged.subscribe(function(e){t.swacComponent.bind&&t.swacComponent.bind(e.data)})},this.initSwac(e,t)&&this.init()}return e.prototype.initSwac=function(e,t){return void 0===e.SWACBoot?(t.error("SWACBoot is unavailable"),!1):void 0===e.SWAC?(t.error("SWACBoot is unavailable"),!1):(this.SWACBoot=e.SWACBoot,this.SWAC=e.SWAC,!0)},e.prototype.init=function(){if(this.enabled=!1,this.swacStartCalled=!1,this.containerPrefix="internal_",this.$window.document)for(var e=this.$window.document.getElementsByTagName("head")[0].attributes,t=0;t<e.length;t++)if("swac"===e[t].nodeName){this.enabled=!0;break}this.bootComplete=!1,this.waitingForExpose=!1},e.prototype.startComponent=function(){var n=this.$q.defer(),i=this;if(!this.authentication.isAuthorized()){var e=this.swacComponent?this.swacComponent.name:"NO COMPONENT NAME";return this.$log.error("Error: Called startComponent but not authorized:"+e),this.$q.reject("No Auth")}return this.$log.log("Swac Component Manager: startComponent"),this.swacStartCalled||(this.swacStartCalled=!0,this.$log.log("Swac Component Manager: SWACBoot Start"),this.SWACBoot.start(function(e){var t=i.swacComponent?i.swacComponent.name:"NO COMPONENT NAME";i.$log.log("Success: "+e.message+"CMP: "+t),i.bootComplete=!0,n.resolve(e)},function(e){var t=i.swacComponent?i.swacComponent.name:"NO COMPONENT NAME";i.bootComplete=!1,i.$log.error("Error:"+e.message+" - BOOTSTRAPPER ERROR:\n:"+t),n.reject(e)},"*","no",3e4)),n.promise},e.prototype.exposeComponent=function(){var e=this,t=this.$q.defer();return this.startComponent().then(function(){if(!e.bootComplete||!e.waitingForExpose)return e.$log.error("ExposeComponent: Promise StartComponent Resolved but or not BoootComplete or not waitingForExpose: "+e.swacComponent.interface),void t.reject();new e.SWAC.Hub(e.swacComponent.interface).beginExpose().then(function(){e.$log.log("Successfully exposed component: "+e.swacComponent.name),t.resolve()},function(){e.$log.error("swacHub failed to expose component: "+e.swacComponent.name),t.reject()})},function(){e.$log.error("ExposeComponent: failed startComponent promise: "+e.swacComponent.name),t.reject()}),t.promise},e.prototype.registerEvent=function(t){var n=this;this.event(t),this.uiComponentService.handleComponentEvent(this.containerPrefix+this.swacComponent.name,t,function(e){n.fireEvent(t,e)})},e.prototype.registerMethod=function(e){var t=this;this.method(e,function(){return t.uiComponentService.callComponentFunction(t.containerPrefix+t.swacComponent.name,e,arguments)})},e.prototype.getDefaultValue=function(e){switch(e){case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return""}},e.prototype.create=function(e){if(!this.enabled)return this;if(!e)throw new Error("Component name not provided");return this.swacComponent={name:e,interface:{dpc:{structure:[],bind:this.defaultBind}}},this},e.prototype.method=function(e,t){if(!this.enabled)return this;if(!this.swacComponent)throw new Error("Component not created");return"string"!=typeof e||"function"!=typeof t?this.$log.error("Mismatch in type of the input parameters"):this.swacComponent.interface[e]=t,this},e.prototype.event=function(e){if(!this.enabled)return this;if(!this.swacComponent)throw new Error("Component not created");return"string"!=typeof e?this.$log.error("Mismatch in type of the input parameters.event name should be a string"):this.swacComponent.interface[e]=new this.SWAC.Eventing.Event(e),this},e.prototype.dpc=function(e){if(!this.enabled)return this;if(!this.swacComponent)throw new Error("Component not created");return this.swacComponent.interface.dpc.structure.push(e),this},e.prototype.bind=function(e){if(!this.enabled)return this;if(!this.swacComponent)throw new Error("Component not created");return this.swacComponent.bind=e,this},e.prototype.fireEvent=function(e,t){if(this.enabled){if(!this.swacComponent)throw new Error("Component not created");this.swacComponent.interface[e]?this.swacComponent.interface[e].fire?this.swacComponent.interface[e].fire(t):this.$log.error(e+" is not registered as an event"):this.$log.error("Event "+e+" not registered")}},e.prototype.createFrom=function(e){var t=this;if(!this.enabled)return this;if(void 0===e)throw new Error("Component not created.component manifest is undefined");var n=e.uiComponent.contracts.api,i=e.uiComponent.contracts.dpc;if(this.create(e.uiComponent.identity.name),!n&&!i)return this;if(n&&n.methods)for(var o in n.methods)n.methods.hasOwnProperty(o)&&this.registerMethod(o);if(n&&n.events){for(var a in n.events)n.events.hasOwnProperty(a)&&this.registerEvent(a);this.$rootScope.$on("siemens.simaticit.common.widgets.container.mashupReady",function(){t.uiComponentService.handleEvents()})}if(i&&0<Object.keys(i).length)for(var r in i)i.hasOwnProperty(r)&&this.createDpcNode(r,i[r]);return this},e.prototype.expose=function(){if(this.enabled){if(!this.swacComponent)throw new Error("Component not created");return this.waitingForExpose=!0,this.exposeComponent()}},e.prototype.setDpcValue=function(e,t){if(this.enabled){if(!this.swacComponent)throw new Error("Component not created");if(!this.swacComponent.root.open(e))throw new Error("DPC key is not present");this.swacComponent.root.open(e).set(t)}},e.prototype.getDpcValue=function(e){if(this.enabled){if(!this.swacComponent)throw new Error("Component not created");if(!this.swacComponent.root.open(e))throw new Error("DPC key is not present");return this.swacComponent.root.open(e).get()}},e.$inject=["$window","$log","$q","common.services.ui.authentication","common.services.component.uiComponentService","$rootScope"],e}(),t.SwacComponentManager=n,angular.module("siemens.simaticit.common.services.component").service("common.services.component.swacComponentManager",n)}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.documentation",[])}(),function(){"use strict";function e(a,t,n,r,s,c,l,e){var i=this,d=e.config.oDataServiceURI;function m(e){return t("",{},{getAll:{method:"GET",url:e,transformResponse:[function(e){var t=null;if(e)try{var n=JSON.parse(e);if(n["odata.error"]&&(t=new c(!1,new l(n["odata.error"].code,n["odata.error"].message.value)),s.logger.logError(n["odata.error"].code+" : "+n["odata.error"].message.value,"","Exchange Data Service")),n["@odata.context"]){t=new c(!0,new l(0,""));var i=n.value;t.value=void 0===i?n.Value:n.value}n.error&&(t=new c("false",new l(n.error.code,n.error.message)),s.logger.logError(n.error.code+" : "+n.error.message,"","Exchange Data Service"))}catch(e){t=new c(!1,new l(-1,"Error: "-e.message)),s.logger.logError("-1: Error: "+e.message,"","Exchange Data Service")}else t=new c(!1,new l(-1,"Generic Error")),s.logger.logError("-1: Error: Generic Error","","Exchange Data Service");return t}].concat(n.defaults.transformResponse)}})}function u(e,t,n,i){var o=a.defer();return m(e).getAll(function(e){e.value&&(i&&function(e){for(var t=function(){var e=$(this);return e.text(e.text().trim().replace(/ {2}/g," ")),e.attr("sit-code-highlight",!0)},n=0;n<e.length;n++){var i="";if(e[n].Contents){i=e[n].Contents;var o=$("<div>"+i+"</div>");o.find(".codeSnippetContainerCode > pre, code").replaceWith(t),i=o.html()}(i||""!==i)&&(e[n].Contents=i)}}(e.value),t&&function(e){for(var t=new Array(["Audience","Technology","Functionality","ProductOptionVersions"]),n=new Array(["BookletId","Author","BookletSummary","State","Revision","ReleaseId","ProductOptionVersions","Product","Version","MasterProductVersion","Language"]),i=0;i<e.length;i++){var o=e[i];for(var a in o)if(o.hasOwnProperty(a)){if(-1<t.indexOf(a)&&null!==e[i][a]){var r=e[i][a].split(",");delete e[i][a];for(var s=[],c=0;c<r.length;c++)s.push(r[c].replace(" ","").replace(".",""));e[i][a]=s}-1<n.indexOf(a)&&delete e[i][a]}}}(e.value),n&&function(e){for(var t,n=0;n<e.length;n++){var i=e[n],o=null;for(var a in i)"DocumentId"===a&&(o=e[n][a]);if(e[n].Contents){var r=$.parseHTML(e[n].Contents),s=$(r).find("[href]");for(t=0;t<s.length;t++){var c=s[t];if(c.attributes.href){var l=c.attributes.href.value;if(-1===l.toLowerCase().indexOf("http")){var d="",m="";if(-1<l.toLowerCase().indexOf("$filter=contains"))m=l.split("'");else{var u=null;(m=l.split("'"))[1]&&(u=m[1]),d="#/document/"+o+"/page/"+u,s[t].attributes.href.value=d}}}}var p="";for(t=0;t<r.length;t++)"#text"!==r[t].nodeName&&"META"!==r[t].nodeName&&"LINK"!==r[t].nodeName&&(p+=r[t].outerHTML);e[n].Contents=p}}}(e.value))},function(e){var t=s.setExecutionError(e);return o.reject({data:new c(!1,new l(-1,t))}),o.promise}).$promise}function o(e){var t=a.defer();return e&&""!==e?u(d+"Asset('"+e+"')",!1,!1,!1):(t.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),t.promise)}function p(e){var t=d+"Asset";return e&&(t+="?"+e),u(t,!1,!1,!1)}function g(e){var t=a.defer();return e&&""!==e?u(d+"Release('"+e+"')",!1,!1,!1):(t.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),t.promise)}function f(e){var t=d+"Release";return e&&(t+="?"+e),u(t,!1,!1,!1)}function h(e){var t=a.defer();return e&&""!==e?u(d+"Page?$filter=Id eq '"+e+"'",!0,!0,!0):(t.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),t.promise)}function v(e){var t=a.defer();return e&&""!==e?u(d+"Page('"+e+"')?$expand=Documents",!0,!0,!0):(t.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),t.promise)}function y(e){var t=a.defer();return e&&""!==e?u(d+"Page?$filter=DocumentId eq '"+e+"'&$expand=Documents&$top=1",!0,!0,!0):(t.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),t.promise)}function C(e){var t=a.defer();return e&&""!==e?u(d+"Page?$filter=DocumentId eq '"+e+"'and IsFirstPage eq true&$select=Id,DocumentTitle",!1,!1,!1):(t.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),t.promise)}function b(e){var t=d+"Page";return e&&(t+="?"+e),u(t,!0,!0,!0)}function w(e,t,n){var i=a.defer(),o=d+"Page?$search='"+e+"'";return n&&(o=d+"Page('GetLatest')?$search='"+e+"'"),t&&(o+="&"+t),e&&""!==e?u(o,!1,!1,!1):(i.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),i.promise)}function S(e,t){var n=a.defer(),i=d+"Page?$related=Id eq '"+e+"'";return t&&(i+="&"+t),e&&""!==e?u(i,!0,!0,!1):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),n.promise)}function x(e,t){var n=a.defer(),i=d+"Page?$related=DocumentId eq '"+e+"'";return t&&(i+="&"+t),e&&""!==e?u(i,!0,!0,!1):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noID")))}),n.promise)}function T(e,t){var n=a.defer(),i=d+"Page?$search='"+e+"'&$top=1";return t&&(i+="&"+t),e&&""!==e?u(i,!0,!0,!0):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noQuery")))}),n.promise)}function I(e,t){var n,i=a.defer();return n="Category"===e?d+"Document('GetLatest')?$apply=groupby(("+e+"), aggregate(Documents/$count as Total))":d+"Document?$apply=groupby(("+e+"), aggregate(Documents/$count as Total))",t&&(n+="&"+t),e&&""!==e?u(n,!1,!1,!1):(i.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noNames")))}),i.promise)}function k(e,t){var n=a.defer(),i=d+"Page?$apply=groupby(("+e+"), aggregate(Pages/$count as Total))";return t&&(i+="&"+t),e&&""!==e?u(i,!1,!1,!1):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noNames")))}),n.promise)}function E(e){var t=a.defer();return e&&""!==e?u(d+"Document?$filter=Id eq '"+e+"'",!0,!1,!1):(t.reject({data:new c(!1,new l(-1,r.instant("svcErrors.documentation.noEntityName")))}),t.promise)}function O(e,t){var n=d+"Document";return"Category"===t&&e?n+="('GetLatest')?"+e:e&&(n+="?"+e),u(n,!0,!1,!1)}function P(){return e.config.docCenterUiUrl}function D(e){return u(d+e,!1,!1,!1)}function R(e){return u(d+"Page?$filter=Code eq '"+e+"'&$select=ReleaseId, Id, DocumentId",!1,!1,!1)}function A(e,t){return u(d+"Release('"+e+"')?$expand=Documents($select="+(t||"Contents,Title,Id,ReleaseId")+")",!1,!1,!1)}i.getDocument=E,i.getAllDocuments=O,i.getPage=h,i.getFirstPageFromDoc=y,i.pagesRelated=S,i.pagesRelatedFromFirstPageDoc=x,i.getAllPages=b,i.searchPages=w,i.guessPage=T,i.getDocumentFacets=I,i.getPageFacets=k,i.getDocCenterUrl=P,i.getAsset=o,i.getAllAssets=p,i.getRelease=g,i.getAllReleases=f,i.getExpandedPage=v,i.getTypeAheadInputs=D,i.getPageReleases=R,i.getDocumentFirstPageID=C,i.getDocumentsofLatestRelease=A}angular.module("siemens.simaticit.common.services.documentation").provider("common.services.documentation.config",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.documentation").service("common.services.documentation.service",e),e.$inject=["$q","$resource","$http","$translate","common","CommandResponse","ExecutionError","common.services.documentation.config"]}(),function(){"use strict";angular.module("siemens.simaticit.common.services.electronicSignature",[])}(),function(e){var t;e.framework||(e.framework={}),t=function(){function i(e,t,n){this.$q=e,this.$window=t,this.backendService=n,this.enabled=null!==n.getAppEndPoint(i.APP_NAME),-1!==window.location.href.indexOf("default-debug.html")&&(this.enabled=!0)}return i.prototype.isEnabled=function(){return this.enabled},i.prototype.getScenario=function(e){var t=this.$q.defer(),n={appName:"AuditTrail",entityName:"ScenarioConfiguration",options:"$filter=NId eq '"+e+"' and IsCurrent eq true and SignatureConfigurations/any()"};return this.backendService.findAll(n).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},i.prototype.getScenarioInstance=function(e){var t=this.$q.defer(),n={appName:"AuditTrail",entityName:"ScenarioInstance",options:"$filter=ScenarioConfigurationNId eq '"+e+"'"};return this.backendService.findAll(n).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},i.prototype.getScenarioInstanceSigners=function(e){var t=this.$q.defer(),n={appName:"AuditTrail",entityName:"ScenarioInstance",options:"&$expand=SignatureInstances&$filter=Id eq "+e};return this.backendService.findAll(n).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},i.prototype.getScenarios=function(e,t){void 0===t&&(t=null);var n=this.$q.defer();if(t){var i=e.options;i=-1===i.indexOf("$filter=")?"$filter="+t+"&"+i:i.replace("$filter=","$filter="+t+" and "),e.options=i}return this.backendService.findAll(e).then(function(e){e.value.forEach(function(e,t,n){e.SignatureConfigurations.length<=0?n.splice(t,1):e.expanded=!1}),n.resolve(e)},function(e){n.reject(e)}),n.promise},i.prototype.getFilterString=function(e){return this.processFilter(e)},i.prototype.processFilter=function(e){var t="";if(!e)return t;for(var n=Object.keys(e),i=2,o=0;o<n.length;o++){var a=n[o];if(e[a]){switch(a){case"Name":t=t+(1<i?" and ":"")+("Name eq "+e[a]),i+=1;break;case"Description":t=t+(1<i?" and ":"")+("Description eq '"+e[a]+"'"),i+=1}}}return t},i.APP_NAME="AuditTrail",i.$inject=["$q","$window","common.services.runtime.backendService"],i}(),angular.module("siemens.simaticit.common.services.electronicSignature").service("common.services.electronicSignature.service",t)}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.engineering",[])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.engineering").factory("common.services.engineering.DataModel",[function(){return function(e,t,n,i){this.entityName=e,this.properties=t,this.orderBy=n,this.filter=i}}])}(),function(e){e.framework||(e.framework={}),function(){function e(r,s,c,l,d,m,u,e){var p=e.config.oDataServiceURI;this.getAll=function(e,t){var n=r.defer(),i=p+e;if(p&&""!==p.trim())if(e&&""!==e)try{t&&(i+="?"+t);var o=s("",{},{getAll:{method:"Get",url:i,transformResponse:[function(e,t,n){var i=null;if(!e)return d.logger.logError("-1: Error: Generic Error","","Engineering Data Service"),i=new m(!1,new u(-1,l.instant("svcErrors.engineering.generic",n)));try{var o=JSON.parse(e);if(o["odata.error"])return i=new m(!1,new u(o["odata.error"].code,o["odata.error"].message.value,n)),d.logger.logError(o["odata.error"].code+" : "+o["odata.error"].message.value,"","Engineering Data Service"),i;if(o["@odata.context"]){i=new m(!0,new u(0,"",n));var a="$entity";return-1!==o["@odata.context"].indexOf(a,o["@odata.context"].length-a.length)?(delete o["@odata.context"],i.value=[o]):i.value=o.value,o["@odata.count"]&&(i.count=o["@odata.count"]),i}o.error&&(i=new m("false",new u(o.error.code,o.error.message,n)),d.logger.logError(o.error.code+" : "+o.error.message,"","Engineering Data Service"))}catch(e){var r=Math.floor(n/100);g(n)?(i=new m(!1,new u(n,"Error: "+g(n),n)),d.logger.logError(n+"Error: "+g(n),"Engineering Data Service")):g(r+"XX")?(i=new m(!1,new u(n,"Error: "+g(r+"XX"),n)),d.logger.logError(n+"Error: "+g(r+"XX"),"Engineering Data Service")):(i=new m(!1,new u(-1,"Error: "+e.message,n)),d.logger.logError("-1: Error: "+e.message,"","Engineering Data Service"))}return i}].concat(c.defaults.transformResponse)}});return o.getAll(function(e){n.resolve(e)},function(e){n.reject({data:new m(!1,new u(e.data.error.errorCode,e.data.error.errorMessage))})}),n.promise}catch(e){return n.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}}),n.promise}else n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.engineering.noEntityName")))});else n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.engineering.noConfig")))});return n.promise},this.deleteSWACcomponent=function(e,t){var n=r.defer(),i=p+e;if(p&&""!==p.trim())if(e&&""!==e)try{var o=s("",{},{deleteSWACcomponent:{method:"Post",url:i,transformResponse:[function(e){var t=null;if(e)try{var n=JSON.parse(e);n.Error?((t=new m(n.Succeeded,new u(n.Error.ErrorCode,n.Error.ErrorMessage))).value=n.UIModuleManifest?n.UIModuleManifest:null,n.Succeeded&&0===n.Error.ErrorCode?d.logger.logInfo(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","SWAC Command Delete Service"):d.logger.logError(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","SWAC Command Delete Service")):(t=new m(!1,new u(n.error.code,n.error.message)),d.logger.logError(n.error.code+" : "+n.error.message,"","SWAC Command Delete Service"))}catch(e){t=new m(!1,new u(-1,"Error: "+e.message)),d.logger.logError("-1: Error: "+e.message,"","SWAC Command Delete Service")}else t=new m(!1,new u(-1,"Generic Error")),d.logger.logError("-1: Error: Generic Error","","SWAC Command Delete Service");return t}].concat(c.defaults.transformResponse)}}),a={command:{Name:t}};return o.deleteSWACcomponent(a,function(e){n.resolve(e)},function(e){var t=d.setExecutionError(e);n.reject({data:new m(!1,new u(t.data.error.errorCode,t.data.error.errorMessage))})}),n.promise}catch(e){return n.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}}),n.promise}else n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.engineering.noEntityName")))});else n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.engineering.noConfig")))});return n.promise};var g=function(e){switch(e){case 404:return l.instant("ERRORS.404");case 503:return l.instant("ERRORS.503");case 400:return l.instant("ERRORS.400");case 403:return l.instant("ERRORS.403");case 500:return l.instant("ERRORS.500");case"4XX":return l.instant("ERRORS.4XX");case"5XX":return l.instant("ERRORS.5XX")}}}angular.module("siemens.simaticit.common.services.engineering").provider("common.services.engineering.DataConfig",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),e.$inject=["$q","$resource","$http","$translate","common","CommandResponse","ExecutionError","common.services.engineering.DataConfig"],angular.module("siemens.simaticit.common.services.engineering").service("common.services.engineering.data.service",e)}()}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.filterPersonalization",[])}(),function(){"use strict";function e(o){var a=this;function e(e,t,n){null===a.userPreferences?a.userPreferences={filter:[]}:a.userPreferences.filter||(a.userPreferences={filter:[]});var i=_.findIndex(a.userPreferences.filter,function(e){return _.isEqual(e.filterName,n.filterName)});-1<i?a.userPreferences.filter[i]=n:a.userPreferences.filter[a.userPreferences.filter.length]=n,o.setPersonalization(e,t,a.userPreferences)}function t(e,t,n){if(a.userPreferences=o.getCurrentUserPreference(e,t),a.userPreferences&&a.userPreferences.filter.length){var i=_.findIndex(a.userPreferences.filter,function(e){return _.isEqual(e.filterName,n.filterName)});-1<i&&(a.userPreferences.filter.splice(i,1),o.setPersonalization(e,t,a.userPreferences))}}function n(e,t){return a.userPreferences=o.getCurrentUserPreference(e,t),a.filterClauses=null,a.userPreferences&&a.userPreferences.filter&&(a.filterClauses=a.userPreferences.filter),a.filterClauses}a.filterClauses=null,a.userPreferences=null,a.saveFilterClauses=e,a.deleteFilterClauses=t,a.retrieveFilterClauses=n}e.$inject=["common.services.personalization.personalizationService"],angular.module("siemens.simaticit.common.services.filterPersonalization").service("common.services.filterPersonalization.filterPersonalizationService",e)}(),function(){"use strict";angular.module("siemens.simaticit.common.services.globalization",[])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.globalization").factory("common.globalization.globalozationErrorHandler",["$q","common.services.logger.service",function(a,r){return function(e,t,n){var i=n.status?"Error ("+n.status+")":"Error",o=a.defer();return r.logError(e+"."+t,i,"common.services.globalization.globalizationService"),o.resolve(),o.promise}}]),angular.module("siemens.simaticit.common.services.globalization").provider("common.globalization.globalizationConfig",["$translateProvider","$translatePartialLoaderProvider",function(o,a){this.setLanguage=function(e){o.use(e)},this.setFallbackLanguage=function(e){o.fallbackLanguage(e),o.preferredLanguage(e),o.useSanitizeValueStrategy("escape")},this.setResourcePath=function(e,t){if(void 0!==t&&0!==t.length){for(var n=0;n<t.length;n++){var i=e+t[n].name;a.addPart(i)}o.useLoader("$translatePartialLoader",{urlTemplate:"{part}.{lang}.json",loadFailureHandler:"common.globalization.globalozationErrorHandler"})}},this.resourcesLoaded=!1,this.$get=function(){return{setLanguage:this.setLanguage,setFallbackLanguage:this.setFallbackLanguage,setResourcePath:this.setResourcePath,resourcesLoaded:this.resourcesLoaded}}}]),angular.module("siemens.simaticit.common.services.globalization").service("common.services.globalization.globalizationService",["$rootScope","$http","$q","$translate","$cacheFactory","common.globalization.globalizationConfig","common.services.globalization.runtimelocale","common.services.logger.service","CONFIG","APPCONFIG","LOG_LEVELS",function(t,l,o,n,d,i,a,m,e,r,s){var u=angular.extend({},r,e),c=_.find(u.languages,function(e){return"en-US"===e});c||(c="en-US");var p="";this.getLocale=function(){return n.use()},this.setLanguage=function(e){return a.setLang(e).then(function(){return window.moment.locale(e),n.use(e)}).then(n.refresh).then(function(){t.$broadcast("common.services.globalization.globalizationService.setLanguage"),m.logInfo("Current language:",e,"Globalization Service")})},this.setFallbackLanguage=function(e){i.setFallbackLanguage(e)},this.setResourcePath=function(e,t){var n=o.defer();return i.setResourcePath(e,t),n.resolve(),n.promise},this.setAppLanguage=function(e){p=e},this.getAppLanguage=function(){return p},this.getSupportedLocales=function(){return JSON.parse(window.sessionStorage.getItem("supportedLocales"))},this.loadAppResource=function(a){var r,s=o.defer(),c=[];return function(n){var i=o.defer();if(!u.masterApp)return i.resolve(),i.promise;var e=n+u.masterApp+"/resources/common.en-US.json";return l({method:"GET",url:e}).then(function(){i.resolve()}).catch(function(){var t=d.get("$http");l.defaults.cache=!0,l({method:"GET",url:e=n+"common/resources/common.en-US.json"}).then(function(e){t.put(n+u.masterApp+"/resources/common.en-US.json",e.data),i.resolve()}).catch(function(e,t){var n=t?"Error ("+t+")":"Error";m.logError(n,"common.services.globalization.globalizationService"),i.resolve()})}),i.promise}(a).then(function(){if(u.masterApp&&c.push({path:a+u.masterApp+"/resources/",modules:[{name:"common"}]}),u.dependencies&&u.dependencies.length){var o=u.dependencies.length;u.dependencies.forEach(function(i){l({method:"GET",url:a+i+"/resources/resources.json"}).then(function(e){r=e.data;var t=[];for(var n in r)r.hasOwnProperty(n)&&"common"!==n&&t.push({name:r[n]});c.push({path:a+i+"/resources/",modules:t}),0==--o&&s.resolve(c)},function(){0==--o&&s.resolve(c)})})}else s.resolve(c)}),s.promise},this.getLanguages=function(){return u.languages.slice(0)},this.appResourceLoadingSuccess=function(){l.defaults.cache=!1}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.globalization").directive("pluralize",function(){function e(e,n){var i=this,t=e.$watch(function(){return i.count},function(e){var t;switch(e=parseInt(e,10),i.numValue={value:e},0===e&&(t="zero"),1===e&&(t="one"),1<e&&(t="other"),t){case"zero":i.translateString=n.zero;break;case"one":i.translateString=n.one;break;case"other":i.translateString=n.other;break;default:i.translateString=n.zero}});e.$on("$destroy",function(){t()})}return e.$inject=["$scope","$attrs"],{restrict:"E",scope:!0,bindToController:{count:"@",zero:"@",one:"@",other:"@"},controller:e,controllerAs:"pluralizeCtrl",template:"<div>{{ pluralizeCtrl.translateString | translate: pluralizeCtrl.numValue }}</div>",replace:!0,link:function(){}}})}(),function(){"use strict";angular.module("siemens.simaticit.common.services.globalization").provider("common.services.globalization.runtimelocale",function(){function h(n,i,o,a){o===a&&(angular.forEach(n,function(e,t){i[t]?angular.isArray(i[t])&&(n[t].length=i[t].length):delete n[t]}),angular.forEach(i,function(e,t){angular.isArray(i[t])||angular.isObject(i[t])?(n[t]||(n[t]=angular.isArray(i[t])?[]:{}),h(n[t],i[t],o,a)):n[t]=i[t]}))}function v(e,t,n,i){var o=window.document.createElement("script"),a=window.document.getElementsByTagName("body")[0],r=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,i(function(){r||(r=!0,a.removeChild(o),t())},30,!1))}:(o.onload=function(){r||(r=!0,a.removeChild(o),t())},o.onerror=function(){r||(r=!0,a.removeChild(o),n())}),o.src=e,o.async=!1,a.appendChild(o)}this.$get=["$rootScope","$injector","$interpolate","$locale","$q","$timeout","common.services.globalization.runtimelocaleStorageCache","CONFIG",function(n,e,i,o,a,r,s,t){var c="";c=t.masterApp?t.masterApp+"/locales/angular-locale_{{locale}}.js":"common/scripts/i18n/angular-locale_{{locale}}.js";var l=i(c),d=e.get("common.services.globalization.runtimelocaleStorageCache");return{setLang:function(e){var t=e.split("_").join("-").toLowerCase();return function(t,e,n,i,o,a,r,s,c,l){var d,m,u=e.defer(),p={};function g(){var e=angular.injector(["ngLocale"]).get("$locale");h(i,e,m,a),s.put(a,e),delete p[a],t.$apply(function(){t.$broadcast("$localeChangeSuccess",a,i),c.put(l,a),u.resolve(i)})}function f(){delete p[a],t.$apply(function(){t.$broadcast("$localeChangeError",a),u.reject(a)})}return p[a]?p[a]:(a===m?u.resolve(i):(d=s.get(a))?(m=a,t.$evalAsync(function(){h(i,d,m,a),t.$broadcast("$localeChangeSuccess",a,i),c.put(l,a),u.resolve(i)})):(p[m=a]=u.promise,v(r,g,function(){v(o("common/scripts/i18n/angular-locale_{{locale}}.js")({locale:a}),g,f,n)},n)),u.promise)}(n,a,r,o,i,t,l({locale:t}),s,d,"runtimelocale.locale")}}}]}),angular.module("siemens.simaticit.common.services.globalization").provider("common.services.globalization.runtimelocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("runtimelocales.store")}]})}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance",[])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.CreateDatabaseInfoModel",function(){return function(e,t,n,i,o,a,r,s,c,l,d,m){this.name=e,this.description=t,this.type=n,this.dataModelAssembly=i,this.dataSource=o,this.initialCatalog=a,this.connectionTimeout=r,this.commandTimeout=s,this.numberOfRetries=c,this.retriesDelay=l,this.databaseType=d,this.schema=void 0===m?"":m}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.UpdateDatabaseInfoModel",function(){return function(e,t,n,i,o,a,r,s,c,l,d,m){this.name=e,this.description=t,this.type=n,this.dataModelAssembly=i,this.dataSource=o,this.initialCatalog=a,this.connectionTimeout=r,this.commandTimeout=s,this.numberOfRetries=c,this.retriesDelay=l,this.databaseType=d,this.schema=void 0===m?"":m}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.DeleteDatabaseInfoModel",function(){return function(e){this.name=e}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.AssociateDatabaseInfoModel",function(){return function(e,t){this.databaseInfoName=e,this.dataProviderName=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.CreateDatabaseInfoResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.UpdateDatabaseInfoResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.DeleteDatabaseInfoResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.AssociateDatabaseInfoResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").provider("common.services.governance.databaseInfoConfig",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.governance").service("common.services.governance.databaseInfoService",["$q","$resource","$injector","$http","$translate","common","CommandResponse","ExecutionError","common.services.governance.databaseInfoConfig",function(r,s,c,l,d,m,u,p,e){var g=e.config.oDataServiceURI;function o(e,t){var n=!0;return""===t.name?n="Name":""===t.type?n="Type":""===t.dataSource?n="MSSQLServer"===t.databaseType?"DataSource":"ServerName":""===t.initialCatalog?n="MSSQLServer"===t.databaseType?"InitialCatalog":"Database":""===t.databaseType?n="DatabaseType":"Oracle"===t.databaseType?t.schema&&""!==t.schema?"create"===e?n=""!==t.dataModelAssembly||"DataModelAssembly":"update"===e&&(n=!0):n="Schema":"MSSQLServer"===t.databaseType?"create"===e?n=""!==t.dataModelAssembly||"DataModelAssembly":"update"===e&&(n=!0):n="DatabaseType",n}function f(e){var t=null;if(e)try{var n=JSON.parse(e);n.Error?(t=new u(n.Succeeded,new p(n.Error.ErrorCode,n.Error.ErrorMessage)),n.Succeeded&&0===n.Error.ErrorCode?m.logger.logInfo(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","DatabaseInfo Command Service"):m.logger.logError(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","DatabaseInfo Command Service")):(t=new u(!1,new p(n.error.code,n.error.message)),m.logger.logError(n.error.code+" : "+n.error.message,"","DatabaseInfo Command Service"))}catch(e){t=new u(!1,new p(-1,"Error: "+e.message)),m.logger.logError("-1: Error: "+e.message,"","DatabaseInfo Command Service")}else t=new u(!1,new p(-1,"Generic Error")),m.logger.logError("-1: Error: Generic Error","","DatabaseInfo Command Service");return t}this.create=function(e){var n=r.defer(),t="";if(e instanceof c.get("common.services.governance.CreateDatabaseInfoModel")){var i=o("create",e);if(!0===i)return s("",{},{create:{method:"POST",url:g+"CreateDataProviderCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return e.connectionTimeout=e.connectionTimeout?e.connectionTimeout:15e3,e.commandTimeout=e.commandTimeout?e.commandTimeout:3e4,e.numberOfRetries=e.numberOfRetries?e.numberOfRetries:50,e.retriesDelay=e.retriesDelay?e.retriesDelay:500,{command:{Name:e.name,Description:e.description,Type:e.type,DataModelAssemblyName:e.dataModelAssembly,DataSource:e.dataSource,InitialCatalog:e.initialCatalog,ConnectionTimeout:e.connectionTimeout,CommandTimeout:e.commandTimeout,NumberOfRetries:e.numberOfRetries,RetriesDelay:e.retriesDelay,DatabaseType:e.databaseType,Schema:e.schema}}}].concat(l.defaults.transformRequest),transformResponse:[f].concat(l.defaults.transformResponse)}}).create(e,function(e){n.resolve(e)},function(e){var t=m.setExecutionError(e);n.reject({data:new u(!1,new p(-1,t))})}).$promise;t=i,n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.createNoMsg",{msg:t})))})}else n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.createWrongInput")))});return n.promise},this.update=function(e){var n=r.defer(),t="";if(e instanceof c.get("common.services.governance.UpdateDatabaseInfoModel")){var i=o("update",e);if(!0===i)return s("",{},{update:{method:"POST",url:g+"UpdateDataProviderCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return e.connectionTimeout=e.connectionTimeout?e.connectionTimeout:15e3,e.commandTimeout=e.commandTimeout?e.commandTimeout:3e4,e.numberOfRetries=e.numberOfRetries?e.numberOfRetries:50,e.retriesDelay=e.retriesDelay?e.retriesDelay:500,{command:{Name:e.name,Description:e.description,Type:e.type,DataModelAssemblyName:e.dataModelAssembly,DataSource:e.dataSource,InitialCatalog:e.initialCatalog,ConnectionTimeout:e.connectionTimeout,CommandTimeout:e.commandTimeout,NumberOfRetries:e.numberOfRetries,RetriesDelay:e.retriesDelay,DatabaseType:e.databaseType,Schema:e.schema}}}].concat(l.defaults.transformRequest),transformResponse:[f].concat(l.defaults.transformResponse)}}).update(e,function(e){n.resolve(e)},function(e){var t=m.setExecutionError(e);n.reject({data:new u(!1,new p(-1,t))})}).$promise;t=i,n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.updateNoMsg")+t))})}else n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.updateWrongInput")))});return n.promise},this.delete=function(i){var n=r.defer(),o=[],e=[],a="";if(i instanceof c.get("common.services.governance.DeleteDatabaseInfoModel")){if(e=Object.keys(i),_.reduce(e,function(e,t){var n=i[t];return n||o.push(t),e&&n}))return s("",{},{delete:{method:"POST",url:g+"DeleteDataProviderCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Name:e.name}}}].concat(l.defaults.transformRequest),transformResponse:[f].concat(l.defaults.transformResponse)}}).delete(i,function(e){n.resolve(e)},function(e){var t=m.setExecutionError(e);n.reject({data:new u(!1,new p(-1,t))})}).$promise;o.forEach(function(e,t){a+=0===t?e:", "+e}),n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.deleteNoMsg")+a))})}else n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.deleteWrongInput")))});return n.promise},this.associate=function(i){var n=r.defer(),o=[],e=[],a="";if(i instanceof c.get("common.services.governance.AssociateDatabaseInfoModel")){if(e=Object.keys(i),_.reduce(e,function(e,t){var n=i[t];return n||o.push(t),e&&n}))return s("",{},{associate:{method:"POST",url:g+"AssociateDatabaseInfoCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{DatabaseInfoName:e.databaseInfoName,DataProviderName:e.dataProviderName}}}].concat(l.defaults.transformRequest),transformResponse:[f].concat(l.defaults.transformResponse)}}).associate(i,function(e){n.resolve(e)},function(e){var t=m.setExecutionError(e);n.reject({data:new u(!1,new p(-1,t))})}).$promise;o.forEach(function(e,t){a+=0===t?e:", "+e}),n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.associateNoMsg")+a))})}else n.reject({data:new u(!1,new p(-1,d.instant("svcErrors.databaseInfo.associateWrongInput")))});return n.promise}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addSubscriptionToWorkerRoleModel",function(){return function(e,t){this.subscriptionName=e,this.workerRoleName=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeSubscriptionFromWorkerRoleModel",function(){return function(e,t){this.subscriptionName=e,this.workerRoleName=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.createEventSubscriptionModel",function(){return function(e,t,n,i){this.name=e,this.description=t,this.eventHandlerName=n,this.subscribedEventName=i}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateEventSubscriptionModel",function(){return function(e,t,n,i){this.name=e,this.description=t,this.eventHandlerName=n,this.subscribedEventName=i}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.deleteEventSubscriptionModel",function(){return function(e){this.eventSubscriptionName=e}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.renameEventSubscriptionModel",function(){return function(e,t){this.oldName=e,this.newName=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addFilterToEventSubscriptionModel",function(){return function(e,t,n,i,o,a){this.eventSubscriptionName=e,this.category=t,this.topic=n,this.module=i,this.tag=o,this.userFields=a}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateFilterInEventSubscriptionModel",function(){return function(e,t,n,i,o,a){this.eventSubscriptionName=e,this.category=t,this.topic=n,this.module=i,this.tag=o,this.userFields=a}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeFilterFromEventSubscriptionModel",function(){return function(e){this.eventSubscriptionName=e}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addSubscriptionToWorkerRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeSubscriptionFromWorkerRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.createEventSubscriptionResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateEventSubscriptionResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.deleteEventSubscriptionResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.renameEventSubscriptionResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addFilterToEventSubscriptionResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateFilterInEventSubscriptionResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeFilterFromEventSubscriptionResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").provider("common.services.governance.eventConfig",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.governance").service("common.services.governance.eventSubscriptionService",["$q","$resource","$http","$translate","common","CommandResponse","ExecutionError","common.services.governance.eventConfig",function(t,i,o,a,r,s,c,e){var l=e.config.oDataServiceURI;function d(e){return r.transformHttpResponse(e,"Event Subscription Service")}this.addSubscriptionToWorkerRole=function(e){var n=t.defer();return e.subscriptionName?e.workerRoleName?i("",{},{addSubscriptionToWorkerRole:{method:"Post",url:l+"AddSubscriptionToWorkerRoleCommand",transformRequest:[function(e){return{command:{SubscriptionName:e.subscriptionName,WorkerRoleName:e.workerRoleName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).addSubscriptionToWorkerRole(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.addNoWRName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.addNoSubscriptionName")))}),n.promise)},this.removeSubscriptionFromWorkerRole=function(e){var n=t.defer();return e.subscriptionName?e.workerRoleName?i("",{},{removeSubscriptionFromWorkerRole:{method:"Post",url:l+"RemoveSubscriptionFromWorkerRoleCommand",transformRequest:[function(e){return{command:{SubscriptionName:e.subscriptionName,WorkerRoleName:e.workerRoleName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).removeSubscriptionFromWorkerRole(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.remNoWRName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.remNoSubscriptionName")))}),n.promise)},this.createEventSubscription=function(e){var n=t.defer();if(e.name)if(e.eventHandlerName){if(e.subscribedEventName)return i("",{},{createEventSubscription:{method:"Post",url:l+"CreateEventSubscriptionCommand",transformRequest:[function(e){return{command:{Name:e.name,Description:e.description,EventHandlerName:e.eventHandlerName,SubscribedEventName:e.subscribedEventName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).createEventSubscription(e,function(e){n.resolve(e)},function(e){var t=r.setExecutionError(e);n.reject({data:new s(!1,new c(-1,t))})}).$promise;n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.createNoSubsEventName")))})}else n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.createNoEventHandlerName")))});else n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.createNoName")))});return n.promise},this.updateEventSubscription=function(e){var n=t.defer();return e.name?e.eventHandlerName?e.subscribedEventName?i("",{},{updateEventSubscription:{method:"Post",url:l+"UpdateEventSubscriptionCommand",transformRequest:[function(e){return{command:{Name:e.name,Description:e.description,EventHandlerName:e.eventHandlerName,SubscribedEventName:e.subscribedEventName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).updateEventSubscription(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.updateNoSubsEventName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.updateNoEventHandlerName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.updateNoName")))}),n.promise)},this.deleteEventSubscription=function(e){var n=t.defer();return e.eventSubscriptionName?i("",{},{deleteEventSubscription:{method:"Post",url:l+"DeleteEventSubscriptionCommand",transformRequest:[function(e){return{command:{EventSubscriptionName:e.eventSubscriptionName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).deleteEventSubscription(e,function(e){n.resolve(e)},function(e){var t=r.setExecutionError(e);n.reject({data:new s(!1,new c(-1,t))})}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.deleteNoName")))}),n.promise)},this.renameEventSubscription=function(e){var n=t.defer();return e.newName?e.oldName?e.oldName!==e.newName?i("",{},{renameEventSubscription:{method:"Post",url:l+"RenameEventSubscriptionCommand",transformRequest:[function(e){return{command:{OldName:e.oldName,NewName:e.newName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).renameEventSubscription(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.renameSameName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.renameNoOldName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.renameNoNewName")))}),n.promise)},this.addFilterToEventSubscription=function(e){var n=t.defer();return e.eventSubscriptionName?i("",{},{addFilterToEventSubscription:{method:"Post",url:l+"AddFilterToEventSubscriptionCommand",transformRequest:[function(e){return{command:{EventSubscriptionName:e.eventSubscriptionName,Category:e.category,Topic:e.topic,Module:e.module,Tag:e.tag,UserField1:e.userFields[0],UserField2:e.userFields[1],UserField3:e.userFields[2],UserField4:e.userFields[3],UserField5:e.userFields[4],UserField6:e.userFields[5],UserField7:e.userFields[6],UserField8:e.userFields[7],UserField9:e.userFields[8],UserField10:e.userFields[9]}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).addFilterToEventSubscription(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.addFilterNoName")))}),n.promise)},this.updateFilterInEventSubscription=function(e){var n=t.defer();return e.eventSubscriptionName?i("",{},{updateFilterInEventSubscription:{method:"Post",url:l+"UpdateFilterInEventSubscriptionCommand",transformRequest:[function(e){return{command:{EventSubscriptionName:e.eventSubscriptionName,Category:e.category,Topic:e.topic,Module:e.module,Tag:e.tag,UserField1:e.userFields[0],UserField2:e.userFields[1],UserField3:e.userFields[2],UserField4:e.userFields[3],UserField5:e.userFields[4],UserField6:e.userFields[5],UserField7:e.userFields[6],UserField8:e.userFields[7],UserField9:e.userFields[8],UserField10:e.userFields[9]}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).updateFilterInEventSubscription(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.updateFilterNoName")))}),n.promise)},this.removeFilterFromEventSubscription=function(e){var n=t.defer();return e.eventSubscriptionName?i("",{},{removeFilterFromEventSubscription:{method:"Post",url:l+"RemoveFilterFromEventSubscriptionCommand",transformRequest:[function(e){return{command:{EventSubscriptionName:e.eventSubscriptionName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).removeFilterFromEventSubscription(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.eventSubscription.removeFilterNoName")))}),n.promise)}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.loadProjectModel",function(){return function(e,t){this.name=e,this.version=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.unloadProjectModel",function(){return function(e){this.name=e}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.deployProjectModel",function(){return function(e,t){this.name=e,this.version=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.loadProjectResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.unloadProjectResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.deployProjectResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").provider("common.services.governance.projectConfig",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.governance").service("common.services.governance.projectService",["$q","$resource","$injector","$http","$translate","common","CommandResponse","ExecutionError","common.services.governance.projectConfig",function(t,i,o,a,r,s,c,l,e){var d=e.config.oDataServiceURI;function m(e){var t=null;if(e)try{var n=JSON.parse(e);n.Error?(t=new c(n.Succeeded,new l(n.Error.ErrorCode,n.Error.ErrorMessage)),s.logger.logInfo(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","Project Command Service")):(t=new c(!1,new l(n.error.code,n.error.message)),s.logger.logError(n.error.code+" : "+n.error.message,"","Project Command Service"))}catch(e){t=new c(!1,new l(-1,"Error: "+e.message)),s.logger.logError("-1: Error: "+e.message,"","Project Command Service")}else t=new c(!1,new l(-1,"Generic Error")),s.logger.logError("-1: Error: Generic Error","","Project Command Service");return t}this.load=function(e){var n=t.defer();return e instanceof o.get("common.services.governance.loadProjectModel")?e.name?e.version?i("",{},{load:{method:"POST",url:d+"LoadProjectCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Name:e.name,Version:e.version}}}].concat(a.defaults.transformRequest),transformResponse:[m].concat(a.defaults.transformResponse)}}).load(e,function(e){return n.resolve(e),n.promise},function(e){var t=s.setExecutionError(e);return n.reject({data:new c(!1,new l(-1,t))}),n.promise}).$promise:(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.loadNoVersion")))}),n.promise):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.loadNoName")))}),n.promise):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.loadWrongInput")))}),n.promise)},this.unload=function(e){var n=t.defer();return e instanceof o.get("common.services.governance.unloadProjectModel")?e.name?i("",{},{unload:{method:"POST",url:d+"UnloadProjectCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Name:e.name}}}].concat(a.defaults.transformRequest),transformResponse:[m].concat(a.defaults.transformResponse)}}).unload(e,function(e){return n.resolve(e),n.promise},function(e){var t=s.setExecutionError(e);return n.reject({data:new c(!1,new l(-1,t))}),n.promise}).$promise:(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.unloadNoName")))}),n.promise):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.unloadWrongInput")))}),n.promise)},this.deploy=function(e){var n=t.defer();return e instanceof o.get("common.services.governance.deployProjectModel")?e.name?e.version?i("",{},{deploy:{method:"POST",url:d+"DeployProjectCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Name:e.name,Version:e.version}}}].concat(a.defaults.transformRequest),transformResponse:[m].concat(a.defaults.transformResponse)}}).deploy(e,function(e){return n.resolve(e),n.promise},function(e){var t=s.setExecutionError(e);return n.reject({data:new c(!1,new l(-1,t))}),n.promise}).$promise:(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.deployNoVersion")))}),n.promise):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.deployNoName")))}),n.promise):(n.reject({data:new c(!1,new l(-1,r.instant("svcErrors.project.deployWrongInput")))}),n.promise)}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.RuntimeStartUpModel",function(){return function(e){this.reason=e}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.RuntimeShutDownModel",function(){return function(e,t){this.reason=e,this.restart=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.RuntimeStartUpResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.RuntimeShutDownResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").provider("common.services.governance.systemEventsConfig",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.governance").service("common.services.governance.systemEventsService",["$q","$resource","$injector","$http","$translate","common","CommandResponse","ExecutionError","common.services.governance.systemEventsConfig",function(t,r,s,c,l,d,m,u,e){var p=e.config.oDataServiceURI;function g(e){var t=null;if(e)try{var n=JSON.parse(e);n.Error?(t=new m(n.Succeeded,new u(n.Error.ErrorCode,n.Error.ErrorMessage)),n.Succeeded&&0===n.Error.ErrorCode?d.logger.logInfo(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","SystemEvents  Command Service"):d.logger.logError(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","SystemEvents  Command Service")):(t=new m(!1,new u(n.error.code,n.error.message)),d.logger.logError(n.error.code+" : "+n.error.message,"","SystemEvents  Command Service"))}catch(e){t=new m(!1,new u(-1,"Error: "+e.message)),d.logger.logError("-1: Error: "+e.message,"","SystemEvents Command Service")}else t=new m(!1,new u(-1,"Generic Error")),d.logger.logError("-1: Error: Generic Error","","SystemEvents Command Service");return t}this.startUp=function(i){var n=t.defer(),o=[],e=[],a="";if(i instanceof s.get("common.services.governance.RuntimeStartUpModel")){if(e=Object.keys(i),_.reduce(e,function(e,t){var n=!(!i[t]||""===i[t].toString().trim());return n||o.push(t),e&&n},!0))return r("",{},{runtimeStartUp:{method:"POST",url:p+"RuntimeStartCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Reason:e.reason}}}].concat(c.defaults.transformRequest),transformResponse:[g].concat(c.defaults.transformResponse)}}).runtimeStartUp(i,function(e){n.resolve(e)},function(e){var t=d.setExecutionError(e);n.reject({data:new m(!1,new u(-1,t))})}).$promise;o.forEach(function(e,t){a+=0===t?e:", "+e}),n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.systemEvents.startupNoMsg",{msg:a})))})}else n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.systemEvents.startupWrongInput")))});return n.promise},this.shutDown=function(i){var n=t.defer(),o=[],e=[],a="";if(i instanceof s.get("common.services.governance.RuntimeShutDownModel")){if(e=Object.keys(i),_.reduce(e,function(e,t){var n=void 0!==i[t]&&""!==i[t].toString().trim();return n||o.push(t),e&&n},!0))return r("",{},{runtimeShutDown:{method:"POST",url:p+"RuntimeShutdownCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Reason:e.reason,Restart:e.restart}}}].concat(c.defaults.transformRequest),transformResponse:[g].concat(c.defaults.transformResponse)}}).runtimeShutDown(i,function(e){n.resolve(e)},function(e){var t=d.setExecutionError(e);n.reject({data:new m(!1,new u(-1,t))})}).$promise;o.forEach(function(e,t){a+=0===t?e:", "+e}),n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.systemEvents.shutdownNoMsg",{msg:a})))})}else n.reject({data:new m(!1,new u(-1,l.instant("svcErrors.systemEvents.shutdownWrongInput")))});return n.promise}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.createWorkerRoleModel",function(){return function(e,t,n,i){this.name=e,this.description=t,this.retriesNumber=n,this.targetCPU=i}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateWorkerRoleModel",function(){return function(e,t,n,i,o){this.name=e,this.description=t,this.retriesNumber=n,this.commandExecutionTimeout=i,this.targetCPU=o}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.deleteWorkerRoleModel",function(){return function(e){this.name=e}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addCommandToWorkerRoleModel",function(){return function(e,t){this.workerRoleName=e,this.commandName=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addCommandsToWorkerRoleModel",function(){return function(e,t){this.workerRoleName=e,this.commandNames=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeCommandsFromWorkerRoleModel",function(){return function(e,t){this.workerRoleName=e,this.commandNames=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeCommandFromWorkerRoleModel",function(){return function(e,t){this.workerRoleName=e,this.commandName=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addWorkerRoleToHostRoleModel",function(){return function(e,t,n){this.hostRoleName=e,this.workerRoleName=t,this.numberOfInstances=n}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateWorkerRoleToHostRoleModel",function(){return function(e,t,n){this.hostRoleName=e,this.workerRoleName=t,this.numberOfInstances=n}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeWorkerRoleToHostRoleModel",function(){return function(e,t){this.hostRoleName=e,this.workerRoleName=t}}),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.createWorkerRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateWorkerRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.deleteWorkerRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addWorkerRoleToHostRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.updateWorkerRoleToHostRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.addCommandToWorkerRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}]),angular.module("siemens.simaticit.common.services.governance").factory("common.services.governance.removeCommandFromWorkerRoleResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.governance").provider("common.services.governance.workerRoleConfig",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.governance").service("common.services.governance.workerRoleService",["$q","$resource","$http","$translate","common","CommandResponse","ExecutionError","common.services.governance.workerRoleConfig",function(t,i,o,a,r,s,c,e){var l=e.config.oDataServiceURI;function d(e){var t=null;if(e)try{var n=JSON.parse(e);n.Error?(t=new s(n.Succeeded,new c(n.Error.ErrorCode,n.Error.ErrorMessage)),n.Succeeded&&0===n.Error.ErrorCode?r.logger.logInfo(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","Worker Role Command Service"):r.logger.logError(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","Worker Role Command Service")):(t=new s(!1,new c(n.error.code,n.error.message)),r.logger.logError(n.error.code+": "+n.error.message,"","Worker Role Command Service"))}catch(e){t=new s(!1,new c(-1,"Error: "+e.message)),r.logger.logError("-1: Error: "+e.message,"","Worker Role Command Service")}else t=new s(!1,new c(-1,"Generic Error")),r.logger.logError("-1: Error: Generic Error","","Worker Role Command Service");return t}this.create=function(e){var n=t.defer();return e.name?i("",{},{create:{method:"Post",url:l+"CreateWorkerRoleCommand",transformRequest:[function(e){return{command:{Name:e.name,Description:e.description,RetriesNumber:e.retriesNumber,TargetCPU:e.targetCPU}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).create(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.createNoName")))}),n.promise)},this.update=function(e){var n=t.defer();return e.name?i("",{},{update:{method:"Post",url:l+"UpdateWorkerRoleCommand",transformRequest:[function(e){return{command:{Name:e.name,Description:e.description,RetriesNumber:e.retriesNumber,CommandExecutionTimeout:e.commandExecutionTimeout,TargetCPU:e.targetCPU}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).update(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.updateNoName")))}),n.promise)},this.addCommands=function(e){var n=t.defer();return e.workerRoleName?e.commandNames?e.commandNames.length<=0?(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addEmptyCommands")))}),n.promise):i("",{},{addCommands:{method:"Post",url:l+"AddCommandsToWorkerRoleCommand",transformRequest:[function(e){return{command:{WorkerRoleName:e.workerRoleName,CommandNames:e.commandNames}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).addCommands(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addUndefCommands")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addUndefWR")))}),n.promise)},this.removeCommands=function(e){var n=t.defer();return e.workerRoleName?e.commandNames?e.commandNames.length<=0?(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.remEmptyCommands")))}),n.promise):i("",{},{removeCommands:{method:"Post",url:l+"RemoveCommandsFromWorkerRoleCommand",transformRequest:[function(e){return{command:{WorkerRoleName:e.workerRoleName,CommandNames:e.commandNames}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).removeCommands(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.remUndefCommands")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.remUndefWR")))}),n.promise)},this.addCommand=function(e){var n=t.defer();return e.workerRoleName?e.commandName?i("",{},{addCommand:{method:"Post",url:l+"AddCommandToWorkerRoleCommand",transformRequest:[function(e){return{command:{WorkerRoleName:e.workerRoleName,CommandName:e.commandName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).addCommand(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addNoCommandName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addNoWRName")))}),n.promise)},this.removeCommand=function(e){var n=t.defer();return e.workerRoleName?e.commandName?i("",{},{removeCommand:{method:"Post",url:l+"RemoveCommandFromWorkerRoleCommand",transformRequest:[function(e){return{command:{WorkerRoleName:e.workerRoleName,CommandName:e.commandName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).removeCommand(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.remNoCommandName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.remNoWRName")))}),n.promise)},this.addWorkerRoleToHostRole=function(e){var n=t.defer();return e.hostRoleName?e.workerRoleName?i("",{},{addWorkerRoleToHostRole:{method:"Post",url:l+"AddWorkerRoleToHostRoleCommand",transformRequest:[function(e){return{command:{HostRoleName:e.hostRoleName,WorkerRoleName:e.workerRoleName,NumberOfInstances:e.numberOfInstances}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).addWorkerRoleToHostRole(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addWRNoWRName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addWRNoHRName")))}),n.promise)},this.removeWorkerRoleFromHostRole=function(e){var n=t.defer();return e.hostRoleName?e.workerRoleName?i("",{},{removeWorkerRoleToHostRole:{method:"Post",url:l+"RemoveWorkerRoleFromHostRoleCommand",transformRequest:[function(e){return{command:{HostRoleName:e.hostRoleName,WorkerRoleName:e.workerRoleName}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).removeWorkerRoleToHostRole(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.remWRNoWRName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.remWRNoHRName")))}),n.promise)},this.updateWorkerRoleToHostRole=function(e){var n=t.defer();return e.hostRoleName?e.workerRoleName?i("",{},{updateWorkerRoleToHostRole:{method:"Post",url:l+"UpdateWorkerRoleToHostRoleCommand",transformRequest:[function(e){return{command:{HostRoleName:e.hostRoleName,WorkerRoleName:e.workerRoleName,NumberOfInstances:e.numberOfInstances}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).updateWorkerRoleToHostRole(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addWRNoWRName")))}),n.promise):(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.addWRNoHRName")))}),n.promise)},this.delete=function(e){var n=t.defer();return e.name?i("",{},{delete:{method:"Post",url:l+"DeleteWorkerRoleCommand",transformRequest:[function(e){return{command:{Name:e.name}}}].concat(o.defaults.transformRequest),transformResponse:[d].concat(o.defaults.transformResponse)}}).delete(e,function(e){return n.resolve(e),n.promise},function(e){var t=r.setExecutionError(e);return n.reject({data:new s(!1,new c(-1,t))}),n.promise}).$promise:(n.reject({data:new s(!1,new c(-1,a.instant("svcErrors.workerRole.deleteNoName")))}),n.promise)}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.modelDriven",[])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.modelDriven").service("common.services.modelDriven.contextService",["$rootScope","$state","$q","common.services.session","$parse","$interpolate","$translate",function(e,c,t,l,r,i,n){this.MDState={previousState:"",previousData:{}},this.contextsRepository=[];var d=this,o={isSidepanelOpen:!1,show:null};function m(e){if(e){for(var t=d.currentContext,n=e.split("."),i=0;i<n.length;i++){if(!t.hasOwnProperty(n[i]))return null;t=t[n[i]]}return t}return null}function u(e){return e&&(e=e.replace(new RegExp("safeVal\\(","g"),"this.safeVal(")),e}e.$on("$stateChangeSuccess",function(e,t,n,i,o){var a;d.MDState.previousState=i,d.MDState.previousData=o,t,n,0===d.contextsRepository.length&&d.contextsRepository.push({name:t.name,context:{},viewParam:n,modelViewController:null}),d.contextsRepository[0].context||(d.contextsRepository[0].context={}),d.contextsRepository[0].context.params=n,a=c.$current.toString(),d.contextsRepository=d.contextsRepository.filter(function(e){return a.substr(0,e.name.length)===e.name});var r=c.$current.parent.toString(),s=i.name.indexOf(t.name);"home"===r&&-1===s&&l.remove("modelDrivenDrillDownCtx")}),this.setContexInfo=function(e,t,n){var i=c.$current.toString();d.contextsRepository=[],d.contextsRepository.push({name:i,context:e,viewParam:t,modelViewController:n})},this.setContentContext=function(e,t){0<d.contextsRepository.length&&d.contextsRepository[0].context.contents[e]&&(d.contextsRepository[0].context.contents[e].selectedItem=t)},this.getContextInfo=function(){if(0<d.contextsRepository.length)return d.contextsRepository[0].context},this.setStateInfo=function(e){var t=JSON.parse(l.get("modelDrivenDrillDownCtx"));t||(t={},l.set("modelDrivenDrillDownCtx",JSON.stringify(t))),e&&e.id&&(t[e.id]={selectionId:e.selectionId,detail:e.detail?e.detail:null},l.set("modelDrivenDrillDownCtx",JSON.stringify(t)))},this.getStateInfo=function(e){var t=JSON.parse(l.get("modelDrivenDrillDownCtx"));if(t&&t[e])return t[e]},this.getViewCtrl=function(){if(0<d.contextsRepository.length)return d.contextsRepository[0].modelViewController},this.evalFunctionWithStateCtx=function(e,t){if("string"!=typeof e)return e;if(-1!==(e=u(e)).indexOf("baseCommand")&&!t.baseCommand)return e;var n=["params","contents","activeContent","action","baseCommand"],i=n.join(", "),o=new Function("return function ("+i+") { "+e+"};")();if(0!==d.contextsRepository.length){if(o)try{var a,r=[];t&&(r=Object.getOwnPropertyNames(t)),a=JSON.parse(JSON.stringify(d.contextsRepository[0].context)),r.forEach(function(e){a[e]=t[e]});var s=n.map(function(e){return a.hasOwnProperty(e)?a[e]:void 0});return(d.currentContext=a).safeVal=m,o.apply(a,s)}catch(e){return}return d.contextsRepository[0].context}},this.parseWithStateCtx=function(e,t){if("string"!=typeof e)return e;if(0===(e=u(e)).indexOf("baseCommand")&&!t.baseCommand)return e;if(0!==d.contextsRepository.length){if(e)try{var n,i=r(e),o=[];t&&(o=Object.getOwnPropertyNames(t)),o.forEach(function(e){d.contextsRepository[0].context[e]=t[e]}),d.currentContext=d.contextsRepository[0].context;var a=d.currentContext;return a.safeVal=m,n=i(a),o.forEach(function(e){delete d.contextsRepository[0].context[e]}),n}catch(e){return}return d.contextsRepository[0].context}},this.parseExpr=function(e,t){return r(e)(t)},this.interpolateExpr=function(e,t){var n=angular.copy(d.contextsRepository[0].context);return t&&Object.getOwnPropertyNames(t).forEach(function(e){n[e]=t[e]}),i(e)(n)},this.translateString=function(e){var t=d.contextsRepository[0].context;return n.instant(e,t)},this.interpolateQuery=function(i,o){var e=i.match(/{{[^{}]*}}/g);return e&&0<e.length&&e.forEach(function(e){var t=e.replace("{{","").replace("}}",""),n=d.parseWithStateCtx(t,o);null==n&&(i=i.replace(e,"null"))}),d.interpolateExpr(i,o)},this.prepareMethodParams=function(o,a,r){return r||(r={}),Object.getOwnPropertyNames(o).forEach(function(e){var t=o[e],n="",i="";t.parameterRef&&t.parameterRef.parameter&&(n=t.parameterRef.parameter,t.value?"string"==typeof t.value.expression?(i=d.parseWithStateCtx(t.value.expression,a),r[n]=i):"string"==typeof t.value.body&&("object"==typeof(i=d.evalFunctionWithStateCtx(t.value.body,a))&&null!==i&&"function"==typeof i.then?i.then(function(e){r[n]=e}):r[n]=i):t.default&&("string"==typeof t.default.expression?(i=d.parseWithStateCtx(t.default.expression,a),r[n]=i):"string"==typeof t.default.body&&("object"==typeof(i=d.evalFunctionWithStateCtx(t.default.body,a))&&null!==i&&"function"==typeof i.then?i.then(function(e){r[n]=e}):r[n]=i)))}),r},this.setPropertyPanelState=function(e,t){o={isSidepanelOpen:e,show:t}},this.getPropertyPanelState=function(){return o}}])}(),function(){"use strict";function e(e,t,n,i){var c,l=this;function d(e,t){var n=e,i=n.indexOf("[");if(-1!==i){e=n.substring(0,i);var o=n.substring(i),a=o.indexOf("]"),r=-1!==a?Number(o.substring(1,a)):0}if(t&&t.data&&t.data[e])return t.data[e].constructor===Array?"number"!=typeof r||isNaN(r)?t.data[e][0]:t.data[e][r]:t.data[e]}function o(e){var s=e.appl;if(!e.appl){var t=e.functionalBlock.split(".");s=t[t.length-1]}e.states.forEach(function(a){var o={},r={};for(var e in a.contents)a.contents.hasOwnProperty(e)&&(a.contents[e].entityRef&&a.contents[e].entityRef.entity&&(o[a.contents[e].entityRef.entity]=!0),"one"===a.contents[e].multiplicity&&a.contents[e].extensionRef&&a.contents[e].extensionRef.forEach(function(e){e.entityRef&&e.entityRef.entity&&(o[e.entityRef.entity]=!0),e.readingFunctionRef&&e.readingFunctionRef.functionName&&(r[e.readingFunctionRef.functionName]=e.readingFunctionRef)}),a.contents[e].readingFunctionRef&&a.contents[e].readingFunctionRef.functionName&&(r[a.contents[e].readingFunctionRef.functionName]=a.contents[e].readingFunctionRef),a.contents[e].actions&&a.contents[e].actions.forEach(n));function t(e){e&&(!e||"object"!=typeof e.type&&"queryResult"!==e.inputMode&&"inputText"!==e.inputMode||(e.entityRef&&e.entityRef.entity?(o[e.entityRef.entity]=!0,e.selectEntityRef&&e.selectEntityRef.entity&&(o[e.selectEntityRef.entity]=!0)):e.readingFunctionRef&&e.readingFunctionRef.functionName&&(r[e.readingFunctionRef.functionName]=e.readingFunctionRef)))}function n(e){return e.extensionRef&&0<e.extensionRef.length&&e.extensionRef.forEach(function(e){e&&e.fields&&e.fields.forEach(t)}),e.behavior.entityRef&&e.behavior.entityRef.entity?(o[(n=e).behavior.entityRef.entity]=!0,void(n.behavior.fields&&Object.getOwnPropertyNames(n.behavior.fields).forEach(function(e){var t=n.behavior.fields[e];!t||"object"!=typeof t.type&&"queryResult"!==t.inputMode&&"inputText"!==t.inputMode||(t.entityRef&&t.entityRef.entity?(o[t.entityRef.entity]=!0,t.selectEntityRef&&t.selectEntityRef.entity&&(o[t.selectEntityRef.entity]=!0)):t.readingFunctionRef&&t.readingFunctionRef.functionName&&(r[t.readingFunctionRef.functionName]=t.readingFunctionRef))}))):e.behavior.readingFunctionRef&&e.behavior.readingFunctionRef.functionName?(r[(i=e).behavior.readingFunctionRef.functionName]=i.behavior.readingFunctionRef,void(i.behavior.fields&&Object.getOwnPropertyNames(i.behavior.fields).forEach(function(e){var t=i.behavior.fields[e];!t||"object"!=typeof t.type&&"queryResult"!==t.inputMode&&"inputText"!==t.inputMode||(t.entityRef&&t.entityRef.entity?(o[t.entityRef.entity]=!0,t.selectEntityRef&&t.selectEntityRef.entity&&(o[t.selectEntityRef.entity]=!0)):t.readingFunctionRef&&t.readingFunctionRef.functionName&&(r[t.readingFunctionRef.functionName]=t.readingFunctionRef))}))):void 0;var n,i}Object.getOwnPropertyNames(o).forEach(function(e){var t=e,n=null,i=[];for(var o in l[t]?n=l[t]:(l[t]={},(n=l[t]).entity=t,n.getAll=function(e,t,n){return"singleEntityArchiving"===n||"masterDetailsArchiving"===n?e?c.findAllArchiving({appName:t||s,entityName:this.entity,options:e}):c.findAllArchiving({appName:t||s,entityName:this.entity}):e?c.findAll({appName:t||s,entityName:this.entity,options:e}):c.findAll({appName:t||s,entityName:this.entity})}),a.contents)"auditTrail"!==a.contents[o].multiplicity&&!a.contents[o].readingFunctionRef&&a.contents[o].actions&&(i=a.contents[o].entityRef&&a.contents[o].entityRef.entity?i.concat(a.contents[o].actions.filter(m,{contentEntity:a.contents[o].entityRef.entity,entity:t})):i.concat(a.contents[o].actions));i.forEach(function(a){n[a.id]||(n[a.id]=function(o,e){return c.invoke({appName:e||s,commandName:a.behavior.commandRef.command,params:o}).then(function(e){var t={id:null,completeResponse:null};if(a.extensionRef&&0<a.extensionRef.length&&(t.completeResponse=e),a.behavior.onExit&&a.behavior.onExit.key){var n=d(a.behavior.onExit.key,e);if(void 0!==n)return t.id=n,t}if(e&&e.data&&e.data.Id)return t.id=e.data.Id,t;if(o&&o.Id)return t.id=o.Id,t;if(e&&e.data){var i=Object.getOwnPropertyNames(e.data);if(1===(i=i.filter(function(e){return"Error"!==e&&"Succeeded"!==e&&-1===e.indexOf("@odata.")})).length&&"string"==typeof i[0])return t.id=e.data[i[0]],t}return t},function(e){return!1})},a.extensionRef&&0<a.extensionRef.length&&a.extensionRef.forEach(function(i){n[a.id][i.id]||(n[a.id][i.id]=function(e,t){var n={appName:t||s,commandName:i.commandRef.command,params:e};return c.invoke(n).then(function(e){return!0},function(e){return!1})})}))})}),Object.getOwnPropertyNames(r).forEach(function(e){var t=null,n=[],i={};for(var o in i.appName=s,i.functionName=e,i.options=r[e].options,l[e]?t=l[e]:(l[e]={},(t=l[e]).readingFunction=e,t.getAll=function(e,t){return i.appName=t||s,i.params={},"string"==typeof e&&(i.params=JSON.parse(e)),c.read(i)}),a.contents)"auditTrail"!==a.contents[o].multiplicity&&a.contents[o].actions&&(n=n.concat(a.contents[o].actions));n.forEach(function(a){t[a.id]||(t[a.id]=function(o,e){return c.invoke({appName:e||s,commandName:a.behavior.commandRef.command,params:o}).then(function(e){var t={id:null,completeResponse:null};if(a.extensionRef&&0<a.extensionRef.length&&(t.completeResponse=e),a.behavior.onExit&&a.behavior.onExit.key){var n=d(a.behavior.onExit.key,e);if(void 0!==n)return t.id=n,t}if(e&&e.data&&e.data.Id)return t.id=e.data.Id,t;if(o&&o.Id)return t.id=o.Id,t;if(e&&e.data){var i=Object.getOwnPropertyNames(e.data);if(1===(i=i.filter(function(e){return"Error"!==e&&"Succeeded"!==e&&-1===e.indexOf("@odata.")})).length&&"string"==typeof i[0])return t.id=e.data[i[0]],t}return t},function(e){return!1})},a.extensionRef&&0<a.extensionRef.length&&a.extensionRef.forEach(function(i){t[a.id][i.id]||(t[a.id][i.id]=function(e,t){var n={appName:t||s,commandName:i.commandRef.command,params:e};return c.invoke(n).then(function(e){return!0},function(e){return!1})})}))})}),o={},r={}})}function m(e,t,n){return e.behavior.entityRef?e.behavior.entityRef.entity===this.entity:this.contentEntity===this.entity}c=i.services.runtime.backendService,l.buildManifestEntity=o}angular.module("siemens.simaticit.common.services.modelDriven").service("common.services.modelDriven.dataService",e),e.$inject=["$state","$resource","$http","common.base"]}(),function(){"use strict";function e(r){function e(e,t,n,i,o,a){return new s(r,e,t,n,i,o,a)}(this.$get=e).$inject=["$http","$q","$translate","common.services.logger.service","common.services.modelDriven.dataService","common.services.modelDriven.migrationService"]}function s(u,e,n,p,g,f,h){var v,y,i,o,t=this,C="modelDriven Service",r="common.layout.modelDriven.template",b=[];function a(e){}function s(e){if(null!==i)return i.promise;if(i=n.defer(),!e)return o=0,i.resolve(v),i.promise;if(0===(o=e.length))return i.resolve(v),i.promise;for(var t=0;t<e.length;t++){w(c(e[t])).then(l,l)}return i.promise}function c(e){return e.substring(0,e.lastIndexOf("."))+"/modules/"+e+".json"}function l(){0<(o-=1)||i.resolve(v)}function d(e){for(var t={},n=0;n<b.length;n++)if(b[n].id===e){var i=c(b[n].module);t=y[i]}return t}function m(e){if(!e)return i.promise;if(!y.hasOwnProperty(e))return i.promise;var t=n.defer();return t.resolve(y[e]),t.promise}function w(d){var m=n.defer();return e.get(d).then(function(e){var t=e.data;if(g.logInfo("Module manifest processed:",t,C),t.states[0].hasOwnProperty("layoutTemplate")||t.states[0].hasOwnProperty("blueprint"))if(t.hasOwnProperty("baseAppName"))m.reject("Extension model-driven module.");else{var n,i,o,c,a,r,s=!1,l=(n=t.manifestVersion,o=0,n&&(i=n.split("."))&&3===i.length&&(o=i[0]+"."+i[1]+i[2],o=Number(o)),o);if(l<2&&(s=!0),!s&&l<2.01)t=h.getMigratedManifest(t).manifest;try{r=s,(a=t).states.forEach(function(t){if(r)return e=t,void u.state({name:e.id,url:"/"+e.urlPrefix+"-list",views:{"Canvas@":{template:'<div class="content-area content-area-relative" style="height: calc(100% - 50px) !important" id="itemlist"><h2>Error</h2><h3>The screen cannot be displayed because it was developed with a previous version.Please consider updating the required Apps.</h3></div>'}},data:{title:p.instant(e.header)||e.title}});var e;b.push({id:t.id,module:a.name}),(void 0===t.autoGenerate||t.autoGenerate)&&S(t);var n=[];for(var i in t.contents)t.contents[i].actions&&(n=n.concat(t.contents[i].actions));n.filter(function(e){return"command"===e.behavior.type||"view"===e.behavior.type}).forEach(function(e){x(e,t.id)})}),t.drillDownStates&&0<t.drillDownStates.length&&(c=t).drillDownStates.forEach(function(e){var t={};e.type="drill-down";var n,i,o=(n=e,c.states.forEach(function(e){n.referenceState===e.id&&(i=e)}),i);if(o&&o.id&&((t=angular.copy(o)).id=e.id),t.id){var a=function(n,e){var t,i;1<(i=n).length&&(i=i.replace(/\./g,"_")),n=i;var o=e.substring("home".length+1).split(".");return o&&1<o.length&&(o.forEach(function(e,t){o[t]=e.substring(n.length+1)}),t=o.join("_")),t}(c.name,e.id);t.urlPrefix=a||"_"+t.urlPrefix,S(t)}var r=[];for(var s in t.contents)t.contents[s].actions&&(r=r.concat(t.contents[s].actions));r.filter(function(e){return"command"===e.behavior.type||"view"===e.behavior.type}).forEach(function(e){x(e,t.id)})})}catch(e){g.logError("Failed to create states: ",e,C),m.reject(e)}s||f.buildManifestEntity(t),y[d]=t,void 0===v.customServices&&(v.customServices=[]),v.states=v.states.concat(t.states),t.drillDownStates&&0<t.drillDownStates.length&&(v.states=v.states.concat(t.drillDownStates)),void 0!==t.customServices&&(v.customServices=v.customServices.concat(t.customServices)),m.resolve(t)}else m.reject("Invalid model-driven module.")},function(e){g.logError("Error processing module manifest: ",e,C),m.reject(e)}),m.promise}function S(e){var t,n,i,o=(i=n="",(t=e).blueprint?{ctrl:t.blueprint.controller,tpl:t.blueprint.url}:"singleEntityArchiving"===t.layoutTemplate?{ctrl:r+".SECtrl",tpl:"common/blueprints/singleEntityTemplate/singleEntityLayoutTemplate.html"}:"masterDetailsArchiving"===t.layoutTemplate?{ctrl:r+".MDCtrl",tpl:"common/blueprints/masterDetailsTemplate/masterDetailsLayoutTemplate.html"}:("masterDetails"===t.layoutTemplate?(i=r+".MDCtrl",n="common/blueprints/masterDetailsTemplate/masterDetailsLayoutTemplate.html"):(i=r+".SECtrl",n="common/blueprints/singleEntityTemplate/singleEntityLayoutTemplate.html"),{ctrl:i,tpl:n})),a={};e.params&&e.params.forEach(function(e){a[e]=null}),u.state({name:e.id,url:"/"+e.urlPrefix+"-list",params:a,views:{"Canvas@":{templateUrl:o.tpl,controller:o.ctrl,controllerAs:"vm"}},data:{title:p.instant(e.header)||e.title}})}function x(e,t){var n="",i="";e.behavior.type?"command"===e.behavior.type?e.behavior.blueprint&&e.behavior.blueprint.url&&e.behavior.blueprint.controller?(n=e.behavior.blueprint.url,i=e.behavior.blueprint.controller):(n="common/blueprints/executeCommandTemplate/execute-commandTemplate.html",i="common.layout.modelDriven.template.ExecuteCommandCtrl"):"view"===e.behavior.type&&(e.behavior.blueprint&&e.behavior.blueprint.url&&e.behavior.blueprint.controller?(n=e.behavior.blueprint.url,i=e.behavior.blueprint.controller):(n="common/blueprints/overviewTemplate/overviewTemplate.html",i="common.layout.modelDriven.template.Overview")):e.behavior.commandRef&&(n="common/blueprints/executeCommandTemplate/execute-commandTemplate.html",i="common.layout.modelDriven.template.ExecuteCommandCtrl");var o={};e.params&&Object.getOwnPropertyNames(e.params).forEach(function(e){o[e]=null}),u.state({name:t+"."+e.id,url:"/"+t+"_"+e.id,params:o,views:{"property-area-container@":{templateUrl:n,controller:i,controllerAs:"vm"}},data:{title:p.instant(e.title)}})}v={states:[]},y={},i=null,t.initMD=a,t.initModules=s,t.getManifest=m,t.getCurrentModuleInfo=d}angular.module("siemens.simaticit.common.services.modelDriven").provider("common.services.modelDriven.service",e),e.$inject=["$stateProvider"]}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(){}return e.prototype.getMigratedManifest=function(t){try{return{succeeded:!0,manifest:this.migrateModule(t)}}catch(e){return{succeeded:!1,manifest:t}}},e.prototype.migrateModule=function(e){e.hasOwnProperty("customServices")||(e.customServices=[]);for(var t=0;t<e.states.length;t++)try{var n=this.migrateScreen(e.states[t]);e.states[t]=n}catch(e){continue}return e.manifestVersion="02.01.00",e},e.prototype.migrateScreen=function(e){this.appName=e.appName;var t=e.layoutTemplate||e.hasOwnProperty("blueprint")?e.layoutTemplate:"singleEntity";for(var n in e.layoutTemplate||e.hasOwnProperty("blueprint")||(e.layoutTemplate="singleEntity"),e.header||(e.header=e.title),e.hasOwnProperty("contents")||(e.contents={}),e.hasOwnProperty("params")||(e.params=[]),e.hasOwnProperty("autoGenerate")||(e.autoGenerate=!0),e.hasOwnProperty("appAcronym")&&delete e.appAcronym,e.contents)if(n)try{var i=this.migrateContent(e.contents[n],t);e.contents[n]=i}catch(e){continue}return e},e.prototype.migrateContent=function(e,t){e.hasOwnProperty("master")||(e.master=!1),e.hasOwnProperty("actions")||(e.actions=[]),"auditTrail"!==e.multiplicity&&(e.properties=this.migrateContentProperties(e.properties)),e.blueprintSettings=this.migrateContentBlueprintSettings(e,t),e.entityRef?e.entityRef.app=this.appName:e.readingFunctionRef&&(e.readingFunctionRef.app=this.appName);for(var n=0;n<e.actions.length;n++)try{e.actions[n]=this.migrateAction(e.actions[n])}catch(e){continue}return e},e.prototype.migrateContentProperties=function(e){var n=this;return e.forEach(function(e,t){e.propertyRef&&(e.propertyRef.app=n.appName),e.hasOwnProperty("sortable")||(e.sortable=!1),e.hasOwnProperty("searchable")||(e.searchable=!1),e.hasOwnProperty("groupable")||(e.groupable=!1),e.hasOwnProperty("title")&&delete e.title,e.hasOwnProperty("values")&&delete e.values,e.hasOwnProperty("isDescription")&&delete e.isDescription,e.hasOwnProperty("isTitle")&&delete e.isTitle,e.hasOwnProperty("id")&&delete e.id,e.hasOwnProperty("isSelected")&&delete e.isSelected}),e},e.prototype.migrateContentBlueprintSettings=function(e,t){if("one"===e.multiplicity){var n={gridConfig:{columnDefs:[]},layoutSettings:{layout:"Vertical",columns:"1",type:"Fixed"}};e.blueprintSettings&&e.blueprintSettings.gridConfig&&(n.gridConfig=e.blueprintSettings.gridConfig),e.blueprintSettings&&e.blueprintSettings.layoutSettings&&(n.layoutSettings=e.blueprintSettings.layoutSettings),e.blueprintSettings=n}return e.blueprintSettings&&"many"===e.multiplicity&&(e.blueprintSettings.viewMode||e.blueprintSettings.viewOptions||(e.master&&"masterDetails"===t?(e.blueprintSettings.viewMode="c",e.blueprintSettings.viewOptions="c"):(e.blueprintSettings.viewMode="m",e.blueprintSettings.viewOptions="m")),e.blueprintSettings.tileConfig?(e.blueprintSettings.tileConfig.icon=e.blueprintSettings.tileConfig.icon||"",e.blueprintSettings.tileConfig.titleField=e.blueprintSettings.tileConfig.titleField||"",e.blueprintSettings.tileConfig.descriptionField=e.blueprintSettings.tileConfig.descriptionField||"",void 0===e.blueprintSettings.tileConfig.isCell&&(e.blueprintSettings.tileConfig.isCell=!1),e.blueprintSettings.tileConfig.propertyFields=e.blueprintSettings.tileConfig.propertyFields||[],e.blueprintSettings.tileConfig.indicators=e.blueprintSettings.tileConfig.indicators||[],e.blueprintSettings.tileConfig.commands=e.blueprintSettings.tileConfig.commands||[]):e.blueprintSettings.tileConfig={icon:"",titleField:"",descriptionField:"",isCell:!1,propertyFields:[],indicators:[],commands:[]},e.blueprintSettings.gridConfig||(e.blueprintSettings.gridConfig={columnDefs:[]}),e.blueprintSettings.pagingOptions||e.blueprintSettings.serverSidePagination||(e.blueprintSettings.pagingOptions={pageSizes:[5,10,25,100,250,500],pageSize:10,currentPage:1}),e.blueprintSettings.tagField=e.blueprintSettings.tagField||"",e.blueprintSettings.filterBarOptions=e.blueprintSettings.filterBarOptions||"sqgf",e.blueprintSettings.filterFields=e.blueprintSettings.filterFields||[],e.blueprintSettings.filterOptions||(e.blueprintSettings.filterOptions={showDefaultClause:!1,showMatchCase:!1,allowedOperators:"",groupEnabled:!1}),void 0===e.blueprintSettings.filterEnabled&&(e.blueprintSettings.filterEnabled=!1),void 0===e.blueprintSettings.tagsManager&&(e.blueprintSettings.tagsManager=!0)),"auditTrail"===e.multiplicity||e.blueprintSettings.gridConfig.columnDefs.length||(e.blueprintSettings.gridConfig.columnDefs=this.getMigratedGridConfig(e)),e.blueprintSettings},e.prototype.getMigratedGridConfig=function(e){var t=e.properties,n=[];return t.forEach(function(e,t){n.push({field:e.name,displayName:e.label,visible:!0,type:e.type})}),n},e.prototype.migrateAction=function(e){var n=this;return e.hasOwnProperty("params")&&"string"!=typeof e.params||(e.params={}),e.hasOwnProperty("authorizationCmd")&&delete e.authorizationCmd,e.hasOwnProperty("main")||(e.main=!1),e.behavior.commandRef&&e.behavior.commandRef.command&&(e.behavior.commandRef.app=this.appName,e.behavior.hasOwnProperty("onExit")||(e.behavior.onExit={}),e.behavior.onExit.key=e.behavior.onExit.key||"Id",e.behavior.onExit.refreshAndSelectContents=e.behavior.onExit.refreshAndSelectContents||[],"command"===e.behavior.type&&(e.behavior.shortTitle=e.behavior.shortTitle||e.behavior.commandRef.command),e.behavior.fields.forEach(function(e){var t;(e.parameterRef&&(e.parameterRef.app=n.appName),e.hasOwnProperty("useEntityPicker")||(e.useEntityPicker=!1),e.hasOwnProperty("readOnly")||(e.readOnly=!1),e.hasOwnProperty("values")||(e.values=[]),e.hasOwnProperty("validation")||e.hidden||(e.validation={}),e.hasOwnProperty("entityRef")&&(e.entityRef.app=n.appName),e.hasOwnProperty("description")&&delete e.description,e.hasOwnProperty("isList")&&delete e.isList,"object"==typeof e.type&&(e.type={}),e.inputMode)||(e.hasOwnProperty("entityRef")&&e.entityRef.entity||"object"==typeof e.type?t="object":e.values&&0<e.values.length?t="enum":"string"==typeof e.type&&(t=e.type.toLowerCase()),e.inputMode=n.getDefaultInputMode(t))})),"command"!==e.behavior.type||e.behavior.hasOwnProperty("disableWhen")||(e.behavior.disableWhen={expression:""}),"command"!==e.behavior.type&&"view"!==e.behavior.type||e.behavior.blueprint||(e.behavior.sidePanelMode=e.behavior.sidePanelMode||"large"),e.behavior.entityRef?e.behavior.entityRef.app=this.appName:e.behavior.readingFunctionRef&&(e.behavior.readingFunctionRef.app=this.appName),e},e.prototype.getDefaultInputMode=function(e){switch(e){case"int16":case"int32":case"int":case"int64":case"decimal":case"byte":case"number":return"numeric";case"boolean":return"checkbox";case"datetimeoffset":case"datetime":return"dateTimePicker";case"timespan":return"timePicker";case"string":case"guid":return"inputText";case"object":return"queryResult";case"enum":return"enum";case"blob":return"fileUploader";default:return"inputText"}},e}(),t.MigrationService=n,angular.module("siemens.simaticit.common.services.modelDriven").service("common.services.modelDriven.migrationService",n)}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.modelDriven").service("common.services.modelDriven.runtimeService",["$q","common.services.modelDriven.service","common.services.modelDriven.contextService","common.services.modelDriven.dataService","filterFilter","$parse","$state","$timeout","$translate","common.base","$rootScope","common.widgets.busyIndicator.service","$filter","common.widgets.messageOverlay.service",function(B,G,V,L,e,t,z,U,j,n,q,W,H,X){var Y=n.services.runtime.backendService;function Q(e){var t={};if(0<Object.keys(e).length)for(var n in e)e[n]?(t[n]=V.parseWithStateCtx(e[n]),t[n]||(t[n]=null)):t[n]=e[n];return JSON.stringify(t)}function i(n){var i=z.$current.parent.toString(),o=z.$current.toString().replace(i+".",""),a=null,r=null,s=null,c=null;G.getManifest().then(function(e){function t(e){e.id===this.act&&(a=e)}for(r in"drill-down"===(c=e.states.filter(function(e){return e.id===i})[0]).type&&c.referenceState&&(c=e.states.filter(function(e){return e.id===c.referenceState})[0]),c.contents)c.contents[r].actions&&c.contents[r].actions.some(t,{act:o});a&&a.behavior&&V.MDState?a.behavior.onExit?(s=V.getViewCtrl(),a.behavior.onExit.refreshAndSelectContents&&(s&&a.behavior.onExit.refreshAndSelectContents.forEach(function(e){s[e]&&(n?s[e].refreshAndSelect(n):s[e].refresh())}),z.go(V.MDState.previousState,V.MDState.previousData))):z.go(V.MDState.previousState,V.MDState.previousData,{reload:!0}):z.go("^",{},{reload:!0})},function(){z.go("^",{},{reload:!0})})}function K(t,e){try{if(-1!==e.indexOf(".svg"))t.svgIcon=e;else if(-1!==e.indexOf("svg ")){var n=e.slice(4);t.svgIcon="common/icons/"+n+".svg"}else t.image=e}catch(e){t.image=""}}function l(e,t){var n=B.defer();return U(function(){e?t?n.resolve(t):n.resolve():t?n.reject(t):n.reject()},100),n.promise}function J(e,t){for(var n={},i=0;i<t.length;i++)n[t[i].name]=t[i];for(var o=0;o<e.columnDefs.length;o++){var a=e.columnDefs[o].field||e.columnDefs[o].name;n[a]&&n[a].group&&(e.columnDefs[o].group=n[a].group)}}this.ModelViewCtrl=function(e,p,t){var g={};angular.copy(e,g);var n,f=this,i=null,o=null,m=g.appName,a={},r={},h={contents:{},params:t},s=0,c=["sortInfo","groupFields","quickSearchOptions","tileConfig","gridConfig"],l=[],d=!1;if("object"!=typeof p||"null"===p)return null;function u(i,e,t){var a,r,s,c,l;if(e.forEach(function(e){var t=e,n=e.name,i=j.instant(t.label)||e.name,o=Object.getOwnPropertyNames(t);t.type&&0<t.type.length&&(t.type=t.type.toLowerCase()),c||(c={columnDefs:[]}),"number"===t.type?c.columnDefs.push({field:n,displayName:i,cellFilter:"number"}):"boolean"===t.type?c.columnDefs.push({field:n,displayName:i,cellTemplate:'<sit-mdtoggle ng-disabled="true" sit-value="row.getProperty(\''+n+"')\" ></sit-mdtoggle>"}):"datetimeoffset"===t.type||"datetime"===t.type?c.columnDefs.push({field:n,displayName:i,cellFilter:"date:'medium'"}):c.columnDefs.push({field:n,displayName:i}),o.forEach(function(e){switch(e){case"sortable":t[e]&&(s||(s={field:n,direction:"asc",fields:[]}),s.fields.push({field:n,displayName:i}));break;case"groupable":t[e]&&(r||(r=[]),r.push({field:n,displayName:i}));break;case"searchable":t[e]&&(a={enabled:!0,field:n});break;case"isTitle":case"isDescription":l||(l={}),l[e+"Field"]=n}})}),t&&t.tileConfig&&(l||(l={}),t.tileConfig.titleField&&(l.titleField=t.tileConfig.titleField),t.tileConfig.descriptionField&&(l.descriptionField=t.tileConfig.descriptionField),t.tileConfig.propertyFields?(t.tileConfig.propertyFields.forEach(function(e){e.displayName&&(e.displayName=j.instant(e.displayName))}),l.propertyFields=t.tileConfig.propertyFields):l.propertyFields=[],t.tileConfig.indicators&&0<t.tileConfig.indicators.length&&(t.tileConfig.indicators.forEach(function(e){K(e,e.svgIcon),e.visible.body&&1<e.visible.body.length?e.visible=v(e.visible.body):e.visible.expression&&1<e.visible.expression.length&&(e.visible=e.visible.expression)}),l.indicators=t.tileConfig.indicators),void 0!==t.tileConfig.isCell&&(l.isCell=t.tileConfig.isCell),t.tileConfig.commands&&0<t.tileConfig.commands.length)){l.commands=[];var o={};t.tileConfig.commands.forEach(function(n){if(n.tooltip&&(n.tooltip=j.instant(n.tooltip)),n.img&&-1!==n.img.indexOf("svg ")){var e=n.img.slice(4);e=e.substring(3,e.length-2),n.cmdIcon=e}n.visible.body&&1<n.visible.body.length?n.visible=v(n.visible.body):n.visible.expression&&1<n.visible.expression.length?n.visible=n.visible.expression:n.visible=!0,"drill-down"===n.type?n.onClick=function(e){var t;e&&e.Id&&(h.contents[i].selectedItem=e,n.drillDownParams&&Object.getOwnPropertyNames(n.drillDownParams).forEach(function(e){t=V.parseWithStateCtx(n.drillDownParams[e]),o[e]=t}),V.setPropertyPanelState(!1,null),"function"==typeof f[i].onTileOpenClick&&f[i].onTileOpenClick(e,n.destination,o))}:n.onClick=function(){},l.commands.push(n)})}if(t&&t.tagField&&t.tagField.displayName&&(t.tagField.displayName=j.instant(t.tagField.displayName)),t&&t.gridConfig&&(c=t.gridConfig).columnDefs)for(var n=0;n<c.columnDefs.length;n++)e.forEach(function(e){e.type&&0<e.type.length&&(e.type=e.type.toLowerCase()),c.columnDefs[n].field===e.name&&(c.columnDefs[n].displayName=j.instant(c.columnDefs[n].displayName),"boolean"===e.type&&(c.columnDefs[n].cellTemplate='<sit-mdtoggle ng-disabled="true" sit-value="row.getProperty(\''+e.name+"')\" ></sit-mdtoggle>"),"number"===e.type?c.columnDefs[n].cellFilter="number":"datetimeoffset"!==e.type&&"datetime"!==e.type||(c.columnDefs[n].cellFilter="date:'medium'"),c.columnDefs[n].sortable="boolean"==typeof e.sortable&&e.sortable)});return{sortInfo:s,groupFields:r,quickSearchOptions:a,tileConfig:l,gridConfig:c}}function v(e){return e?new Function("return function (tileContent) {"+e+"};")():e}G.getCurrentModuleInfo(e.id).actionGroups&&(l=G.getCurrentModuleInfo(e.id).actionGroups),f.getMasterContentNames=function(){return g&&g.contents?Object.getOwnPropertyNames(g.contents).filter(function(e){return g.contents[e].master}):[]},f.setActiveContent=function(e){h.activeContent!==e&&(h.activeContent=e)};var y=_.debounce(function(){U(function(){var e=V.getPropertyPanelState(),t=function(e){if(!e.show)return!0;{if(e.show.expression)return V.parseWithStateCtx(e.show.expression);if(e.show.body){var t=V.evalFunctionWithStateCtx(e.show.body);if("object"!=typeof t||null===t||"function"!=typeof t.then)return t;t.then(function(e){return e})}}}(e);e.isSidepanelOpen&&!t&&(V.setPropertyPanelState(!1,null),z.go("^"))},200)},200,!0);function C(e){var t=null;return e.entityRef&&e.entityRef.entity?t=e.entityRef.entity:e.readingFunctionRef&&e.readingFunctionRef.functionName&&(t=e.readingFunctionRef.functionName),t}function b(e){var t=!1;return e.readingFunctionRef&&e.readingFunctionRef.functionName&&(t=!0),t}function w(n,e){var t={selectionMode:"single",containerID:e?"masterList":"detailList",viewOptions:"c",viewMode:"c",uniqueID:"Id",userPrefId:function(e){var t=e;try{var n=g.id.indexOf(".");t=g.id.substring(n+1)+"_"+e}catch(e){return t}return t}(n),tagsManager:!0,onSelectionChangeCallback:function(e,t){t&&!0===t.selected?(h.contents[n].selectedItem=t,q.$broadcast("mdui-icv-item-selected")):null!==t&&(h.contents[n].selectedItem=void 0),t&&q.$broadcast("mdui-icv-item-changed",{selected:t.selected,item:t}),f[n].onContentSelection&&null!==t&&f[n].onContentSelection(e,t),V.getPropertyPanelState().isSidepanelOpen&&y()}};if(K(t,g.contents[n].blueprintSettings&&g.contents[n].blueprintSettings.image?g.contents[n].blueprintSettings.image:g.icon),g.contents[n].blueprintSettings)for(var i in g.contents[n].blueprintSettings){if(g.contents[n].blueprintSettings.hasOwnProperty(i)&&"tileConfig"!==i&&(t[i]=g.contents[n].blueprintSettings[i]),"uniqueID"===i&&g.contents[n].blueprintSettings[i]&&(t.uniqueID=g.contents[n].blueprintSettings[i]),"serverSidePagination"===i&&g.contents[n].blueprintSettings[i]){var o;if(o=C(g.contents[n]),g.contents[n].master){var a=V.interpolateQuery(g.contents[n].query,null);t.serverDataOptions={dataService:f[n],dataEntity:o,appName:g.appName,optionsString:a}}}"filterFields"===i&&g.contents[n].blueprintSettings[i].forEach(function(e){e.allowedCompareOperators=S(e.allowedCompareOperators),e.displayName=j.instant(e.displayName),e.dataService=Y,e.appName=g.appName,e.dataSource.selectedEntity.name||(e.dataSource={})}),!0===t.tagsManager&&g.contents[n].entityRef&&g.contents[n].entityRef.entity&&(t.tagsManagerOptions={entityName:g.contents[n].entityRef.entity,appName:g.appName}),g.contents[n].readingFunctionRef&&(t.tagsManager=!1)}return t}function S(e){var t=[],n=0;if(e&&0<e.length)for(n=0;n<e.length;n++)"startsWith"===e[n]||"endsWith"===e[n]?t[n]=e[n]:"Starts With"!==e[n]&&"Ends With"!==e[n]?t[n]=e[n].replace(/\s/g,"").toLowerCase():t[n]=e[n].charAt(0).toLowerCase()+e[n].slice(1).replace(/\s/g,"");return t}function x(e){d=!0,n=e.id,e.blueprintSettings&&e.blueprintSettings.gridConfig&&e.blueprintSettings.gridConfig.columnDefs?(J(e.blueprintSettings.gridConfig,e.properties),e.blueprintSettings.gridConfig.columnDefs.forEach(T,{confDataRepository:p,contentName:i})):e.properties.forEach(T,{confDataRepository:p,contentName:i})}function T(e){e.type&&0<e.type.length&&(e.type=e.type.toLowerCase()),p.contents[i].runtimeConf.data.push({id:e.name||e.field,widget:"boolean"!==e.type?"sit-label":"sit-mdtoggle",disabled:!0,isExtended:d,extensionId:n,label:e.label?j.instant(e.label):e.name||j.instant(e.displayName),dataType:e.type,group:e.group})}function I(r){var s=null;r.behavior.entityRef&&r.behavior.entityRef.entity?s=L[r.behavior.entityRef.entity]:r.behavior.readingFunctionRef&&r.behavior.readingFunctionRef.functionName?s=L[r.behavior.readingFunctionRef.functionName]:g&&i&&(g.contents[i].entityRef&&g.contents[i].entityRef.entity?s=L[g.contents[i].entityRef.entity]:g.contents[i].readingFunctionRef&&g.contents[i].readingFunctionRef.functionName&&(s=L[g.contents[i].readingFunctionRef.functionName]));var e={type:r.main?"MainCommand":"Command",name:"",label:j.instant(r.title),tooltip:j.instant(r.tooltip)||j.instant(r.title),onClickCallback:function(){var a="",t={},n=null,i=V.getPropertyPanelState().isSidepanelOpen;if(a=i?z.$current.parent.toString():z.$current.toString(),"navigation"===r.behavior.type)return r.behavior.navigationParams&&Object.getOwnPropertyNames(r.behavior.navigationParams).forEach(function(e){t[e]=V.parseWithStateCtx(r.behavior.navigationParams[e])}),V.setPropertyPanelState(!1,null),void z.go(r.behavior.destination,t);if("command"===r.behavior.type||"view"===r.behavior.type){r.params&&Object.getOwnPropertyNames(r.params).forEach(function(e){t[e]=V.parseWithStateCtx(r.params[e])});var e=a+"."+r.id;return z.$current.toString()!==e&&V.setPropertyPanelState(!1,null),void z.go(a+"."+r.id,t)}if(("confirm"===r.behavior.type||"automatic-command"===r.behavior.type)&&r.behavior.commandRef){n=V.prepareMethodParams(r.behavior.fields);var o=function(o){k();var e=n;i=V.getPropertyPanelState().isSidepanelOpen,o&&W.show(),i&&(V.setPropertyPanelState(!1,null),z.go("^")),s[r.id](e,m).then(function(t){var n=null;if(t){var e=r.behavior.onExit;if(e&&e.refreshAndSelectContents&&0<e.refreshAndSelectContents.length){if(n=V.getViewCtrl(),r.behavior.onExit.refreshContents)n&&r.behavior.onExit.refreshContents.forEach(function(e){n[e]&&n[e].refresh()});else if(r.behavior.onExit.refreshAndSelectContents&&n){r.behavior.onExit.refreshAndSelectContents.forEach(function(e){n[e]&&(t&&t.id?n[e].refreshAndSelect(t.id):n[e].refresh())});var i={event:"onActionCompletion",data:"object"==typeof t&&t.id?t:null};q.$broadcast("mdui-context-refreshed",i)}o&&W.hide()}else o&&W.hide(),V.setPropertyPanelState(!1,null),z.go(a,{},{reload:!0})}else o&&W.hide()},Y.backendError)};r.behavior.confirm?(q.globalOverlayData.title=j.instant(r.behavior.confirmTitle)||j.instant("common.confirmation"),q.globalOverlayData.text=V.translateString(r.behavior.confirm),q.globalOverlayData.buttons=[{id:"yes",displayName:j.instant(r.behavior.confirmYes)||j.instant("common.yes"),onClickCallback:o},{id:"no",displayName:j.instant(r.behavior.confirmNo)||j.instant("common.no"),onClickCallback:k}],X.show("globalMsgOverlayId")):o(!0)}return"reload"===r.behavior.type?(V.setPropertyPanelState(!1,null),void z.go(a,t,{reload:!0})):void 0}};K(e,r.icon),r.behavior&&r.behavior.commandRef&&(e.name=r.behavior.commandRef.command,r.behavior.commandRef.fullName?(e.unauthorizedBehavior="hide",e.name=r.behavior.commandRef.fullName):e.unauthorizedBehavior="hide"),0===e.name.length&&(e.name=r.id),r.show?r.show.expression?e.showLogic=r.show.expression:r.show.body&&(e.showLogicFunction=r.show.body):r.showFunction&&(e.showLogicFunction=r.showFunction),function(e,t,n){if(t.group){var i=function(e,t){for(var n=-1,i=0;i<e.length;i++)e[i].name===t&&"Group"===e[i].type&&(n=i);return n}(e.bar,t.group);if(-1!==i)e.bar[i].group.push(n);else{var o=function(e){for(var t={},n=0;n<l.length;n++)if(l[n].name===e){(t=l[n]).label=j.instant(t.label)||t.name,K(t,t.icon);break}return t}(t.group);o.type="Group",o.group=[],o.group.push(n),e.bar.push(o)}}else e.bar.push(n)}(o,r,e)}function k(){X.hide()}function E(n,e){var i=!1,t=[];for(var o in e)e[o].master||t.push(e[o]);return 1===t.length?i=!0:1<t.length&&t.forEach(function(e,t){n===e.id&&0===t&&(i=!0)}),i}function O(s){var u,o,n=g.contents[s],e=f[s],c=!1;u=g.appName,n.entityRef&&n.entityRef.entity?o=L[n.entityRef.entity]:n.readingFunctionRef&&n.readingFunctionRef.functionName&&(c=!0,o=L[n.readingFunctionRef.functionName]),e.refresh=function(){if("custom"!==g.contents[s].multiplicity){var e=g.contents[s].blueprintSettings;if("many"!=g.contents[s].multiplicity||!e||!e.serverSidePagination){var i=B.defer();return function(e,m){var t;if("auditTrail"!==e.multiplicity)e.query&&!c&&(t=e.query,t=V.interpolateQuery(t,null),!0),c&&e.readingFunctionRef.params&&(t=Q(e.readingFunctionRef.params)),o.getAll(t,u,g.layoutTemplate).then(function(e){var o=null,t=0,n=null,d=[];if(h.contents[s]&&h.contents[s].selectedItem&&(o=h.contents[s].selectedItem,h.contents[s].selectedItem=void 0,o.selected=!1,p.contents[s].runtimeConf.selectAll&&p.contents[s].runtimeConf.selectAll(!1),"function"==typeof f[s].onContentSelection&&f[s].onContentSelection(void 0,o)),o=[],e&&e.succeeded&&(o=e.value),!p.contents[m].blueprintSettings||"c"!==p.contents[m].blueprintSettings.viewOptions&&"m"!==p.contents[m].blueprintSettings.viewOptions&&"gm"!==p.contents[m].blueprintSettings.viewOptions||p.contents[m].properties.forEach(function(t){var n;"string"==typeof t.type?n=t.type.toLowerCase():"object"==typeof t.type&&(n="object");var e=p.contents[m].blueprintSettings.tileConfig,i=!1;e.titleField!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0),i||e.descriptionField!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0),!i&&e.propertyFields&&e.propertyFields.length&&e.propertyFields.forEach(function(e){e.field!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0)}),i&&o.forEach(function(e){e[t.name]=H("date")(e[t.name],"medium")})}),p.params&&p.params[s])for(t=0;t<o.length;t++)if(o[t].Id&&o[t].Id===p.params[s]){o[t].selected=!0,n=o[t];break}p.contents[m].runtimeData=o,n&&(h.contents[s].selectedItem=n),"function"==typeof f[s].onContentSelection&&f[s].onContentSelection(void 0,n),"one"===p.contents[m].multiplicity&&(p.contents[m].runtimeConf.data.forEach(function(e){if(!e.isExtended){var t=V.parseExpr(e.id,o[0]);"datetime"===e.dataType||"datetimeoffset"===e.dataType?e.value=H("date")(t,"medium"):e.value=t}}),h.contents[s]=o[0],p.contents[m].extensionRef&&p.contents[m].extensionRef.forEach(function(e){var t,n,i,o,a,r,s,c,l={applName:u,extension:e,contentName:m};d.push((t=l,i=B.defer(),o=t.applName,a=t.extension,r=t.contentName,s=!1,c="",a.entityRef&&a.entityRef.entity&&(n=L[a.entityRef.entity]),a.readingFunctionRef&&a.readingFunctionRef.functionName&&(s=!0,n=L[a.readingFunctionRef.functionName]),a.query&&!s&&(c=a.query,c=V.interpolateQuery(c,null)),s&&a.readingFunctionRef.params&&(c=Q(a.readingFunctionRef.params)),n.getAll(c,o,g.layoutTemplate).then(function(e){var n=null;n=[],e&&e.succeeded&&(n=e.value,h.contents[r][a.id]=n[0]),p.contents[r].runtimeConf.data.forEach(function(e){if(e.isExtended&&e.extensionId===a.id){var t=V.parseExpr(e.id,n[0]);"datetime"===e.dataType||"datetimeoffset"===e.dataType?e.value=H("date")(t,"medium"):e.value=t}}),i.resolve()}),i.promise))})),B.all(d).then(function(){i.resolve()})});else{if(e.auditTrailRefId){var n=V.parseWithStateCtx(e.auditTrailRefId);p.contents[m].runtimeConf.filter.EntityId=n,void 0!==p.contents[m].runtimeConf.config.refreshData&&p.contents[m].runtimeConf.config.refreshData()}i.resolve()}}(n,s),i.promise}var t=p.params&&p.params[s]?p.params[s]:null;N(s,t)}},e.refreshAndSelect=function(i){if(p.params&&p.params[s]&&(p.params[s]=null),"custom"!==g.contents[s].multiplicity){var e=g.contents[s].blueprintSettings;if("many"!=g.contents[s].multiplicity||!e||!e.serverSidePagination){var r=B.defer();return function(e,a){var t;if("auditTrail"!==e.multiplicity)e.query&&!c&&(t=e.query,t=V.interpolateQuery(t,null),!0),c&&e.readingFunctionRef.params&&(t=Q(e.readingFunctionRef.params)),o.getAll(t,u,g.layoutTemplate).then(function(e){var o=null,t=0,n=null;if(h.contents[s]&&h.contents[s].selectedItem&&(o=h.contents[s].selectedItem,h.contents[s].selectedItem=void 0,o.selected=!1,p.contents[s].runtimeConf.selectAll&&p.contents[s].runtimeConf.selectAll(!1)),o=[],e&&e.succeeded&&(o=e.value),!p.contents[a].blueprintSettings||"c"!==p.contents[a].blueprintSettings.viewOptions&&"m"!==p.contents[a].blueprintSettings.viewOptions&&"gm"!==p.contents[a].blueprintSettings.viewOptions||p.contents[a].properties.forEach(function(t){var n;"string"==typeof t.type?n=t.type.toLowerCase():"object"==typeof t.type&&(n="object");var e=p.contents[a].blueprintSettings.tileConfig,i=!1;e.titleField!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0),i||e.descriptionField!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0),!i&&e.propertyFields&&e.propertyFields.length&&e.propertyFields.forEach(function(e){e.field!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0)}),i&&o.forEach(function(e){e[t.name]=H("date")(e[t.name],"medium")})}),i)for(t=0;t<o.length;t++)if(o[t].Id&&o[t].Id===i){o[t].selected=!0,n=o[t];break}p.contents[a].runtimeData=o,n&&(h.contents[s].selectedItem=n),"function"==typeof f[s].onContentSelection&&f[s].onContentSelection(void 0,n),"one"===p.contents[a].multiplicity&&p.contents[a].runtimeConf.data.forEach(function(e){e.value=V.parseExpr(e.id,o[0])}),r.resolve()});else{if(e.auditTrailRefId){var n=V.parseWithStateCtx(e.auditTrailRefId);p.contents[a].runtimeConf.filter.EntityId=n,void 0!==p.contents[a].runtimeConf.config.refreshData&&p.contents[a].runtimeConf.config.refreshData()}r.resolve()}}(n,s),r.promise}N(s,i)}},e.clear=function(){p.contents[s].runtimeData=[],"one"===p.contents[s].multiplicity&&p.contents[s].runtimeConf.data.forEach(function(e){e.value=""}),"auditTrail"===p.contents[s].multiplicity&&(p.contents[s].runtimeConf.filter.EntityId="")},e.onContentSelection=void 0}for(var P in f.evalDisableTabs=function(e,t){var n=null,i=!1;if(e)for(var o in e)if(!(n=e[o]).master&&n.disableWhen)if(t.contents[n.id].isDisabled=!1,!(i=E(n.id,e))&&n.disableWhen.expression)t.contents[n.id].isDisabled=V.parseWithStateCtx(n.disableWhen.expression);else if(!i&&n.disableWhen.body){var a=V.evalFunctionWithStateCtx(n.disableWhen.body);"object"==typeof a&&null!==a&&"function"==typeof a.then?a.then(function(e){t.contents[n.id].isDisabled=e}):t.contents[n.id].isDisabled=a}},f.commandBars=[],p.contents={},V.setContexInfo(h,t,f),g.contents)g.contents.hasOwnProperty(P)&&(p.contents[P]={},h.contents[P]={},angular.copy(e.contents[P],p.contents[P]));for(i in g.contents)if("many"===g.contents[i].multiplicity&&g.contents[i].blueprintSettings&&g.contents[i].blueprintSettings.serverSidePagination){f[g.contents[i].id]={};var D="masterDetailsArchiving"===g.layoutTemplate||"singleEntityArchiving"===g.layoutTemplate;F(i,D)}for(i in g.contents)if(g.contents.hasOwnProperty(i))if("many"===g.contents[i].multiplicity){for(h.contents[i].selectedItem=null,a=w(i,g.contents[i].master),r=g.contents[i].blueprintSettings?u(i,g.contents[i].properties,g.contents[i].blueprintSettings):u(i,g.contents[i].properties,null),s=0;s<c.length;s++)r[c[s]]&&(a[c[s]]=r[c[s]]);p.contents[i].runtimeConf=a}else if("one"===g.contents[i].multiplicity){h.contents[i]=null;var $={};d=!1,n=null,g.contents[i].blueprintSettings&&g.contents[i].blueprintSettings.layoutSettings&&($=g.contents[i].blueprintSettings.layoutSettings),p.contents[i].runtimeConf={layout:"Horizontal",type:$.type||"Fixed",mode:"list",columns:$.columns||1,data:[]},g.contents[i].blueprintSettings&&g.contents[i].blueprintSettings.gridConfig&&g.contents[i].blueprintSettings.gridConfig.columnDefs?(J(g.contents[i].blueprintSettings.gridConfig,g.contents[i].properties),g.contents[i].blueprintSettings.gridConfig.columnDefs.forEach(T,{confDataRepository:p,contentName:i})):g.contents[i].properties.forEach(T,{confDataRepository:p,contentName:i}),g.contents[i].extensionRef&&0<g.contents[i].extensionRef.length&&g.contents[i].extensionRef.forEach(x,{confDataRepository:p,contentName:i})}else"auditTrail"===g.contents[i].multiplicity?(h.contents[i].selectedItem=null,p.contents[i].runtimeConf={filter:{EntityId:""},startEmpty:!1,config:{}}):p.contents[i].runtimeConf={};if(g.activeContent)h.activeContent=g.activeContent;else{var R=f.getMasterContentNames();0<R.length&&(h.activeContent=R[0])}for(i in o={barType:"Action",bar:[],refresh:function(){this.bar.forEach(function(e){"Group"===e.type?e.group.forEach(function(e){e.visibility=A(e)}):e.visibility=A(e)})}},f.commandBars.push(o),g.contents)g.contents[i].actions&&g.contents[i].actions.forEach(I);for(i in 0<o.bar.length&&o.bar.reverse(),g.contents)g.contents.hasOwnProperty(i)&&(void 0===f[g.contents[i].id]&&(f[g.contents[i].id]={}),O(g.contents[i].id));function A(e){var t,n;if(e.showLogic)try{t=V.parseWithStateCtx(e.showLogic)}catch(e){}else if(e.showLogicFunction)try{"object"==typeof(n=V.evalFunctionWithStateCtx(e.showLogicFunction))&&null!==n&&"function"==typeof n.then?n.then(function(e){t=e}):t=n}catch(e){}else t=!0;return t}function M(n,e){var i=[];e.forEach(function(e,t){0===e.indexOf(n)&&i.push(t)});var t=e[i[0]];if(1<i.length)switch(n){case"$filter":for(var o=1;o<i.length;o++){t=t+" and "+e[i[o]].substring(e[i[o]].indexOf("=")+1)}return t;default:return t}return t}function F(c,l){f[c].findAll=function(e){var t=B.defer(),i=[],o=[];if(e.options){var a=[];(i=e.options.split("&")).forEach(function(e,t){var n=e.substring(0,e.indexOf("="));-1==a.indexOf(n)&&(o.push(M(n,i)),a.push(n))}),e.options=o.join("&")}var n=l?"findAllArchiving":"findAll",r={appName:e.appName,entityName:e.entityName,options:e.options};if(b(g.contents[c])){n="read";var s={};"string"==typeof(s=Q(g.contents[c].readingFunctionRef.params))&&(s=JSON.parse(s)),r={appName:e.appName,functionName:e.entityName,params:s,options:e.options}}return Y[n](r).then(function(o){if(o&&o.value){var e=h.contents&&h.contents[c]?h.contents[c]:null;e&&e.selectedItem&&void 0!==p.contents[c].runtimeConf.selectItems&&"function"==typeof p.contents[c].runtimeConf.selectItems?U(function(){p.contents[c].runtimeConf.selectItems([e.selectedItem],!0,!0)},500):void 0!==p.contents[c].runtimeConf.selectAll&&"function"==typeof p.contents[c].runtimeConf.selectAll&&p.contents[c].runtimeConf.selectAll(!1),!p.contents[c].blueprintSettings||"c"!==p.contents[c].blueprintSettings.viewOptions&&"m"!==p.contents[c].blueprintSettings.viewOptions&&"gm"!==p.contents[c].blueprintSettings.viewOptions||p.contents[c].properties.forEach(function(t){var n;"string"==typeof t.type?n=t.type.toLowerCase():"object"==typeof t.type&&(n="object");var e=p.contents[c].blueprintSettings.tileConfig,i=!1;e.titleField!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0),i||e.descriptionField!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0),!i&&e.propertyFields&&e.propertyFields.length&&e.propertyFields.forEach(function(e){e.field!==t.name||"datetime"!==n&&"datetimeoffset"!==n||(i=!0)}),i&&o.value.forEach(function(e){e[t.name]=H("date")(e[t.name],"medium")})})}t.resolve(o)},function(e){t.reject(e)}),t.promise}}function N(n,e){if(e){var t,i;if(t=/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(e)?"$filter=Id eq "+e:"$filter=Id eq '"+e+"'",p.contents[n]&&p.contents[n].query){var o=V.interpolateQuery(p.contents[n].query,null),a=[],r=[],s=[];(a=(o+"&"+t).split("&")).forEach(function(e,t){var n=e.substring(0,e.indexOf("="));-1===s.indexOf(n)&&(r.push(M(n,a)),s.push(n))}),i=r.join("&")}else i=t;var c="findAll",l={};if(b(g.contents[n])){c="read";var d=Q(g.contents[n].readingFunctionRef.params);d=JSON.parse(d),l={appName:m,functionName:g.contents[n].readingFunctionRef.functionName,params:d,options:i}}else l={appName:m,entityName:g.contents[n].entityRef.entity,options:i};Y[c](l).then(function(e){var t;e&&e.value&&e.value[0]&&((t=e.value[0]).selected=!0),h.contents[n].selectedItem=t,"function"==typeof f[n].onContentSelection&&f[n].onContentSelection(void 0,t),void 0!==p.contents[n].runtimeConf.refresh&&"function"==typeof p.contents[n].runtimeConf.refresh&&p.contents[n].runtimeConf.refresh(!0)})}else void 0!==p.contents[n].runtimeConf.refresh&&"function"==typeof p.contents[n].runtimeConf.refresh&&(h.contents[n].selectedItem&&(h.contents[n].selectedItem=void 0),"function"==typeof f[n].onContentSelection&&f[n].onContentSelection(void 0,void 0),p.contents[n].runtimeConf.refresh(!0))}f.interpolateQuery=function(e){return V.interpolateQuery(e)},f.getContentDataArtifact=function(e){return C(e)},f.isReadingFunctionContent=function(e){return b(e)},f.getEvaluatedReadingFunctionParams=function(e){return Q(e)},f.setStateInfo=function(e,t,n){var i={id:e,selectionId:t,detail:n||null};i.id&&V.setStateInfo(i)},f.getStateInfo=function(e){var t=V.getStateInfo(e);if(t&&t.hasOwnProperty("selectionId"))return t}},this.initCustomAction=function(){return{onExit:i}},this.initCustomContent=function(e){var s="Invalid Custom Content",t=B.defer();if(!e)return l(!1,s);var c=e,n=z.$current.toString(),i={};return G.getManifest().then(function(e){var r=e.states.filter(function(e){return e.id===n})[0];"drill-down"===r.type&&r.referenceState&&(r=e.states.filter(function(e){return e.id===r.referenceState})[0]),r&&r.contents[c]&&"custom"===r.contents[c].multiplicity?(i.getContext=function(){return angular.copy(V.getContextInfo())},i.setContext=function(e){V.setContentContext(c,e),q.$broadcast("mdui-context-updated")},i.getData=function(e){var t,n,i,o,a=B.defer();if(i=r.contents[c],o=r.appName,i.entityRef&&i.entityRef.entity)t=L[i.entityRef.entity];else{if(!i.readingFunctionRef||!i.readingFunctionRef.functionName)return l(!(s="Entity or Reading Function is not configured."),s);t=L[i.readingFunctionRef.functionName]}return e?n=V.interpolateQuery(e,null):r.contents[c].query&&(n=r.contents[c].query,n=V.interpolateQuery(n,null)),t.getAll(n,o,r.layoutTemplate).then(function(e){var t=[];e&&e.succeeded&&(t=e.value),a.resolve(t)}),a.promise},t.resolve(i)):t.reject(s)}),t.promise}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.personalization",[])}(),function(e){var t;e.framework||(e.framework={}),t=function(){function e(e,t,n,i,o,a,r,s,c,l,d){var m=this;this.GET_PREFERENCE_FUNCTION="GetUserPreferences",this.PREFERENCE_FIELD="PreferenceValue",this.SET_PREFERENCE_COMMAND="SetUserPreference",this.RESET_PREFERENCE_COMMAND="ResetUserPreference",this.SYSTEM_APP="System",this.userPreference=null,this.applicationServiceUrls=null,this.updatePreference=function(e){var t={Element:e.Element,Module:e.Module,Screen:e.Screen,Type:e.Type,PreferenceValue:e.PreferenceValue};m.userPreference||(m.userPreference=[],m.userPreference.push(t));var n=_.findIndex(m.userPreference,{Type:e.Type,Element:e.Element,Module:e.Module,Screen:e.Screen});-1===n?m.userPreference.push(t):m.userPreference[n]=t},this.getScreenInfo=function(){if(!m.CONFIG.clientID)return null;var e=m.$state.current.name.split(".");return{uiapplication:m.uiApp,uimodule:e[1].replace(/(.*)\_.*/g,"$1"),uiscreen:e[e.length-1],title:m.$state.current.title}},this.getAppName=function(){return m.CONFIG&&m.CONFIG.clientID?m.CONFIG.clientID.replace(/.*\./g,""):null},this.callPrefCommand=function(e){return m.$resource("",{},{callPreference:{method:"Post",url:e,transformRequest:[m.transformDataObj],transformResponse:[m.transformResObj].concat(m.$http.defaults.transformResponse)}})},this.transformResObj=function(e,t,n){var i=null;try{i=JSON.parse(e)}catch(e){m.common.logger.logError("-1: Error: Generic Error","","Personalization Service")}return i},this.transformDataObj=function(e){return JSON.stringify({command:e})},this.$http=e,this.$resource=t,this.$q=n,this.CONFIG=i,this.$state=o,this.authService=a,this.dataConfig=r,this.CommandResponse=s,this.ExecutionError=c,this.common=l,this.dataService=d,this.applicationServiceUrls=r.config.applicationServiceUrls,this.uiApp=this.getAppName()}return e.prototype.setPersonalization=function(e,t,n){var i=this,o="",a=this.$q.defer();if(!this.applicationServiceUrls||!this.applicationServiceUrls[this.SYSTEM_APP]||!this.CONFIG.clientID)return a.reject(),a.promise;var r=this.getScreenInfo(),s=this.applicationServiceUrls[this.SYSTEM_APP];"/"!==(o=s).slice(-1)&&(o=s+"/"),o+=this.SET_PREFERENCE_COMMAND;var c=this.callPrefCommand(o),l={Application:r.uiapplication,Module:r.uimodule,Screen:r.uiscreen,Element:t,Type:e,PreferenceValue:JSON.stringify(n)};return c.callPreference(l,function(e){i.updatePreference(l),a.resolve()},function(e){if(e){var t=e.data.Error;i.common.logger.logError(t.ErrorCode+": Error: "+t.ErrorMessage,"","Personalization Service")}a.reject()}),a.promise},e.prototype.resetPersonalization=function(n,i){var o=this,e="",a=this.$q.defer();if(!this.applicationServiceUrls||!this.applicationServiceUrls[this.SYSTEM_APP]||!this.CONFIG.clientID)return a.reject(),a.promise;var t=this.getScreenInfo(),r=this.applicationServiceUrls[this.SYSTEM_APP];"/"!==(e=r).slice(-1)&&(e=r+"/"),e+=this.RESET_PREFERENCE_COMMAND;var s=this.callPrefCommand(e),c={Application:t.uiapplication,Module:t.uimodule,Screen:t.uiscreen,Element:i};return s.callPreference(c,function(e){var t=_.findIndex(o.userPreference,{Type:n,Element:i});o.userPreference.splice(t,1),a.resolve(e)},function(e){if(e){var t=e.data.Error;o.common.logger.logError(t.ErrorCode+": Error: "+t.ErrorMessage,"","Personalization Service")}a.reject()}),a.promise},e.prototype.getPersonalization=function(){var t=this,n=this.$q.defer();if(!this.uiApp||!this.applicationServiceUrls||!this.applicationServiceUrls[this.SYSTEM_APP])return n.resolve(),n.promise;var e={appName:this.SYSTEM_APP,functionName:this.GET_PREFERENCE_FUNCTION,params:{Application:this.uiApp},options:""};return this.dataService.read(e).then(function(e){t.userPreference=e.value,n.resolve()},function(e){t.userPreference=null,t.common.logger.logError("Error:Unable to retrieve Personalization settings","","Personalization Service"),n.resolve()}),n.promise},e.prototype.getCurrentUserPreference=function(e,t){if(!this.userPreference)return null;var n=this.getScreenInfo(),i=_.findWhere(this.userPreference,{Type:e,Element:t,Module:n.uimodule,Screen:n.uiscreen});return i?JSON.parse(i[this.PREFERENCE_FIELD]):null},e.$inject=["$http","$resource","$q","CONFIG","$state","common.services.authentication","common.services.runtime.DataConfig","CommandResponse","ExecutionError","common","common.services.runtime.dataService"],e}(),angular.module("siemens.simaticit.common.services.personalization").service("common.services.personalization.personalizationService",t)}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.runtime",[])}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e,t,n,i,o,a,r,s){var c=this;this.$q=e,this.$resource=t,this.$http=n,this.$translate=i,this.common=o,this.CommandResponse=a,this.ExecutionError=r,this.ERRORS=function(e){switch(e){case 404:return c.$translate.instant("ERRORS.404");case 503:return c.$translate.instant("ERRORS.503");case 400:return c.$translate.instant("ERRORS.400");case 403:return c.$translate.instant("ERRORS.403");case 500:return c.$translate.instant("ERRORS.500");case"4XX":return c.$translate.instant("ERRORS.4XX");case"5XX":return c.$translate.instant("ERRORS.5XX")}},this.transformResObj=function(e,t,n){var i=null;if(e)try{var o=JSON.parse(e);if(o["odata.error"]&&(i=new c.CommandResponse(!1,new c.ExecutionError(o["odata.error"].code,o["odata.error"].message.value)),c.common.logger.logError(o["odata.error"].code+" : "+o["odata.error"].message.value,"","Archiving Data Service")),o["@odata.context"]){i=new c.CommandResponse(!0,new c.ExecutionError(0,""));var a="$entity";-1!==o["@odata.context"].indexOf(a,o["@odata.context"].length-a.length)?(delete o["@odata.context"],i.value=[o]):i.value=o.value,o["@odata.count"]&&(i.count=o["@odata.count"])}o.error&&(i=new c.CommandResponse("false",new c.ExecutionError(o.error.code,o.error.message)),c.common.logger.logError(o.error.code+" : "+o.error.message,"","Archiving Data Service"))}catch(e){var r=Math.floor(n/100);c.ERRORS(n)?(i=new c.CommandResponse(!1,new c.ExecutionError(n,"Error: "+c.ERRORS(n))),c.common.logger.logError(n+"Error: "+c.ERRORS(n),"Archiving Data Service")):c.ERRORS(r+"XX")?(i=new c.CommandResponse(!1,new c.ExecutionError(n,"Error: "+c.ERRORS(r+"XX"))),c.common.logger.logError(n+"Error: "+c.ERRORS(r+"XX"),"Archiving Data Service")):(i=new c.CommandResponse(!1,new c.ExecutionError(-1,"Error: "+e.message)),c.common.logger.logError("-1: Error: "+e.message,"","Archiving Data Service"))}else i=new c.CommandResponse(!1,new c.ExecutionError(-1,"Generic Error")),c.common.logger.logError("-1: Error: Generic Error","","Archiving Data Service");return i},this.oDataPath=s.config.oDataServiceURI,this.archivingServiceUrls=s.config.applicationArchivingServiceUrls}return e.prototype.getCmd=function(e){return this.$resource("",{},{getAll:{method:"Get",url:e,transformResponse:[this.transformResObj].concat(this.$http.defaults.transformResponse)}})},e.prototype.findAll=function(e){var n=this,i=this.$q.defer(),t=this.archivingServiceUrls;if(!e)return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.executeNoInput")))}),i.promise;var o=t[e.appName];if(!o||""===o.trim()){if(!this.oDataPath||""===this.oDataPath.trim())return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noConfig")))}),i.promise;o=this.oDataPath}var a="";if(e.entityName)try{return"/"!==o.slice(-1)&&(o+="/"),a=o+e.entityName,e.options&&(a+="?"+e.options),this.getCmd(a).getAll(function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject({data:new n.CommandResponse(!1,new n.ExecutionError(t.data.error.errorCode,t.data.error.errorMessage))})}).$promise}catch(e){i.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}})}else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noEntityName")))});return i.promise},e.$inject=["$q","$resource","$http","$translate","common","CommandResponse","ExecutionError","common.services.runtime.DataConfig"],e}(),t.ArchivingData=n,angular.module("siemens.simaticit.common.services.runtime").service("common.services.runtime.archivingDataService",n)}(sit||(sit={})),function(e){!function(e){var t=function(e,t){this.enableBusyIndicator=e,this.enableMessageOverlay=t};e.BackendConfigModel=t;var n=function(){function e(){this.config=new t(!0,!0)}return e.prototype.$get=function(){return{config:this.config}},e}();e.BackendConfig=n;var i=function(e,t,n){this.appName=e,this.commandName=t,this.params=n};e.CommandModel=i;var o=function(){function e(e,t,n,i,o,a,r,s,c,l,d,m,u){var p=this;this.$q=e,this.$translate=t,this.common=n,this.commandService=i,this.dataService=o,this.archivingDataService=a,this.busyIndicator=r,this.messageOverlay=s,this.logger=c,this.backendConfig=l,this.signalManager=d,this.CommandResponse=m,this.ExecutionError=u,this.backendError=function(e){e?p.showErrorMessage(p.$translate.instant("common.error"),p.common.formatErrorMessage(e)):p.logger.logError("reject is missing",{},"common.services.runtime.backendService::backendError")},this.signalConnections=[]}return e.prototype.getAppEndPoint=function(e){return this.dataService.getAppEndPoint(e)},e.prototype.execute=function(){var t=this,n=this.$q.defer(),e=this.commandService.processArguments(arguments);return null==e?n.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,"Command Error : cannot execute runtime command with wrong input"))}):(this.showBusyIndicator(),this.commandService.execute(e).then(function(e){t.hideBusyIndicator(),n.resolve(e)},function(e){t.hideBusyIndicator(),t.showBackendErrorMessage(e),n.reject(e)})),n.promise},e.prototype.invoke=function(e){var t=this,n=this.$q.defer();return e?(this.showBusyIndicator(),this.commandService.invoke(e).then(function(e){t.hideBusyIndicator(),n.resolve(e)},function(e){t.hideBusyIndicator(),t.showBackendErrorMessage(e),n.reject(e)})):n.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.businessCommand.executeInvalidInput")))}),n.promise},e.prototype.getAll=function(e,t){var n=this,i=this.$q.defer();return this.showBusyIndicator(),this.dataService.getAll(e,t).then(function(e){n.hideBusyIndicator(),i.resolve(e)},function(e){n.hideBusyIndicator(),n.showBackendErrorMessage(e),i.reject(e)}),i.promise},e.prototype.findAll=function(e){var t=this,n=this.$q.defer();return this.showBusyIndicator(),this.dataService.findAll(e).then(function(e){t.hideBusyIndicator(),n.resolve(e)},function(e){t.hideBusyIndicator(),t.showBackendErrorMessage(e),n.reject(e)}),n.promise},e.prototype.findAllArchiving=function(e){var t=this,n=this.$q.defer();return this.showBusyIndicator(),this.archivingDataService.findAll(e).then(function(e){t.hideBusyIndicator(),n.resolve(e)},function(e){t.hideBusyIndicator(),t.showBackendErrorMessage(e),n.reject(e)}),n.promise},e.prototype.read=function(e){var t=this,n=this.$q.defer();return this.showBusyIndicator(),this.dataService.read(e).then(function(e){t.hideBusyIndicator(),n.resolve(e)},function(e){t.hideBusyIndicator(),t.showBackendErrorMessage(e),n.reject(e)}),n.promise},e.prototype.subscribe=function(t){var n=this,i=this.$q.defer();return t.appName?(t.signalName||(t.signalName=t.appName),this.signalManager.createConnection(t.appName,t.signalName,t.onConnectionError).then(function(e){e.subscribe(t.options,t.onMessage,t.onSubscriptionError,t.onComplete).then(function(e){n.signalConnections.push(e),i.resolve(e.id)},function(e){i.reject(e)})},function(e){i.reject(e)})):i.reject("Paramter 'appName' is missing in the config object"),i.promise},e.prototype.unsubscribe=function(e,t){var n=this,i=this.$q.defer();if(!e)return i.reject("Input paramter 'connId' is missing"),i.promise;var o=_.findWhere(this.signalConnections,{id:e});return o?this.signalManager.deleteConnection(e).then(function(){n.deleteConnection(o.id),t?n.signalManager.disconnect(o.appName).then(function(){i.resolve(o.id)},function(e){i.reject(e)}):i.resolve(o.id)},function(e){i.resolve(e)}):i.reject("Invalid 'connId' passed"),i.promise},e.prototype.reconnectSignals=function(e){var o=this.$q.defer(),t={},n=_.where(this.signalConnections,{signalApp:e});return n.length?(_.each(n,function(e){t[e.id]=e.reconnect()}),this.$q.all(t).then(function(e){for(var t=Object.keys(e),n=0,i=t.length;n<i;n++)e[t[n]]=e[t[n]].id;o.resolve(e)})):o.reject("Signal Connection with the supplied app name is not present"),o.promise},e.prototype.deleteConnection=function(e){for(var t=0,n=this.signalConnections.length;t<n;t++)if(this.signalConnections[t].id===e){this.signalConnections.splice(t,1);break}},e.prototype.genericError=function(e,t){e?(t||(t=this.$translate.instant("common.error")),this.showErrorMessage(t,e)):this.logger.logError("message is missing",{},"common.services.runtime.backendService::genericError")},e.prototype.connectSignals=function(e,t){var n=this.$q.defer();return e?this.signalManager.connect(e,t).then(function(){n.resolve()},function(e){n.reject(e)}):n.reject("Input paramter 'app name' is missing"),n.promise},e.prototype.disconnectSignals=function(e){var t=this.$q.defer();return e?this.signalManager.disconnect(e).then(function(){t.resolve()},function(e){t.reject(e)}):t.reject("Input paramter 'app name' is missing"),t.promise},e.prototype.confirm=function(e,t,n){var i=this;e?t?(n||(n=this.$translate.instant("common.confirmation")),this.messageOverlay.set({buttons:[{id:"no",displayName:this.$translate.instant("common.no"),onClickCallback:this.messageOverlay.hide},{id:"yes",displayName:this.$translate.instant("common.yes"),onClickCallback:function(){i.messageOverlay.hide(),t()}}],title:n,text:e}),this.messageOverlay.show()):this.logger.logError("callback is missing",{},"common.services.runtime.backendService::callback"):this.logger.logError("message is missing",{},"common.services.runtime.backendService::confirm")},e.prototype.getMetaData=function(e){var t=this.$q.defer();return this.dataService.getMetaData(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},e.prototype.getCount=function(e){var t=this,n=this.$q.defer();return this.showBusyIndicator(),this.dataService.getCount(e).then(function(e){t.hideBusyIndicator(),n.resolve(e)},function(e){t.hideBusyIndicator(),t.showBackendErrorMessage(e),n.reject(e)}),n.promise},e.prototype.showBusyIndicator=function(){this.backendConfig.config.enableBusyIndicator&&this.busyIndicator.show()},e.prototype.hideBusyIndicator=function(){this.backendConfig.config.enableBusyIndicator&&this.busyIndicator.hide()},e.prototype.showBackendErrorMessage=function(e){this.backendConfig.config.enableMessageOverlay&&this.backendError(e)},e.prototype.showErrorMessage=function(e,t){var n=this;this.messageOverlay.set({buttons:[{id:"ok",displayName:this.$translate.instant("common.ok"),onClickCallback:function(){n.hideErrorMessage()}}],title:e,text:t}),this.messageOverlay.show()},e.prototype.hideErrorMessage=function(){this.messageOverlay.hide()},e.$inject=["$q","$translate","common","common.services.runtime.commandService","common.services.runtime.dataService","common.services.runtime.archivingDataService","common.widgets.busyIndicator.service","common.widgets.messageOverlay.service","common.services.logger.service","common.services.runtime.backendConfig","common.services.signalManager","CommandResponse","ExecutionError"],e}();e.BackendService=o,angular.module("siemens.simaticit.common.services.runtime").provider("common.services.runtime.backendConfig",n).service("common.services.runtime.backendService",o)}(e.framework||(e.framework={}))}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.runtime").factory("common.services.runtime.dataModel",[function(){return function(e,t,n,i){this.entityName=e,this.properties=t,this.orderBy=n,this.filter=i}}])}(),function(e){!function(e){var t=function(){function e(){this.config={oDataServiceURI:"",applicationServiceUrls:{},applicationArchivingServiceUrls:{}}}return e.prototype.$get=function(){return{config:this.config}},e}();e.DataConfigProvider=t,angular.module("siemens.simaticit.common.services.runtime").provider("common.services.runtime.DataConfig",[t]);var n=function(){function e(e,t,n,i,o,a,r,s){var c=this;this.$q=e,this.$resource=t,this.$http=n,this.$translate=i,this.common=o,this.CommandResponse=a,this.ExecutionError=r,this.ERRORS=function(e){switch(e){case 404:return c.$translate.instant("ERRORS.404");case 503:return c.$translate.instant("ERRORS.503");case 400:return c.$translate.instant("ERRORS.400");case 403:return c.$translate.instant("ERRORS.403");case 500:return c.$translate.instant("ERRORS.500");case"4XX":return c.$translate.instant("ERRORS.4XX");case"5XX":return c.$translate.instant("ERRORS.5XX")}},this.METADATA="$metadata",this.XML_FORMAT="$format=xml",this.COUNT="$count",this.SLASH="/",this.QUERY_IDENTIFIER="?",this.RESPONSE_SUCCESS_SERIES="2XX",this.transformResObj=function(e,t,n){var i=null;if(e)try{var o=JSON.parse(e);if(o["odata.error"]&&(i=new c.CommandResponse(!1,new c.ExecutionError(o["odata.error"].code,o["odata.error"].message.value)),c.common.logger.logError(o["odata.error"].code+" : "+o["odata.error"].message.value,"","Business Data Service")),o["@odata.context"])if(o.Error)(i=new c.CommandResponse(o.Succeeded,new c.ExecutionError(o.Error.ErrorCode,o.Error.ErrorMessage))).data=o;else{i=new c.CommandResponse(!0,new c.ExecutionError(0,""));var a="$entity";-1!==o["@odata.context"].indexOf(a,o["@odata.context"].length-a.length)?(delete o["@odata.context"],i.value=[o]):i.value=o.value,void 0!==o["@odata.count"]&&(i.count=o["@odata.count"])}o.error&&(i=new c.CommandResponse("false",new c.ExecutionError(o.error.code,o.error.message)),c.common.logger.logError(o.error.code+" : "+o.error.message,"","Business Data Service"))}catch(e){var r=Math.floor(n/100);c.ERRORS(n)?(i=new c.CommandResponse(!1,new c.ExecutionError(n,"Error: "+c.ERRORS(n))),c.common.logger.logError(n+"Error: "+c.ERRORS(n),"Business Data Service")):c.ERRORS(r+"XX")?(i=new c.CommandResponse(!1,new c.ExecutionError(n,"Error: "+c.ERRORS(r+"XX"))),c.common.logger.logError(n+"Error: "+c.ERRORS(r+"XX"),"Business Data Service")):(i=new c.CommandResponse(!1,new c.ExecutionError(-1,"Error: "+e.message)),c.common.logger.logError("-1: Error: "+e.message,"","Business Data Service"))}else i=new c.CommandResponse(!1,new c.ExecutionError(-1,"Generic Error")),c.common.logger.logError("-1: Error: Generic Error","","Business Data Service");return i},this.transformResMeta=function(e,t,n){var i=null;return e?{data:e}:(i=new c.CommandResponse(!1,new c.ExecutionError(-1,"Generic Error")),c.common.logger.logError("-1: Error: Generic Error","","Business Data Service"),i)},this.transformResCount=function(e,t,n){var i=null,o=n.toString().charAt(0)+"XX",a=o===c.RESPONSE_SUCCESS_SERIES;if(e)try{var r=JSON.parse(e);i=a?{count:r}:c.getErrorResponse(r,n,o)}catch(e){i=c.getErrorResponse(e,n,o)}else c.logError("-1","Generic Error"),i=c.getCommandResponse(!1,-1,"Generic Error");return i},this.oDataPath=s.config.oDataServiceURI,this.applicationServiceUrls=s.config.applicationServiceUrls}return e.prototype.getCmd=function(e){return this.$resource("",{},{getAll:{method:"Get",url:e,transformResponse:[this.transformResObj].concat(this.$http.defaults.transformResponse)}})},e.prototype.getMetaDataCmd=function(e){return this.$resource("",{},{getAllMeta:{method:"Get",url:e,transformResponse:[this.transformResMeta]}})},e.prototype.getCountCmd=function(e){return this.$resource("",{},{getAllCount:{method:"Get",url:e,transformResponse:[this.transformResCount]}})},e.prototype.getErrorResponse=function(e,t,n){return e.hasOwnProperty("Message")?(this.logError(t,e.Message),this.getCommandResponse(!1,t,e.Message)):this.ERRORS(t)?(this.logError(t,this.ERRORS(t)),this.getCommandResponse(!1,t,this.ERRORS(t))):this.ERRORS(n)?(this.logError(t,this.ERRORS(t)),this.getCommandResponse(!1,t,this.ERRORS(n))):e.hasOwnProperty("message")?(this.logError("-1",e.message),this.getCommandResponse(!1,-1,e.message)):void 0},e.prototype.getCommandResponse=function(e,t,n){return new this.CommandResponse(e,new this.ExecutionError(t,"Error: "+n))},e.prototype.logError=function(e,t){this.common.logger.logError(e+" Error: "+t+" Business Data Service")},e.prototype.getAppEndPoint=function(e){return this.applicationServiceUrls.hasOwnProperty(e)?this.applicationServiceUrls[e]:null},e.prototype.getAll=function(e,t){var n=this,i=this.$q.defer(),o=this.oDataPath+e;if(this.oDataPath&&""!==this.oDataPath.trim())if(e&&""!==e)try{return t&&(o+="?"+t),this.getCmd(o).getAll(function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject({data:new n.CommandResponse(!1,new n.ExecutionError(t.data.error.errorCode,t.data.error.errorMessage))})}).$promise}catch(e){i.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}})}else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noEntityName")))});else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noConfig")))});return i.promise},e.prototype.findAll=function(e){var n=this,i=this.$q.defer(),t=this.applicationServiceUrls;if(!e)return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.executeNoInput")))}),i.promise;var o=t[e.appName];if(!o||""===o.trim()){if(!this.oDataPath||""===this.oDataPath.trim())return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noConfig")))}),i.promise;o=this.oDataPath}var a="";if(e.entityName)try{return"/"!==o.slice(-1)&&(o+="/"),a=o+e.entityName,e.options&&(a+="?"+e.options),this.getCmd(a).getAll(function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject({data:new n.CommandResponse(!1,new n.ExecutionError(t.data.error.errorCode,t.data.error.errorMessage))})}).$promise}catch(e){i.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}})}else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noEntityName")))});return i.promise},e.prototype.read=function(e){var n=this,i=this.$q.defer(),t=this.applicationServiceUrls;if(!e)return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.executeNoInput")))}),i.promise;var o=t[e.appName];if(!o||""===o.trim()){if(!this.oDataPath||""===this.oDataPath.trim())return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noConfig")))}),i.promise;o=this.oDataPath}var a="";if(e.functionName)try{if("/"!==o.slice(-1)&&(o+="/"),a=o+e.functionName,a+="(function=@x)",e.params){var r=e.params;"object"==typeof r&&(r=JSON.stringify(r)),a+="?@x="+encodeURIComponent(r)}return e.options&&e.params?a+="&"+e.options:e.options&&(a+="?"+e.options),this.getCmd(a).getAll(function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject({data:new n.CommandResponse(!1,new n.ExecutionError(t.data.error.errorCode,t.data.error.errorMessage))})}).$promise}catch(e){i.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}})}else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noFunctionName")))});return i.promise},e.prototype.getMetaData=function(e){var n=this,i=this.$q.defer(),t="",o=this.applicationServiceUrls;if(!e)return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.executeNoInput")))}),i.promise;var a=o[e];if(!a||""===a.trim())return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noConfig")))}),i.promise;try{return"/"!==a.slice(-1)&&(a+="/"),t=a+this.METADATA+"?"+this.XML_FORMAT,this.getMetaDataCmd(t).getAllMeta(function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject({data:new n.CommandResponse(!1,new n.ExecutionError(t.data.error.errorCode,t.data.error.errorMessage))})}).$promise}catch(e){i.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}})}return i.promise},e.prototype.getCount=function(e){var n=this,i=this.$q.defer(),t=this.applicationServiceUrls;if(!e)return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.executeNoInput")))}),i.promise;var o=t[e.appName];if(!o||""===o.trim()){if(!this.oDataPath||""===this.oDataPath.trim())return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noConfig")))}),i.promise;o=this.oDataPath}var a="";if(e.entityName)try{return o.slice(-1)!==this.SLASH&&(o+=this.SLASH),a=o+e.entityName+this.SLASH+this.COUNT,e.options&&(a+=this.QUERY_IDENTIFIER+e.options),this.getCountCmd(a).getAllCount(function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject({data:new n.CommandResponse(!1,new n.ExecutionError(t.data.error.errorCode,t.data.error.errorMessage))})}).$promise}catch(e){i.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}})}else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noEntityName")))});return i.promise},e.$inject=["$q","$resource","$http","$translate","common","CommandResponse","ExecutionError","common.services.runtime.DataConfig"],e}();e.BusinessData=n,angular.module("siemens.simaticit.common.services.runtime").service("common.services.runtime.dataService",n)}(e.framework||(e.framework={}))}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.runtime").factory("common.services.runtime.commandModel",function(){return function(e,t,n){this.appName=e,this.commandName=t,this.params=n}}),angular.module("siemens.simaticit.common.services.runtime").factory("common.services.runtime.commandResponse",["CommandResponse",function(e){function t(){}return t.prototype=new e,t}])}(),function(e){!function(e){var t=function(){function e(){this.config={oDataServiceURI:"",applicationServiceUrls:{}}}return e.prototype.$get=function(){return{config:this.config}},e}();e.RuntimeConfigProvider=t;var n=function(){function e(e,t,n,i,o,a,r,s,c){var l=this;this.$q=e,this.$resource=t,this.$http=n,this.$translate=i,this.common=o,this.CommandResponse=a,this.ExecutionError=r,this.RuntimeCommandModel=s,this.businessConfig=c,this.ERRORS=function(e){switch(e){case 404:return l.$translate.instant("ERRORS.404");case 503:return l.$translate.instant("ERRORS.503");case 400:return l.$translate.instant("ERRORS.400");case 403:return l.$translate.instant("ERRORS.403");case 500:return l.$translate.instant("ERRORS.500");case"4XX":return l.$translate.instant("ERRORS.4XX");case"5XX":return l.$translate.instant("ERRORS.5XX")}},this.transformResObj=function(e,t,n){if(!e)return new l.CommandResponse(!1,new l.ExecutionError(-1,"Generic Error"));var i=null;try{var o=JSON.parse(e);o.Error?(i=new l.CommandResponse(o.Succeeded,new l.ExecutionError(o.Error.ErrorCode,o.Error.ErrorMessage))).data=o:(i=new l.CommandResponse(!1,new l.ExecutionError(o.error.code,o.error.message))).data=o}catch(e){var a=Math.floor(n/100);l.ERRORS(n)?(i=new l.CommandResponse(!1,new l.ExecutionError(n,"Error: "+l.ERRORS(n))),l.common.logger.logError(n+"Error: "+l.ERRORS(n),"Business Command Service")):l.ERRORS(a+"XX")?(i=new l.CommandResponse(!1,new l.ExecutionError(n,"Error: "+l.ERRORS(a+"XX"))),l.common.logger.logError(n+"Error: "+l.ERRORS(a+"XX"),"Business Command Service")):(i=new l.CommandResponse(!1,new l.ExecutionError(-1,"Error: "+e.message)),l.common.logger.logError("-1: Error: "+e.message,"","Business Command Service"))}return i},this.oDataPath=c.config.oDataServiceURI,this.applicationServiceUrls=c.config.applicationServiceUrls}return e.prototype.execute=function(){var e,t,n=this,i=this.$q.defer(),o=this.processArguments(arguments);return null==o?i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.businessCommand.executeInvalidInput")))}):o.commandName?(o.params||(o.params={}),t=null===o.appName||""===o.appName||void 0===o.appName?o.commandName:o.appName+"_"+o.commandName,e=this.oDataPath+t,this.callCommand(e).cmd(o.params,function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject(t)})):i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.businessCommand.executeInvalidCommand")))}),i.promise},e.prototype.invoke=function(e){var t,n=this,i=this.$q.defer(),o="";if(!e)return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.businessCommand.executeInvalidInput")))}),i.promise;if(!e.commandName)return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.businessCommand.executeInvalidCommand")))}),i.promise;if(e.params||(e.params={}),e.appName){if(!(o=this.applicationServiceUrls[e.appName])||""===o.trim()){if(!this.oDataPath||""===this.oDataPath.trim())return i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.business.noConfig")))}),i.promise;o=this.oDataPath}}else o=this.oDataPath;return"/"!==o.slice(-1)&&(o+="/"),t=o+e.commandName,this.callCommand(t).cmd(e.params,function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject(t)}),i.promise},e.prototype.processArguments=function(e){if(!e||!e.length)return null;var t=null;switch(e.length){case 1:e[0]instanceof this.RuntimeCommandModel&&(t=e[0]);break;case 2:t=new this.RuntimeCommandModel,"string"==typeof e[1]?(t.appName=e[0],t.commandName=e[1],t.params={}):"object"==typeof e[1]&&(t.commandName=e[0],t.params=e[1]);break;case 3:(t=new this.RuntimeCommandModel).appName=e[0],t.commandName=e[1],t.params=e[2]}return t},e.prototype.transformDataObj=function(e){return{command:e}},e.prototype.callCommand=function(e){return this.$resource("",{},{cmd:{method:"Post",url:e,transformRequest:[this.transformDataObj].concat(this.$http.defaults.transformRequest),transformResponse:[this.transformResObj].concat(this.$http.defaults.transformResponse)}})},e.$inject=["$q","$resource","$http","$translate","common","CommandResponse","ExecutionError","common.services.runtime.commandModel","common.services.runtime.Config"],e}();e.BusinessCommands=n,angular.module("siemens.simaticit.common.services.runtime").provider("common.services.runtime.Config",t).service("common.services.runtime.commandService",n)}(e.framwork||(e.framwork={}))}(sit||(sit={})),function(e){!function(e){angular.module("siemens.simaticit.common.services.runtime").provider("common.services.runtime.BusinessDataConfig",[function(){this.config={oDataServiceURI:""},this.$get=function(){return{config:this.config}}}]);var t=function(){function e(e,t,n,i,o,a,r,s,c,l,d,m){var u=this;this.$q=e,this.$resource=t,this.$http=n,this.$translate=i,this.$timeout=o,this.common=a,this.CommandResponse=r,this.ExecutionError=s,this.RuntimeCommandModel=c,this.engineeringBusinessConfig=l,this.entityConfig=d,this.commandConfig=m,this.ERRORS=function(e){switch(e){case 404:return u.$translate.instant("ERRORS.404");case 503:return u.$translate.instant("ERRORS.503");case 400:return u.$translate.instant("ERRORS.400");case 403:return u.$translate.instant("ERRORS.403");case 500:return u.$translate.instant("ERRORS.500");case"4XX":return u.$translate.instant("ERRORS.4XX");case"5XX":return u.$translate.instant("ERRORS.5XX")}},this.transformResObj=function(e,t,n){var i=null;if(e)try{var o=JSON.parse(e);if(o["odata.error"]&&(i=new u.CommandResponse(!1,new u.ExecutionError(o["odata.error"].code,o["odata.error"].message.value)),u.common.logger.logError(o["odata.error"].code+" : "+o["odata.error"].message.value,"","Engineering Data Service")),o["@odata.context"]){i=new u.CommandResponse(!0,new u.ExecutionError(0,""));var a="$entity";-1!==o["@odata.context"].indexOf(a,o["@odata.context"].length-a.length)?(delete o["@odata.context"],i.value=[o]):i.value=o.value,o["@odata.count"]&&(i.count=o["@odata.count"])}o.error&&(i=new u.CommandResponse("false",new u.ExecutionError(o.error.code,o.error.message)),u.common.logger.logError(o.error.code+" : "+o.error.message,"","Engineering Data Service"))}catch(e){var r=Math.floor(n/100);u.ERRORS(n)?(i=new u.CommandResponse(!1,new u.ExecutionError(n,"Error: "+u.ERRORS(n))),u.common.logger.logError(n+"Error: "+u.ERRORS(n),"Engineering Data Service")):u.ERRORS(r+"XX")?(i=new u.CommandResponse(!1,new u.ExecutionError(n,"Error: "+u.ERRORS(r+"XX"))),u.common.logger.logError(n+"Error: "+u.ERRORS(r+"XX"),"Engineering Data Service")):(i=new u.CommandResponse(!1,new u.ExecutionError(-1,"Error: "+e.message)),u.common.logger.logError("-1: Error: "+e.message,"","Engineering Data Service"))}else i=new u.CommandResponse(!1,new u.ExecutionError(-1,u.$translate.instant("svcErrors.engineering.generic"))),u.common.logger.logError("-1: Error: Generic Error","","Engineering Data Service");return i},this.transformResObjInvoke=function(e,t,n){var i=null;if(e)try{var o=JSON.parse(e);o.Error?(i=new u.CommandResponse(o.Succeeded,new u.ExecutionError(o.Error.ErrorCode,o.Error.ErrorMessage))).data=o:(i=new u.CommandResponse(!1,new u.ExecutionError(o.error.code,o.error.message))).data=o}catch(e){var a=Math.floor(n/100);u.ERRORS(n)?(i=new u.CommandResponse(!1,new u.ExecutionError(n,"Error: "+u.ERRORS(n))),u.common.logger.logError(n+"Error: "+u.ERRORS(n),"Business Command Service")):u.ERRORS(a+"XX")?(i=new u.CommandResponse(!1,new u.ExecutionError(n,"Error: "+u.ERRORS(a+"XX"))),u.common.logger.logError(n+"Error: "+u.ERRORS(a+"XX"),"Business Command Service")):(i=new u.CommandResponse(!1,new u.ExecutionError(-1,"Error: "+e.message)),u.common.logger.logError("-1: Error: "+e.message,"","Business Command Service"))}else i=new u.CommandResponse(!1,new u.ExecutionError(-1,"Generic Error"));return i},this.oDataPath=l.config.oDataServiceURI}return e.prototype.getCmd=function(e){return this.$resource("",{},{getAll:{method:"Get",url:e,transformResponse:[this.transformResObj].concat(this.$http.defaults.transformResponse)}})},e.prototype.findAll=function(e,t){var n=this,i=this.$q.defer();if(this.entityConfig[e]){e=this.entityConfig[e];var o=this.oDataPath+e;if(this.oDataPath&&""!==this.oDataPath.trim())if(e&&""!==e)try{return t&&(o+="?"+t),this.getCmd(o).getAll(function(e){i.resolve(e)},function(e){i.reject({data:new n.CommandResponse(!1,new n.ExecutionError(e.data.error.errorCode,e.data.error.errorMessage))})}),i.promise}catch(e){return i.reject({data:{Error:{ErrorCode:-1,ErrorMessage:e.message}}}),i.promise}else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.engineering.noEntityName")))});else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.engineering.noConfig")))})}else i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.engineering.wrongEntityName")))});return i.promise},e.prototype.transformDataObj=function(e){return{command:e}},e.prototype.callCommand=function(e){return this.$resource("",{},{cmd:{method:"Post",url:e,transformRequest:[this.transformDataObj].concat(this.$http.defaults.transformRequest),transformResponse:[this.transformResObjInvoke].concat(this.$http.defaults.transformResponse)}})},e.prototype.invoke=function(e){var t,n=this,i=this.$q.defer(),o="";return e?this.commandConfig[e.commandName]?(e.commandName=this.commandConfig[e.commandName],e.params||(e.params={}),"/"!==(o=this.oDataPath).slice(-1)&&(o+="/"),t=o+e.commandName,this.callCommand(t).cmd(e.params,function(e){i.resolve(e)},function(e){var t=n.common.setExecutionError(e);i.reject(t)})):i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.businessCommand.executeInvalidCommand")))}):i.reject({data:new this.CommandResponse(!1,new this.ExecutionError(-1,this.$translate.instant("svcErrors.businessCommand.executeInvalidInput")))}),i.promise},e.$inject=["$q","$resource","$http","$translate","$timeout","common","CommandResponse","ExecutionError","common.services.runtime.commandModel","common.services.runtime.BusinessDataConfig","entityConfig","commandConfig"],e}();e.BusinessSystemService=t,angular.module("siemens.simaticit.common.services.runtime").service("common.services.runtime.SystemDataService",t),angular.module("siemens.simaticit.common.services.runtime").constant("entityConfig",{Role:"PublicRole",UserRoleAssociation:"PublicUserRoleAssociation",GroupRoleAssociation:"PublicGroupRoleAssociation",User:"PublicUser",Group:"PublicGroup"}),angular.module("siemens.simaticit.common.services.runtime").constant("commandConfig",{CreateUserRoleAssociation:"PublicCreateUserRoleAssociationCommand",CreateGroupRoleAssociation:"PublicCreateGroupRoleAssociationCommand",DeleteUserRoleAssociation:"PublicDeleteUserRoleAssociationCommand",DeleteGroupRoleAssociation:"PublicDeleteGroupRoleAssociationCommand",ApplyUMAC:"PublicApplyUMACCommand"})}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e,t){this.CONFIG=e,this.APPCONFIG=t,this.config=angular.extend({},this.APPCONFIG,this.CONFIG)}return e.prototype.isDataSegregationEnabled=function(){return!!(this.config&&this.config.applicationServiceUrls&&this.config.applicationServiceUrls.DataSegregation)},e.prototype.isTagSelectionEnabled=function(){return!!(this.isDataSegregationEnabled()&&this.config&&this.config.isTagSelectionEnabled)},e.$inject=["CONFIG","APPCONFIG"],e}(),t.SystemConfigurationService=n,angular.module("siemens.simaticit.common.services.runtime").service("common.services.runtime.systemConfigurationService",n)}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.base",[])}(),function(){"use strict";angular.module("siemens.simaticit.common",["siemens.simaticit.common.templates","siemens.simaticit.common.base","pascalprecht.translate","siemens.simaticit.common.services.configUtil","siemens.simaticit.common.services.session","siemens.simaticit.common.services.cookie","siemens.simaticit.common.services.timer","siemens.simaticit.common.services.umc","siemens.simaticit.common.services.globalization","siemens.simaticit.common.services.data.authentication","siemens.simaticit.common.services.auth","siemens.simaticit.common.services.ui.authentication","siemens.simaticit.common.services.signalManager","siemens.simaticit.common.services.logger","siemens.simaticit.common.services.layout","siemens.simaticit.common.services.administration","siemens.simaticit.common.services.governance","siemens.simaticit.common.services.security","siemens.simaticit.common.services.engineering","siemens.simaticit.common.services.documentation","siemens.simaticit.common.widgets.busyIndicator","siemens.simaticit.common.services.runtime","siemens.simaticit.common.services.component","siemens.simaticit.common.services.swac","siemens.simaticit.common.services.personalization","siemens.simaticit.common.services.filterPersonalization","siemens.simaticit.common.services.electronicSignature","siemens.simaticit.common.services.nervebox","siemens.simaticit.common.widgets.momIcon","siemens.simaticit.common.widgets.accordion","siemens.simaticit.common.widgets.tabset","siemens.simaticit.common.widgets.carousel","siemens.simaticit.common.widgets.component","siemens.simaticit.common.widgets.commandBar","siemens.simaticit.common.widgets.dialog","siemens.simaticit.common.widgets.dialog-button","siemens.simaticit.common.widgets.fileUpload","siemens.simaticit.common.widgets.flyout","siemens.simaticit.common.widgets.grid","siemens.simaticit.common.widgets.overlay","siemens.simaticit.common.widgets.checkbox","siemens.simaticit.common.widgets.tristateCheckbox","siemens.simaticit.common.widgets.datePicker","siemens.simaticit.common.widgets.email","siemens.simaticit.common.widgets.fullscreenDialog","siemens.simaticit.common.widgets.headerButton","siemens.simaticit.common.widgets.label","siemens.simaticit.common.widgets.numeric","siemens.simaticit.common.widgets.password","siemens.simaticit.common.widgets.radio","siemens.simaticit.common.widgets.richRadio","siemens.simaticit.common.widgets.select","siemens.simaticit.common.widgets.sidepanel","siemens.simaticit.common.widgets.table","siemens.simaticit.common.widgets.text","siemens.simaticit.common.widgets.textarea","siemens.simaticit.common.widgets.icon","siemens.simaticit.common.widgets.timePicker","siemens.simaticit.common.widgets.toolbox","siemens.simaticit.common.widgets.typeahead","siemens.simaticit.common.widgets.propertyGrid","siemens.simaticit.common.widgets.navigation-link","siemens.simaticit.common.widgets.tiles","siemens.simaticit.common.widgets.validator","siemens.simaticit.common.widgets.pager","siemens.simaticit.common.widgets.entityPicker","siemens.simaticit.common.widgets.dateTimePicker","siemens.simaticit.common.widgets.itemCollectionViewer","siemens.simaticit.common.widgets.sidebar","siemens.simaticit.common.widgets.breadcrumb","siemens.simaticit.common.widgets.notificationTile","siemens.simaticit.common.widgets.graph","siemens.simaticit.common.widgets.dataSource","siemens.simaticit.common.widgets.filter","siemens.simaticit.common.services.filterSort","siemens.simaticit.common.widgets.multiSelect","siemens.simaticit.common.widgets.bindDynamicHtml","siemens.simaticit.common.widgets.highlight","siemens.simaticit.common.widgets.status","siemens.simaticit.common.components.documentation","siemens.simaticit.common.components.mashup","siemens.simaticit.common.widgets.iconPicker","siemens.simaticit.common.widgets.sortableAccordion","siemens.simaticit.common.widgets.flowEditor","siemens.simaticit.common.widgets.taglist","siemens.simaticit.common.widgets.columnConfigurator","siemens.simaticit.common.widgets.tileConfigurator","siemens.simaticit.common.services.modelDriven","siemens.simaticit.common.widgets.auditTrail","siemens.simaticit.common.widgets.characteristicRepr","siemens.simaticit.common.widgets.textEditor","siemens.simaticit.common.widgets.workInstructionInstanceViewer","siemens.simaticit.common.widgets.documentViewer","siemens.simaticit.common.widgets.tagsManager","siemens.simaticit.common.widgets.nervebox","siemens.simaticit.common.widgets.electronicSignature","siemens.simaticit.common.widgets.advancedSelect","siemens.simaticit.common.widgets.filterPanel","siemens.simaticit.common.widgets.homeCard","siemens.simaticit.common.widgets.homeTile","siemens.simaticit.common.widgets.popUpPanel","siemens.simaticit.common.components.task","siemens.simaticit.common.widgets.containers","ui.codemirror","ui.sortable","nvd3"])}(),function(e){!function(e){angular.module("siemens.simaticit.common.services.configUtil",[]),angular.module("siemens.simaticit.common.services.configUtil").config(["common.services.data.config.endpointsConfigProvider",function(e){e.config.serviceEndpointsUrl="/sit-svc/config",e.config.signalEnpointsUrl="/sit-svc/runtime/signals"}]);var t=function(){function e(){this.config={serviceEndpointsUrl:"",signalEnpointsUrl:""}}return e.prototype.$get=function(){return{config:this.config}},e}();e.EndpointsConfig=t,angular.module("siemens.simaticit.common.services.configUtil").provider("common.services.data.config.endpointsConfig",t);var n=function(){function e(e,t,n){var i=this;this.$http=e,this.$q=t,this.endpointsConfig=n,this.queryServiceEndpoints=function(){var t=i.$q.defer();return i._$http.get(i.servicesPath).then(function(e){t.resolve(e.data)},function(e){t.reject(e)}),t.promise},this.querySignalEndpoints=function(){var t=i.$q.defer();return i._$http.get(i.signalsPath).then(function(e){t.resolve(e.data)},function(e){t.reject(e)}),t.promise},this._$http=e,this.servicesPath=n.config.serviceEndpointsUrl,this.signalsPath=n.config.signalEnpointsUrl}return e.$inject=["$http","$q","common.services.data.config.endpointsConfig"],e}();e.ConfigDataService=n,angular.module("siemens.simaticit.common.services.configUtil").service("common.services.data.config",n);var i=function(){function e(e,t){var n=this;this.configDataService=e,this.$q=t,this.getServiceEndpoints=function(){var t=n.$q.defer();return n.configDataService.queryServiceEndpoints().then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},this.getSignalEndpoints=function(){var t=n.$q.defer();return n.configDataService.querySignalEndpoints().then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}return e.$inject=["common.services.data.config","$q"],e}();e.ConfigUtilService=i,angular.module("siemens.simaticit.common.services.configUtil").service("common.services.configUtil",i)}(e.framework||(e.framework={}))}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.layout",["ui.router"])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.logger",[])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.umc",[])}(),function(){"use strict";var o,e=angular.injector(["ng","siemens.simaticit.common.services.configUtil"]),a=e.get("$http"),r=e.get("$q"),s=e.get("common.services.configUtil"),c=[],t="studio",i="debug",l="mdui",d="doc",m="swac",u={type:"runtime",mode:"normal"};function n(){angular.element(window.document).ready(function(){var e=angular.bootstrap(window.document,["siemens.simaticit.app"],{strictDi:!0});e&&(window.sessionStorage.supportedLocales&&void 0!==window.sessionStorage.supportedLocales||function(e){var t=e.get("CONFIG"),n="",i=[],o=r.defer();if(t.dependencies&&0<t.dependencies.length){for(var a=0;a<t.dependencies.length;a++)t.dependencies[a]&&(n=t.dependencies[a]+"/locales/locales.json",i.push(g(n)));r.all(i).then(function(){g(n="common/scripts/i18n/locales.json").then(function(e){o.resolve(e)}).catch(function(){o.resolve()})},function(){o.resolve()})}else g(n="common/scripts/i18n/locales.json").then(function(e){o.resolve(e)}).catch(function(){o.resolve()});return o.promise}(e).then(function(e){e&&window.sessionStorage.setItem("supportedLocales",JSON.stringify(e))}))})}function p(){angular.module("siemens.simaticit.common").constant("CONFIG",{})}function g(e){var n,i=[],o=r.defer();return a({method:"GET",url:e}).then(function(e){try{for(var t in n=e.data)n.hasOwnProperty(t)&&i.push(n[t]);c=_.union(c,i),o.resolve(c)}catch(e){o.resolve()}}).catch(function(){o.resolve()}),o.promise}function f(e,t){(t=t||{}).appConfig=u;try{angular.module("siemens.simaticit.common").constant("APPCONFIG",t)}catch(e){angular.module("siemens.simaticit.common").constant("APPCONFIG",{appConfig:u})}e.resolve()}(function(){var e="config.js",n=r.defer();if(0<window.document.getElementsByTagName("head")[0].attributes.length&&window.document.getElementsByTagName("head")[0].attributes[0]){switch(window.document.getElementsByTagName("head")[0].attributes[0].nodeName){case"debug":e="debug-config.js",u.type=i;break;case"doc":e="doc-config.js",u.type=d;break;case"studio":e="studio-config.js",u.type=t;break;case"mdui":e="mdui-config.js",u.type=l;break;case"swac":switch(u.mode=m,window.document.getElementsByTagName("head")[0].attributes[1]&&window.document.getElementsByTagName("head")[0].attributes[1].nodeName){case"studio":e="studio-config.js",u.type=t}}1<window.document.getElementsByTagName("head")[0].attributes.length&&window.document.getElementsByTagName("head")[0].attributes[1]&&"swac"===window.document.getElementsByTagName("head")[0].attributes[1].nodeName&&(u.mode=m)}return a.get(e).then(function(e){var t=new Function(e.data);try{o=e.data,t()}catch(e){p()}n.resolve()}).catch(function(){p(),n.resolve()}),n.promise})().then(function(){(function(){var e,t="../config.json";o&&(e=/('type'\s*?:\s*?'.*')+/g.exec(o));e&&e[0]&&0<=e[0].indexOf("rt")&&(t="/sit-ui/system/config.json");var i=r.defer();return a.get(t).then(function(n){s.getServiceEndpoints().then(function(e){var t=angular.extend({},n.data,e);f(i,t)},function(){f(i,n.data)})}).catch(function(){f(i)}),i.promise})().then(function(){n()})})}(),function(e){!function(e){angular.module("siemens.simaticit.common.services.data.authentication",[]);var t=function(){function e(){this.config={oDataServiceURI:"",authorizationServiceUrl:""}}return e.prototype.$get=function(){return{config:this.config}},e}();e.AuthenticationDataConfig=t,angular.module("siemens.simaticit.common.services.data.authentication").provider("common.services.data.authentication.config",t),angular.module("siemens.simaticit.common.services.data.authentication").service("common.services.data.authentication",["common.services.data.authentication.config","$injector","CommandResponse","ExecutionError","common.services.logger.service","$q",function(e,a,i,o,r,s){var c,t=e.config.oDataServiceURI;function n(e){var t=a.get("$http"),n=a.get("$q").defer(),i=-1===e.indexOf("?")?"?":"&",o=e+i+"action=logout&session="+encodeURI(c.claim["urn:session"]);return t.get(o,{headers:{},params:{},withCredentials:!0}).then(function(){n.resolve()}).catch(function(e){r.logError("Authentication svc Error (sessionlist request)",{data:e.data,status:e.status,config:e.config,headers:e.headers},"siemens.simaticit.common"),n.reject()}),n.promise}this.getIdentityClaims=function(){var e=a.get("$http");return a.get("$resource")("",{},{getIdentity:{method:"POST",url:t+"GetIdentityClaimsCommand",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return{command:{Category:e.category}}}].concat(e.defaults.transformRequest),transformResponse:[function(e){var t=null;if(e)try{var n=JSON.parse(e);n.Error?(t=new i(n.Succeeded,new o(n.Error.ErrorCode,n.Error.ErrorMessage)),r.logDebug(n.Error.ErrorCode+" : "+n.Error.ErrorMessage,"","siemens.unity.common.authentication"),n.Identity&&(t.identity=JSON.parse(n.Identity))):(t=new i(!1,new o(n.error.code,n.error.message)),r.logError(n.error.code+" : "+n.error.message,"","siemens.unity.common.authentication"))}catch(e){t=new i(!1,new o(-1,"Error: "+e.message)),r.logError("-1: Error: "+e.message,"","siemens.unity.common.authentication")}else t=new i(!1,new o(-1,"Generic Error")),r.logError("-1: Error: Generic Error","","siemens.unity.common.authentication");return t}].concat(e.defaults.transformResponse)}})},this.logoutAllSessions=function(e,t){return c=t,a.get("$q").all(e.sessionlist.map(n))},this.logout=function(e,t){var n=a.get("$http"),i=s.defer();return n.get(e,t).then(function(e){e.data&&e.data.action&&e.data.result&&"logoutresponse"===e.data.action&&"success"===e.data.result?i.resolve(e.data):i.reject(e.data)}).catch(function(e){i.reject(e.data)}),i.promise},this.getAuthorizationServiceURL=function(){return e.config.authorizationServiceUrl}}])}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){!function(e){angular.module("siemens.simaticit.common.services.ui.authentication",[]);var t=function(){function e(e,t,n,i,o,a,r,s,c,l,d,m,u){var p=this;this.$window=e,this.$log=t,this.$location=n,this.$q=i,this.$rootScope=o,this.authenticationService=a,this.timerService=r,this.busyIndicatorService=s,this.messageOverlay=c,this.CONFIG=l,this.logger=d,this.$filter=m,this.swacManager=u,this._renewSession=function(){var e=(new Date).getTime()/1e3;p._sessionRenewInSec-(e-p._lastrenew)<0&&(p.logger.logInfo("Renew Session Called"),p.authenticationService.renew().then(function(){p._lastrenew=e,p._sessionTimer()},function(){p._sessionTimer(),p.logger.logError("Authentication svc Error (renew) : renew is not successfull")}),p._startDOMTracking(),p._isUserActive=!1,p.logger.logInfo("Renew --\x3e _IsUserActive set to false"))},this._DOMSubtreeModified=function(e){!1===p._isFirstLoad?(p._isUserActive=!0,p.logger.logInfo("DomTree + _isFirstLoad= false  --\x3e_IsUserActive set to true "),e&&e.type&&"mousemove"===e.type&&e.clientX&&e.clientY&&(e.clientX===p._lastMouseXPosition&&e.clientY===p._lastMouseYPosition&&(p._isUserActive=!1,p.logger.logInfo("DomTree + _isFirstLoad= false  --\x3e BUT Same position --\x3e _IsUserActive set to false ")),p._lastMouseXPosition=e.clientX,p._lastMouseYPosition=e.clientY)):(p._isFirstLoad=!1,p._isUserActive=!1,p.logger.logInfo("DomTree + _isFirstLoad= false  --\x3e _IsUserActive set to false")),p._stopDOMTracking()},this._onOverlayRenewClick=function(){p.handleOverlayActions()},this._onOverlayOkayClick=function(){p.handleOverlayActions()},this._startDOMTracking=function(){!p._isTracking&&p._DOMTrackingStatus&&($("*").bind("mousemove click mouseup mousedown keydown keypress keyup submit change mouseenter scroll resize dblclick",$.proxy(p._DOMSubtreeModified,p)),p._isTracking=!0,p.logger.logInfo("StartDOMTRACKING"))},this._stopDOMTracking=function(){$("*").unbind("mousemove click mouseup mousedown keydown keypress keyup submit change mouseenter scroll resize dblclick",$.proxy(p._DOMSubtreeModified,p)),p._isTracking=!1,p.logger.logInfo("StopDOMTRACKING")},this._sessionTimer=function(){null!==p._sessionRenewPreNotificationTimer&&(p.logger.logInfo("RenewPrenotification Timer STOPPED"),p.timerService.stop(p._sessionRenewPreNotificationTimer)),null!==p._sessionRenewTimer&&(p.logger.logInfo("Renew Timer STOPPED"),p.timerService.stop(p._sessionRenewTimer)),!0===p._sessionNotificationStatus&&(p.logger.logInfo("RenewPrenotification Timer STARTED"),p._sessionRenewPreNotificationTimer=p.timerService.start("PreNotification",1e3*(p._sessionExpireInSec-p._countdownInSec),function(){!0===p._isUserActive?(p.logger.logInfo("RenewPrenotification Timer Callback called and user performed activities "),p._renewSession()):(p.logger.logInfo("RenewPrenotification Timer Callback called and user NOT performed activities "),p._stopDOMTracking(),p.timerService.stop(p._sessionRenewTimer),p._activateSessionTimeout())},!0,!1)),p.logger.logInfo("Renew Timer STARTED"),p._sessionRenewTimer=p.timerService.start("Renew",1e3*p._internalRenewFreq,function(){var e=p._isUserActive?"Renew Timer Callback and the user was ACTIVE":"Renew Timer Callback and the user was NOT ACTIVE";p.logger.logInfo(e),p._startDOMTracking(),!0===p._isUserActive&&p._renewSession()},!1,!1)},this.enableSessionNotification=function(){p._sessionNotificationStatus=!0},this.disableSessionNotification=function(){p._sessionNotificationStatus=!1,null!==p._sessionRenewPreNotificationTimer&&p.timerService.stop(p._sessionRenewPreNotificationTimer)},this.enableDOMTracking=function(){p._DOMTrackingStatus=!0},this.disableDOMTracking=function(){p._DOMTrackingStatus=!1,p._isTracking&&p._stopDOMTracking()},this._activateSessionTimeout=function(){var e,t,n,i=p._countdownInSec,o=new Date;p.$rootScope.globalOverlayData.text="",p.$rootScope.globalOverlayData.buttons=[{id:"renewSession",displayName:p.$filter("translate")("common.authentication.renewSession"),onClickCallback:p._onOverlayRenewClick}],p.$rootScope.globalOverlayData.title=p.$filter("translate")("common.authentication.overlaySessionExpireWarning"),p.swacManager.enabled&&(o.setSeconds(o.getSeconds()+i),n=o.toLocaleDateString()+" : "+o.toLocaleTimeString(),p.$rootScope.globalOverlayData.text=p.$filter("translate")("common.authentication.overlaySessionExpireMessage")+n),p.messageOverlay.show({type:"confirmation"}),p._countDownTimer=p.timerService.start("count down",1e3,function(){e=((e=Math.floor(i/60))<10?"0":"")+e,t=((t=Math.floor(i%60))<10?"0":"")+t,p.$rootScope.globalOverlayData.text=p.$filter("translate")("common.authentication.overlaySessionExpireMessage")+e+":"+t,-1===(i-=1)&&(p.swacManager.enabled&&p.messageOverlay.hide(),p.timerService.stop(p._countDownTimer),p.timerService.stopAll(),p.$rootScope.globalOverlayData.buttons=[{id:"cancelDelete",displayName:p.$filter("translate")("common.ok"),onClickCallback:p._onOverlayOkayClick}],p.$rootScope.globalOverlayData.text=p.$filter("translate")("common.authentication.overlaySesionExpiredMessage"),p.$rootScope.globalOverlayData.title="",p.messageOverlay.show({type:"warning"}))},!1)},this.init=function(e,t){!1===e&&p.disableSessionNotification(),!1===t&&p.disableDOMTracking(),p.authenticationService.getLoginStatus().then(null,null,function(e){var t=p.authenticationService.getToken();void 0!==t&&(p._sessionExpireInSec=Number(t.claim["urn:sessionexpires"]),p._sessionRenewInSec=Math.ceil(p._sessionExpireInSec/3),p._countdownInSec=Math.ceil(p._sessionExpireInSec/15),p._internalRenewFreq=Math.ceil(p._sessionExpireInSec/30),p.logger.logInfo("_sessionExpireInSec: "+p._sessionExpireInSec+"_sessionRenewInSec: "+p._sessionRenewInSec+"_countdownInSec: "+p._countdownInSec+"_internalRenewFreq: "+p._internalRenewFreq),p._userGroup=t.claim["urn:group"],"Refresh"===e?(p.$rootScope.isRefresh=!0,p._renewSession()):"Login"===e&&(p.$rootScope.isRefresh=!1,p._sessionTimer(),p.timerService.start("initial timer",1500,function(){p._startDOMTracking()},!0)),p._isInitExecuted=!0)}),p.authenticationService.init()},this.getIndentity=function(){return p.authenticationService.notifyUser()},this.getCurrentUser=function(){return p.authenticationService.getLoggedUser()},this.login=function(e){p.authenticationService.login(e)},this.checkAuthentication=function(){var t=p.$q.defer();return p.authenticationService.checkAuthentication().then(function(){t.resolve()},function(e){t.reject(e)}),t.promise},this.hideOverlay=function(){p.messageOverlay.hide(),p.$rootScope.globalOverlayData.text="",p.$rootScope.globalOverlayData.title="",p.messageOverlay.set(p.overlay)},this.logout=function(){p.timerService.stopAll(),p.busyIndicatorService.show(p.$rootScope.globalBusyIndicator.id,p.$rootScope.globalBusyIndicator.delay),p.authenticationService.logout().then(function(){p.$log.log("Successfully logout"),p.busyIndicatorService.hide(p.$rootScope.globalBusyIndicator.id)},function(e){p.busyIndicatorService.hide(p.$rootScope.globalBusyIndicator.id),p.$log.log("error logoff: ",e),p.messageOverlay.text=p.$filter("translate")("common.authentication.overlayLogoutErrorMsg"),p.messageOverlay.title=p.$filter("translate")("common.authentication.overlayLogoutErrorTitle"),p.messageOverlay.set(p.overlay),p.messageOverlay.show(),p.logger.logError("Authentication svc Error (logout)")})},this.isAuthorized=function(){return p.authenticationService.isAuthorized()},this._isUserActive=!1,this._isInitExecuted=!1,this._countdownInSec=120,this._sessionExpireInSec=0,this._sessionRenewInSec=0,this._lastMouseXPosition=0,this._lastMouseYPosition=0,this._lastrenew=0,this._isFirstLoad=!0,this._internalRenewFreq=60,this._sessionNotificationStatus=!0,this._DOMTrackingStatus=!0,this._isTracking=!1,this.overlay={text:m("translate")("common.authentication.overlayLogoutErrorMsg"),title:m("translate")("common.authentication.overlayLogoutErrorTitle"),buttons:[{id:"okButton",displayName:"OK",onClickCallback:this.hideOverlay}]}}return e.prototype.handleOverlayActions=function(){this.messageOverlay.hide(),this.timerService.stop(this._countDownTimer),this.authenticationService.renew(),this._sessionTimer()},e.prototype.getToken=function(){return this.authenticationService.getToken()},e.$inject=["$window","$log","$location","$q","$rootScope","common.services.authentication","common.services.timer","common.widgets.busyIndicator.service","common.widgets.messageOverlay.service","CONFIG","common.services.logger.service","$filter","common.services.swac.SwacUiModuleManager"],e}();e.Authentication=t,angular.module("siemens.simaticit.common.services.ui.authentication").service("common.services.ui.authentication",t)}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){!function(e){angular.module("siemens.simaticit.common.services.auth",[]);var t=function(){function e(){this.config={authorizationServiceUrl:"",enableAuthentication:!0,homeRoute:""}}return e.prototype.$get=function(){return{config:this.config}},e}();e.AuthenticationConfig=t,angular.module("siemens.simaticit.common.services.auth").provider("common.services.authentication.config",t);var n=function(){function e(e,t,n,i,o,a,r,s,c,l,d,m){var u=this;this.authenticationConfig=e,this.$window=t,this.$log=n,this.$location=i,this.$q=o,this.$rootScope=a,this.CONFIG=r,this.sessionService=s,this.cookieService=c,this.umcService=l,this.$injector=d,this.authDataService=m,this.login=function(e){var t=u.$location.absUrl().replace(u.$location.url(),"").replace("#",""),n=!0===(e&&e)?"":u.$location.url();u.sessionService.setRedirectStateKey(n);u.state=Date.now()+""+Math.random();var i=u.authenticationConfig.config.authorizationServiceUrl+"?client_id="+encodeURI(u._clientID)+"&redirect_uri="+encodeURI(t)+"&response_type="+encodeURI("token")+"&scope="+encodeURI("read")+"&state="+encodeURI(u.state);u._isRedirectInProgress||(u._isRedirectInProgress=!0,window.location.replace(i),setTimeout(function(){window.location.replace(i)}))},this.deferClaim=this.$q.defer(),this.deferSetToken=this.$q.defer(),this._clientID=r.clientID,this._sessionrenewal="600",this._isRedirectInProgress=!1}return e.prototype.init=function(){!0===this.authenticationConfig.config.enableAuthentication&&this.checkUrlParams()},e.prototype.setCurrentState=function(e){this._currentState=e},e.prototype.getCurrentState=function(){return this._currentState},e.prototype.notifyUser=function(){return this.getUser()},e.prototype.getUser=function(){var e=this.getToken();try{if(e){var t=e.claim;if(t)return t}}catch(e){this.$log.log("error Notify",e)}return null},e.prototype.checkUrlParams=function(){for(var e,t={},n=window.location.hash.substring(1),i=/([^\/&=]+)=([^&]*)/g,o=e=i.exec(n);o;)t[decodeURIComponent(e[1])]=decodeURIComponent(e[2]),o=e=i.exec(n);_.contains(Object.keys(t),"access_token")?(this.setToken(t),this.deferSetToken.notify("Login")):this.deferSetToken.notify("Refresh");var a=this.getToken();a&&a.identityUrl&&this.umcService.init(a.identityUrl)},e.prototype.getLoginStatus=function(){return this.deferSetToken.promise},e.prototype.getToken=function(){var e=null,t=null;if((void 0===this._URLtoken||void 0===this._UMCClaims)&&(t=this.sessionService.getAuth())){e=t.access_token.split(".");var n=JSON.parse(this.$window.atob(e[0])),i="",o=e[1].replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw"Illegal base64url string!"}var a=this.$window.atob(o);try{i=JSON.parse(decodeURIComponent(this.$window.escape(a)))}catch(e){i=JSON.parse(a)}var r="Bearer "+t.access_token;this._UMCClaims={session:i["urn:session"],identityUrl:i["urn:idp_address"],sessionrenewal:this._sessionrenewal},this._URLtoken={header:n,claim:i,claimToSend:r,sessionRenewal:t.expires_in,identityUrl:i["urn:idp_address"]}}return this._URLtoken},e.prototype.setToken=function(e){this.sessionService.setAuth(e),this.$location.url(this.sessionService.getRedirectStateKey()),this.deferClaim.notify(this.notifyUser())},e.prototype.getLoggedUser=function(){return this.deferClaim.promise},e.prototype.isAuthorized=function(){return null!==this.sessionService.getAuth()},e.prototype.logout=function(){var t=this,n=this.$q.defer(),e=this.$location.absUrl().replace(this.$location.url(),"");if(this._URLtoken){var i=this._URLtoken.identityUrl,o={headers:{},params:{action:"logoutrequest",json:"json",service:encodeURI(e),session:encodeURI(this._URLtoken.claim["urn:session"])},withCredentials:!0};return this.authDataService.logout(i,o).then(function(e){t.sessionService.removeAuth(),void 0!==e.sessionlist&&(t.authDataService.logoutAllSessions(e,t.getToken()).then(function(){t.deferClaim.notify(null),t.login(!0)}),n.resolve(e))},function(e){n.reject(e),t.sessionService.removeAuth(),t.login(!0)}),n.promise}},e.prototype.renew=function(){return this.umcService.renew(this._UMCClaims)},e.prototype.checkAuthentication=function(){var t=this.$q.defer(),e=this.$injector.get("common.services.engineering.data.service");return this.authenticationConfig.config.enableAuthentication?e.getAll("Domain","").then(function(){t.resolve()},function(e){t.reject(e)}):t.resolve(),t.promise},e.$inject=["common.services.authentication.config","$window","$log","$location","$q","$rootScope","CONFIG","common.services.session","common.services.cookie","common.services.umc","$injector","common.services.data.authentication"],e}();e.AuthenticationService=n,angular.module("siemens.simaticit.common.services.auth").service("common.services.authentication",n)}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e,t,n,i,o,a,r,s,c,l,d,m,u,p,g,f,h,v,y){this.services={globalization:{globalizationService:n,service:n},security:{securityService:c,service:c},authentication:{service:o},logger:{service:i},sidePanel:{service:a},signal:{service:p},component:{swacComponentService:r,uiComponentService:s},runtime:{backendService:l,dataService:d,archivingDataService:m,commandService:u}},this.widgets={messageOverlay:{service:g},globalDialog:{service:f},busyIndicator:{service:h},notificationTile:{service:v},commandBar:{service:y}}}return e.$inject=["CommandResponse","ExecutionError","common.services.globalization.globalizationService","common.services.logger.service","common.services.authentication","common.services.sidePanel.service","common.services.component.swacComponentService","common.services.component.uiComponentService","common.services.security.securityService","common.services.runtime.backendService","common.services.runtime.dataService","common.services.runtime.archivingDataService","common.services.runtime.commandService","common.services.signalManager","common.widgets.messageOverlay.service","common.widgets.globalDialog.service","common.widgets.busyIndicator.service","common.widgets.notificationTile.globalService","common.widgets.commandBar.service"],e}(),t.CommonBase=n,angular.module("siemens.simaticit.common").service("common.base",n)}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e,t,n,i){this.$q=e,this.$resource=t,this.$http=n,this.$logger=i,this.logger=i.getModuleLogger("siemens.simaticit.common.collectionService")}return e.prototype.getPageData=function(e,t,n){if(this.isValidParams(e,t,n)){var i="",o="";t&&void 0!==e&&(o+=i?"&":"",o+="$top="+t+"&$skip="+e);var a=(i+=o)?"&":"";return i+=a+="$count=true",(n.appName?n.dataService.findAll({appName:n.appName,entityName:n.entity,options:i}):n.dataService.getAll(n.entity,i)).then(function(e){return{pageData:e.value,currentPage:0,totalDataCount:e.count}},function(e){return this.logger.logError("Fetching server data failed",e,"common.widgets.table.serverDataService"),this.$q.reject(e)})}},e.prototype.isValidParams=function(e,t,n){if(!n)throw this.logger.logError("datasource information not specified"),new Error("There is no datasource information provided.");if(!n.entity)throw this.logger.logError("entity information not specified"),new Error("There is no entity information provided.");if(!n.dataService)throw this.logger.logError("dataService information not specified"),new Error("There is no service information provided.");if("function"!=typeof n.dataService.getAll&&!n.appName)throw this.logger.logErr("The given service does not have a getAll function."),new Error("The given service does not have a getAll function.");if("function"!=typeof n.dataService.findAll&&n.appName)throw this.logger.logErr("The given service does not have a findAll function.If you defined in serverData appName the service must contain a findAll function"),new Error("The given service does not have a findAll function.");if(!this.isInt(t))throw this.logger.logErr(t+" is not a valid value for page size."),new Error(t+" is not a valid value for page size.");return!0},e.prototype.isInt=function(e){var t=parseInt(e,10);return!isNaN(t)&&e===t&&e.toString()===t.toString()},e.$inject=["$q","$resource","$http","common.services.logger.service"],e}(),t.CollectionService=n,angular.module("siemens.simaticit.common").service("common.collectionService",n)}(sit||(sit={})),function(e){!function(o){var e=function(){function e(e,t,n,i,o,a,r,s,c,l,d,m,u,p,g){this.$rootScope=e,this.commandResponse=t,this.executionError=n,this.globalization=i,this.logger=o,this.shell=a,this.authentication=r,this.sidePanelManager=s,this.messageOverlay=c,this.globalDialog=l,this.swacManager=d,this.headerService=m,this.timerService=u,this.CONFIG=p,this.$state=g,this.subscribeApolloContainerEvents(),this.index_value=2,this.historyTracker=[]}return e.prototype.setExecutionError=function(t){if(0===t.status||404===t.status)t.data&&t.data.error&&(t.data.error.errorCode=t.status),t.data&&t.data.error?t.data.error.errorMessage="Cannot connect to the specified URL":t.data={error:{errorCode:t.status,errorMessage:t.statusText}};else if(500===t.status||400===t.status||503===t.status)try{t.data.error.errorCode=t.data.error.errorCode?t.data.error.errorCode:t.status,t.data.error.errorMessage=t.data.error.errorMessage?t.data.error.errorMessage:t.statusText}catch(e){t.data.error.errorCode=t.status,t.data.error.errorMessage=t.statusText}else try{t.data.error.errorCode=t.status,t.data.error.errorMessage=t.data.error.errorMessage&&!t.statusText?t.data.error.errorMessage:t.statusText}catch(e){this.logger.logError("common service: setExecutionError()",e,"siemens.simaticit.common")}return t},e.prototype.saveSettings=function(e){if(e){var t="settings";this.CONFIG&&this.CONFIG.clientID&&(t=this.CONFIG.clientID+"_settings"),window.localStorage.setItem(t,JSON.stringify(e))}return!0},e.prototype.removeSettings=function(){var e="settings";this.CONFIG&&this.CONFIG.clientID&&(e=this.CONFIG.clientID+"_settings"),window.localStorage.removeItem(e)},e.prototype.loadSettings=function(){var e="settings";this.CONFIG&&this.CONFIG.clientID&&(e=this.CONFIG.clientID+"_settings");var t=window.localStorage.getItem(e);t||(t=window.localStorage.getItem("settings"));try{if(t)return JSON.parse(t)}catch(e){this.logger.logError("common service: loadSettings()",e,"siemens.simaticit.common")}return null},e.prototype.formatErrorMessage=function(e){if(!e)return"";var t=null,n=null;if(e.data instanceof o.CommandResponse){if(t=e.data.error.errorCode,n=e.data.error.errorMessage,void 0!==e.data.data&&null!==e.data.data&&void 0!==e.data.data.SitUafExecutionDetail&&null!==e.data.data.SitUafExecutionDetail){t="-1",n="One or more pre-checks failed";for(var i=0;i<e.data.data.SitUafExecutionDetail.PrecheckDetails.length;i++)n+="\n ["+ +e.data.data.SitUafExecutionDetail.PrecheckDetails[i].Error.ErrorCode+"] - "+e.data.data.SitUafExecutionDetail.PrecheckDetails[i].Error.ErrorMessage}}else e instanceof o.CommandResponse?(t=e.error.errorCode,n=e.error.errorMessage):e instanceof o.ExecutionError?(t=e.errorCode,n=e.errorMessage):this.logger.logWarning("common service - formatErrorMessage - unexpected type parameter",e,"siemens.simaticit.common");return null===n?"":"string"!=typeof n?this.formatErrorMessage(n):"[{0}] - {1}".replace(/\{0\}/g,t).replace(/\{1\}/g,n)},e.prototype.transformHttpResponse=function(e,t){var n=null;if(!e)return n=new o.CommandResponse(!1,new o.ExecutionError("-1","Generic Error")),this.logger.logError("-1: Error: Generic Error","",t),n;try{var i=JSON.parse(e);if(!i.Error)return n=new o.CommandResponse(!1,new o.ExecutionError(i.error.code,i.error.message)),this.logger.logError(i.error.code+" : "+i.error.message,"",t),n;n=new o.CommandResponse(i.Succeeded,new o.ExecutionError(i.Error.ErrorCode,i.Error.ErrorMessage)),i.Succeeded&&0===i.Error.ErrorCode?this.logger.logInfo(i.Error.ErrorCode+" : "+i.Error.ErrorMessage,"",t):this.logger.logError(i.Error.ErrorCode+" : "+i.Error.ErrorMessage,"",t)}catch(e){n=new o.CommandResponse(!1,new o.ExecutionError("-1","Error: "+e.message)),this.logger.logError("-1: Error: "+e.message,"",t)}return n},e.prototype.subscribeApolloContainerEvents=function(){var t=this;this.swacManager.enabled&&this.swacManager.eventBusServicePromise.promise.then(function(e){e.register("showAboutDialog"),e.register("historyNavigation"),e.event.subscribe(function(e){"showAboutDialog"===e.data.topic&&(t.logger.logInfo("New context registered",e.data.data),t.headerService.openAboutDialog()),"historyNavigation"===e.data.topic&&t.historyTracker.length>t.index_value&&(t.stateObjectInstane=t.historyTracker[t.historyTracker.length-t.index_value],t.stateObjectInstane.navigateBack=!0,t.$state.go(t.stateObjectInstane.state,t.stateObjectInstane.stateParams))})})},e.prototype.updatePreviousButton=function(t){this.swacManager.enabled&&this.swacManager.contextServicePromise.promise.then(function(e){e.updateCtx("oefDisableGoToPreviousPage",t)})},e.$inject=["$rootScope","CommandResponse","ExecutionError","common.services.globalization.globalizationService","common.services.logger.service","common.services.layout.shell","common.services.ui.authentication","common.services.sidePanel.service","common.widgets.messageOverlay.service","common.widgets.globalDialog.service","common.services.swac.SwacUiModuleManager","common.services.header.service","common.services.timer","CONFIG","$state"],e}();o.Common=e,angular.module("siemens.simaticit.common").service("common",["$rootScope","CommandResponse","ExecutionError","common.services.globalization.globalizationService","common.services.logger.service","common.services.layout.shell","common.services.ui.authentication","common.services.sidePanel.service","common.widgets.messageOverlay.service","common.widgets.globalDialog.service","common.services.swac.SwacUiModuleManager","common.services.header.service","common.services.timer","CONFIG","$state",e]);var t=function(){function e(){}return e._randomIdGenerator=function(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t},e.generateUUID=function(){return this._randomIdGenerator()+this._randomIdGenerator(!0)+this._randomIdGenerator(!0)+this._randomIdGenerator()},e}();o.Utils=t}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e){this.logger=e}return e.prototype.migrateUIComponentManifest=function(e){var t,n=this;try{t="string"==typeof e?JSON.parse(e):e}catch(e){return void this.logger.logError("migration service: migrateUIComponentManifest()",e,"Unable to parse UI Component manifest.")}if(t.manifestVersion&&"02.00.00"===t.manifestVersion)return this.logger.logInfo("UI Component manifest is up-to-date."),e;if(t.name&&t.title&&t.source){var i={manifestVersion:"02.00.00"};return i.uiComponent={identity:{name:t.name,title:t.title,version:t.version,source:t.source,dependencies:t.dependencies},metadata:{description:t.description,icon:t.icon,image:t.image,size:t.size},contracts:{api:{methods:{},events:{}},dpc:{}}},t.API&&t.API.functions&&t.API.functions.length&&t.API.functions.forEach(function(e){var t={description:"",parameters:{}};e[1]&&(t.description=e[1]),null!==e[2]&&void 0!==e[2]&&"null"!==e[2]&&(t.return={type:e[2]}),e[3]&&0<e[3].length&&e[3].forEach(function(e){t.parameters[e[0]]={type:e[1]}}),i.uiComponent.contracts.api.methods[e[0]]=t}),t.API&&t.API.events&&t.API.events.length&&t.API.events.forEach(function(e){var t={description:"",arguments:{}};e[1]&&(t.description=e[1]),e[2]&&e[2].forEach(function(e){t.arguments[e[0]]={type:e[1]}}),i.uiComponent.contracts.api.events[e[0]]=t}),t.DPC&&t.DPC.length&&t.DPC.forEach(function(e){n.titleValidation(e[0])&&("[object Array]"!==Object.prototype.toString.call(e[1])?i.uiComponent.contracts.dpc[e[0]]=n.createData(e):i.uiComponent.contracts.dpc[e[0]]=n.createStructure(e[1]))}),i}this.logger.logError("migration service: migrateUIComponentManifest() - Invalid UI Component manifest.")},e.prototype.titleValidation=function(e){var t=!1;return e&&e.trim()&&(t=!0),t},e.prototype.createData=function(e){var t={node:"data"};return t.description=e[1],t.permission=e[2],t.type=void 0===e[3]?"":e[3],t.default=e[4],t},e.prototype.createStructure=function(e){var t=this,n={node:"structures",children:{}},i=n.children;return e.forEach(function(e){i[e[0]]=t.createData(e)}),n},e.$inject=["common.services.logger.service"],e}(),t.ComponentMigrationService=n,angular.module("siemens.simaticit.common").service("common.services.component.migrationService",n)}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.base").constant("RESOURCE",{path:[{name:"common/resources/",modules:[{name:"common"}]}]}),angular.module("siemens.simaticit.common.base").constant("THEMES",[{id:0,name:"Light",styleSheets:["common/styles/common-light.css"]},{id:1,name:"Dark",styleSheets:["common/styles/common-dark.css"]}])}(),function(){"use strict";angular.module("siemens.simaticit.common").constant("LOG_TYPES",{LOG_GENERIC:"GENERIC",LOG_INFO:"INFO",LOG_WARNING:"WARNING",LOG_ERROR:"ERROR",LOG_DEBUG:"DEBUG"}),angular.module("siemens.simaticit.common").constant("LOG_LEVELS",{LOG_NONE:0,LOG_ERROR:1,LOG_WARNING:2,LOG_DEBUG:3,LOG_INFO:4,LOG_VERBOSE:5})}(),function(e){!function(e){angular.module("siemens.simaticit.common.services.cookie",[]);var t=function(){function e(){this.config={cookieAccessToken:"UAF-AccessToken"}}return e.prototype.$get=function(){return{config:this.config}},e}();e.CookieConfig=t,angular.module("siemens.simaticit.common.services.cookie").provider("common.services.cookie.config",t);var n=function(){function e(e,t){this.$log=e,this.cookieConfig=t}return e.prototype.get=function(e){for(var t=e+"=",n=window.document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},e.prototype.set=function(e,t){window.document.cookie=e+"="+t+";path=/"},e.prototype.remove=function(e){if(null==this.get(e))return this.$log.info("Cookie storage key  '"+e+"' not found"),!1;var t=this.get(e),n=new Date;return window.document.cookie=e+"="+t+"; expires="+n.toUTCString(),!0},e.prototype.getAccessToken=function(){var e=this.get(this.cookieConfig.config.cookieAccessToken);return null!==e?JSON.parse(e):null},e.prototype.setAccessToken=function(e){this.set(this.cookieConfig.config.cookieAccessToken,e)},e.prototype.removeAccessToken=function(){this.remove(this.cookieConfig.config.cookieAccessToken)},e.$inject=["$log","common.services.cookie.config"],e}();e.CookieService=n,angular.module("siemens.simaticit.common.services.cookie").service("common.services.cookie",["$log","common.services.cookie.config",n])}(e.framework||(e.framework={}))}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common").provider("debug",[function(){this.config={enableDebug:!1},this.uiViews=[],this.$get=function(){return{config:this.config,uiViews:this.uiViews}}}])}(),function(){"use strict";angular.module("siemens.simaticit.common.services.layout").directive("hAdapter",["$window","common.services.component.swacComponentManager",function(r,s){return{restrict:"A",link:function(i,o,a){i.onResize=function(){var e=0;if(""!==a.hAdapter)for(var t=a.hAdapter.split(","),n=0;n<t.length;n++)0<$(t[n]).length&&(e+=$(t[n])[0].clientHeight);s.enabled?o.windowHeight=r.innerHeight-e:o.windowHeight=r.innerHeight-25-e,$(o).height(o.windowHeight),i.$broadcast("common.service.layout.h-adapter.height-changed",o)},i.onResize(),angular.element(r).bind("resize",i.onResize),i.$on("$destroy",function(){angular.element(r).unbind("resize",i.onResize)})}}}])}(),function(e){var t,n,i;t=e.framework||(e.framework={}),n={Archiving:{id:"Archiving",titleKey:"homeCards.archiving.title",descriptionKey:"homeCards.archiving.description",imagePath:"common/images/home-cards/imgArchive.png"},Interoperability:{id:"Interoperability",titleKey:"homeCards.interoperability.title",descriptionKey:"homeCards.interoperability.description",imagePath:"common/images/home-cards/imgInteroperability.png"},Manufacturing:{id:"Manufacturing",titleKey:"homeCards.manufacturing.title",descriptionKey:"homeCards.manufacturing.description",imagePath:"common/images/home-cards/imgManufacturing.png"},ProcessActivities:{id:"ProcessActivities",titleKey:"homeCards.processActivities.title",descriptionKey:"homeCards.processActivities.description",imagePath:"common/images/home-cards/imgProcessActivities.png"},System:{id:"System",titleKey:"homeCards.system.title",descriptionKey:"homeCards.system.description",imagePath:"common/images/home-cards/imgSettings.png"},ShopfloorExecution:{id:"ShopfloorExecution",titleKey:"homeCards.shopfloorExecution.title",descriptionKey:"homeCards.shopfloorExecution.description",imagePath:"common/images/home-cards/imgShopfloorExecution.png"},ProductionCoordination:{id:"ProductionCoordination",titleKey:"homeCards.productionCoordination.title",descriptionKey:"homeCards.productionCoordination.description",imagePath:"common/images/home-cards/ImgProductionCoordination.png"},ProductandProductionConfiguration:{id:"ProductandProductionConfiguration",titleKey:"homeCards.productandProductionConfiguration.title",descriptionKey:"homeCards.productandProductionConfiguration.description",imagePath:"common/images/home-cards/imgProductAndProductionConfiguration.png"},WorkOrder:{id:"WorkOrder",titleKey:"homeCards.workOrder.title",descriptionKey:"homeCards.workOrder.description",imagePath:"common/images/home-cards/imgWorkOrder.png"},EquipmentEngineering:{id:"EquipmentEngineering",titleKey:"homeCards.equipmentEngineering.title",descriptionKey:"homeCards.equipmentEngineering.description",imagePath:"common/images/home-cards/imgEquipmentEngineering.png"},MaterialEngineering:{id:"MaterialEngineering",titleKey:"homeCards.materialEngineering.title",descriptionKey:"homeCards.materialEngineering.description",imagePath:"common/images/home-cards/imgMaterialEngineering.png"},MaterialRuntime:{id:"MaterialRuntime",titleKey:"homeCards.materialRuntime.title",descriptionKey:"homeCards.materialRuntime.description",imagePath:"common/images/home-cards/imgMaterialRuntime.png"},Shopfloor:{id:"Shopfloor",titleKey:"homeCards.shopfloor.title",descriptionKey:"homeCards.shopfloor.description",imagePath:"common/images/home-cards/imgShopfloor.png"},Process:{id:"Process",titleKey:"homeCards.process.title",descriptionKey:"homeCards.process.description",imagePath:"common/images/home-cards/imgProcess.png"}},i=function(){function e(e){this.homeCardConfig=[],this.homeConfig={},"rt"===e.type&&e.enableHomeCard&&(this.initHomeConfig(e),this.generateHomeCardConfig())}return e.prototype.initHomeConfig=function(e){var n=this;e.menu&&e.menu.length&&e.menu.forEach(function(t){var e=t.contents;e&&e.length?e.forEach(function(e){e.hasOwnProperty("category")&&n.formHomeConfig(t.title,e)}):t.hasOwnProperty("category")&&n.formHomeConfig(t.title,t)})},e.prototype.formHomeConfig=function(e,t){var n=t.category,i=e,o={title:t.title,state:t.id,icon:t.icon,svgIcon:t.svgIcon};this.homeConfig.hasOwnProperty(n)&&!this.homeConfig[n].hasOwnProperty(i)?this.homeConfig[n][i]=[]:this.homeConfig.hasOwnProperty(n)||(this.homeConfig[n]={},this.homeConfig[n][i]=[]),this.homeConfig[n][i].push(o)},e.prototype.generateHomeCardConfig=function(){var t=this;Object.keys(this.homeConfig).forEach(function(e){t.homeCardConfig.push(n[e])})},e.prototype.getHomeCardConfig=function(){return this.homeCardConfig},e.prototype.getHomeTileConfig=function(e){return this.homeConfig[e]},e.$inject=["CONFIG"],e}(),t.HomeCardConfiguration=i,angular.module("siemens.simaticit.common.services.layout").service("common.services.homeCard.config",i)}(sit||(sit={})),function(){"use strict";function o(e,n,t){var i,o,a;function r(){return o=e.defer(),0===(a=i.length)?o.resolve():angular.forEach(i,function(e){var t=n.get(e);void 0!==t&&void 0!==t.execute&&t.execute().then(c,l)}),o.promise}function s(){0<a||o.resolve()}function c(){a--,s()}function l(){a--,s()}i=t,this.execute=r}angular.module("siemens.simaticit.common.services.layout").service("common.services.sidePanel.service",[function(){var n,i=this,o=null,a=null,r=null;function s(e,t){n=!e,e?($("div[data-internal-type='property-area-container'].property-area-container").removeClass("property-area-container-margin-right"),$(".canvas-ui-view div.commandbar-container-vertical").removeClass("commandbar-container-fixed-right")):setTimeout(function(){0<$(".canvas-ui-view div.commandbar-container-vertical").length&&($("div[data-internal-type='property-area-container'].property-area-container").addClass("property-area-container-margin-right"),$(".canvas-ui-view div.commandbar-container-vertical").addClass("commandbar-container-fixed-right"))},100),i.onOpenCloseCallback&&"function"==typeof i.onOpenCloseCallback&&i.onOpenCloseCallback(!e,t)}this.register=function(e,t){o=e,a=t},this.openclose=function(e){r=e&&e.mode?e.mode:e,s(o(null,e),r)},this.setopen=function(e,t){r=t&&t.mode?t.mode:t,s(o(!e,t),r)},this.setTitle=function(e){a(e)},this.getTypesList=function(){return{property:"p",edit:"e"}},this.getSidePanelInfo=function(){return r},this.getSidePanelStatus=function(){return n},this.onOpenCloseCallback,this.open=function(e){r=e&&e.mode?e.mode:e,s(o(!1,e),r)},this.close=function(e){r=e&&e.mode?e.mode:e,s(o(!0,e),r)}}]),angular.module("siemens.simaticit.common.services.layout").service("common.widgets.messageOverlay.service",["$rootScope","common.overlay.overlayService","common.services.swac.SwacUiModuleManager",function(t,n,i){var o="globalMsgOverlayId";this.show=function(e){i.enabled?1<t.globalOverlayData.buttons.length||void 0!==e&&void 0!==e.type&&"confirmation"===e.type?i.confirmationServicePromise.promise.then(function(e){var n=t.globalOverlayData.buttons;e.show(t.globalOverlayData.title,t.globalOverlayData.text,{buttons:t.globalOverlayData.buttons}).then(function(e){for(var t=0;t<n.length;t++)if(n[t].id===e.buttonId){n[t].onClickCallback();break}})}):void 0!==e&&void 0!==e.type&&"warning"===e.type?i.warningServicePromise.promise.then(function(e){e.show(t.globalOverlayData.title,t.globalOverlayData.text)}):i.errorServicePromise.promise.then(function(e){e.show(t.globalOverlayData.title,t.globalOverlayData.text)}):n.showOverlayModal(o)},this.hide=function(){i.enabled?i.confirmationServicePromise.promise.then(function(e){e.hide()}):n.hideOverlayModal(o)},this.get=function(){return t.globalOverlayData},this.set=function(e){t.globalOverlayData=e}}]),angular.module("siemens.simaticit.common.services.layout").service("common.widgets.globalDialog.service",["$rootScope","common.widgets.dialog.service",function(t,e){var n="globalDialogId";this.show=function(){e.showDialogCenteredModal(n)},this.hide=function(){e.hideDialogModal(n)},this.get=function(){return t.globalDialogData},this.set=function(e){t.globalDialogData=e}}]),angular.module("siemens.simaticit.common.services.layout").provider("common.services.startup.service",function(){var n,e=this;function t(e){n.push(e)}function i(e,t){return new o(e,t,n)}n=[],e.register=t,e.$get=["$q","$injector",i]}),angular.module("siemens.simaticit.common.services.layout").service("common.widgets.commandBar.service",["$rootScope",function(t){var n=this;n.showLabel=!1,n.setCommandLabelVisibility=function(e){n.showLabel=e||!1,t.$broadcast("sit-commandbar-toggle-label",{isLabelShown:n.showLabel})},n.getLabelVisibilityStatus=function(){return n.showLabel}}])}(),function(){"use strict";angular.module("siemens.simaticit.common").provider("common.services.logger.config",["LOG_LEVELS",function(e){this.config={currentLogLevel:e.LOG_ERROR,msgMaxLength:1e3,checkMsgLength:!0},this.$get=function(){return{config:this.config}}}]),angular.module("siemens.simaticit.common.services.logger").service("common.services.logger.service",["$log","common.services.logger.config","LOG_TYPES","LOG_LEVELS",function(i,o,a,r){this.getLogFn=function(n,e){var t="log";switch(e){case a.LOG_GENERIC:t="log";break;case a.LOG_ERROR:t="logError";break;case a.LOG_WARNING:t="logWarning";break;case a.LOG_INFO:t="logInfo";break;case a.LOG_DEBUG:t="logDebug"}var i=this[t]||this.log;return function(e,t){i(e,t,n)}},this.log=function(e,t,n){o.config.currentLogLevel>=r.LOG_VERBOSE&&(n=n?"["+n+"] ":"",o.config.checkMsgLength&&e&&(e=e.substring(0,o.config.msgMaxLength)),t?i.log(n,e,t):i.log(n,e))},this.logError=function(e,t,n){o.config.currentLogLevel>=r.LOG_ERROR&&(n=n?"["+n+"] ":"",o.config.checkMsgLength&&e&&(e=e.substring(0,o.config.msgMaxLength)),i.error(n,e,t))},this.logWarning=function(e,t,n){o.config.currentLogLevel>=r.LOG_WARNING&&(n=n?"["+n+"] ":"",o.config.checkMsgLength&&e&&(e=e.substring(0,o.config.msgMaxLength)),i.warn(n,e,t))},this.logInfo=function(e,t,n){o.config.currentLogLevel>=r.LOG_INFO&&(n=n?"["+n+"] ":"",o.config.checkMsgLength&&e&&(e=e.substring(0,o.config.msgMaxLength)),t?i.info(n,e,t):i.info(n,e))},this.logDebug=function(e,t,n){o.config.currentLogLevel>=r.LOG_DEBUG&&(n=n?"["+n+"] ":"",o.config.checkMsgLength&&e&&(e=e.substring(0,o.config.msgMaxLength)),i.debug(n,e,t))},this.getCurrentLogLevel=function(){return o.config.currentLogLevel},this.setCurrentLogLevel=function(e){o.config.currentLogLevel=e},this.getModuleLogger=function(e){return{log:this.getLogFn(e,a.LOG_GENERIC),logErr:this.getLogFn(e,a.LOG_ERROR),logWarn:this.getLogFn(e,a.LOG_WARNING),logInfo:this.getLogFn(e,a.LOG_INFO),logDebug:this.getLogFn(e,a.LOG_DEBUG)}}}])}(),function(e){!function(e){var i=function(e,t,n){this.errorCode=e,this.errorMessage=t,this.statusCode=n};e.ExecutionError=i,angular.module("siemens.simaticit.common").factory("ExecutionError",function(){return i});var t=function(e,t){this.succeeded=e,this.error=t,this.error=$.extend(new i("",""),t)};e.CommandResponse=t;var n=function(e,t,n){this.succeeded=e,this.error=t,this.SitUafExecutionDetail=n,this.error=$.extend(new i("",""),t),this.executionDetail=n};e.CommandResponseExt=n;var o=function(e){this.precheckdetails=e,this.precheckDetails=e};e.SitUafExecutionDetail=o;var a=function(e){this.executionerror=e,this.Error=e};e.PrecheckDetail=a,angular.module("siemens.simaticit.common").factory("CommandResponse",["ExecutionError",function(e){return t.executionError=e,t}])}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){!function(e){angular.module("siemens.simaticit.common.services.session",[]);var t=function(){function e(){this.config={sessionAuthKey:"SITUAFAuthKey",redirectStateKey:"SITUAFRedirectKey"}}return e.prototype.$get=function(){return{config:this.config}},e}();e.SessionConfig=t,angular.module("siemens.simaticit.common.services.session").provider("common.services.session.config",t);var n=function(){function e(e,t,n){this.$window=e,this.$log=t,this.sessionConfig=n}return e.prototype.get=function(e){return this.$window.sessionStorage.getItem(e)},e.prototype.set=function(e,t){this.$window.sessionStorage.setItem(e,t)},e.prototype.remove=function(e){return null==this.get(e)?(this.$log.info("Session storage key  '"+e+"' not found"),!1):(this.$window.sessionStorage.removeItem(e),!0)},e.prototype.getAuth=function(){var e=this.get(this.sessionConfig.config.sessionAuthKey);return null!==e?JSON.parse(e):null},e.prototype.setAuth=function(e){this.set(this.sessionConfig.config.sessionAuthKey,JSON.stringify(e))},e.prototype.removeAuth=function(){this.remove(this.sessionConfig.config.sessionAuthKey)},e.prototype.getRedirectStateKey=function(){return this.get(this.sessionConfig.config.redirectStateKey)},e.prototype.setRedirectStateKey=function(e){e=e||"",this.set(this.sessionConfig.config.redirectStateKey,e)},e.prototype.setState=function(e){this.set("state",JSON.stringify(e))},e.prototype.getState=function(){return this.get("state")},e.$inject=["$window","$log","common.services.session.config"],e}();e.Session=n,angular.module("siemens.simaticit.common.services.session").service("common.services.session",["$window","$log","common.services.session.config",n])}(e.framework||(e.framework={}))}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.services.layout").provider("common.services.layout.shell",function(){function g(e,t,n,i,o){var a=t.getLocale();o&&-1<o.indexOf(a)||(a="en-US");var r,s=n.notifyUser();if(s&&(r=s["urn:language"]),r){var c=r.split("-");2===c.length&&(r=c[0].toLowerCase()+"-"+c[1].toUpperCase())}return s&&r&&-1<o.indexOf(r)?a=r:i&&i.lang_key&&-1<o.indexOf(i.lang_key)&&(a=i.lang_key),e.logInfo("Set language:",a,"Shell Provider"),t.setLanguage(a)}this.$get=["$rootScope","$location","$window","$q","common.services.logger.service","common.services.globalization.globalizationService","common.services.logger.config","common.services.authentication","$injector","CONFIG",function(d,o,a,r,s,c,m,l,u,p){return{setEnvironment:function(e,t){var n,i,o,a,r,s,c,l=u.get("common").loadSettings();d.isTouchDevice="ontouchstart"in window.document.documentElement,n=m,(i=l)&&0<=i.logLevel&&(n.config.currentLogLevel=i.logLevel),o=t,r=l,s=p,c=((a=d).themes=o)[0],r&&r.theme?c=r.theme:s&&s.theme&&(c="Dark"===s.theme?o[1]:o[0]),a.currentTheme=c},setGlobalization:function(e,t){var n=r.defer(),i=u.get("common").loadSettings();return function(n,i,e,t,o,a){for(var r,s,c=i.defer(),l=[],d="",m=t.location.pathname.split("/"),u=1;u<m.length-1;u++)d+="/"+m[u];return r=d?e.protocol()+"://"+e.host()+":"+e.port()+d+"/":e.protocol()+"://"+e.host()+":"+e.port()+"/",a.loadAppResource(r).then(function(e){for(var t=0;t<n.path.length;t++)s=r+n.path[t].name,o.logInfo("Resource Path:",s,"Shell Provider"),l.push(a.setResourcePath(s,n.path[t].modules));e&&e.forEach(function(e){l.push(a.setResourcePath(e.path,e.modules))}),i.all(l).then(function(){c.resolve()},function(){c.reject()})}),c.promise}(e,r,o,a,s,c).then(function(){g(s,c,l,i,t).then(function(){c.appResourceLoadingSuccess(),n.resolve()},function(){n.reject()})}),n.promise},setDefaultLanguage:function(e,t){return g(s,c,l,t,e)},switchLanguage:function(e){var t;t=e,c.setLanguage(t)}}}]})}(),function(e){!function(e){angular.module("siemens.simaticit.common.services.signalManager",[]),angular.module("siemens.simaticit.common.services.signalManager").provider("common.services.signalManager.AddressConfig",[function(){this.config={},this.$get=function(){return this.config}}]);var t=function(){function e(e,t,n,i,o,a){this.$window=e,this.$log=t,this.$q=n,this.config=i,this.authentication=o,this.ExecutionError=a,this.DEFAULT_HEARTBEAT_FREQUENCY=1e4,this.DEFAULT_HEARTBEAT_TIMEOUT=3e4,this.DEFAULT_RESPONSE_TIMEOUT=3e4,this.MIN_HEARTBEAT_FREQUENCY=2e3,this.MIN_RESPONSE_TIMEOUT=5e3,this.init()}return e.prototype.init=function(){this.connections=[],this.settings={heartbeat:!1,heartbeatFrequency:this.DEFAULT_HEARTBEAT_FREQUENCY,heartbeatTimeout:this.DEFAULT_HEARTBEAT_TIMEOUT,responseTimeout:this.DEFAULT_RESPONSE_TIMEOUT}},e.prototype.configure=function(e){"boolean"==typeof e.heartbeat&&(this.settings.heartbeat=e.heartbeat),e.heartbeatFrequency&&this.isInteger(e.heartbeatFrequency)&&this.isValidValue("HeartbeatFrequency",e.heartbeatFrequency,this.MIN_HEARTBEAT_FREQUENCY)&&(this.settings.heartbeatFrequency=1e3*e.heartbeatFrequency),e.heartbeatTimeout&&this.isInteger(e.heartbeatTimeout)&&this.isValidValue("HeartbeatTimeout",e.heartbeatTimeout,2*this.settings.heartbeatFrequency)&&(this.settings.heartbeatTimeout=1e3*e.heartbeatTimeout),e.responseTimeout&&this.isInteger(e.responseTimeout)&&this.isValidValue("ResponseTimeout",e.responseTimeout,this.MIN_RESPONSE_TIMEOUT)&&(this.settings.responseTimeout=1e3*e.responseTimeout)},e.prototype.isInteger=function(e){if("number"!=typeof e&&e!==Math.floor(e))throw new Error("Provided value : "+e+" is not an integer");return!0},e.prototype.isValidValue=function(e,t,n){if(1e3*t<n)throw new Error("Provided value : "+t+" for  "+e+" should be greater than "+n);return!0},e.prototype.createConnection=function(e,t,n){var i,o,a=this,r=this.$q.defer(),s=0,c=this.connections.length,l=null,d="";for("string"==typeof t?(d=e,i=t,o=n):"function"==typeof t?(i=e,o=t):t||(i=e);s<c;s++)if(this.connections[s].signalApp===d&&!this.connections[s].id&&1===this.connections[s].state()){l=this.connections[s];break}if(l)l.establishConnection(!1,i,o).then(function(){r.resolve(l)},function(e){r.reject(e)});else{var m=new u(this.signalEndPointMetadataUrl,this.authentication,i,o,d,this.settings,this);try{m.connect(!1,d).then(function(){a.connections.push(m),r.resolve(m)},function(e){401===e&&a.authentication.checkAuthentication(),r.reject(e)})}catch(e){this.$log.log(e.message)}}return r.promise},e.prototype.destroyConnection=function(e){var t=this,n=this.$q.defer(),i=_.findWhere(this.connections,{id:e});return i&&i.isActive()?i.unsubscribe().then(function(){i.signalManager.close(),t.removeConnection(e),n.resolve()},function(e){n.reject(e)}):i?(i.signalManager.close(),delete this.connections[e],this.connections.length--,n.resolve()):n.reject("No Connection with id: "+e),n.promise},e.prototype.deleteConnection=function(e){var t=this.$q.defer(),n=_.findWhere(this.connections,{id:e});return n?n.isActive()?n.unsubscribe().then(function(){t.resolve()},function(e){t.reject(e)}):t.reject("No active connection is present"):t.reject("Invalid Id"),t.promise},e.prototype.connect=function(e,t){var n=this,i=this.$q.defer();if(e){for(var o=!1,a=0,r=this.connections.length;a<r;a++)if(this.connections[a].signalApp===e&&1===this.connections[a].state()){o=!0;break}if(o)i.reject("Socket already opened for this app");else{var s=new u(this.signalEndPointMetadataUrl,this.authentication,"",t,e,this.settings,this),c={onConnectionError:t};s.openSocket(!1,e,c).then(function(){n.connections.push(s),i.resolve()},function(e){i.reject(e)})}}else i.reject("Please provide a valid app name");return i.promise},e.prototype.disconnect=function(e){var t=this.$q.defer();if(e){for(var n,i=0,o=this.connections.length;i<o;i++)if(this.connections[i].signalApp===e){n=this.connections[i];break}n?(n.signalManager.close(),this.removeConnection(n.id,n.signalApp),t.resolve()):t.reject("Invalid app - No socket exists for the mentioned app")}else t.reject("No app name provided");return t.promise},e.prototype.onError=function(e){this.$log.log(e)},e.prototype.removeConnection=function(e,t){for(var n=0,i=this.connections.length;n<i;n++){if(e&&this.connections[n].id===e){this.connections.splice(n,1);break}if(t&&this.connections[n].signalApp===t){this.connections.splice(n,1);break}}},e.prototype.onPingTimeoutCbk=function(e){for(var t in this.connections)if(this.connections.hasOwnProperty(t)){var n=this.connections[t];n.signalApp===e&&(n.signalManager.close(),this.connections.splice(t,1))}},e.$inject=["$window","$log","$q","common.services.signalManager.AddressConfig","common.services.ui.authentication","ExecutionError"],e}();e.SignalManagerService=t;var u=function(){function e(e,t,n,i,o,a,r){var s=this;this.state=function(){var e=s.signalManager.getMainCnnState(),t=s.signalManager.getStreamCnnState(),n=null;return 0!==e||0!==t&&1!==t||(n=0),0!==e||2!==t&&3!==t||(n=5),1===e&&0===t&&(n=0),1===e&&1===t&&(n=1),1!==e||2!==t&&3!==t||(n=5),2!==e||0!==t&&1!==t||(n=5),2!==e||2!==t&&3!==t||(n=2),3!==e||0!==t&&1!==t||(n=5),3!==e||2!==t&&3!==t||(n=3),n},this.onNext=function(e){s.onMessage(e)},this.onError=function(e){3===s.state()||5===s.state()&&s.onConnectionError instanceof Function?(s.lastError=new s.ExecutionError("-1","Connection Error"),s.onConnectionError(s,e)):s.onMessageError()},this.onCompleted=function(){s.onMessageComplete()},this.pingTimeoutCbk=function(){s.lastError=new s.ExecutionError("-2","Response Timeout");s.parent.onPingTimeoutCbk(s.signalApp),s.onConnectionError(s,{reason:"Response Timeout",code:"-2"})},this.$q=r.$q,this.$window=r.$window,this.ExecutionError=r.ExecutionError,this.$log=r.$log,this.parent=r,this.signalEndPointMetadataUrl=e,this.name=n,this.onConnectionError=i,this.authentication=t,this.signalApp=o,this.settings=a,this.activeTimeoutCount=0}return e.prototype.isActive=function(){return 1===this.state()&&this.signalManager.isSubscribed},e.prototype.connect=function(e,t){var n=this,i=this.$q.defer();this.signalManager=new this.$window.SIT.SignalManager(this.$q);var o=this.authentication.getToken();o&&o.claimToSend||i.reject("No Valid Token");var a=this.setTimeout(i,this.settings.responseTimeout);return this.signalManager.init(o.claimToSend,"/sit-svc/config",t).then(function(){n.activeTimeoutCount<1?n.signalManager.close():(n.clearTimeout(a),n.establishConnection(e,n.name,n.onConnectionError).then(function(){i.resolve()}))},function(){n.clearTimeout(a),n.lastError=new n.ExecutionError("-1","Connection Error");var e={reason:"Connection Error",code:"-1"};n.onConnectionError(n,e),i.reject(e)}),i.promise},e.prototype.establishConnection=function(e,t,n){var i=this,o=this.$q.defer(),a=this.setTimeout(o,this.settings.responseTimeout);return this.onConnectionError=n,this.name=t,this.signalManager.open(t,this.onNext,this.onError,this.onCompleted,e,"").then(function(){i.activeTimeoutCount<1||(i.clearTimeout(a),i.id=i.signalManager.clientId,i.settings.heartbeat?i.startHeartBeat(o):o.resolve())},function(e){i.clearTimeout(a),o.reject(e)}),o.promise},e.prototype.openSocket=function(e,t,n){var i=this,o=this.$q.defer(),a=this.setTimeout(o,this.settings.responseTimeout);this.signalManager=new this.$window.SIT.SignalManager(this.$q);var r=this.authentication.getToken();return r&&r.claimToSend?this.signalManager.init(r.claimToSend,"/sit-svc/config",t,n).then(function(){i.activeTimeoutCount<1?i.signalManager.close():(i.clearTimeout(a),o.resolve())},function(){i.clearTimeout(a),i.lastError=new i.ExecutionError("-1","Connection Error");var e={reason:"Connection Error",code:"-1"};i.onConnectionError(i,e),o.reject(e)}):o.reject("No Valid Token"),o.promise},e.prototype.startHeartBeat=function(e){var t=this,n=this.setTimeout(e,this.settings.responseTimeout);this.signalManager.setHeartBeat(this.settings,this.pingTimeoutCbk).then(function(){t.clearTimeout(n),e.resolve(t)},function(){t.clearTimeout(n),t.lastError=new t.ExecutionError("-3","Heartbeat not supported"),e.resolve(t)})},e.prototype.clearTimeout=function(e){0<this.activeTimeoutCount&&(clearTimeout(e),this.activeTimeoutCount--)},e.prototype.subscribe=function(e,t,n,i){var o=this,a=this.$q.defer();if(1!==this.state()||this.signalManager.isSubscribed)this.state()?a.reject("SignalConnection already subscribed"):a.reject("Connection is not active");else{this.options=e,this.onMessage=t,this.onMessageError=n,this.onMessageComplete=i;var r=this.setTimeout(a,this.settings.responseTimeout);this.signalManager.subscribe(e).then(function(e){o.activeTimeoutCount<1?o.signalManager.unsubscribe():(o.clearTimeout(r),e.Result?a.resolve(o):a.reject(e.Reason))},function(e){o.clearTimeout(r),a.reject(e)})}return a.promise},e.prototype.unsubscribe=function(){var t=this,n=this.$q.defer(),i=this.setTimeout(n,this.settings.responseTimeout);return this.signalManager.unsubscribe().then(function(e){t.clearTimeout(i),e.Result?n.resolve(t):n.reject(e.Reason)},function(e){t.clearTimeout(i),n.reject(e)}),n.promise},e.prototype.reconnect=function(){var e=this,t=this.$q.defer();return this.connect(!0,this.signalApp).then(function(){e.settings.heartbeat?e.startHeartBeat(t):t.resolve(e)},function(e){t.reject(e)}),t.promise},e.prototype.setTimeout=function(e,t){var n=this;return this.activeTimeoutCount++,setTimeout(function(){0<n.activeTimeoutCount&&n.activeTimeoutCount--,n.lastError=new n.ExecutionError("-2","Response Timeout");n.onConnectionError(n,{reason:"Response Timeout",code:"-2"}),e&&e.reject("Response Timeout")},t)},e}();angular.module("siemens.simaticit.common.services.signalManager").service("common.services.signalManager",t)}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){!function(c){var l=function(e,t){this._id=e,this._name=t,this.id=e,this.name=t};c.Process=l;var e=function(){function e(e,t,n,i){this.$window=e,this.$rootScope=t,this.$interval=n,this.$log=i,this.queue=[]}return e.prototype.start=function(e,t,n,i,o){var a=this,r=c.Utils.generateUUID(),s=new l(r,e);return s.method=this.$interval(function(){try{void 0!==n&&n(),!0===i&&a.stop(r)}catch(e){a.$log.log("exception: "+e),a.stop(r)}},t,!0===i?1:0,!1!==o),this.queue.push(s),r},e.prototype.stop=function(e){for(var t,n=-1,i=0;i<this.queue.length;i++)if(this.queue[i].id===e){t=this.queue[i],n=i;break}-1<n&&(this.$interval.cancel(t.method),this.queue.splice(n,1))},e.prototype.stopAll=function(){for(var e=this.queue.length-1;0<=e;e--)this.$interval.cancel(this.queue[e].method),this.queue.splice(e,1)},e.$inject=["$window","$rootScope","$interval","$log"],e}();c.Timer=e,angular.module("siemens.simaticit.common.services.timer",[]).service("common.services.timer",["$window","$rootScope","$interval","$log",e])}(e.framework||(e.framework={}))}(sit||(sit={})),function(e){!function(e){angular.module("siemens.simaticit.common.services.umc").provider("common.services.umc.config",[function(){this.config={identityProviderUrl:""},this.$get=function(){return{config:this.config}}}]);var t=function(){function e(e,t,n,i){this.$window=e,this.$rootScope=t,this.$log=n,this.umcConfig=i,void 0!==this.$window.UmcWebSSO?(0<i.config.identityProviderUrl.length&&(this.WebSSO=this.$window.UmcWebSSO(i.config.identityProviderUrl)),this.claims=null):n.error("UmcWebSSO is unavailable")}return e.prototype.UMCClaimsFromOAuthClaims=function(e){this.claims={session:e.session,sessionrenewal:e.sessionrenewal}},e.prototype.init=function(e){void 0===this.WebSSO&&void 0!==e&&(this.WebSSO=this.$window.UmcWebSSO(e))},e.prototype.renew=function(e){return this.WebSSO.init(e),this.WebSSO.beginRenew()},e.prototype.logout=function(e){return this.WebSSO.init(e),this.WebSSO.beginLogout()},e.$inject=["$window","$rootScope","$log","common.services.umc.config"],e}();e.UMCService=t,angular.module("siemens.simaticit.common.services.umc").service("common.services.umc",["$window","$rootScope","$log","common.services.umc.config",t])}(e.framework||(e.framework={}))}(sit||(sit={})),function(){"use strict";angular.module("siemens.simaticit.common.base").provider("common.base.unityInterceptorConfig",[function(){this.config={customHeaders:{}},this.$get=function(){return{config:this.config,authTokenHeader:"Authorization"}}}]),angular.module("siemens.simaticit.common.base").service("common.base.unityInterceptorService",["$q","common.services.logger.service","common.base.unityInterceptorConfig","LOG_TYPES","common.services.ui.authentication","common.services.authentication.config","common.services.swac.SwacUiModuleManager",function(n,t,i,o,a,r,s){this.request=function(e){var t=a.getToken();$.extend(e.headers,i.config.customHeaders),t&&e.url!==r.config.identityProviderUrl&&(e.headers[i.authTokenHeader]=t.claimToSend);r.config.enableAuthentication||(e.headers[i.authTokenHeader]="Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIzMSIsInVuaXF1ZV9uYW1lIjoiaGFyYWxkIiwidXJuOnNlc3Npb24iOiJuZ2RxNDBjcnd6ejN4dml2aXVmd3V1Z2UiLCJ1cm46bGFuZ3VhZ2UiOiJVUyIsInVybjpncm91cCI6WyIxfERldmVsb3BlciJdLCJ1cm46b2F1dGg6c2NvcGUiOiJyZWFkIiwidXJuOnJlYWxtIjoidGVzdCIsImlzcyI6InVybjp1bml0eW9hdXRoIiwiYXVkIjoidXJuOnVuaXR5IiwiZXhwIjoxNDUwMzY4MDIzLCJuYmYiOjE0MTg4MzIwMjN9.nFAnYNQ_hrFko2mq08jZW--t_7DiZrvYffXuuIX1uWk");return e||n.when(e)},this.response=function(e){return e||n.when(e)},this.responseError=function(e){switch(t.getLogFn("UNITY",o.LOG_WARNING)("httpResponse Error",e),e.status){case 401:r.config.enableAuthentication&&(s.enabled?s.eventBusServicePromise.promise.then(function(e){e.publish("sessionLogoutComponent",{success:!0})}):a.login())}return n.reject(e)},this.requestError=function(e){t.getLogFn("UNITY",o.LOG_WARNING)("httpRequest Error",e)}}])}();"use strict";function getDocuments(e){return[{title:"Documentation Center",description:"Click here to go to the documentation center",properties:[{name:"Property one",value:"This is the first property"},{name:"Property two",value:"This is the second property"}],link:e.documentationCenterUrl}]}function getAreas(){return[{title:"Examples",image:"fa-cogs"}]}!function(e){e.framework||(e.framework={}),angular.module("siemens.simaticit.common.services.swac",[])}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function n(){}return n.serviceRegistered=!1,n.serviceList={},n.addService=function(e,t){return n.serviceList[e]=t},n.registerSWACService=function(){Object.getOwnPropertyNames(n.serviceList).forEach(function(e){return SWAC.Services.register(e,n.serviceList[e])}),n.serviceRegistered=!0},n.getServiceInstace=function(e){return n.serviceList.hasOwnProperty(e)?n.serviceList[e]:null},n.getNGAppInjector=function(){return void 0===n.injector&&(n.injector=angular.element(window.document).injector()),n.injector},n.runRootScopeDigest=function(){n.injector.get("$rootScope").$digest()},n}(),t.SWACServiceManager=n}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){var n=this;this.getBusyService=function(){return void 0===n.busyService&&(n.busyService=t.SWACServiceManager.getNGAppInjector().get("common.widgets.busyIndicator.service")),n.busyService},this.show=function(e){var t={message:e};n.getBusyService().show(t)},this.hide=function(){n.getBusyService().hide()},this.onBusyEvent=new SWAC.Eventing.Event("onBusyEvent")},t.Busy=n,t.SWACServiceManager.addService("MOM.UI.Busy",new n)}(sit||(sit={})),function(e){var c,t;c=e.framework||(e.framework={}),t=function(){var s=this;this.getConfirmationService=function(){return void 0===s.confirmationService&&(s.confirmationService=c.SWACServiceManager.getNGAppInjector().get("common.widgets.messageOverlay.service")),s.confirmationService},this.show=function(e,t,n){var i,o,a=new SWAC.Defer;if(n.buttons)for(o=n.buttons.length,i=0;i<o;i++)!function(e){n.buttons[e].onClickCallback=function(){s.getConfirmationService().hide(),a.fulfill({buttonId:n.buttons[e].id})}}(i);else n.buttons=[{id:"cancel",displayName:"Cancel",onClickCallback:function(){s.getConfirmationService().hide(),a.fulfill({buttonId:"cancel"})}},{id:"ok",displayName:"OK",onClickCallback:function(){s.getConfirmationService().hide(),a.fulfill({buttonId:"ok"})}}];var r={text:t,title:e,buttons:n.buttons};return s.getConfirmationService().set(r),s.getConfirmationService().show(),c.SWACServiceManager.runRootScopeDigest(),a.promise},this.hide=function(){var e=new SWAC.Defer;return s.getConfirmationService().hide(),c.SWACServiceManager.runRootScopeDigest(),e.promise},this.onConfirmationEvent=new SWAC.Eventing.Event("onConfirmationEvent")},c.Confirmation=t,c.SWACServiceManager.addService("MOM.UI.Confirmation",new t)}(sit||(sit={})),function(e){var a,t;a=e.framework||(e.framework={}),t=function(){var o=this;this.getErrorService=function(){return void 0===o.errorService&&(o.errorService=a.SWACServiceManager.getNGAppInjector().get("common.widgets.messageOverlay.service")),o.errorService},this.show=function(e,t){var n=new SWAC.Defer,i={text:t,title:e,buttons:[{id:"ok",displayName:"OK",onClickCallback:function(){o.getErrorService().hide(),n.fulfill({buttonId:"ok",data:"acknowledged"})}}]};return o.getErrorService().set(i),o.getErrorService().show(),a.SWACServiceManager.runRootScopeDigest(),n.promise},this.onErrorEvent=new SWAC.Eventing.Event("onErrorEvent")},a.SWACError=t,a.SWACServiceManager.addService("MOM.UI.Error",new t)}(sit||(sit={})),function(e){var a,t;a=e.framework||(e.framework={}),t=function(){var o=this;this.getDialogFormService=function(){return void 0===o.dialogService&&(o.dialogService=a.SWACServiceManager.getNGAppInjector().get("common.widgets.globalDialog.service")),o.dialogService},this.getSidePanelFormService=function(){return void 0===o.sidepanelService&&(o.sidepanelService=a.SWACServiceManager.getNGAppInjector().get("common.services.sidePanel.service")),o.sidepanelService},this.show=function(e,t,n){if("sidepanel"===n.formType)o.getSidePanelFormService().setTitle(e),o.getSidePanelFormService().open("e"),a.SWACServiceManager.runRootScopeDigest(),void 0===SWAC.Container.get({name:"sidepanelFormComponent"})?o.createFormComponent(t,n.formType):SWAC.Container.get({name:"sidepanelFormComponent"}).beginShow(!0);else{var i={title:e,templatedata:"",templateuri:"template/swac/swac-uaf-form.html",buttons:{}};o.getDialogFormService().set(i),o.getDialogFormService().show(),a.SWACServiceManager.runRootScopeDigest(),void 0===SWAC.Container.get({name:"dialogFormComponent"})?o.createFormComponent(t,"dialog"):SWAC.Container.get({name:"dialogFormComponent"}).beginShow(!0)}},this.createFormComponent=function(e,t){var n;"dialog"===t?n=document.getElementById("swac-form-body"):(n=document.getElementById("side-panel-swac"),e.top=void 0!==e.top?e.top:"100px"),null!=n&&(n.style.height=e.height,n.style.width=e.width),SWAC.Container.beginCreate([{name:t+"FormComponent",source:e.url,parent:n,settings:{width:e.width,height:e.height,left:e.left,top:e.top,flavor:"ui"}}]).then(function(e){window.console.log("Form Component successfully created"),o.formType=t},function(e){window.console.log("Form component could be not created")})},this.submit=function(e){o.onFormEvent.fire({name:"dialogFormData",data:e}),"dialog"===o.formType?(o.getDialogFormService().hide(),SWAC.Container.get({name:"dialogFormComponent"}).beginShow(!1)):(o.getSidePanelFormService().close(),a.SWACServiceManager.runRootScopeDigest(),SWAC.Container.get({name:"sidepanelFormComponent"}).beginShow(!1))},this.cancel=function(){"dialog"===o.formType?(o.getDialogFormService().hide(),SWAC.Container.get({name:"dialogFormComponent"}).beginShow(!1)):(o.getSidePanelFormService().close(),a.SWACServiceManager.runRootScopeDigest(),SWAC.Container.get({name:"sidepanelFormComponent"}).beginShow(!1))},this.onFormEvent=new SWAC.Eventing.Event("onFormEvent"),this.formType="sidepanel"},a.Form=t,a.SWACServiceManager.addService("MOM.UI.Form",new t)}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){var n=this;this.getI18nService=function(){return void 0===n.i18nService&&(n.i18nService=t.SWACServiceManager.getNGAppInjector().get("common.services.globalization.globalizationService")),n.i18nService},this.setLocale=function(e,t){n.getI18nService().setLanguage(e)},this.getLocale=function(){return n.getI18nService().getLocale()},this.onI18nEvent=new SWAC.Eventing.Event("onI18nEvent")},t.I18n=n,t.SWACServiceManager.addService("MOM.UI.I18n",new n)}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){var i=this;this.getNavigationService=function(){return void 0===i.navigationService&&(i.navigationService=t.SWACServiceManager.getNGAppInjector().get("$state")),i.navigationService},this.navigate=function(e,t,n){return i.getNavigationService().go(e,t,n)},this.onNavigationEvent=new SWAC.Eventing.Event("onNavigationEvent")},t.Navigation=n,t.SWACServiceManager.addService("MOM.UI.Navigation",new n)}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){var e=this;this.getNerveboxService=function(){return void 0===e.nerveboxService&&(e.nerveboxService=t.SWACServiceManager.getNGAppInjector().get("common.widgets.nerveboxService")),e.nerveboxService},this.show=function(){e.nerveboxService().show()},this.hide=function(){e.nerveboxService().hide()}},t.Nervebox=n,SWAC.Services.register("Nervebox",new n),t.SWACServiceManager.addService("sit.Nervebox",new n)}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){var i=this;this.getNotificationService=function(){return void 0===i.notificationService&&(i.notificationService=t.SWACServiceManager.getNGAppInjector().get("common.widgets.notificationTile.globalService")),i.notificationService},this.show=function(e,t,n){i.getNotificationService().setTileOptions({title:e}),"warning"===n.notifyType?i.getNotificationService().warning(t):i.getNotificationService().info(t)},this.onNotificationEvent=new SWAC.Eventing.Event("onNotificationEvent")},t.NotificationService=n,t.SWACServiceManager.addService("MOM.UI.Notification",new n)}(sit||(sit={})),function(e){var o,t;o=e.framework||(e.framework={}),t=function(){var i=this;this.getBackendApi=function(){return void 0===i.backendService&&(i.backendService=o.SWACServiceManager.getNGAppInjector().get("common.services.runtime.backendService")),i.backendService},this.invoke=function(e){return i.getBackendApi().invoke(e)},this.findAll=function(e){return i.getBackendApi().findAll(e)},this.read=function(e){return i.getBackendApi().findAll(e)},this.subscribe=function(t){return t.onMessage=function(e){i.onMessage.fire({app:t.appName,signal:t.signalName,signalData:e})},t.onSubscriptionError=function(){i.onSubscriptionError.fire({app:t.appName,signal:t.signalName})},t.onComplete=function(){i.onComplete.fire({app:t.appName,signal:t.signalName})},i.getBackendApi().subscribe(t)},this.unsubscribe=function(e,t){return i.getBackendApi().unsubscribe(e,t)},this.reconnectSignals=function(e){return i.getBackendApi().reconnectSignals(e)},this.backendError=function(e){i.getBackendApi().backendError(e),o.SWACServiceManager.runRootScopeDigest()},this.genericError=function(e,t){i.getBackendApi().genericError(e,t),o.SWACServiceManager.runRootScopeDigest()},this.connectSignals=function(e){return i.getBackendApi().connectSignals(e,function(){i.onConnectionError.fire({app:e})})},this.disconnectSignals=function(e){return i.getBackendApi().disconnectSignals(e)},this.getCount=function(e){return i.getBackendApi().getCount(e)},this.confirm=function(e,t){var n=new SWAC.Defer;return i.getBackendApi().confirm(e,function(e){n.fulfill({isConfirmed:!0})},t),o.SWACServiceManager.runRootScopeDigest(),n.promise},this.onSitUIBackendEvent=new SWAC.Eventing.Event("onSitUIBackendEvent"),this.onConnectionError=new SWAC.Eventing.Event("onConnectionError"),this.onMessage=new SWAC.Eventing.Event("onMessage"),this.onSubscriptionError=new SWAC.Eventing.Event("onSubscriptionError"),this.onComplete=new SWAC.Eventing.Event("onComplete")},o.Backend=t,o.SWACServiceManager.addService("SIT.UI.Backend",new t)}(sit||(sit={})),function(e){var o,t;o=e.framework||(e.framework={}),t=function(){var i=this;this.getThemeService=function(){return void 0===i.themeService&&(i.themeService=o.SWACServiceManager.getNGAppInjector().get("$rootScope")),i.themeService},this.set=function(e,t){var n={id:e,name:t.name,styleSheets:[t.styleSheets]};i.getThemeService().currentTheme=n,o.SWACServiceManager.runRootScopeDigest()},this.get=function(){return i.getThemeService().currentTheme},this.onThemeEvent=new SWAC.Eventing.Event("onThemeEvent")},o.Theme=t,o.SWACServiceManager.addService("MOM.UI.Theme",new t)}(sit||(sit={})),function(e){var o,t;o=e.framework||(e.framework={}),t=function(){function e(e,t,n,i,o,a,r,s){var c=this;this.$window=e,this.$injector=t,this.$timeout=n,this.$rootScope=i,this.$log=o,this.$q=a,this.authentication=r,this.swacComponentService=s,this.defaultBind=function(e){c.swacComponent.root=e;var t=c;c.swacComponent.root.onValueChanged.subscribe(function(e){t.swacComponent.bind&&t.swacComponent.bind(e.data)})},this.initSwac(e,o)&&this.init()}return e.prototype.initSwac=function(e,t){return void 0===e.SWACBoot?(t.error("SWACBoot is unavailable"),!1):void 0===e.SWAC?(t.error("SWACBoot is unavailable"),!1):(this.SWACBoot=e.SWACBoot,this.themeServicePromise=new SWAC.Defer,this.busyServicePromise=new SWAC.Defer,this.confirmationServicePromise=new SWAC.Defer,this.errorServicePromise=new SWAC.Defer,this.warningServicePromise=new SWAC.Defer,this.i18NServicePromise=new SWAC.Defer,this.navigationServicePromise=new SWAC.Defer,this.notificationServicePromise=new SWAC.Defer,this.contextServicePromise=new SWAC.Defer,this.eventBusServicePromise=new SWAC.Defer,this.SWAC=e.SWAC,!0)},e.prototype.registerServices=function(){o.SWACServiceManager.registerSWACService(),this.swacComponentService.setServiceReady()},e.prototype.init=function(){if(this.enabled=!1,this.swacStartCalled=!1,this.containerPrefix="internal_",this.$window.document)for(var e=this.$window.document.getElementsByTagName("head")[0].attributes,t=0;t<e.length;t++)if("swac"===e[t].nodeName){this.enabled=!0;break}this.enabled||this.registerServices(),this.bootComplete=!1,this.waitingForExpose=!1},e.prototype.startComponent=function(){var n=this.$q.defer(),i=this;if(!this.authentication.isAuthorized()){var e=this.swacComponent?this.swacComponent.name:"NO COMPONENT NAME";return this.$log.error("Error: Called startComponent but not authorized:"+e),this.$q.reject("No Auth")}return this.$log.log("Swac Component Manager: startComponent"),this.swacStartCalled||(this.swacStartCalled=!0,this.$log.log("Swac Component Manager: SWACBoot Start"),this.SWACBoot.start(function(e){var t=i.swacComponent?i.swacComponent.name:"NO COMPONENT NAME";i.$log.log("Success: "+e.message+"CMP: "+t),i.bootComplete=!0,n.resolve(e)},function(e){var t=i.swacComponent?i.swacComponent.name:"NO COMPONENT NAME";i.bootComplete=!1,i.$log.error("Error:"+e.message+" - BOOTSTRAPPER ERROR:\n:"+t),n.reject(e)},"*","no",3e4)),n.promise},e.prototype.exposeComponent=function(){var n=this,i=this.$q.defer();return this.startComponent().then(function(){if(!n.bootComplete||!n.waitingForExpose)return n.$log.error("ExposeComponent: Promise StartComponent Resolved but or not BoootComplete or not waitingForExpose: "+n.swacComponent.interface),void i.reject();var t=new n.SWAC.Hub(n.swacComponent.interface);t.beginExpose().then(function(){var e=[];n.$log.log("Successfully exposed component: "+n.swacComponent.name),e.push(t.services.beginGet("MOM.UI.Busy").then(function(e){n.busyServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Busy",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Busy");t?n.busyServicePromise.fulfill(t):n.busyServicePromise.reject()})),e.push(t.services.beginGet("MOM.UI.Confirmation").then(function(e){n.confirmationServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Confirmation",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Confirmation");t?n.confirmationServicePromise.fulfill(t):n.confirmationServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.Context").then(function(e){n.contextServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Context",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Context");t?n.contextServicePromise.fulfill(t):n.contextServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.EventBus").then(function(e){n.eventBusServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.EventBus",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.EventBus");t?n.eventBusServicePromise.fulfill(t):n.eventBusServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.Error").then(function(e){n.errorServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Error",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Error");t?n.errorServicePromise.fulfill(t):n.errorServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.Warning").then(function(e){n.warningServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Warning",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Warning");t?n.warningServicePromise.fulfill(t):n.warningServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.I18n").then(function(e){n.i18NServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.I18n",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.I18n");t?n.i18NServicePromise.fulfill(t):n.i18NServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.Navigation").then(function(e){n.navigationServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Navigation",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Navigation");t?n.navigationServicePromise.fulfill(t):n.navigationServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.Notification").then(function(e){n.notificationServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Notification",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Notification");t?n.notificationServicePromise.fulfill(t):n.notificationServicePromise.reject(e)})),e.push(t.services.beginGet("MOM.UI.Theme").then(function(e){n.themeServicePromise.fulfill(e),o.SWACServiceManager.addService("MOM.UI.Theme",e)},function(e){var t=o.SWACServiceManager.getServiceInstace("MOM.UI.Theme");t?n.themeServicePromise.fulfill(t):n.themeServicePromise.reject(e)})),SWAC.Promise.all(e).then(function(){return n.registerServices()},function(){return n.registerServices()}),i.resolve()},function(){n.$log.error("swacHub failed to expose component: "+n.swacComponent.name),n.registerServices(),i.reject()})},function(){n.$log.error("ExposeComponent: failed startComponent promise: "+n.swacComponent.name),n.registerServices(),i.reject()}),i.promise},e.prototype.create=function(e){var n=this;if(!this.enabled)return this;if(!e)throw new Error("Component name not provided");return this.swacComponent={name:e,interface:{interfaces:{"MOM.UI.Themable":{setTheme:function(e){var t=new SWAC.Defer;"string"==typeof e?0<e.toLowerCase().search("light")?n.$rootScope.currentTheme={id:0,name:"Light",styleSheets:["common/styles/common-light.css"]}:n.$rootScope.currentTheme={id:1,name:"Dark",styleSheets:["common/styles/common-dark.css"]}:n.$rootScope.currentTheme=e,n.$rootScope.$apply(),t.fulfill()},getTheme:function(){var e=new SWAC.Defer,t=n.$injector.get("$rootScope").currentTheme;return e.fulfill(t),e.promise}},"MOM.UI.Localizable":{setLocale:function(e){var t=new SWAC.Defer;n.$window.moment.locale(e),n.$injector.get("$translate").use(e),t.fulfill()},getLocale:function(){var e=new SWAC.Defer,t=n.$injector.get("common.services.globalization.globalizationService");return n.$timeout(function(){e.fulfill(t.getLocale())},1e3),e.promise}},"MOM.UI.Navigable":{navigateTo:function(e){var t=new SWAC.Defer;n.$window.location.href=e,t.fulfill()},navigateToState:function(e){var t=new SWAC.Defer;n.$injector.get("$state").go(e),t.fulfill()},getLocation:function(){(new SWAC.Defer).fulfill(n.$window.location)}}},dpc:{structure:[],bind:this.defaultBind}}},this},e.prototype.expose=function(){if(this.enabled){if(!this.swacComponent)throw new Error("Component not created");return this.waitingForExpose=!0,this.exposeComponent()}},e.$inject=["$window","$injector","$timeout","$rootScope","$log","$q","common.services.authentication","common.services.component.swacComponentService"],e}(),o.SwacUiModuleManager=t,angular.module("siemens.simaticit.common.services.swac").service("common.services.swac.SwacUiModuleManager",t)}(sit||(sit={})),function(e){var a,t;a=e.framework||(e.framework={}),t=function(){var o=this;this.getWarningService=function(){return void 0===o.warningService&&(o.warningService=a.SWACServiceManager.getNGAppInjector().get("common.widgets.messageOverlay.service")),o.warningService},this.show=function(e,t){var n=new SWAC.Defer,i={text:t,title:e,buttons:[{id:"ok",displayName:"OK",onClickCallback:function(){o.getWarningService().hide(),n.fulfill({buttonId:"ok",data:"acknowledged"})}}]};return o.getWarningService().set(i),o.getWarningService().show(),a.SWACServiceManager.runRootScopeDigest(),n.promise},this.onWarningEvent=new SWAC.Eventing.Event("onWarningEvent")},a.SWACWarning=t,a.SWACServiceManager.addService("MOM.UI.Warning",new t)}(sit||(sit={})),angular.module("siemens.simaticit.common.services.tagsManager",[]),function(){function e(e,t,r,s,n,i){var o=this;o._backendService=e.services.runtime.backendService,o._entityName=null,o._appName=null,o._entyInfo={};var a=function(){return n.isDataSegregationEnabled()};return{executeQuery:c,getAvailableTags:function(){return i.read({appName:"DataSegregation",functionName:"GetSessionSegregationTags",params:{},options:""}).then(function(e){return e})},getSegregationTagColor:function(e){return c("$filter=Name eq '"+e+"'","SegregationTag","DataSegregation").then(function(e){return e&&e.value&&0<e.value.length?e.value[0].Color:null})},setEntityName:function(e){o._entityName=e},setAppName:function(e){o._appName=e},setEntityInfo:function(e){o._entyInfo=e},getSegregationTags:function(e,t){var n="$filter=Id eq '"+e+"'&$expand=SegregationTags";return"number"!==t&&1!=(null!=/[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/i.exec(e))||(n="$filter=Id eq "+e+"&$expand=SegregationTags"),c(n,o._entityName,o._appName)},setSegregationTags:function(e,t){return function(e,t){var n={appName:"DataSegregation"};n.commandName=e,n.params=t;var i=o._backendService.invoke(n);return i.catch(o._backendService.backendError),i}("ReplaceSegregationTagAssociation",{EntityId:e,SegregationTags:t,EntityInfo:o._entyInfo})},isDataSegregationEnabled:a,getAppsMetadata:function(e,t,n){l("/sit-svc/application/$meta/apps",[{name:"Authorization",value:""}],n).then(e,t)},getAppMetadata:function(e,t,n,i){l("/sit-svc/application/$meta/apps/"+e,[{name:"Authorization",value:""}],i).then(t,n)},getCompositionInfo:function(e,t){var n={appName:"DataSegregation",functionName:"GetEntityMetadata",params:{PublicModelEntityShortName:t,AppShortName:e},options:""};return i.read(n)},getTagsStyle:function(e){_.each(e,function(e,t){var n,i,o,a,r,s,c,l,d;e.ShortName=angular.copy(e.Name),10<e.Name.length&&(e.ShortName=e.ShortName.substring(0,10)+"..."),e.style=(i=void 0!==(n=e).Color&&null!=n.Color&&""!==n.Color,a=i,r=n.Color,o=a?((d=r).match(/^rgb/)?(d=d.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),s=d[1],l=d[2],c=d[3]):(d=+("0x"+d.slice(1).replace(d.length<5&&/./g,"$&$&")),s=d>>16,l=d>>8&255,c=255&d),160<Math.sqrt(s*s*.2126+l*l*.7152+c*c*.0772)?"#464646":"#FFFFFF"):"#FFFFFF",i?{backgroundColor:n.Color,color:o}:{backgroundColor:"#3296b9",color:o})})}};function c(e,t,n){var i={};return i.appName=void 0!==n?n:o._appName,i.entityName=void 0!==t?t:o._entityName,i.options=e,o._backendService.findAll(i).catch(o._backendService.backendError)}function l(e,t,n){if(void 0!==n&&!0===n){var i=e.indexOf("?");e+=-1===i?"?_="+(new Date).getTime():"&_="+(new Date).getTime()}return function(e,t,n){var i=r.defer(),o={};if(n)for(var a=0;a<n.length;a++)o[n[a].name]=n[a].value;return s({method:e,url:t,headers:o}).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}("GET",e,t)}}angular.module("siemens.simaticit.common.services.tagsManager").service("common.services.tagsManager.tagsManagementService",e),e.$inject=["common.base","common.services.authentication","$q","$http","common.services.runtime.systemConfigurationService","common.services.runtime.backendService"]}(),angular.module("siemens.simaticit.common").config(["common.services.administration.DataConfigProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.administrationDataConfigProvider&&"/"!==i.administrationDataConfigProvider.slice(-1)&&(i.administrationDataConfigProvider+="/"),e.config.oDataServiceURI=i.administrationServicesUrl}]),function(){var e=angular.module("siemens.simaticit.common");e.config(["$httpProvider",function(e){e.interceptors.push("siemens.simaticit.authHttpResponseInterceptor")}]),e.factory("siemens.simaticit.authHttpResponseInterceptor",["$q",function(t){var n=!1;return{isAuthPending:function(){return n},response:function(e){return 401===e.status&&(n=!0),e||t.when(e)},responseError:function(e){return 401===e.status&&(n=!0),t.reject(e)}}}]),e.config(["$provide",function(e){e.decorator("common.overlay.overlayService",["$delegate","$injector","$filter","common.widgets.busyIndicator.service",function(e,t,n,i){var o=e.showOverlayModal,a=t.get("siemens.simaticit.authHttpResponseInterceptor");return e.showOverlayModal=function(){if(a.isAuthPending()){i.hide();var e=n("translate")("common.busy-message.please-wait");i.show({message:e})}else{var t=[].slice.call(arguments);try{o.apply&&o.apply(null,t)}catch(e){}}},e}])}])}(),function(){var e=angular.module("siemens.simaticit.common");e.config(["common.services.authentication.configProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.authorizationServiceUrl&&"/"===i.authorizationServiceUrl.slice(-1)&&(i.authorizationServiceUrl=i.authorizationServiceUrl.substring(0,i.authorizationServiceUrl.length-1)),i.identityProviderUrl&&"/"===i.identityProviderUrl.slice(-1)&&(i.identityProviderUrl=i.identityProviderUrl.substring(0,i.identityProviderUrl.length-1)),i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),i.home&&(e.config.homeRoute=i.home),e.config.authorizationServiceUrl=i.authorizationServiceUrl?i.authorizationServiceUrl:"",e.config.identityProviderUrl=i.identityProviderUrl?i.identityProviderUrl:"",e.config.enableAuthentication="boolean"!=typeof i.enableAuthentication||i.enableAuthentication,e.config.oDataServiceURI=i.engineeringServicesUrl?i.engineeringServicesUrl:""}]),e.config(["common.services.data.authentication.configProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl?i.engineeringServicesUrl:""}]),e.config(["common.services.authentication.configProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.authorizationServiceUrl&&"/"===i.authorizationServiceUrl.slice(-1)&&(i.authorizationServiceUrl=i.authorizationServiceUrl.substring(0,i.authorizationServiceUrl.length-1)),i.identityProviderUrl&&"/"===i.identityProviderUrl.slice(-1)&&(i.identityProviderUrl=i.identityProviderUrl.substring(0,i.identityProviderUrl.length-1)),i.home&&(e.config.homeRoute=i.home),e.config.authorizationServiceUrl=i.authorizationServiceUrl?i.authorizationServiceUrl:"",e.config.enableAuthentication="boolean"!=typeof i.enableAuthentication||i.enableAuthentication}])}(),angular.module("siemens.simaticit.common").config(["common.services.runtime.DataConfigProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.runtimeServicesUrl&&"/"!==i.runtimeServicesUrl.slice(-1)&&(i.runtimeServicesUrl+="/"),e.config.oDataServiceURI=i.runtimeServicesUrl,e.config.applicationServiceUrls=i.applicationServiceUrls,e.config.applicationArchivingServiceUrls=i.applicationArchivingServiceUrls}]),angular.module("siemens.simaticit.common").config(["common.services.runtime.BusinessDataConfigProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl}]),angular.module("siemens.simaticit.common").config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}]),angular.module("siemens.simaticit.common").config(["common.services.documentation.configProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.documentationServicesUrl&&"/"!==i.documentationServicesUrl.slice(-1)&&(i.documentationServicesUrl+="/"),e.config.oDataServiceURI=i.documentationServicesUrl?i.documentationServicesUrl:"",e.config.docCenterUiUrl=i.documentationCenterUrl?i.documentationCenterUrl:""}]),angular.module("siemens.simaticit.common").config(["common.services.engineering.DataConfigProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl}]),function(){var c=angular.module("siemens.simaticit.common");function t(e,a,r,s){return function(e,t){var n={exception:e,cause:t},i=e.message;a.getLogFn(c.name,r.LOG_ERROR)(i,n);var o=s.get("common").loadSettings();o&&o.logLevel&&3===o.logLevel&&s.get("common.services.runtime.backendService").genericError(e.message,"Error")}}c.config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","common.services.logger.service","LOG_TYPES","$injector",t])}])}(),angular.module("siemens.simaticit.common").config(["common.globalization.globalizationConfigProvider","$injector","CONFIG","APPCONFIG","$stateProvider",function(e,t,n,i,o){var a=angular.extend({},i,n),r=_.find(a.languages,function(e){return"en-US"===e});o.decorator("data",function(e){e.views&&-1===Object.keys(e.views).indexOf("property-area-container@")&&(e.views["property-area-container@"]={},e.views["property-area-container@"].template="")}),e.setFallbackLanguage(r)}]),function(){var e=angular.module("siemens.simaticit.common");e.config(["common.services.governance.workerRoleConfigProvider","APPCONFIG","CONFIG",function(e,t,n){var i=angular.extend({},t,n);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl}]),e.config(["common.services.governance.projectConfigProvider","APPCONFIG","CONFIG",function(e,t,n){var i=angular.extend({},t,n);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl}]),e.config(["common.services.governance.eventConfigProvider","APPCONFIG","CONFIG",function(e,t,n){var i=angular.extend({},t,n);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl}]),e.config(["common.services.governance.databaseInfoConfigProvider","APPCONFIG","CONFIG",function(e,t,n){var i=angular.extend({},t,n);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl}]),e.config(["common.services.governance.systemEventsConfigProvider","APPCONFIG","CONFIG",function(e,t,n){var i=angular.extend({},t,n);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.engineeringServicesUrl}])}(),angular.module("siemens.simaticit.common").config(["$httpProvider",function(e){e.interceptors.push("common.base.unityInterceptorService"),e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}]),angular.module("siemens.simaticit.common").config(["$logProvider",function(e){e.debugEnabled(!0)}]),function(){var e=angular.module("siemens.simaticit.common");e.config(["common.services.logger.configProvider","LOG_LEVELS","CONFIG","APPCONFIG",function(e,t,n,i){var o=angular.extend({},i,n);e.config.currentLogLevel=o&&o.logLevel&&t[o.logLevel]?t[o.logLevel]:t.LOG_VERBOSE,e.config.checkMsgLength=!0,e.config.msgMaxLength=1e3}]),e.config(["$provide","common.services.logger.configProvider","LOG_LEVELS",function(e,o,a){e.decorator("$log",["$delegate",function(e){var t=e.info,n=e.warn,i=e.log;return e.info=function(){if(o.config.currentLogLevel>=a.LOG_INFO){var e=[].slice.call(arguments);try{t.apply&&t.apply(null,e)}catch(e){}}},e.warn=function(){if(o.config.currentLogLevel>=a.LOG_WARNING){var e=[].slice.call(arguments);try{n.apply&&n.apply(null,e)}catch(e){}}},e.log=function(){if(o.config.currentLogLevel>=a.LOG_INFO){var e=[].slice.call(arguments);try{i.apply&&i.apply(null,e)}catch(e){}}},e}])}])}(),angular.module("siemens.simaticit.common").config(["common.services.security.configProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.engineeringServicesUrl&&"/"!==i.engineeringServicesUrl.slice(-1)&&(i.engineeringServicesUrl+="/"),e.config.oDataServiceURI=i.administrationServicesUrl}]),function(){function e(e,t){var n={name:"home",views:{FullScreenView:{templateUrl:"common/layout/homeState/loading.html",controller:"HomeStateController"}},url:"/home?stateid",data:{title:"Home",isNavigationScreen:!0},defaultLayoutMode:"full",params:{stateid:null,stateToReturn:null,stateParamsToReturn:null,stateUrlToReturn:null},resolve:{checkStartupTasks:["$q","common.services.layout.shell","$translate","$state","RESOURCE","CONFIG","APPCONFIG","common.globalization.globalizationConfig","common.services.ui.authentication","common.services.authentication.config","common",function(n,i,o,a,r,s,c,l,d,m,u){var t=n.defer();return"home"===a.toState.name?t.resolve(!0):function(){var e=n.defer();if(l.resourcesLoaded)return e.resolve(),e.promise;var t=angular.extend({},c,s);return i.setGlobalization(r,t.languages).then(function(){o.refresh().then(function(){l.resourcesLoaded=!0,e.resolve()},function(){e.resolve()})},function(){e.resolve()}),e.promise}().then(function(){var e=t;(function(){var t=n.defer();if(d.isAuthorized())return t.resolve(),t.promise;if(!m.config.enableAuthentication)return t.resolve(),t.promise;return d.checkAuthentication().then(function(){t.resolve()},function(e){if(u.logger.logError("check Authentication Error: ",e),e&&void 0!==e.status&&401!==e.status&&404!==e.status)return a.go("error"),void t.reject();void 0===e.data.error||"6401"!==e.data.error.errorCode?t.resolve():t.reject()}),t.promise})().then(function(){e.resolve(!1)},function(){u.logger.logDebug("authentication failed.....waiting for redirect"),e.reject()})}),t.promise}]}};e.state(n);e.state({name:"error",views:{"Canvas@":{template:"<div><h3>Error</h3><br><br><h4>Connection Server Error</h4></div>"}},url:"/error",data:{uimodule:"Solution Studio",sideBarIsHidden:!0,title:"Error"},resolve:{}});e.state({name:"unauthorize",url:"/unauthorized",views:{"Canvas@":{templateUrl:"common/layout/unauthorized/unauthorized.html",controller:"unauthorizedController",controllerAs:"unauthCtrl"}},data:{title:"Unauthorized"}});e.state({name:"swacUIModule",url:"/swacUIModule/{id}",views:{"Canvas@":{templateUrl:"common/layout/swac/swac.html",controller:"SWACUIModuleController",controllerAs:"swacUIMCtrl"},"property-area-container@":{template:'<div id="side-panel-swac"></div>'}},data:{title:"SWAC UI Module"},params:{id:null,url:null}}),t.otherwise(function(e,t){var n=e.get("common"),i=e.get("$state"),o=(e.get("$rootScope"),e.get("CONFIG"),e.get("LOG_TYPES")),a={},r=n.logger.getLogFn("StateProvider",o.LOG_WARNING);angular.copy(t,a),r("Invalid state change : "+t.$$absUrl,a);var s=t.$$url;if(s){var c=function(e){var t={parentUrl:"",childUrl:""},n=e.split("/home/");if(n&&1<n.length){var i=n[1].split("/");i&&i.length&&(t.parentUrl="/"+i[i.length-1],1<i.length&&(t.parentUrl="/"+i[i.length-2],t.childUrl="/"+i[i.length-1]))}return t}(s);i.go("home",{stateUrlToReturn:c})}else i.go("home")})}function t(u,c,e,t,i,p,g,n,f,h,o,a,v,l){var d,y,C;function r(e,i,o,a,r,t){if(c.toState=i,c.toParams=o,!l.isFunctionalRightsLoaded)return"home"!==i.name?(e.preventDefault(),n=Date.now()+""+Math.random(),void c.go("home",{stateid:n,stateToReturn:i.name,stateParamsToReturn:JSON.stringify(o)})):(s(),void(e.skip=!0));var n;if("home"===i.name&&0===a.name.indexOf("home.")&&!t.reload)return e.preventDefault(),void c.go(i.name,o,{reload:!0});if("home"===i.name||"unauthorize"===i.name||"error"===i.name||"home.settings"===i.name)return s(),void(e.skip=!0);if("rt"===d.type){if(!l.isScreenAccessible(i.name))return e.preventDefault(),void c.go("unauthorize");s()}else s();function s(){var e,t,n;u.layoutMode="normal","full"===i.defaultLayoutMode&&(u.layoutMode="full"),e=g.sidePanelManager.getSidePanelInfo(),t=g.sidePanelManager.getSidePanelStatus(),null!==e&&!0===t&&g.sidePanelManager.close(e),n='$stateChangeStart from "'+a.name+'" to "'+i.name+'" - fired when the transition begins.: \n',y(n,{fromState:a,fromParams:r,toState:i,toParams:o})}}function s(e,t,n,i,o){var a='$stateChangeSuccess from "'+i.name+'" to "'+t.name+'" - fired once the state transition is complete..: \n',r={fromState:i,fromParams:o,toState:t,toParams:n};if(""!==i.name&&u.$broadcast("siemens.simaticit.common.stateChangeSuccess",r),y(a,r),f.config.enableDebug)for(var s in t.views)if(t.views.hasOwnProperty(s)){var c=s.indexOf("@");0<c&&(s=s.substring(0,c)),-1===f.uiViews.indexOf(s)&&C("view "+s+" does not exist in the current scope",f.uiViews)}if(u.$emit("siemens.simaticit.common.widgets.component.gridster-loaded",!1),v.enabled){if(v.navigationServicePromise.promise.then(function(e){e.navigateTo("momSwacSublocation",{screen:t.name},{notify:!1})}),r.toState.views&&(r.toState.views["Canvas@"]||r.toState.views.FullScreenView)){var l="";l=t.data.isNavigationScreen?h.title:t.data?p.instant(t.data.title):"",v.contextServicePromise.promise.then(function(e){e.updateCtx("location.titles",{headerTitle:l})})}if(2<g.historyTracker.length&&g.historyTracker[g.historyTracker.length-2].navigateBack)g.historyTracker[g.historyTracker.length-2].navigateBack=!1,g.historyTracker.pop();else{var d=r.toState,m=angular.extend({},r.toParams);g.historyTracker.push({state:d.name,stateParams:m,navigateBack:!1})}"home"===t.name||"home.homeCard"===t.name?g.updatePreviousButton(!1):g.updatePreviousButton(!0)}}function m(){var e=i.search(),t=!!("exposedAsSwac"in e&&e.exposedAsSwac);if(a.enabled&&!a.swacComponent&&c.current.name&&t)a.create(c.current.name).expose();else{var n={swacEnabled:a.enabled,swacComponent:a.swacComponent?"Create Already Called":"Created Not Yet called",componentName:c.current.name};y("viewContentLoaded: not in swac mode because of: ",n)}v.enabled&&void 0!==c.current.name&&""!==c.current.name&&v.create(c.current.name).expose()}function b(e,t,n,i){var o='$stateNotFound from "'+n.name+'" to "'+t.name+'" - fired when a state cannot be found by its name..: \n';C(o,{fromState:n,fromParams:i,unfoundState:t})}function w(e,t,n,i,o,a){var r='$stateChangeError from "'+i.name+'" to "'+t.name+'" - fired when an error occurs during transition.:"'+a+"'\n'";C(r,{fromState:i,fromParams:o,toState:t,toParams:n,error:a})}d=angular.extend({},o,h),y=g.logger.getLogFn("StateProvider",n.LOG_DEBUG),C=g.logger.getLogFn("StateProvider",n.LOG_WARNING),u.$on("$stateChangeStart",r),u.$on("$stateChangeSuccess",s),u.$on("$viewContentLoaded",m),u.$on("$stateNotFound",b),u.$on("$stateChangeError",w)}angular.module("siemens.simaticit.common").config(e).run(t),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=["$rootScope","$state","$resolve","$stateParams","$location","$translate","common","LOG_TYPES","debug","CONFIG","APPCONFIG","common.services.component.swacComponentManager","common.services.swac.SwacUiModuleManager","common.services.security.ui.authorization","$timeout"]}(),angular.module("siemens.simaticit.common").config(["common.services.runtime.ConfigProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.runtimeServicesUrl&&"/"!==i.runtimeServicesUrl.slice(-1)&&(i.runtimeServicesUrl+="/"),e.config.oDataServiceURI=i.runtimeServicesUrl,e.config.applicationServiceUrls=i.applicationServiceUrls}]),angular.module("siemens.simaticit.common").config(["common.services.signalManager.AddressConfigProvider","CONFIG","APPCONFIG",function(e,t,n){var i=angular.extend({},n,t);i.signalMainAddress&&"/"!==i.signalMainAddress.slice(-1)&&(i.signalMainAddress+="/"),i.signalStreamAddress&&"/"!==i.signalStreamAddress.slice(-1)&&(i.signalStreamAddress+="/"),e.config.signalMainAddress=i.signalMainAddress,e.config.signalStreamAddress=i.signalStreamAddress}]),angular.module("siemens.simaticit.common").config(["common.base.unityInterceptorConfigProvider",function(e){e.config.customHeaders={}}]),function(){function e(t,e,n,i,o,a,c){var l=this,r=null;function s(){t(function(){angular.element(e).trigger("resize")})}function d(){var e=a.getComponent("internal_"+l.name);e&&(r=e.instance.instance)}function m(e,t,n){o.setDpcValue(e,n)}function u(e){null!==r&&(r.properties[e.key]._set(e.value),t(function(){}))}!function(){if(!c)return;(function(){var e=c.uiComponent.identity,t=c.uiComponent.contracts;l.name=e.name,l.source=e.source,l.contracts={methods:[],events:[],properties:{},onPropertyChange:m},"object"==typeof t.api.methods&&(l.contracts.methods=Object.keys(t.api.methods));"object"==typeof t.api.events&&(l.contracts.events=Object.keys(t.api.events));if("object"==typeof t.dpc)for(var n=0,i=Object.keys(t.dpc),o=i.length;n<o;n++){var a=i[n],r=t.dpc[a],s={node:r.node,type:r.type,category:r.category,description:r.description,permission:r.permission,default:r.default};l.contracts.properties[a]=s}})(),o.createFrom(c).bind(u).expose().then(s),n.$on("siemens.simaticit.common.widgets.container.mashupReady",d)}()}e.$inject=["$timeout","$window","$rootScope","$scope","common.services.component.swacComponentManager","common.services.component.uiComponentService","componentManifest"],angular.module("siemens.simaticit.common.services.layout").controller("common.services.layout.componentController",e)}(),angular.module("siemens.simaticit.common.services.layout").config(["$stateProvider",function(e){e.state({name:"home.component",url:"/component/:app/:component",views:{"Canvas@":{templateUrl:"common/layout/component/component.html",controller:"common.services.layout.componentController",controllerAs:"componentCtr"}},resolve:{componentManifest:["$stateParams","$location","$log","common.services.component.uiComponentService","common.services.component.migrationService",function(e,t,n,i,o){return i.getComponentManifest(e.app,e.component).then(function(e){return e=o.migrateUIComponentManifest(e)},function(){n.error("Please check the name of app and component."),t.url("/home")})}]}})}]),angular.module("siemens.simaticit.common.services.layout").controller("homeController",["$scope","$state","CONFIG","APPCONFIG",function(e,n,t,i){var o=angular.extend({},i,t),a=null,r={document:0,route:1},s=getAreas(),c={color:"black",bgColor:"#FFD9E1",colorSelected:"#647887",bgColorSelected:"blue",size:"auto",imageTemplate:'<span class="sit-stack"><i class="sit sit-doc-center"></i><i class="fa fa-question-circle sit-bottom-right sit-bkg-circle"></i></span>'},l={color:"black",bgColor:"#FFD9E1",colorSelected:"#647887",bgColorSelected:"blue",size:"auto",imageTemplate:'<span class="sit-stack"><i class="sit sit-application"></i><i class="fa fa-info-circle sit-bottom-right sit-bkg-circle"></i></span>'};this.areas=[];for(var d=0;d<s.length;d++)this.areas.push(angular.extend({},s[d],l,{tileType:r.route}));if(this.documents=[],o&&o.documentationCenterUrl)for(var m=getDocuments(o),u=0;u<m.length;u++)this.documents.push(angular.extend({},m[u],c,{tileType:r.document}));e.$on("sit-tile.clicked",function(e,t){switch(t.tileType){case r.document:if(window.open(t.link,"_blank"),a===t)return a.selected=!1,void(a=null);null!==a&&(a.selected=!1),(a=t).selected=!0;break;case r.route:n.go("home.settings")}})}]),function(){function e(e,n,i){var o=this;o.cards=[],e.getHomeCardConfig().forEach(function(e){var t={title:n.instant(e.titleKey),description:n.instant(e.descriptionKey),image:e.imagePath,callback:function(e){i.go("home.homeCard.homeTile",{category:e})}.bind(null,e.id)};o.cards.push(t)})}e.$inject=["common.services.homeCard.config","$translate","$state"],angular.module("siemens.simaticit.common.services.layout").controller("HomeCardScreenController",e)}(),angular.module("siemens.simaticit.common.services.layout").config(["$stateProvider",function(e){e.state({name:"home.homeCard",url:"/homeCard",views:{"Canvas@":{templateUrl:"common/layout/homeCard/home-card.html",controller:"HomeCardScreenController",controllerAs:"homeCardCtrl"}},data:{title:"Home Card",sideBarIsHidden:!0,afxBackground:!0,isNavigationScreen:!0}})}]),function(){function e(e,c,r,t,s,n,l,d,i,m,o,a,u,p,g,f,h,v,y,C,b,w,S,x){var T,I,k,E=[];function O(){if("home"===c.current.name){if(!t.isFunctionalRightsLoaded)return"rt"!==s.type?(t.isFunctionalRightsLoaded=!0,void P().finally(D)):void t.initialize().then(function(){var i,o,a;if(i=t.getAuthorizedScreens(),o=[],a=[],s.menu.forEach(function(e){a.push(e.id);var t=e.contents;if(t&&0<t.length){var n=[];t.forEach(function(e){!0===e.securable&&(_.contains(i,e.id)||n.push(e.id))}),t.length===n.length?o.push(e.id):0<n.length&&n.forEach(function(e){o.push(e)})}else!0===e.securable&&(_.contains(i,e.id)||o.push(e.id))}),0===_.difference(a,o).length&&o.length===a.length?e.hideSidebar=!0:l.hideMenuItems(o),x.enabled){var n=t.getAuthorizedScreens();x.contextServicePromise.promise.then(function(e){e.registerCtx("authorizedScreens",n)}),n.length&&T.menu.length&&T.menu.forEach(function(t){t.contents.forEach(function(e){_.contains(n,e.id)&&E.push(t.id)})}),x.contextServicePromise.promise.then(function(e){e.registerCtx("authorizedModules",E)})}},function(){}).finally(function(){P().finally(D),x.enabled&&x.eventBusServicePromise.promise.then(function(e){e.publish("hideInitialOpBusyIndicator",{})})});D()}}function P(){var e=a.defer();return C.execute().finally(function(){e.resolve()}),e.promise}function D(){var t,e,n,i={};if(d.stateid&&(t=u.get(d.stateid+".stateToReturn"),e=u.get(d.stateid+".stateParamsToReturn"),u.remove(d.stateid+".stateToReturn"),u.remove(d.stateid+".stateParamsToReturn")),null==t||"home"===t){if(i=JSON.parse(u.get("stateUrlToReturn")),u.remove("stateUrlToReturn"),i&&i.parentUrl){var o=function n(i){var o,a,r,s=i.childUrl?i.childUrl:i.parentUrl,e=c.get();return e&&e.length&&e.forEach(function(e,t){e.url===s&&((r=e).views["Canvas@"]||(r=n({parentUrl:i.parentUrl})),o=r.name,a=r.params)}),{name:o,params:a}}(i);o&&o.name&&(t=o.name,e=JSON.stringify(o.params))}if(null==t){if(void 0===T.home)return void M(m.instant("common.undefinedHome.title"),m.instant("common.undefinedHome.text"));t=T.home,n=!0}}if(!n)return e=null!=e?JSON.parse(e):{},void c.go(t,e,{inherit:!1});var a=$(t);null==a?k=r(function(){var e=$(t);e&&Object.keys(e).length&&R(t)},100):R(t)}function $(e){return c.get(e)}function R(e){void 0!==k&&r.cancel(k),c.go(e,{},{inherit:!1})}function A(){i.hide()}function M(e,t){var n={buttons:[{id:"ok",displayName:m.instant("common.ok"),onClickCallback:A}],title:e,text:t};i.set(n),i.show()}!function(){angular.element("#initialBusyIndicator").remove(),T=angular.extend({},n,s),I=y.getModuleLogger("HomeStateController"),d.stateid&&d.stateToReturn&&(u.set(d.stateid+".stateToReturn",d.stateToReturn),d.stateParamsToReturn&&u.set(d.stateid+".stateParamsToReturn",d.stateParamsToReturn));d.stateUrlToReturn&&u.set("stateUrlToReturn",JSON.stringify(d.stateUrlToReturn));if(!o)return O();(function(){var e=a.defer();if(p.resourcesLoaded)return e.resolve(),e.promise;return h.setGlobalization(v,T.languages).then(function(){m.refresh().then(function(){p.resourcesLoaded=!0,e.resolve()},function(){e.resolve()})},function(){e.resolve()}),e.promise})().then(function(){(function(){var t=a.defer();if(g.isAuthorized())return t.resolve(),t.promise;if(!f.config.enableAuthentication)return t.resolve(),t.promise;return g.checkAuthentication().then(function(){t.resolve()},function(e){return I.logErr("check Authentication Error: ",e),e&&void 0!==e.status&&401!==e.status&&404!==e.status?(c.go("error"),void t.reject()):void 0===e.data.error||"6401"!==e.data.error.errorCode?void 0!==e.data.error&&503===e.data.error.errorCode?(M(m.instant("common.serviceLayerError.title"),e.data.error.errorMessage),void t.reject()):void t.resolve():void t.reject()}),t.promise})().then(function(){var e;(e=a.defer(),b.initModules().then(function(){e.resolve()},function(){e.resolve()}),e.promise).then(function(){if("runtime"!==n.appConfig.type)return O(),void S.start();w.getPersonalization().then(function(){O(),S.start()})},function(){I.logDebug("loading model driven modules failed.")})},function(){I.logDebug("authentication failed.....waiting for redirect")})})}()}angular.module("siemens.simaticit.common.services.layout").controller("HomeStateController",e).config(["$locationProvider","$compileProvider",function(e,t){e.hashPrefix(""),t.preAssignBindingsEnabled(!0)}]),e.$inject=["$rootScope","$state","$interval","common.services.security.ui.authorization","CONFIG","APPCONFIG","common.sidebar.sidebarService","$stateParams","common.widgets.messageOverlay.service","$translate","checkStartupTasks","$q","common.services.session","common.globalization.globalizationConfig","common.services.ui.authentication","common.services.authentication.config","common.services.layout.shell","RESOURCE","common.services.logger.service","common.services.startup.service","common.services.modelDriven.service","common.services.personalization.personalizationService","common.services.nerveBoxStartupService","common.services.swac.SwacUiModuleManager"]}(),function(){function e(e,t,o){var n,a,i,r=this;function s(){i.forEach(function(e){var i={title:"",tiles:[]};i.title=e,a[e].forEach(function(e){var t,n={title:e.title,icon:e.svgIcon?e.svgIcon:function(e){{if(e&&"svg"===e.substr(0,3)){var t=e.replace(/(svg )([a-zA-Z0-9]*)/,"$2.$1"),n="common/icons/"+t;return{path:n.trim()}}return e}}(e.icon),callback:(t=e.state,function(){o.go(t)})};i.tiles.push(n)}),r.tileConfig.push(i)})}r.tileConfig=[],n=t.category,a=e.getHomeTileConfig(n),i=Object.keys(a),s()}e.$inject=["common.services.homeCard.config","$stateParams","$state"],angular.module("siemens.simaticit.common.services.layout").controller("HomeTileScreenController",e)}(),angular.module("siemens.simaticit.common.services.layout").config(["$stateProvider",function(e){e.state({name:"home.homeCard.homeTile",url:"/homeTile/:category",views:{"Canvas@":{templateUrl:"common/layout/homeTile/home-tile.html",controller:"HomeTileScreenController",controllerAs:"homeTileCtrl"}},data:{title:"Home Tile",sideBarIsHidden:!0,afxBackground:!0,isNavigationScreen:!0},params:{category:null}})}]),function(){var e=angular.module("siemens.simaticit.common.services.layout");e.config(["$stateProvider",function(e){e.state({name:"home.settings",url:"/settings",views:{"Canvas@":{templateUrl:"common/layout/settings/settings.tpl.html"}},data:{title:"Settings"}})}]),e.controller("settingsCtrl",["$rootScope","$scope","$filter","CONFIG","APPCONFIG","common","common.widgets.notificationTile.service","LOG_LEVELS","common.services.logger.config","$uibModal","RESOURCE","THEMES",function(i,e,t,n,o,a,r,s,c,l,d,m){var u=this,p=angular.extend({},o,n),g=a.loadSettings();function f(e){angular.element("html").addClass("sit-ui-loading"),e(),setTimeout(function(){angular.element("html").removeClass("sit-ui-loading")},1e3)}u.tiles=[],u.sampleTileData={title:"",description:"",count:"",image:"sit sit-log",selected:!1},u.tileLayout={size:"medium"},u.tileType={theme:0,language:1,log:2,debug:3},u.notificationTileTypes={warning:"warning",info:"info"},u.notificationTile={id:"settingsNotificationTile",title:"",content:"",type:u.notificationTileTypes.info,counter:"",clickCallback:null,position:"bottomRight",popup:!0},i.themes.forEach(function(e,t){var n=angular.extend({},u.sampleTileData,u.tileLayout,{datatype:u.tileType.theme});n.title=e.name,n.description=e.name+" Theme",n.count=t,n.id=e.id,i.currentTheme.id===e.id&&(n.selected=!0),u.tiles.push(n)}),u.isCurrentTheme=function(e){return i.currentTheme.id===e},u.themeSelected=function(t){f(function(){u.tiles.forEach(function(e){e.id===t?(e.selected=!0,i.currentTheme=i.themes.filter(function(e){return e.id===t})[0]):e.selected=!1})})},u.languages=[],u.disableDropdown=!1,u.defaultLanguage=a.globalization.getLocale(),p&&-1<p.languages.indexOf(u.defaultLanguage)||(u.defaultLanguage="en-US");var h=a.authentication.getIndentity();h&&h["urn:language"]&&-1<p.languages.indexOf(h["urn:language"])?u.defaultLanguage=h["urn:language"]:g&&g.lang_key&&-1<p.languages.indexOf(g.lang_key)&&(u.defaultLanguage=g.lang_key),p.languages.forEach(function(e,t){var n=angular.extend({},u.sampleTileData,u.tileLayout,{datatype:u.tileType.language},{langKey:e});n.count=t,n.selected=n.langKey===u.defaultLanguage,n.selected&&(u.currentLanguage=n.langKey),u.languages.push(n)});var v=a.globalization.getAppLanguage();""!==v?u.currentLanguage=v:a.globalization.setAppLanguage(u.currentLanguage),u.languageSelected=function(e){var t=e;u.currentLanguage=e,a.globalization.setLanguage(t),u.languages.forEach(function(e){e.langKey===u.currentLanguage?e.selected=!0:e.selected=!1}),a.globalization.setAppLanguage(e)},u.loglevel=[],Object.keys(s).forEach(function(e,t){var n=angular.extend({},u.sampleTileData,u.tileLayout,{datatype:u.tileType.log},{id:e,value:s[e]});switch(n.count=t,n.selected=s[e]===c.config.currentLogLevel,n.value){case s.LOG_NONE:n.description="log disabled",n.title=e.substr(4,e.length-1);break;case s.LOG_ERROR:n.description="log enabled: ERROR",n.title=e.substr(4,e.length-1);break;case s.LOG_WARNING:n.description="log enabled: ERROR, WARNING ",n.title=e.substr(4,e.length-1);break;case s.LOG_DEBUG:n.description="log enabled: ERROR, WARNING, DEBUG ",n.title=e.substr(4,e.length-1);break;case s.LOG_INFO:n.description="log enabled: ERROR, WARNING, DEBUG, INFO ",n.title=e.substr(4,e.length-1);break;case s.LOG_VERBOSE:n.description="log enabled: ERROR, WARNING, DEBUG, INFO, GENERIC ",n.title=e.substr(4,e.length-1)}u.loglevel.push(n)}),u.logSelected=function(e){c.config.currentLogLevel=e.value,u.loglevel.forEach(function(e){e.selected=e.value===c.config.currentLogLevel})},u.openModal=function(e){switch(e){case 1:l.open({template:'<img class="ui-settings-theme-image" src="common/images/ThemeDark.png">'});break;case 0:l.open({template:'<img class="ui-settings-theme-image" src="common/images/ThemeLight.png">'})}},u.saveSettings=function(){var e={lang_key:"",theme:null,logLevel:0};e.lang_key=u.currentLanguage,e.theme=i.currentTheme,e.logLevel=c.config.currentLogLevel,a.saveSettings(e),a.globalization.setAppLanguage(u.currentLanguage),u.notificationTile.title=t("translate")("settings.notificationTile.title"),u.notificationTile.content=t("translate")("settings.notificationTile.saveText"),r.shownotificationTile(u.notificationTile.id)},u.restoreSettings=function(){f(function(){a.removeSettings(),a.shell.setEnvironment(d,m),g=null,a.shell.setDefaultLanguage(p.languages,g),u.currentLanguage=a.globalization.getLocale(),c.config.currentLogLevel=s.LOG_VERBOSE,u.loglevel.forEach(function(e){e.selected=e.value===c.config.currentLogLevel}),u.notificationTile.title=t("translate")("settings.notificationTile.title"),u.notificationTile.content=t("translate")("settings.notificationTile.restoreText"),r.shownotificationTile(u.notificationTile.id)})},e.$on("sit-tile.clicked",function(e,t){switch(t.datatype){case u.tileType.log:u.logSelected(t)}})}])}(),angular.module("siemens.simaticit.common.services.layout").controller("layoutController",["$rootScope","$state","$translate","common","CONFIG","APPCONFIG","common.services.component.swacComponentManager","$window",function(n,o,t,i,e,a,r,s){var c=this;c.hide=!0,c.title="",c.mode="",c.isBreadcrumbShown=!0,c.swacEnabled=!0===r.enabled,c.propertyAreaTypes=i.sidePanelManager.getTypesList(),c.currentPAreaType=c.propertyAreaTypes.property,c.config=angular.extend({},a,e),c.editTypeClassName="rt-editType";var l="property-area-container propertyType",d="property-area-container "+c.editTypeClassName;function m(e){return{barType:"Action",bar:[{type:"toggle",label:t.instant("common.gridster.dragresize"),name:"gridsterDragResize",tooltip:t.instant("common.gridster.dragresizeTitle"),visibility:e,image:"fa fa-arrows-alt",onClickCallback:u}]}}function u(e){n.$broadcast("siemens.simaticit.common.services.layout.shell.gridster-resizable-draggable-changed",e.selected)}c.typeClass=l,c.hide&&(c.typeClass+=" property-area-hide"),c.openClose=function(e,t){switch(t?"string"==typeof t?(c.mode=t,c.layoutSize="e"===t?"large":"small"):"object"==typeof t&&(c.mode=t.mode,c.layoutSize="small",t.mode&&"e"===t.mode&&(c.layoutSize=-1===["small","large"].indexOf(t.size)?"large":t.size)):c.mode="",c.hide=null==e?!c.hide:e,c.mode){case c.propertyAreaTypes.edit:c.currentPAreaType=c.propertyAreaTypes.edit,c.typeClass=d,c.hide&&(c.typeClass+=" property-area-hide");break;case c.propertyAreaTypes.property:default:c.currentPAreaType=c.propertyAreaTypes.property,c.typeClass=l,c.hide&&(c.typeClass+=" property-area-hide"),n.$broadcast("sit-layout-change",{eventSource:"nonModal"})}return 0!==$("body[swac]").length||e||$(".propertyType, .rt-editType, .eng-editType, .custom-editType").attr("style","height: calc(100vh - 26px)"),c.hide},c.setTitle=function(e){"string"==typeof e?255<(c.title=e).length&&i.logger.logWarning("SidePanelManager ->  setTitle(value) method - value max length: 255",e,"siemens.simaticit.common.services.layout"):i.logger.logWarning("SidePanelManager ->  setTitle(value) method - value must be a string ",e,"siemens.simaticit.common.services.layout")},c.isGridsterEnabled=!1,c.isLargeScreen=!0,n.$on("siemens.simaticit.common.widgets.component.gridster-loaded",function(e,t){c.isGridsterEnabled=t}),n.$on("siemens.simaticit.common.runtime.app.gridster-options-loaded",function(e,t){c.commandBarData=m(t.dragResize),c.isLargeScreen=t.isLargeScreen}),c.commandBarData=m(!1),i.sidePanelManager.register(c.openClose,c.setTitle),angular.element(s).on("resize",function(){n.$broadcast("sit-layout-change",{eventSource:"layout"})}),n.$on("$viewContentLoaded",function(){var e=Object.keys(o.$current.includes),t=o.current;t.data&&t.data.hasOwnProperty("displayBreadcrumb")&&"boolean"==typeof t.data.displayBreadcrumb?c.isBreadcrumbShown=!0===t.data.displayBreadcrumb:c.isBreadcrumbShown=function(e){for(var t=!0,n=e.length-2;0<=n;n--)if(e[n]){var i=o.get(e[n]);if(i.data&&i.data.hasOwnProperty("displayBreadcrumb")&&"boolean"==typeof i.data.displayBreadcrumb){t=!0===i.data.displayBreadcrumb;break}}return t}(e)})}]),function(){function e(o,e,t,i,n,a,r){var s=this;function c(){SWAC.Config.Container.URLs.BaseLibrary="common/scripts/swac-base.js",n.show(),r.loadComponent("swacUIModuleWithUniqName","",s.url,null,"48","65","calc(100% - 48px)","calc(100% - 65px)","ui").then(function(e){n.hide(),s.isCreationFailed=!1,a.setUrl(s.url.substr(0,s.url.indexOf("#")))},function(e){n.hide(),s.isCreationFailed=!0,s.title="SWAC component creation failed",s.message=e}),SWAC.Container.onCreated.subscribe(function(e){var t=e.data.name,n=SWAC.Container.get({name:t});window.console.log("Component created: "+t),n.onReady.subscribe(function(e){var i;window.console.log("Component ready: "+t),(i=n).interfaces.has("SIT.UI.Themable")&&i.interfaces.beginGet("SIT.UI.Themable").then(function(t){var n;t.getTheme().then(function(e){n=e,t.setTheme(n).then(function(){i.beginShow(!0),o.$apply()})},function(e){s.title="Error",s.message=e})},function(e){s.title="Error",s.message=e})})})}function l(t){SWAC.Container.beginClose(null,!0,6e4).then(function(e){a.setUrl(""),t&&c(),window.console.log("beginClose successfully")},function(e){window.console.log("beginClose failed")})}s.isCreationFailed=!1,s.url="",function(){if(i.id&&!i.url?function e(t){for(var n=0;n<t.length;n++){if(t[n].id===i.id){s.url=t[n].url;break}t[n].contents&&e(t[n].contents)}}(t.menu):s.url=i.url,0===a.getUrl().length)return c();if(a.getUrl()!==s.url.substr(0,s.url.indexOf("#")))return l(!0);var e=SWAC.Container.get({name:"swacUIModuleWithUniqName"});e&&e.proxy.navigate(i.id)}(),o.$on("$destroy",function(){e.$on("$stateChangeStart",function(e,t,n,i,o){"swacUIModule"!==t.name&&l()})})}e.$inject=["$scope","$rootScope","CONFIG","$stateParams","common.widgets.busyIndicator.service","SWACServic","common.services.component.swacComponentService"],angular.module("siemens.simaticit.common.services.layout").service("SWACServic",function(){var t=this;t.url="",t.setUrl=function(e){t.url=e},t.getUrl=function(){return t.url}}).controller("SWACUIModuleController",e).run(["$templateCache",function(e){e.put("template/swac/swac-uaf-form.html",'<div id="swac-form-body"></div>')}])}(),function(){function e(e,t,n){var i=this;!function(){"eng"===t.type&&(e.$state.current.data.sideBarIsHidden=!0);i.title=window.localStorage.getItem("unauthorizedTitle"),i.message=window.localStorage.getItem("unauthorizedMessage")}()}e.$inject=["$rootScope","CONFIG","common.services.swac.SwacUiModuleManager"],angular.module("siemens.simaticit.common.services.layout").controller("unauthorizedController",e)}(),angular.module("siemens.simaticit.common.services.modelDriven").controller("common.layout.modelDriven.template.ExecuteCommandCtrl",["common.services.modelDriven.dataService","$q","$state","$stateParams","$translate","common.base","common.services.modelDriven.service","$scope","$parse","$rootScope","common.services.modelDriven.contextService","$filter","$injector","$timeout",function(U,j,b,e,w,t,S,n,i,x,q,f,T,h){var W=this,I=t.services.sidePanel.service,H=t.services.runtime.backendService,k=b.$current.parent.toString(),E=b.$current.toString().replace(k+".",""),O={},X="",P=null,o=0,D=[];W.currentItem={},W.ngDisableItem={},W.ngClear={},W.calcValue={},W.reloadOnChange={},W.readingFunctionFields={},W.customValidations={},W.allValidations={},W.forms={},W.customServices={},W.formDisable="",W.findAll=[],W.currentField=null,W.groupDetails=[];var R=!(W.extensions=[]);function v(e,t){var n={columnDefs:[]};if(t){var i={};t.forEach(function(e){i[e.name]=e}),e.forEach(function(e){if(e){var t={field:e,displayName:w.instant(i[e].label)||i[e].name};"Boolean"===i[e].type&&(t.cellTemplate='<sit-mdtoggle ng-disabled="true" sit-value="row.getProperty(\''+e+"')\" ></sit-mdtoggle>"),n.columnDefs.push(t)}})}else{"string"==typeof e&&(e=e.split(","));for(var o=0;o<e.length;o++){var a={field:e[o],displayName:e[o]};n.columnDefs.push(a)}}return n}function Y(e){var t;return t=W.fillQueryResult?{action:{fields:W.currentItem,item:W.fillQueryResult[0],items:W.fillQueryResult}}:{action:{fields:W.currentItem}},q.interpolateQuery(e,t)}function Q(e){var t=!1;return e.readingFunctionRef&&e.readingFunctionRef.functionName&&(t=!0),t}function K(l){W.findAll[l].currentField=l,W.findAll[l].findAll=function(e){W.currentField=this.currentField;var t=j.defer();e.options=Y(e.options);var i=[],o=[];if(e.options){var a=[];(i=e.options.split("&")).forEach(function(e,t){var n=e.substring(0,e.indexOf("="));-1===a.indexOf(n)&&(o.push(function(n,e){var i=[];e.forEach(function(e,t){0===e.indexOf(n)&&i.push(t)});var t=e[i[0]];if(1<i.length&&"$filter"===n)for(var o=1;o<i.length;o++){var a=e[i[o]].substring(e[i[o]].indexOf("=")+1);t=t+" and "+a}return t}(n,i)),a.push(n))}),e.options=o.join("&")}var n="findAll",r={appName:e.appName,entityName:e.entityName,options:e.options},s=W.readingFunctionFields[l];if(s&&Q(s)){n="read";var c=JSON.parse(te(s.readingFunctionRef.params));r={appName:e.appName,functionName:e.entityName,params:c,options:e.options}}return H[n](r).then(function(e){t.resolve(e),h(function(){!function(){if(W.currentItem&&W.currentField&&W.currentItem[W.currentField])for(var e=0;e<W.displayData.length;e++)W.displayData[e].id===W.currentField&&W.displayData[e].widgetAttributes&&W.displayData[e].widgetAttributes["sit-picker-options"]&&W.displayData[e].widgetAttributes["sit-picker-options"].selectItems([W.currentItem[W.currentField]],!0,!0);W.currentField=null}()},100)},function(e){t.reject(e)}),t.promise}}function A(t){var n;return W.extensions.forEach(function(e){e.fields.forEach(function(e){e.name===t&&(n=e)})}),n}function M(e,t,n){var i,o,a,r,s=e.name;e.entityRef&&e.entityRef.entity?r=e.entityRef.entity:e.readingFunctionRef&&e.readingFunctionRef.functionName&&(r=e.readingFunctionRef.functionName),W.reloadOnChange[s]&&r&&(e.query?i=q.interpolateQuery(e.query,{fields:W.currentItem}):e.readingFunctionRef&&e.readingFunctionRef.params&&(a=e.readingFunctionRef.params,i=te(e.readingFunctionRef.params)),e.selectValueProperty&&(o=e.selectValueProperty),W.reloadOnChange[s].readingFunctionParams=a,W.reloadOnChange[s].last=i,W.reloadOnChange[s].dataArtifact=r,W.reloadOnChange[s].applName=n,W.reloadOnChange[s].field=t,W.reloadOnChange[s].selectValueProperty=o)}function r(e){var t=[],n=0;if(e&&0<e.length)for(n=0;n<e.length;n++)"startsWith"===e[n]||"endsWith"===e[n]?t[n]=e[n]:"Starts With"!==e[n]&&"Ends With"!==e[n]?t[n]=e[n].replace(/\s/g,"").toLowerCase():t[n]=e[n].charAt(0).toLowerCase()+e[n].slice(1).replace(/\s/g,"");return t}function J(e,t){var n,i,o,a=e.name;return e.gridConfig&&(n=v(e.gridConfig,e.entityPickerFields)),e.sortable&&(i={field:(o=e.sortable.split(","))[0],direction:"asc",fields:o}),t.widget="sit-entity-picker",t.widgetAttributes={"sit-selected-attribute-to-display":e.displayProperty,"sit-editable":!1,"sit-placeholder":w.instant(e.placeholder)||w.instant("entityPicker.defaultPlaceHolder"),"sit-picker-options":{containerID:a+"IcvContainer",groupField:"",alwaysShowPager:!0,selectionMode:"single",quickSearchOptions:{enabled:!0,field:e.searchable||e.displayProperty,filterText:""},sortInfo:i,gridConfig:n,enablePaging:e.enablePaging,pagingOptions:{pageSizes:[5,10,25,100,250,500],pageSize:10,currentPage:1},onSelectionChangeCallback:function(){},selectStyle:"alternate",viewMode:"g",viewOptions:"g",uniqueID:"Id",tagsManager:!1}},e.filterSettings&&(t=function(e,t){var n;n=e.filterSettings.filterFields&&e.filterSettings.filterFields.length?angular.copy(e.filterSettings.filterFields):[];for(var i=0;i<n.length;i++)n[i].displayName=w.instant(n[i].displayName),n[i].allowedCompareOperators=r(n[i].allowedCompareOperators),n[i].dataService=H,n[i].appName=screen.appName,n[i].dataSource&&n[i].dataSource.query&&(n[i].dataSource.query=Y(n[i].dataSource.query));return t.widgetAttributes["sit-picker-options"].filterFields=n,t.widgetAttributes["sit-picker-options"].filterBarOptions=e.filterSettings.filterBarOptions,t}(e,t)),t}function Z(n,i,o){var a={fieldPromise:null,preSelectPromise:null};if(!n||!i)return a;var r=n.name,e=i.filter,s=i.theDisplayField,c=i.keepField,t=i.dataSvc,l=i.dataAttribute,d=i.applName,m=i.distinct;return a.fieldPromise=t.getAll(e,d).then(function(e){if("DateTimeOffset"!==n.type&&"DateTime"!==n.type||e.value.forEach(function(e){e[s]=f("date")(e[s],n.format)}),n.useEntityPicker||(e.value=C(e.value,s,c)),!m||n.useEntityPicker?o.widgetAttributes[l]=e.value:o.widgetAttributes[l]=_.uniq(e.value,!1,function(e){return e[s]}),!n.useEntityPicker){var t={name:r,value:c,label:s,options:e.value,type:n.type};W.selectFields.push(t)}a.preSelectPromise=function(t,e,n){var i=null;if(!t||!e)return i;var o=t.name,a=e.selectionFilter,r=e.theDisplayField,s=e.applName;if(t.preSelectValue){if(a&&t.selectEntityRef&&t.selectEntityRef.entity)i=U[t.selectEntityRef.entity].getAll(a,s).then(function(e){e.value&&e.value.length&&(W.currentItem[o]=e.value[0],t.useEntityPicker&&N(o))});else if(n.value&&n.value.length){var c=n.value[0];c&&(W.currentItem[o]=c[r]?n.value[0]:n.value[1]),t.useEntityPicker&&N(o)}return i}}(n,i,e)}),a}function y(t,e,n){var i,o,a,r,s,c,l,d,m,u,p={field:{},fieldPromise:null,selectionQueryPromise:null},g="Name",f="Id",h=!1,v=t.name;if(!t||!e)return p;t.useEntityPicker?(u="sit-datasource",e=J(t,e)):(u="sit-options",e.widget="sit-select",e.widgetAttributes={"sit-to-display":"Name","sit-to-keep":"Id"},e.widgetAttributes["sit-change"]=function(e,t){W.renderComplete&&"object"==typeof t&&(t&&(t[g]||t[f])&&t[f]&&t[f]!==X?W.currentItem[v]=t:delete W.currentItem[v],W.DigestEval(e,t))});var y,C,b,w,S,x,T,I,k,E,O,P,D,$,R,A,M,F,N,B,G,V,L=(D={},$="Name",A=!(R="Id"),(y=t).entityRef&&y.entityRef.entity?(E=U[y.entityRef.entity],O=y.entityRef.entity):y.readingFunctionRef&&y.readingFunctionRef.functionName&&(O=y.readingFunctionRef.functionName,W.readingFunctionFields[y.name]=y,E=U[y.readingFunctionRef.functionName]),y.query?C=q.interpolateQuery(y.query,{fields:W.currentItem}):y.readingFunctionRef&&y.readingFunctionRef.params&&(k=y.readingFunctionRef.params,C=te(y.readingFunctionRef.params)),y.selectQuery&&(w=y.selectQuery,b=q.interpolateQuery(w,{fields:W.currentItem})),P=y.useEntityPicker?"sit-datasource":"sit-options",y.displayProperty&&($=y.displayProperty),y.valueProperty&&(R=y.valueProperty),y.distinct&&(A=y.distinct),y.preSelectValue&&(x=y.preSelectValue),y.selectEntityRef&&y.selectEntityRef.entity&&(S=y.selectEntityRef.entity),y.baseValueProperty&&(T=y.baseValueProperty),y.selectValueProperty&&(I=y.selectValueProperty),D.filter=C,D.params=k,D.selectionQuery=w,D.selectionFilter=b,D.theDisplayField=$,D.keepField=R,D.distinct=A,D.preSelectValue=x,D.selectionEntity=S,D.baseValueProperty=T,D.selectValueProperty=I,D.dataSvc=E,D.dataArtifact=O,D.dataAttribute=P,D);if(L&&(L.dataSvc,d=L.dataArtifact,i=L.filter,m=L.params,a=L.selectionQuery,o=L.selectionFilter,g=L.theDisplayField,e.widgetAttributes["sit-to-display"]=g,f=L.keepField,e.widgetAttributes["sit-to-keep"]=f,h=L.distinct,s=L.preSelectValue,r=L.selectionEntity,c=L.baseValueProperty,l=L.selectValueProperty,L.applName=n),W.reloadOnChange[v]&&(W.reloadOnChange[v].readingFunctionParams=m,W.reloadOnChange[v].last=i,W.reloadOnChange[v].dataArtifact=d,W.reloadOnChange[v].applName=n,W.reloadOnChange[v].distinct=h,W.reloadOnChange[v].field=e,W.reloadOnChange[v].theDisplayField=g,W.reloadOnChange[v].keepField=f,W.reloadOnChange[v].preSelectValue=s,W.reloadOnChange[v].lastSelectionQuery=o,W.reloadOnChange[v].selectionQuery=a,W.reloadOnChange[v].selectionEntity=r,W.reloadOnChange[v].baseValueProperty=c||f,W.reloadOnChange[v].selectValueProperty=l,W.reloadOnChange[v].pagingMode=t.pagingMode||"client"),"server"===t.pagingMode)e.widgetAttributes[u]=function(e){return function(e,t){var n=j.defer();if(t){var i="contains("+e.displayProperty+",'"+t+"')",o=ee(Y(e.query),i),a="findAll",r={};if(Q(e)){a="read";var s=JSON.parse(te(e.readingFunctionRef.params));r={appName:e.readingFunctionRef.app,functionName:e.readingFunctionRef.functionName,params:s,options:o}}else r={appName:e.entityRef.app,entityName:e.entityRef.entity,options:o};H[a](r).then(function(e){n.resolve(e.value)},function(e){n.reject(e)})}else n.resolve();return n.promise}(t,e).then(function(e){return e},function(e){return[]})},W.findAll[v]={},K(v),e.widgetAttributes["sit-picker-options"].serverDataOptions={dataService:W.findAll[v],dataEntity:d,appName:n,optionsString:t.query},p.selectionQueryPromise=(F=L,N=n,B=null,G=(M=t).name,V=F?F.selectionFilter:null,M.preSelectValue&&V&&M.selectEntityRef&&M.selectEntityRef.entity&&(B=U[M.selectEntityRef.entity].getAll(V,N).then(function(e){e.value&&e.value.length&&(W.currentItem[G]=e.value[0])})),B);else{var z=Z(t,L,e);z&&(p.fieldPromise=z.fieldPromise,p.selectionQueryPromise=z.preSelectPromise)}return p.field=e,p}function F(e,t,n,i,o){var a=e.behavior.fields[n],r=null,s=null,c=null,l=j.defer();if(o&&(a=A(t)),a||o||(a=q.parseExpr(t,e.behavior.fields)),a){var d,m,u,p=function(e,t){if(t&&t.hasOwnProperty("custom")){var n=t.custom;delete t.custom,W.customValidations[e]=n}return t}(t,angular.copy(a.validation));if(p.patternInfo&&(p.patternInfo=w.instant(p.patternInfo)),W.allValidations[a.name]=p,c={id:t,name:t,label:w.instant(a.label)||t,validation:p,value:W.currentItem[t]},a.disable&&(W.ngDisableItem[t]=a.disable),a.clear&&(W.ngClear[t]=a.clear),a.value&&(W.calcValue[t]=a.value),a.reloadOnChange&&(W.reloadOnChange[t]={},"string"==typeof a.query&&(W.reloadOnChange[t]={query:a.query})),d=a.inputMode?a.inputMode:a.type,a.readOnly)u=c,(m=a)&&u&&(u.readOnly=!0,"Boolean"===m.type||"boolean"===m.type?u.widget="sit-mdtoggle":u.widget="inputTextarea"===m.inputMode?"sit-textarea":"sit-label"),M(a,c=u,i);else switch(!0){case-1<["enum","Enum"].indexOf(d):c=function(t,e){var n,i,o;if(!t||!e)return e;var a=t.name;return t.useEntityPicker?(t.gridConfig&&(n=v(t.gridConfig,t.entityPickerFields)),t.sortable&&(o={field:(i=t.sortable.split(","))[0],direction:"asc",fields:i}),e.widget="sit-entity-picker",e.widgetAttributes={"sit-selected-attribute-to-display":t.displayProperty,"sit-editable":!1,"sit-placeholder":w.instant(t.placeholder)||w.instant("entityPicker.defaultPlaceHolder"),"sit-datasource":t.values.map(function(e){return"DateTimeOffset"!==t.type&&"DateTime"!==t.type||(e=f("date")(e,t.format)),{key:e,value:e}}),"sit-picker-options":{containerID:a+"IcvContainer",groupField:"",alwaysShowPager:!0,selectionMode:"single",quickSearchOptions:{enabled:!0,field:t.searchable||t.displayProperty,filterText:""},gridConfig:n,sortInfo:o,onSelectionChangeCallback:function(){},selectStyle:"alternate",viewMode:"g",viewOptions:"g",uniqueID:"Id"}}):(e.widget="sit-select",e.widgetAttributes={"sit-to-display":"key","sit-to-keep":"value","sit-options":t.values.map(function(e){return"DateTimeOffset"!==t.type&&"DateTime"!==t.type||(e=f("date")(e,t.format)),{key:e,value:e}})},W.selectFields.push({name:a,value:"value",label:"key",type:t.type})),e}(a,c);break;case-1<["number","Int","Int16","Int32","Int64","Decimal","numeric"].indexOf(d):c.widget="sit-numeric";break;case-1<["boolean","Boolean","checkbox"].indexOf(d):c.widget="sit-mdtoggle";break;case-1<["object","queryResult"].indexOf(d):var g=y(a,c,i);g&&g.field&&(c=g.field,r=g.fieldPromise,s=g.selectionQueryPromise);break;case-1<["DateTimeOffset","DateTime","dateTimePicker"].indexOf(d):c.widget="sit-date-time-picker",c.widgetAttributes={"sit-format":a.format};break;case 0===["fileUploader"].indexOf(d):c=function(e,t){if(!e||!t)return t;var n=e.name;return t.widget="sit-file-uploader",t.widgetAttributes={accept:e.fileUploaderConfig.fileFormats,"sit-min-size":e.fileUploaderConfig.minSize,"sit-max-size":e.fileUploaderConfig.maxSize,"sit-change":function(e,t){h(function(){t?W.currentItem[n]&&W.currentItem[n].type?W.currentItem[n].data="data:"+W.currentItem[n].type+";base64,"+W.currentItem[n].contents:W.currentItem[n].data=W.currentItem[n].contents:W.currentItem[n]={data:""},W.DigestEval(e,t)},100)}},t}(a,c);break;case 0===["TimeSpan"].indexOf(d):c.widget="sit-time-picker";break;case 0===["inputTextarea"].indexOf(d):c.widget="sit-textarea",M(a,c,i);break;default:c.widget="sit-text",M(a,c,i)}return r?W.allFieldsPromises.push(r.then(function(){l.resolve(c)})):s?W.allFieldsPromises.push(s.then(function(){l.resolve(c)})):l.resolve(c),l.promise}}function N(e){for(var t=0;t<W.displayData.length;t++)W.displayData[t].name===e&&(W.displayData[t].widgetAttributes["sit-selected-object"]=W.currentItem[e])}function ee(e,t){if(e){var n=e.split("&"),i=function(e){for(var t=-1,n=0;n<e.length;n++)if(e[n]=e[n].trim(),e[n].startsWith("$filter")){t=n;break}return t}(n);-1===i?n.push("$filter="+t):n[i]=n[i]+" and "+t,e=n.join("&")}else e="$filter="+t;return e}function a(){var e,t,n=!1;if(W.formDisable){var i=B();P&&(i.action.item=P[0],i.action.items=P),"string"==typeof W.formDisable.expression?""!==W.formDisable.expression&&(n=q.parseWithStateCtx(W.formDisable.expression,i)):"string"==typeof W.formDisable.body&&""!==W.formDisable.body&&(e=W.formDisable.body,t=i,n=new Function("return function (action,forms,validations, customServices) {"+e+"};")().apply(t,[t.action,W.forms,W.allValidations,W.customServices])),W.sidepanelConfig.actionButtons[0].enabled=W.validInputs&&!n}}function s(i,o){return function(){var e=j.defer(),t=W.customValidations[i],n=new Function("return function (action,forms,validations, customServices,injector) {"+t+"};")();return P&&(o.action.item=P[0],o.action.items=P),n.apply(o,[o.action,W.forms,W.allValidations,W.customServices,T]),e.resolve(),e.promise}}function B(){var t={action:{fields:W.currentItem}};return R&&W.extensions.forEach(function(e){var n,i;e.id&&(t.action[e.id]={fields:(n=angular.copy(W.currentItem),i=e.id,Object.getOwnPropertyNames(n).forEach(function(e){if(-1===e.indexOf(i))delete n[e];else{var t=e.replace(i+"_","");n[t]=n[e],delete n[e]}}),n)})}),t}S.getManifest().then(function(e){var t=e.customServices;if(void 0!==t)for(var n=0;n<t.length;n++)try{var i=T.get(t[n]);void 0!==i&&(W.customServices[t[n]]=i)}catch(e){W.customServices[t[n]]="Not Available"}var o=e.states.filter(function(e){return e.id===k})[0],l=o.appName,a=null,s=null,r=null;W.allFieldsPromises=[];var c=W.renderComplete=!1;"drill-down"===o.type&&o.referenceState&&(o=e.states.filter(function(e){return e.id===o.referenceState})[0],l=o.appName);var d,m,u,p=S.getCurrentModuleInfo(o.id);function g(e){return e.id===this.act&&(s=e,!0)}for(r in p.groupDetails&&(W.groupDetails=p.groupDetails),o.contents)if(o.contents[r].actions&&o.contents[r].actions.some(g,{act:E})){s.behavior.entityRef&&s.behavior.entityRef.entity&&(a=U[s.behavior.entityRef.entity]),s.behavior.readingFunctionRef&&s.behavior.readingFunctionRef.functionName&&(c=!0,a=U[s.behavior.readingFunctionRef.functionName]);break}function f(r,i,o){if(r)return Object.getOwnPropertyNames(r).forEach(function(t){var e;for(var n in s.behavior.fields)if(s.behavior.fields[n].name===t){e=s.behavior.fields[n];break}if(e||(e=A(t)),r[t]&&"object"==typeof r[t])if(e&&e.valueProperty&&!e.value){var a=e.valueProperty.split(",");$.each(r[t],function(i,e){if(e&&"object"==typeof e){var o=e;$.each(o,function(e,t){var n=i+"."+e;-1===a.indexOf(n)&&delete o[e]}),r[t][i]=o}else-1===a.indexOf(i)&&delete r[t][i]})}else r[t].hasOwnProperty("selected")&&delete r[t].selected;o&&e.value&&(r[t]=function(e,t){if(!e)return e;var n=null,i=B();return t&&(i.baseCommand={output:t}),"string"==typeof W.calcValue[e].expression?n=q.parseWithStateCtx(W.calcValue[e].expression,i):"string"==typeof W.calcValue[e].body&&(n=q.evalFunctionWithStateCtx(W.calcValue[e].body,i)),e=null==n?null:n}(t,i)),e.extensionName!==o?delete r[t]:void 0!==e&&e.parameterRef&&e.parameterRef.parameter?e.parameterRef.parameter!==t&&(r[e.parameterRef.parameter]=r[t],delete r[t]):delete r[t]}),r.dest&&(r.Id=r.dest,delete r.dest),r}function h(t,n,e){if("boolean"!=typeof t.hidden||t.hidden)"boolean"==typeof t.hidden&&t.hidden&&((c=t).clearExpression?W.ngClear[c.name]=c.clearExpression:c.clearExpressionFunction&&(W.ngClear[c.name]={functionBody:c.clearExpressionFunction}),c.value&&(W.calcValue[c.name]=c.value),c.reloadOnChange&&(W.reloadOnChange[c.name]={},"string"==typeof c.query&&(W.reloadOnChange[c.name]={query:c.query}),M(c,{id:c.name,name:c.name,widget:"sit-label"},l)));else if(t.group){for(var i,o=!1,a=0;a<W.displayData2.length;a++)if(W.displayData2[a].name===t.group&&"g"===W.displayData2[a].container){o=!0,(i={name:n,realFieldIndex:e}).extensionName=t.extensionName,W.displayData2[a].fields.push(i);break}if(!o){var r=function(e){for(var t={},n=0;n<W.groupDetails.length;n++)if(W.groupDetails[n].id===e){t=W.groupDetails[n];break}return t}(t.group),s={container:"g",fields:[],name:r.id,groupDetails:{id:r.id,heading:w.instant(r.heading),collapsible:r.collapsible}};(i={name:n,realFieldIndex:e}).extensionName=t.extensionName,s.fields.push(i),W.displayData2.push(s)}}else(i={container:"f",name:n,realFieldIndex:e}).extensionName=t.extensionName,W.displayData2.push(i);var c;"object"==typeof t.type&&Object.getOwnPropertyNames(t.type).forEach(function(e){h(t.type[e],n+"."+e)})}function v(e,t){var n,i=e.name;"string"==typeof e.default.expression?W.currentItem[i]=q.parseWithStateCtx(e.default.expression,t):"string"==typeof e.default.body&&("object"==typeof(n=q.evalFunctionWithStateCtx(e.default.body,t))&&null!==n&&"function"==typeof n.then?n.then(function(e){W.currentItem[i]=e}):W.currentItem[i]=n)}function y(e,t){e.fields||(e.fields=[]),e.fields.forEach(function(e){e.default&&v(e,t)})}function C(){var e;s.behavior.query||c?(e=c?te(s.behavior.readingFunctionRef.params):q.interpolateQuery(s.behavior.query,null),a.getAll(e,l).then(function(o){if(0<o.value.length){P=o.value,W.fillQueryResult=o.value;var a={action:{item:P[0],items:P}};s.behavior.fields.forEach(function(e,t){if(e=e.name,s.behavior.fields[t].default?v(s.behavior.fields[t],a):W.currentItem[e]=q.parseExpr(e,o.value[0]),s.behavior.fields[t].useEntityPicker){if(W.currentItem[e]&&"object"!=typeof W.currentItem[e]){var n=W.currentItem[e],i=s.behavior.fields[t].displayProperty;W.currentItem[e]={},W.currentItem[e][i]=n,W.currentItem[e].isDefaultValueSet=!0}"server"!==s.behavior.fields[t].pagingMode&&N(e)}}),W.extensions.forEach(function(e){y(e,a)}),j.all(W.allFieldsPromises).then(function(){W.selectFields.forEach(function(t){var e=W.currentItem[t.name];if(t.options&&0<t.options.length)if(e=t.options.filter(function(e){return e[t.value]===W.currentItem[t.name]})[0]){W.currentItem[t.name]={isDefaultValueSet:!0},W.currentItem[t.name][t.label]=e[t.label]?e[t.label]:"",W.currentItem[t.name][t.value]=e[t.value]?e[t.value]:null;var n={};n[t.value]=X,n[t.label]=""}else delete W.currentItem[t.name];else e&&(W.currentItem[t.name]={isDefaultValueSet:!0},W.currentItem[t.name][t.label]=e,W.currentItem[t.name][t.value]=e)}),W.renderComplete=!0,W.DigestEval(0,1)})}else W.renderComplete=!0,W.DigestEval(0,1)},H.backendError)):(j.all(W.allFieldsPromises).then(function(){s.behavior.fields.forEach(function(e){e.default&&v(e,null)}),W.extensions.forEach(function(e){y(e,null)}),W.DigestEval(0,1)}),W.renderComplete=!0),W.validInputs=!1}W.save=_.debounce(function(){var n=JSON.parse(JSON.stringify(W.currentItem));W.selectFields.forEach(function(e){if(n[e.name])if("DateTimeOffset"===e.type||"DateTime"===e.type){var t=n[e.name][e.value];n[e.name]=window.moment(t).toISOString()}else n[e.name]=n[e.name][e.value];else n[e.name]=null});var i=angular.copy(n);n=f(n),O=n,a[E](O,l).then(function(e){if(e){var t,n=[];e.completeResponse&&e.completeResponse.data&&(t=e.completeResponse.data),W.extensions.forEach(function(e){n.push(function(e,t,n){if(t){var i=j.defer();return t=f(angular.copy(t),n,e.id),a[E][e.id](t,l).then(function(e){i.resolve()}),i.promise}}(e,i,t))}),j.all(n).then(function(){!function(t){var n=null;if(t)if(q.MDState){var e=s.behavior.onExit,i=e&&e.refreshAndSelectContents&&0<e.refreshAndSelectContents.length;if(i){if(s.behavior.onExit.refreshContents)(n=q.getViewCtrl())&&s.behavior.onExit.refreshContents.forEach(function(e){n[e]&&n[e].refresh()});else if(s.behavior.onExit.refreshAndSelectContents&&(n=q.getViewCtrl())){s.behavior.onExit.refreshAndSelectContents.forEach(function(e){n[e]&&(t&&t.id?n[e].refreshAndSelect(t.id):n[e].refresh())});var o={event:"onActionCompletion",data:"object"==typeof t&&t.id?t:null};x.$broadcast("mdui-context-refreshed",o)}var a=q.MDState.previousState.views.hasOwnProperty("property-area-container@");a?(q.setPropertyPanelState(!1,null),b.go("^",null)):(q.setPropertyPanelState(!1,null),b.go(q.MDState.previousState,q.MDState.previousData))}else q.setPropertyPanelState(!1,null),b.go(q.MDState.previousState,q.MDState.previousData,{reload:!0})}else q.setPropertyPanelState(!1,null),b.go("^",{},{reload:!0})}(e)})}})},500,!0),W.cancel=function(){I.close(),q.setPropertyPanelState(!1,null),b.go("^")},W.formDisable=s.behavior.disableWhen,W.sidepanelConfig={title:w.instant(s.behavior.panelTitle)||w.instant(s.title),messages:[{type:"warning",text:""}],actionButtons:[{label:w.instant(s.behavior.shortTitle)||"Submit",onClick:W.save,enabled:W.validInputs,visible:!0},{label:w.instant(s.behavior.cancelTitle)||w.instant("common.cancel"),onClick:W.cancel,enabled:!0,visible:!0}],closeButton:{showClose:!0,tooltip:w.instant("sidePanel.close"),onClick:W.cancel}},W.buttonLabel=w.instant(s.behavior.shortTitle)||"Submit",W.displayData=[],W.displayData2=[],W.selectFields=[],s.behavior.fields.forEach(function(e,t){h(e,e.name,t)}),s.extensionRef&&0<s.extensionRef.length&&(R=!0,W.extensions=angular.copy(s.extensionRef),W.extensions.forEach(function(n){n.fields||(n.fields=[]),n.fields.forEach(function(e,t){e.name=n.id+"_"+e.name,e.extensionName=n.id,h(e,e.name,t)})})),d=s,m=l,u=null,W.displayData2.forEach(function(e,n){"g"===e.container?e.fields.forEach(function(e,t){u=e.extensionName,F(d,e.name,e.realFieldIndex,m,u).then(function(e){W.displayData2[n].fields[t]=e})}):(u=e.extensionName,F(d,e.name,e.realFieldIndex,m,u).then(function(e){var t=e;t.container="f",W.displayData2[n]=t}))}),j.all(W.allFieldsPromises).then(function(){W.displayData=W.displayData2}),function(){if(I.setTitle(w.instant(s.title)||w.instant(s.tooltip)),s.behavior.sidePanelProperties){var e=s.behavior.sidePanelProperties.mode;e="modal"===e||"large"===s.behavior.sidePanelProperties.size?"e":"p",I.open({mode:e,size:s.behavior.sidePanelProperties.size}),"p"===e&&(q.setPropertyPanelState(!0,s.show),D[D.lenght+1]=x.$on("mdui-icv-item-selected",C))}else"compact"===s.behavior.sidePanelMode?(I.open("p"),q.setPropertyPanelState(!0,s.show),D[D.lenght+1]=x.$on("mdui-icv-item-selected",C)):I.open("e");C()}()});var c=function(e,t,n){t[e=e||0]().then(function(){n[e].resolve(),t[++e]&&c(e,t,n)})},l=function(e,n){var t=Object.getOwnPropertyNames(e),i=[],o=[],a=[],r={};return 0<t.length&&(t.forEach(function(e){var t=j.defer();i.push(t),a.push(t.promise),r=B(),o.push(n(e,r))}),c(0,o,i)),j.all(a)},d=function(a,r){return function(){var e,t=j.defer(),n=null,i=[],o=j.defer();return P&&(r.action.item=P[0],r.action.items=P),"string"==typeof W.ngClear[a].expression?e=q.parseWithStateCtx(W.ngClear[a].expression,r):"string"==typeof W.ngClear[a].body&&(e=q.evalFunctionWithStateCtx(W.ngClear[a].body,r)),"object"==typeof e&&null!==e&&"function"==typeof e.then?e.then(function(e){o.resolve(e)}):o.resolve(e),o.promise.then(function(e){e&&(i=W.selectFields.filter(function(e){return e.name===a&&(n=e,!0)}),delete W.currentItem[a],0<i.length&&W.displayData.forEach(function(e){e.name===a&&e.widgetAttributes["sit-options"].length&&e.widgetAttributes["sit-options"][0][n.value]===X&&e.widgetAttributes["sit-options"].splice(0,1)})),t.resolve()}),t.promise}},m=function(n,i){return function(){var t=j.defer(),e=null;return P&&(i.action.item=P[0],i.action.items=P),"string"==typeof W.calcValue[n].expression?e=q.parseWithStateCtx(W.calcValue[n].expression,i):"string"==typeof W.calcValue[n].body&&(e=q.evalFunctionWithStateCtx(W.calcValue[n].body,i)),null!==e&&"object"==typeof e&&"function"==typeof e.then?e.then(function(e){null==e?delete W.currentItem[n]:W.currentItem[n]=e,t.resolve()}):(null==e?delete W.currentItem[n]:W.currentItem[n]=e,t.resolve()),t.promise}};function C(e,t,n){var i={};return t&&n&&e&&0<e.length&&(i[t]="",i[n]="",e=[i].concat(e)),e}function te(e,t){var n={},i=t||{fields:W.currentItem};if(0<Object.keys(e).length)for(var o in e)e[o]?(n[o]=q.parseWithStateCtx(e[o],i),n[o]||(n[o]=null)):n[o]=e[o];return JSON.stringify(n)}var u=function(f,o){var h=null;return function(){var s,c,l,d,m,e,t,n,u,p=j.defer(),i="",g="";return e=f,t=o,n="",P&&(t.item=P[0],t.items=P),W.reloadOnChange[e].query?n=q.interpolateQuery(W.reloadOnChange[e].query,t):W.reloadOnChange[e].readingFunctionParams&&(n=te(W.reloadOnChange[e].readingFunctionParams,t)),i=n,(s=!(!W.currentItem[f]||!W.currentItem[f].isDefaultValueSet))&&delete W.currentItem[f].isDefaultValueSet,W.reloadOnChange[f].preSelectValue&&W.reloadOnChange[f].selectionQuery&&(P&&(o.item=P[0],o.items=P),g=q.interpolateQuery(W.reloadOnChange[f].selectionQuery,o)),d=W.reloadOnChange[f].baseValueProperty?W.reloadOnChange[f].baseValueProperty:null,m=W.reloadOnChange[f].selectValueProperty?W.reloadOnChange[f].selectValueProperty:null,"string"!=typeof W.reloadOnChange[f].last||W.reloadOnChange[f].last!==i||W.reloadOnChange[f].lastSelectionQuery!==g?(W.reloadOnChange[f].last=i,W.reloadOnChange[f].lastSelectionQuery=g,"server"!==W.reloadOnChange[f].pagingMode?U[W.reloadOnChange[f].dataArtifact].getAll(i,W.reloadOnChange[f].applName).then(function(n){if("sit-select"===W.reloadOnChange[f].field.widget||"sit-entity-picker"===W.reloadOnChange[f].field.widget){if(c=W.reloadOnChange[f].theDisplayField,l=W.reloadOnChange[f].keepField,"sit-select"===W.reloadOnChange[f].field.widget?(u="sit-options",n.value=C(n.value,c,l)):u="sit-datasource",W.reloadOnChange[f].distinct?W.reloadOnChange[f].field.widgetAttributes[u]=_.uniq(n.value,!1,function(e){return e[W.reloadOnChange[f].theDisplayField]}):W.reloadOnChange[f].field.widgetAttributes[u]=n.value,!s)if(W.reloadOnChange[f].preSelectValue){if(W.currentItem[f]={},!g||!W.reloadOnChange[f].selectionEntity){if(n.value&&n.value.length){var e=n.value[0];e&&(W.currentItem[f]=e[c]?n.value[0]:n.value[1]),"sit-datasource"===u&&N(f)}return void p.resolve()}(h=U[W.reloadOnChange[f].selectionEntity].getAll(g,W.reloadOnChange[f].applName).then(function(e){if(n.value&&e.value&&e.value.length)for(var t in n.value)if(d&&m&&n.value[t][d]===e.value[0][m]){W.currentItem[f]=n.value[t],"sit-datasource"===u&&N(f);break}}))&&j.all(h).then(function(){p.resolve()})}else W.currentItem[f]=null;p.resolve()}else{if(n.value&&n.value.length&&W.reloadOnChange[f].selectValueProperty){var t=(i=W.reloadOnChange[f].selectValueProperty,o=n.value[0],a=i.split(","),r="",a&&1<a.length?(r={},a.forEach(function(e){r[e]=o[e]})):a&&1===a.length&&(r=o[a[0]]),r);W.currentItem[f]=t}else W.currentItem[f]="";p.resolve()}var i,o,a,r}):W.reloadOnChange[f].preSelectValue&&g&&W.reloadOnChange[f].selectionEntity&&U[W.reloadOnChange[f].selectionEntity].getAll(g,W.reloadOnChange[f].applName).then(function(e){if(e.value&&e.value.length){var t=d+" eq '"+e.value[0][m]+"'",n=ee(i,t);U[W.reloadOnChange[f].dataArtifact].getAll(n,W.reloadOnChange[f].applName).then(function(e){W.currentItem[f]=e.value[0]},function(e){p.reject(e)})}})):p.resolve(),p.promise}},p=function(n,i){return function(){var e,t=j.defer();return P&&(i.action.item=P[0],i.action.items=P),"string"==typeof W.ngDisableItem[n].expression?e=q.parseWithStateCtx(W.ngDisableItem[n].expression,i):"string"==typeof W.ngDisableItem[n].body&&(e=q.evalFunctionWithStateCtx(W.ngDisableItem[n].body,i)),"object"==typeof e&&null!==e&&"function"==typeof e.then?e.then(function(e){W.ngDisableItem[n].value=e,t.resolve()}):(W.ngDisableItem[n].value=e,t.resolve()),t.promise}},g=function(e,t,n){0===o||n?l(W.ngClear,d).then(function(){l(W.calcValue,m).then(function(){l(W.reloadOnChange,u).then(function(){l(W.ngDisableItem,p).then(function(){l(W.customValidations,s).then(function(){a(),0<o&&(o--,g(!0))})})})})}):o++};W.DigestEval=function(e,t,n,i){(e!==t||i)&&setTimeout(function(){g(e,t)},0)},D[D.lenght+1]=n.$on("sit-property-grid.validity-changed",function(e,t){W.validInputs=t.validity,W.sidepanelConfig.actionButtons[0].enabled=W.validInputs}),n.$on("$destroy",function(){D.forEach(function(e){e()})})}]),angular.module("siemens.simaticit.common.services.modelDriven").directive("sitMdtoggle",[function(){return{restrict:"E",replace:!1,scope:{},controller:function(){Array.isArray(this.value)&&"object"==typeof this.value[0]&&this.value[0].hasOwnProperty("checked")&&"boolean"==typeof this.value[0].checked?this.value=this.value[0].checked:"boolean"!=typeof this.value&&(this.value=!1),this.onChange=function(){"function"==typeof this.changeClbk&&this.changeClbk(!this.value,this.value)}},controllerAs:"toggleCtrl",bindToController:{value:"=?sitValue",changeClbk:"=?sitChange",disabled:"=?ngDisabled"},template:'<input type="checkbox" ng-model="toggleCtrl.value" ng-click="toggleCtrl.onChange()" ng-disabled="toggleCtrl.disabled">'}}]),angular.module("siemens.simaticit.common.services.modelDriven").controller("common.layout.modelDriven.template.MDCtrl",["$state","$rootScope","$translate","common.base","$q","$timeout","common.services.modelDriven.service","common.services.modelDriven.runtimeService","$stateParams","common.services.modelDriven.contextService","common.services.swac.SwacUiModuleManager",function(r,o,i,e,s,c,l,d,m,u,p){var g=this,f="",h=r.$current.toString();g.isInitComplete=!1,g.activeContentId=null;var v=!1;g.isDrillDownState=!1;var y=null;g.stateInfo=null,g.propertiesLoaded=!0,u.setPropertyPanelState(!1,null),l.getManifest().then(function(e){var t,a=e.states.filter(function(e){return e.id===h})[0];for(f in"drill-down"===a.type&&a.referenceState&&(g.isDrillDownState=!0,a=e.states.filter(function(e){return e.id===a.referenceState})[0]),g.groupDetails=l.getCurrentModuleInfo(a.id).groupDetails||[],g.groupDetails.forEach(function(e){e.heading&&(e.name=i.instant(e.heading))}),g.mdView={params:{}},g.screenTitle=i.instant(a.header)||a.title,p.enabled&&p.contextServicePromise.promise.then(function(e){e.updateCtx("location.titles",{headerTitle:g.screenTitle})}),g.setActiveTabIndex=function(e){var t,n;g.ready=!1,e&&(g.mdViewCtrl.setActiveContent(e),g.mdViewCtrl.commandBars[0].refresh(),g.activeContentId=e,t=u.getPropertyPanelState(),n=function(e){if(!e.show)return!0;if(e.show.expression)return u.parseWithStateCtx(e.show.expression);if(e.show.body){var t=u.evalFunctionWithStateCtx(e.show.body);if("object"!=typeof t||null===t||"function"!=typeof t.then)return t;t.then(function(e){return e})}}(t),t.isSidepanelOpen&&!n&&(u.setPropertyPanelState(!1,null),r.go("^")),"one"===g.mdView.contents[e].multiplicity&&c(function(){g.ready=!0}))},g.mdViewCtrl=new d.ModelViewCtrl(a,g.mdView,m),g.newObj={details:[],actions:g.mdViewCtrl.commandBars[0],activeContent:""},g.mdView.contents)g.mdView.contents[f].master?"many"===g.mdView.contents[f].multiplicity&&(g.newObj.master=g.mdView.contents[f]):g.newObj.details.push(g.mdView.contents[f]);if(g.newObj.details[0].isActive=!0,t=g.newObj.master.id,g.stateInfo=g.mdViewCtrl.getStateInfo(h),g.stateInfo&&g.stateInfo.selectionId&&(g.mdView.params[t]=g.stateInfo.selectionId,v=!0),g.onMasterDataSelection=function(){g.propertiesLoaded=!1;var o=[];return g.stateInfo&&g.stateInfo.detail&&g.stateInfo.detail.content&&v&&(g.mdView.params[g.stateInfo.detail.content]=g.stateInfo.detail.value),g.newObj.details.forEach(function(e,t){if("many"===e.multiplicity&&e.blueprintSettings&&e.blueprintSettings.serverSidePagination){var n=g.mdViewCtrl.getContentDataArtifact(e);g.newObj.details[t].runtimeConf.serverDataOptions={dataService:g.mdViewCtrl[e.id],dataEntity:n,appName:a.appName};var i=g.mdViewCtrl.interpolateQuery(e.query);g.newObj.details[t].runtimeConf.serverDataOptions.optionsString=i,g.mdViewCtrl[e.id].refresh()}else o.push(g.mdViewCtrl[e.id].refresh())}),o},g.onMasterDataUnselection=function(){g.propertiesLoaded=!1,g.newObj.details.forEach(function(e,t){g.newObj.details[t].runtimeConf.serverDataOptions&&delete g.newObj.details[t].runtimeConf.serverDataOptions,g.mdViewCtrl[e.id].clear()}),g.mdView.params={},y=null,o.$broadcast("mdui-context-refreshed",{event:"onMasterUnselection",data:null})},g.mdViewCtrl[t]&&(g.mdViewCtrl[t].onContentSelection=function(e,t){var n=[];if(t&&!0===t.selected){v||(g.mdView.params={}),y=t,!g.isDrillDownState&&v&&g.mdViewCtrl.setStateInfo(h,null,null),n=g.onMasterDataSelection();var i={event:"onMasterSelection",data:t};o.$broadcast("mdui-context-refreshed",i)}else g.onMasterDataUnselection();g.mdViewCtrl.evalDisableTabs(g.newObj.details,g.mdView),s.all(n).then(function(){var t;g.stateInfo&&g.stateInfo.detail&&g.stateInfo.detail.content&&v&&(t=g.stateInfo.detail.content,g.newObj.details.forEach(function(e){e.id===t&&(e.isActive=!0,g.setActiveTabIndex(t))}),v=!1),g.mdViewCtrl.commandBars[0].refresh(),c(function(){g.propertiesLoaded=!0},50)})}),g.newObj.details.forEach(function(a){"auditTrail"!==a.multiplicity&&(g.mdViewCtrl[a.id].onContentSelection=function(e,t){g.mdViewCtrl.commandBars[0].refresh()},g.mdViewCtrl[a.id].onTileOpenClick=function(e,t,n){if(e&&e.Id){if(y){var i={content:a.id,value:e.Id};g.mdViewCtrl.setStateInfo(h,y.Id,i)}var o=h+"."+t;g.mdViewCtrl.setStateInfo(o,e.Id,null)}r.go(h+"."+t,n),g.mdViewCtrl.commandBars[0].refresh()})}),g.mdViewCtrl[t]){g.mdViewCtrl.evalDisableTabs(g.newObj.details,g.mdView),g.mdViewCtrl.commandBars[0].refresh();var n=g.mdViewCtrl[t].refresh();s.all(n).then(function(){g.mdViewCtrl.commandBars[0].refresh()})}o.$on("mdui-context-updated",function(){g.mdViewCtrl.commandBars[0].refresh()}),c(function(){g.isInitComplete=!0},50)})}]),angular.module("siemens.simaticit.common.services.modelDriven").controller("common.layout.modelDriven.template.Overview",["common.services.modelDriven.dataService","$q","$state","$stateParams","$translate","common.base","common.services.modelDriven.service","$scope","common.services.modelDriven.contextService","$rootScope","$filter",function(u,e,p,t,g,n,f,h,v,y,C){var b=this,w=n.services.sidePanel.service,S=n.services.runtime.backendService,x=p.$current.parent.toString(),T=p.$current.toString().replace(x+".",""),I=[];b.currentItem={},b.groupDetails=[],f.getManifest().then(function(e){var t=e.states.filter(function(e){return e.id===x})[0],i=t.appName,o=null,r=null,n=null,s=null;"drill-down"===t.type&&t.referenceState&&(t=e.states.filter(function(e){return e.id===t.referenceState})[0],i=t.appName);var a=f.getCurrentModuleInfo(t.id);function c(e){return e.id===this.act&&(r=e,!0)}for(n in a.groupDetails&&(b.groupDetails=a.groupDetails),t.contents)if(t.contents[n].actions&&t.contents[n].actions.some(c,{act:T})){o=u[r.behavior.entityRef.entity];break}function d(t,n,e){if(t.group){for(var i,o=!1,a=0;a<b.displayData.length;a++)if(b.displayData[a].name===t.group&&"g"===b.displayData[a].container){o=!0,(i={name:n,realFieldIndex:e}).extensionName=t.extensionName,b.displayData[a].fields.push(i);break}if(!o){var r=function(e){for(var t={},n=0;n<b.groupDetails.length;n++)if(b.groupDetails[n].id===e){t=b.groupDetails[n];break}return t}(t.group),s={container:"g",fields:[],name:r.id,groupDetails:{id:r.id,heading:g.instant(r.heading),collapsible:r.collapsible}};(i={name:n,realFieldIndex:e}).extensionName=t.extensionName,s.fields.push(i),b.displayData.push(s)}}else{var c=!1,l=b.displayData.length;l&&"f"===b.displayData[l-1].container&&(c=!0,i={name:n,realFieldIndex:e},b.displayData[l-1].fields.push(i)),c||((i={container:"f",name:n,realFieldIndex:e,fields:[]}).fields.push({name:n,realFieldIndex:e}),b.displayData.push(i))}"object"==typeof t.type&&Object.getOwnPropertyNames(t.type).forEach(function(e){d(t.type[e],n+"."+e)})}function l(e){var t=e.name,n="",i={};if(e||(n=t.split("."),e=function e(t,n,i){var o=i||0;return o+1===n.length?t[n[o]]:e(t[n[o]],n,o+1)}(r.behavior.fields,n))){if(i={id:t,name:t,label:g.instant(e.label)||t,value:b.currentItem[t],container:e.container},"boolean"===e.type||"Boolean"===e.type)i.widget="sit-mdtoggle";else if("DateTimeOffset"===e.type||"DateTime"===e.type)i.widget="sit-date-time-picker";else if("TimeSpan"===e.type)i.widget="sit-time-picker";else if("Blob"===e.type||"blob"===e.type){var o=function(e){var t="text";if("string"!=typeof e)return t;var n=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);if(n&&n.length){var i=n[1].split("/");t="application"===i[0]?i[1]:i[0]}return t}(i.value);i.widget="sit-document-viewer",i.widgetAttributes={"sit-config":{title:t,showFirstDocument:!0,mode:"display",fullScreenMode:"toolbar",plugins:[{format:"svg",viewer:"sit-vector-viewer"}]},"sit-categories":[{id:"Category",name:t}],"sit-document":{name:t,source:i.value,format:o,category:t},"sit-data":[{name:t,source:i.value,format:o,category:t}],"sit-actions":[]}}else i.widget="sit-label";return i}}function m(){var e,n=v.getPropertyPanelState().isSidePanelOpen;r.behavior.query?(e=v.interpolateQuery(r.behavior.query,null),o.getAll(e,i,t.layoutTemplate).then(function(i){var o,a,t;0<i.value.length&&(s=i.value,r.behavior.fields.forEach(function(e,t){var n=e.name;r.behavior.fields[t].default?"string"==typeof r.behavior.fields[t].default.expression?b.currentItem[n]=v.parseWithStateCtx(r.behavior.fields[t].default.expression,{action:{item:s[0],items:s}}):"string"==typeof r.behavior.fields[t].default.body&&("object"==typeof(o=v.evalFunctionWithStateCtx(r.behavior.fields[t].default.body,{action:{item:s[0],items:s}}))&&null!==o&&"function"==typeof o.then?o.then(function(e){b.currentItem[n]=e}):b.currentItem[n]=o):b.currentItem[n]=v.parseExpr(n,i.value[0]),"string"!=typeof r.behavior.fields[t].type||"datetime"!==r.behavior.fields[t].type.toLowerCase()&&"datetimeoffset"!==r.behavior.fields[t].type.toLowerCase()||(b.currentItem[n]=C("date")(b.currentItem[n],"medium"))})),n&&b.displayData.length?(t=b.currentItem,b.displayData.length&&b.displayData.forEach(function(e){e.value=t[e.id]})):(a=r,b.displayData.forEach(function(e,n){"g"===e.container?e.fields.forEach(function(e,t){b.displayData[n].fields[t]=l(a.behavior.fields[e.realFieldIndex])}):(e.container="f",e.fields.forEach(function(e,t){b.displayData[n].fields[t]=l(a.behavior.fields[e.realFieldIndex])}))}))},S.backendError)):r.behavior.fields.forEach(function(e,t){var n,i=e.name;r.behavior.fields[t].default&&("string"==typeof r.behavior.fields[t].default.expression?b.currentItem[i]=v.parseWithStateCtx(r.behavior.fields[t].default.expression,null):"string"==typeof r.behavior.fields[t].default.body&&("object"==typeof(n=v.evalFunctionWithStateCtx(r.behavior.fields[t].default.body,null))&&null!==n&&"function"==typeof n.then?n.then(function(e){b.currentItem[i]=e}):b.currentItem[i]=n)),"string"!=typeof r.behavior.fields[t].type||"datetime"!==r.behavior.fields[t].type.toLowerCase()&&"datetimeoffset"!==r.behavior.fields[t].type.toLowerCase()||(b.currentItem[i]=C("date")(b.currentItem[i],"medium"))})}b.buttonLabel=g.instant(r.shortLabel)||"Close",b.cancel=function(){w.close(),v.setPropertyPanelState(!1,null),p.go("^")},b.sidepanelConfig={title:g.instant(r.behavior.panelTitle)||g.instant(r.title),messages:[{type:"warning",text:""}],actionButtons:[{label:g.instant(r.behavior.cancelTitle)||g.instant("sidePanel.close"),onClick:b.cancel,enabled:!0,visible:!0}],closeButton:{showClose:!0,tooltip:g.instant("sidePanel.close"),onClick:b.cancel}},b.displayData=[],b.selectFields=[],r.behavior.fields.forEach(function(e,t){d(e,e.name,t)}),function(){if(w.setTitle(g.instant(r.title)||g.instant(r.tooltip)),r.behavior.sidePanelProperties){var e=r.behavior.sidePanelProperties.mode;e="modal"===e||"large"===r.behavior.sidePanelProperties.size?"e":"p",w.open({mode:e,size:r.behavior.sidePanelProperties.size}),"p"===e&&(v.setPropertyPanelState(!0,r.show),I[I.lenght+1]=y.$on("mdui-icv-item-selected",m))}else"compact"===r.behavior.sidePanelMode?(w.open("p"),v.setPropertyPanelState(!0,r.show),I[I.lenght+1]=y.$on("mdui-icv-item-selected",m)):w.open("e");m()}(),h.$on("$destroy",function(){I.forEach(function(e){e()})})})}]),angular.module("siemens.simaticit.common.services.modelDriven").controller("common.layout.modelDriven.template.SECtrl",["$state","$rootScope","$translate","$timeout","common.base","common.services.modelDriven.service","common.services.modelDriven.runtimeService","$stateParams","common.services.modelDriven.contextService","common.services.swac.SwacUiModuleManager",function(o,e,i,a,t,n,r,s,c,l){var d=this,m="",u=o.$current.toString(),p="";d.isInitComplete=!1,c.setPropertyPanelState(!1,null),n.getManifest().then(function(e){var t=e.states.filter(function(e){return e.id===u})[0];for(m in d.isDrillDownState="drill-down"===t.type,"drill-down"===t.type&&t.referenceState&&(t=e.states.filter(function(e){return e.id===t.referenceState})[0]),d.mdView={params:{}},d.screenTitle=i.instant(t.header)||t.title,l.enabled&&l.contextServicePromise.promise.then(function(e){e.updateCtx("location.titles",{headerTitle:d.screenTitle})}),d.mdViewCtrl=new r.ModelViewCtrl(t,d.mdView,s),d.newObj={actions:d.mdViewCtrl.commandBars[0]},d.mdView.contents)if(d.mdView.contents[m].master&&"many"===d.mdView.contents[m].multiplicity){d.newObj.master=d.mdView.contents[m],d.mdViewCtrl.setActiveContent(m);break}if(!d.newObj.master)for(m in d.mdView.contents)if("many"===d.mdView.contents[m].multiplicity){d.newObj.master=d.mdView.contents[m],d.mdViewCtrl.setActiveContent(m);break}if(d.newObj.master){p=d.newObj.master.id;var n=d.mdViewCtrl.getStateInfo(u);n&&n.selectionId&&(d.mdView.params[p]=n.selectionId),d.mdViewCtrl[p]&&(d.mdViewCtrl[p].onContentSelection=function(){d.isDrillDownState||d.mdViewCtrl.setStateInfo(u,null,null),d.mdViewCtrl.commandBars[0].refresh()},d.mdViewCtrl[p].onTileOpenClick=function(e,t,n){d.mdViewCtrl.setStateInfo(u,e.Id,null);var i=u+"."+t;d.mdViewCtrl.setStateInfo(i,e.Id,null),o.go(i,n)}),d.mdViewCtrl.commandBars[0].refresh(),d.mdViewCtrl[p].refresh()}a(function(){d.isInitComplete=!0},50)})}]),function(){function e(e,t){var n=this;n.hideNextTask=!1,n.hidePrevTask=!1,n.taskList=[],n.task=null,n.name="buttonBox",e.prevTaskCallback=function(){n.hideNextTask&&(n.hideNextTask=!1),t.$broadcast("buttonBox."+n.name+".uy-itemchange",{item:-1})},e.okCallback=function(){t.$broadcast("buttonBox."+n.name+".uy-actionDone",{action:"OK"})},e.notOkCallBack=function(){t.$broadcast("buttonBox."+n.name+".uy-actionDone",{action:"NOK"})},e.NACallBack=function(){t.$broadcast("buttonBox."+n.name+".uy-actionDone",{action:"NA"})},e.detailsCallBack=function(){t.$broadcast("buttonBox."+n.name+".uy-actionDone",{action:"details"})},e.nextTaskCallback=function(){n.hidePrevTask&&(n.hidePrevTask=!1),t.$broadcast("buttonBox."+n.name+".uy-itemchange",{item:1})},n.configureButtonBox=function(e,t){return 0!==e||0!==t?0===e?n.hidePrevTask=!0:e===t&&(n.hideNextTask=!0):(n.hideNextTask=!0,n.hidePrevTask=!0),"Configured"}}angular.module("siemens.simaticit.common.components.buttonBox",[]),angular.module("siemens.simaticit.common.components.buttonBox").directive("buttonBox",function(){return{restrict:"E",templateUrl:"common/components/buttonBox/buttonbox-dev-tpl.html",controller:["$scope","$rootScope",e],controllerAs:"buttonBoxCtr",scope:!0,bindToController:{title:"=?",desc:"=?"}}})}(),angular.module("siemens.simaticit.common.components.documentation",[]),function(){function t(i,e){var t=this;t.currentLink=i.current.sitBreadcrumbLink,t.docCenterUrl=e.getDocCenterUrl(),t.goToHeading=function(e){var t=$("#"+e.trim());0===t.length&&(t=$('[name="'+e+'"]'));var n=t.offset().top,i=$(".table-row").height(),o=$(".breadcrumb-div").height();$("div.doc-center-page").scrollTop(n-i-o)},t.changeState=function(e,t,n){e&&i.go("docHome.document.page",{documentid:e,pageid:t,anchorId:n,preventReload:!0})}}t.$inject=["$state","common.services.documentation.service"],angular.module("siemens.simaticit.common.components.documentation").directive("sitDocumentationAnchorReslove",["$compile","$rootScope","common.services.documentation.service","common.services.documentation.config",function(e,v,y,a){return{restrict:"E",scope:{},bindToController:{},controller:t,controllerAs:"dacCtrl",link:function(e,t,n,f){var i=a.config.oDataServiceURI;function o(d){var m,u,p,g;u="modalPopupCtrl.pageContent"===d||void 0===f.currentLink?[]:f.currentLink.split("/"),$(f.anchorTags).each(function(r){if(f.anchorTags[r].hasAttribute("href")){var e=f.anchorTags[r].getAttribute("href").indexOf("http");if(-1===e){if(-1!==f.anchorTags[r].getAttribute("href").indexOf("Page?$filter=contains(Title")){$(f.anchorTags[r]).attr("class","removed-link");var t=f.anchorTags[r].getAttribute("href").split("'"),n=null;t[1]&&(n=t[1]);var i=null;return t[3]&&(i=t[3]),y.getAllPages("$filter=contains(tolower(Title),tolower('"+n+"')) and DocumentCode eq '"+i+"'").then(function(e){if(0<e.value.length){var t="",n=$.grep(e.value,function(e){return e.ReleaseId===v.release});if(0===n.length)if(1<e.value.length){t=function(e,t,n){var i=window.document.createElement("ul");angular.element(i).attr("class","dropdown-menu"),angular.element(i).attr("style","padding-left:2px;"),angular.element(i).attr("aria-labelledby","linktag"+t),$(i).append("<li class='releaseDropdownHeader'>Select Page</li>");for(var o=0;o<e.length;o++){var a=window.document.createElement("a"),r=window.document.createElement("div");angular.element(r).attr("style","padding:2px;font-size:10px;");var s=window.document.createElement("div");angular.element(s).attr("style","padding:2px;font-size:14px");var c=window.localStorage.getItem(e[o].ReleaseId);c?angular.element(r).append(c):angular.element(r).append(e[o].ReleaseId),angular.element(s).append(e[o].Title),angular.element(a).attr("style","cursor: pointer;"),angular.element(a).append(s),angular.element(a).append(r),a.addEventListener("click",h(e[o],n)),$(a).wrap("<li></li>"),$(i).append($(a).parent())}return i}(e.value,r,d),angular.element(f.anchorTags[r]).attr("id","linktag"+r),angular.element(f.anchorTags[r]).attr("data-toggle","dropdown"),angular.element(f.anchorTags[r]).attr("aria-haspopup","true"),angular.element(f.anchorTags[r]).attr("aria-expanded","false"),$(f.anchorTags[r]).wrap('<div style="display:inline-block;" class="dropdown"></div>');var i=angular.element(f.anchorTags[r]).html();angular.element(f.anchorTags[r]).html(i+' <span class="caret"></span> '),angular.element(t).insertAfter(f.anchorTags[r])}else n=e.value[0];else n=n[0];if("modalPopupCtrl.pageContent"===d){if(""===t){$(f.anchorTags[r]).on("click",function(){v.reloadPopUpOnLnkClk(n.Id)});var o=window.document.createElement("a");angular.element(o).attr("href",f.docCenterUrl+"#/docHome/document/"+n.DocumentId+"/page/"+n.Id),angular.element(o).attr("target","_blank");var a=window.document.createElement("span");angular.element(o).append(" "),angular.element(o).append(a),angular.element(o).insertAfter(f.anchorTags[r])}}else $(f.anchorTags[r]).on("click",function(){""===t&&f.changeState(n.DocumentId,n.Id,null)});$(f.anchorTags[r]).removeAttr("class"),$(f.anchorTags[r]).attr("style","cursor: pointer;")}}),void $(f.anchorTags[r]).removeAttr("href")}if(m=f.anchorTags[r].getAttribute("href").split("/"),p=f.anchorTags[r].getAttribute("issamepage"),g=f.anchorTags[r].getAttribute("isPathHavingHash"),0<m.length){if(f.items=m[m.length-1].split("#"),u[u.length-1]===f.items[0]||"true"===p)1<f.items.length&&(l=f.items[1],$(f.anchorTags[r]).on("click",function(){f.goToHeading(l)})),$(f.anchorTags[r]).removeAttr("issamepage");else{var o,a,s;if(o=m[2],a=f.items[0],s=f.items[1],g&&0<parseInt(g,10)){if(f.items.length>parseInt(g,10)+1){s=f.items[f.items.length-1];var c=f.items.slice(0,f.items.length-1);a=c.join("#")}else a=f.items.join("#"),s=null;$(f.anchorTags[r]).removeAttr("isPathHavingHash")}$(f.anchorTags[r]).on("click",function(){f.changeState(o,a,s)})}$(f.anchorTags[r]).attr("style","cursor: pointer;"),$(f.anchorTags[r]).removeAttr("class"),$(f.anchorTags[r]).removeAttr("href")}}else $(f.anchorTags[r]).attr("target","_blank")}var l})}function h(e,t){return function(){"modalPopupCtrl.pageContent"===t?v.reloadPopUpOnLnkClk(e.Id):f.changeState(e.DocumentId,e.Id,null)}}e.$on("siemens.simaticit.common.page.contentRendered",function(e,t){0<t.content.length&&(f.anchorTags=$(t.content).find("a"),f.imageTags=$(t.content).find("img"),f.anchorTags.length&&o(t.callee),f.imageTags.length&&$(f.imageTags).each(function(e){if(f.imageTags[e].hasAttribute("id")){var t=f.imageTags[e].getAttribute("id");$(f.imageTags[e]).attr("src",i+"/Asset('"+t+"')/$value")}}))})}}}])}(),function(){function e(a,e,t,n,i,o,r,s,c,l,d,m,u){var v=this;function p(){m.hide()}function g(e){v.showPrev=!1,v.showNext=!1,e.isFirstPage||(v.showPrev=!0),e.isLastPage||(v.showNext=!0)}function f(){y(u.getPreviousPage())}function h(){y(u.getNextPage())}function y(e){"page"===e.Data.Type?x(e.Data.Id,!0):"search"===e.Data.Type&&T(e.Data.Id,!0),g(e)}function C(){var e="#/release/"+v.releaseId+"/document/"+v.documentId+"/page/"+v.pageId;t.open(v.docCenterUrl+e,"_blank"),t.focus()}function b(){angular.element(".modal.doc-popup-modal").draggable({handle:".help-window-toolbar",containment:".modal-open"}),angular.element(".modal.doc-popup-modal").resizable()}function w(e){d.getDocument(e).then(function(e){var t=e;if(null!=t&&null!==t.value&&void 0!==t.value[0]){var n=t.value[0].Contents,i=$.parseHTML(n),o=angular.element(i).find("[href]"),a="";if(0<o.length&&o[0].attributes.href){var r=o[0].attributes.href.value.split("'");r[1]&&(a=r[1])}x(a)}})}function S(){T(v.searchQuery.replace(/<\/?[^>]+>/gi," "))}function x(i,o){d.getPage(i).then(function(e){var t=e;if(null!=t&&null!==t.value&&void 0!==t.value[0]){o||g(u.savePageHistory({Type:"page",Id:i}));var n=t.value[0].Contents;v.pageId=t.value[0].Id,v.documentId=t.value[0].DocumentId,n=I(n),v.data=[],v.pageContent=n,v.show=!0}})}function T(i,o){v.query=i,d.searchPages(i).then(function(e){if(void 0!==e&&void 0!==e.value){var t=e;if(null!=t&&null!==t.value&&0<t.value.length){v.showNoResult=!1,o||g(u.savePageHistory({Type:"search",Id:i})),v.pageContent="",v.data=[];var n=t.value;v.pageContent="",angular.forEach(n,function(e){var t=a.trustAsHtml(e.HighlightedText);e.HighlightedText=t,v.data.push(e)}),v.show=!1,v.searchQuery=""}else v.show=!1,v.searchQuery="",v.showNoResult=!0}})}function I(e){for(var t=$.parseHTML(e),n=angular.element(t).find("[href]"),i=0,o=n.length;i<o;i++){var a=n[i],r="",s="";if(a.attributes.href&&(r=s=a.attributes.href.value),-1!==s.toLowerCase().indexOf("http")){a.attributes.class&&angular.element(n[i]).removeAttr("class"),a.attributes.target&&angular.element(n[i]).removeAttr("target"),a.attributes.href&&angular.element(n[i]).removeAttr("href");var c=window.document.createElement("a");angular.element(c).attr("href",r),angular.element(c).attr("target","_blank");var l=window.document.createElement("span");angular.element(c).append(l),angular.element(c).insertAfter(n[i])}else if(-1===a.getAttribute("href").indexOf("$filter=contains")){a.attributes.target&&angular.element(n[i]).removeAttr("target");var d="",m=s.split("/page/");if(1<m.length){d=m[1];var u=m[0].split("/document/");1<u.length&&u[1]}var p;(p=d.split("#"))[0]!==v.pageId?(angular.element(n[i]).attr("href","#"),angular.element(n[i]).attr("ng-click","reloadPopUpOnLnkClk('"+p[0]+"')")):angular.element(n[i]).attr("issamepage",!0)}}for(var g="",f=0,h=t.length;f<h;f++){if("#text"!==t[f].nodeName)g+=t[f].outerHTML}return e=g}!function(){void 0!==o&&""!==o&&(o=I(o));v.pageContent=o,v.query=r,v.data=s,v.show=!1,v.showNoResult=!1,v.pageId=n,v.documentId=i,v.maxSearchResult=10,v.docCenterUrl=c,v.releaseId=l,v.searchQuery="",v.closeDocPopup=p,v.openDocCenterTab=C,v.reloadPopUpOnDocumentLnkClk=w,v.doSearchOnPopup=S,v.draggable=b,v.showPrev=!1,v.showNext=!1,v.goToPrevState=f,v.goToNextState=h,g(u.savePageHistory({Type:"page",Id:n})),0<s.length?v.show=!1:v.show=!0}(),e.reloadPopUpOnLnkClk=function(e){x(e)}}e.$inject=["$sce","$rootScope","$window","pageId","documentId","pageContent","query","data","docCenterUrl","releaseId","common.services.documentation.service","common.components.documentation.helpWindowService","common.components.documentation.helpWindowNavigationService"],angular.module("siemens.simaticit.common.components.documentation").controller("common.components.documentation.modalPopupController",e)}(),function(){function e(e,t,n,i,o,a,r,s,c){var l=this;function d(){if(l.isAlreadyOpen=!1,0<angular.element("#popupDocCenter").length&&(l.isAlreadyOpen=!0),l.sitPageId)m();else if(l.sitPageTitle||l.pageCode){var e="";e=l.sitPageTitle?"$filter=indexof(tolower(Title),tolower('"+l.sitPageTitle+"')) ne -1":"$filter=indexof(tolower(Code),tolower('"+l.pageCode+"')) ne -1",r.getAllPages(e).then(function(e){var t=e;if(l.query=l.sitPageTitle,null!=t&&null!==t.value&&t.value.length)l.sitPageId=t.value[0].Id,m();else if(l.sitIsTabbed)g();else{var n=a.instant("common.helpWindow.unknown-page");l.pageContent="<h1>"+n+"</h1>",p()}})}else l.sitPageQuery&&r.searchPages(l.sitPageQuery).then(function(e){var t=e;if(l.query=l.sitPageQuery,null!=t&&null!==t.value&&t.value.length)l.sitPageId=t.value[0].Id,m();else if(l.sitIsTabbed)g();else{var n=a.instant("common.helpWindow.unknown-page");l.pageContent="<h1>"+n+"</h1>",p()}})}function m(){var i;l.isAlreadyOpen?(t.reloadPopUpOnLnkClk(l.sitPageId),s.hide()):(i=l.sitPageId,r.getPage(i).then(function(e){var t=e;if(l.query=i,null!=t&&null!==t.value&&t.value.length){var n=t.value[0].Contents;if(l.data=[],l.pageContent=n,l.pageId=t.value[0].Id,l.releaseId=t.value[0].ReleaseId,l.documentId=t.value[0].DocumentId,l.sitIsTabbed)return void g(l.releaseId,l.documentId,l.pageId)}p()}))}function u(){c.clearPageHistory(),l.closePopup(),l.isClosed=!0}function p(){if(l.isClosed){var e=n.open({templateUrl:"PopupContent.html",controller:"common.components.documentation.modalPopupController",controllerAs:"modalPopupCtrl",backdrop:!1,keyboard:!1,right:"auto",animation:!0,bottom:"auto",overflow:"visible",resolve:{pageId:function(){return l.pageId},documentId:function(){return l.documentId},pageContent:function(){return l.pageContent},query:function(){return l.query},data:function(){return l.data},docCenterUrl:function(){return l.docCenterUrl},releaseId:function(){return l.releaseId}}});l.isClosed=!1,l.closePopup=e.close,e.opened.then(l.modalInstanceTimeout=i(function(){angular.element("#popupDocCenter").parent().parent().addClass("doc-popup-dialog"),angular.element("#popupDocCenter").parent().addClass("doc-popup-content"),angular.element("#popupDocCenter").parent().parent().parent().addClass("doc-popup-modal")}))}s.hide()}function g(e,t,n){s.hide();var i="#/release/"+e+"/document/"+t+"/page/"+n;o.open(l.docCenterUrl+i,"_blank"),o.focus()}l.query="",l.data=[],l.pageContent="",l.docCenterUrl=r.getDocCenterUrl(),l.modalInstanceTimeout=null,l.openDocPopup=p,l.showWindow=d,l.hideWindow=u,l.closePopup="",l.isAlreadyOpen=!1,l.isClosed=!0,l.pageCode="",e.$on("$destroy",function(){i.cancel(l.modalInstanceTimeout),l.modalInstanceTimeout=null})}e.$inject=["$scope","$rootScope","$uibModal","$timeout","$window","$translate","common.services.documentation.service","common.widgets.busyIndicator.service","common.components.documentation.helpWindowNavigationService"],angular.module("siemens.simaticit.common.components.documentation").directive("sitHelpWindow",["common.components.documentation.helpWindowService",function(o){return{restrict:"E",scope:{},bindToController:{sitPageId:"=?",sitPageQuery:"=?",sitPageTitle:"=?",sitIsTabbed:"=?"},controller:e,controllerAs:"helpWindowCtrl",templateUrl:"common/components/documentation/helpWindow/help-window.html",link:function(e,t,n,i){e.$on("$destroy",function(){}),o.registerShowCallback(function(e){i.sitPageId=e.pageId,i.sitPageQuery=e.searchQuery,i.sitPageTitle=e.pageTitle,i.sitIsTabbed=e.isTabbed,i.pageCode=e.pageCode,i.showWindow()}),o.registerHideCallback(function(){i.hideWindow()})}}}])}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(){this.maxHistoryCount=20,this.navigationArray=[]}return e.prototype.clearPageHistory=function(){this.navigationArray=[]},e.prototype.getNextPage=function(){var e=$.grep(this.navigationArray,function(e){return!0===e.isCurrentPage}),t=this.navigationArray.indexOf(e[0]);return this.navigationArray[t].isCurrentPage=!1,this.navigationArray[t+1].isCurrentPage=!0,this.navigationArray[t+1]},e.prototype.getPreviousPage=function(){var e=$.grep(this.navigationArray,function(e){return!0===e.isCurrentPage}),t=this.navigationArray.indexOf(e[0]);return this.navigationArray[t].isCurrentPage=!1,this.navigationArray[t-1].isCurrentPage=!0,this.navigationArray[t-1]},e.prototype.savePageHistory=function(e){var t=$.grep(this.navigationArray,function(e){return!0===e.isCurrentPage});if(1===t.length&&e.Id===t[0].Data.Id)return t[0];if(1===t.length){var n=this.navigationArray.indexOf(t[0]);this.navigationArray[n].isCurrentPage=!1,this.navigationArray[n].isLastPage=!1,this.navigationArray.splice(n+1,this.navigationArray.length-1-n)}return 0===this.navigationArray.length?this.navigationArray.push({Data:e,isCurrentPage:!0,isFirstPage:!0,isLastPage:!0}):(this.navigationArray.length<this.maxHistoryCount||(this.navigationArray.shift(),this.navigationArray[0].isFirstPage=!0),this.navigationArray.push({Data:e,isCurrentPage:!0,isFirstPage:!1,isLastPage:!0})),this.navigationArray[this.navigationArray.length-1]},e}(),t.HelpWindowNavigationService=n,angular.module("siemens.simaticit.common.components.documentation").service("common.components.documentation.helpWindowNavigationService",n)}(sit||(sit={})),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(){this.helpWindowCount=0,this.showCallbacks=[],this.hideCallbacks=[]}return e.prototype.show=function(t){this.showCallbacks.forEach(function(e){e(t)})},e.prototype.hide=function(){this.hideCallbacks.forEach(function(e){e()})},e.prototype.registerShowCallback=function(e){e&&this.showCallbacks.push(e)},e.prototype.registerHideCallback=function(e){e&&this.hideCallbacks.push(e)},e}(),t.HelpWindowService=n,angular.module("siemens.simaticit.common.components.documentation").service("common.components.documentation.helpWindowService",n)}(sit||(sit={})),function(){function e(o,e,t,n,i,a,r,s,c,l,d,m,u){var p=this;function g(){o.$state.go("home",null,{reload:!0,inherit:!1})}function f(){r.logout()}function h(){n(function(){var e=l.getAboutInformation();""===e&&(e="<div>"+t.instant("common.header.about.version")+"</div><div>"+t.instant("common.header.about.copyright")+"</div>"),s.set({title:t.instant("common.header.about.title"),templatedata:{layout:"Vertical",data:{},information:e,mode:"view"},buttons:[{id:"about_btn_ok",displayName:t.instant("common.ok"),onClickCallback:C}]}),s.show()})}function v(e){n(function(){s.set({title:"Tag Management",templateuri:e.templateuri,templatedata:{layout:"Vertical",data:{},information:"",mode:"view"},buttons:[{id:"btn_ok",displayName:t.instant("common.ok"),onClickCallback:e.saveTags},{id:"btn_cancel",displayName:t.instant("common.cancel"),onClickCallback:y}]}),s.show()})}function y(){s.hide()}function C(){s.hide()}function b(){c.show(),""!==p.help&&void 0!==p.help||""!==p.helpCode&&void 0!==p.helpCode?e.innerWidth<=768?p.helpCode?d.show({pageCode:p.helpCode,isTabbed:!0}):d.show({pageTitle:p.help,isTabbed:!0}):p.helpCode?d.show({pageCode:p.helpCode}):d.show({pageTitle:p.help}):c.hide()}function w(){var e=o.$state.$current,t="",n="",i="";void 0===e.self.data||void 0===e.self.data.help&&void 0===e.self.data.helpCode?(t=S(e,"help"),n=S(e,"helpCode")):(p.isHelpAvailable=!0,t=e.self.data.help,n=e.self.data.helpCode),""===t&&""===n||(p.isHelpAvailable=!1,i=n?"$filter=indexof(tolower(Code),tolower('"+n+"')) ne -1":"$filter=indexof(tolower(Title),tolower('"+t+"')) ne -1",m.getAllPages(i).then(function(e){var t=e;null!=t&&null!==t.value&&t.value.length?(p.isHelpAvailable=!0,p.isHelpAvailable&&u.enabled&&u.contextServicePromise.promise.then(function(e){e.registerCtx("isHelpWindowIconEnabled",p.isHelpAvailable),"$apply"!==o.$$phase&&"$digest"!==o.$$phase&&o.$apply()})):p.isHelpAvailable=!1},function(){p.isHelpAvailable=!1})),p.help=t,p.helpCode=n}function S(e,t){for(var n=!0,i="",o=e;n;){if(void 0===(o=o.parent)){n=p.isHelpAvailable=!1;break}if(void 0!==o.self.data&&(void 0!==o.self.data.help||void 0!==o.self.data.helpCode)){i="helpCode"===t?o.self.data.helpCode:o.self.data.help,n=!(p.isHelpAvailable=!0);break}}return i}function x(e){if(112===e.keyCode)return window.onhelp=function(){return!1},e.preventDefault(),void b();27===e.keyCode&&d.hide()}function T(e){return e["urn:fullname"]&&""!==e["urn:fullname"].trim()?e["urn:fullname"].trim():e.unique_name.trim()}(function(){"",p.isHelpAvailable=!1;var e=r.getUser();null===e?r.getLoggedUser().then(null,null,function(e){p.userFullName=T(e)}):p.userFullName=T(e),p.userFlymenuOptions={id:"hdr_menu_user",title:p.userFullName,icon:"fa fa-lg sit sit-user",menuItems:[{id:"logout",title:"common.header.actions.logout",icon:"fa fa-sign-out fa-lg",onClick:f}]};var t=angular.extend({},a,i);p.logoImage=null,t.logo&&"common/images/SiemensLogo.png"!==t.logo&&(p.logoImage=t.logo),p.primaryFlymenuOptions={id:"hdr_menu_hamburger",title:"",icon:"fa fa-lg fa-bars",menuItems:l.getFlyMenuItems()},p.actionButtons=l.getActionButtons(),l.registerCtrl(p)})(),p.showAboutDialog=h,p.navigateToHome=g,p.showHelpWindow=b,p.showDataSegregationDialog=v,o.keyDown=x,o.$on("$stateChangeSuccess",w),p.$onDestroy=function(){l.unRegisterCtrl()}}angular.module("siemens.simaticit.common.services.layout").component("sitHeader",{bindings:{name:"@"},templateUrl:"common/components/header/header.html",controller:e,controllerAs:"vm"}),e.$inject=["$rootScope","$window","$translate","$timeout","CONFIG","APPCONFIG","common.services.authentication","common.widgets.globalDialog.service","common.widgets.busyIndicator.service","common.services.header.service","common.components.documentation.helpWindowService","common.services.documentation.service","common.services.swac.SwacUiModuleManager"]}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e,t){var n=this;this.$state=e,this.logger=t,this.navigateToSettings=function(){n.$state.go("home.settings")},this.registerCtrl=function(e){n.headerController=e},this.unRegisterCtrl=function(){n.headerController=null},this.headerController=null,this.aboutInformation="",this.flyMenuItems=[{id:"Settings",title:"common.header.actions.settings",icon:"fa-lg sit sit-system-configuration",onClick:this.navigateToSettings}],this.actionButtons={}}return e.prototype.getAboutInformation=function(){return this.aboutInformation},e.prototype.setAboutInformation=function(e){this.aboutInformation=e},e.prototype.addButton=function(t,e,n,i,o,a){return-1!==_.findIndex(this.flyMenuItems,function(e){return e.id===t})?(this.logger.logError("addButton","id must be unique","common.services.header.service"),!1):(this.flyMenuItems.push({id:t,title:n,icon:e}),!0)},e.prototype.removeButton=function(t){if("Settings"===t)return this.logger.logError("removeButton","can not remove standard buttons","common.services.header.service"),!1;var e=_.findIndex(this.flyMenuItems,function(e){return e.id===t});return-1===e?(this.logger.logError("removeButton","id is not found","common.services.header.service"),!1):(this.flyMenuItems.splice(e,1),!0)},e.prototype.addActionButton=function(e){return!(!e||!e.id||this.actionButtons.hasOwnProperty(e.id))&&(e.api={},this.actionButtons[e.id]=e,!0)},e.prototype.removeActionButton=function(e){return!(!e||!this.actionButtons.hasOwnProperty(e))&&(delete this.actionButtons[e],!0)},e.prototype.openDropdownMenu=function(e){return!!(e&&e.id&&this.actionButtons.hasOwnProperty(e.id))&&(this.actionButtons[e.id].api.openMenu(e),!0)},e.prototype.closeDropdownMenu=function(e){return!(!e||!this.actionButtons.hasOwnProperty(e))&&(this.actionButtons[e].api.closeMenu(),!0)},e.prototype.getFlyMenuItems=function(){return this.flyMenuItems},e.prototype.getActionButtons=function(){return this.actionButtons},e.prototype.openAboutDialog=function(){this.headerController&&this.headerController.showAboutDialog()},e.prototype.openSolutionStudioHelp=function(){this.headerController&&this.headerController.showHelpWindow()},e.prototype.openDataSegregationDialog=function(e){this.headerController&&this.headerController.showDataSegregationDialog(e)},e.$inject=["$state","common.services.logger.service"],e}(),t.HeaderService=n,angular.module("siemens.simaticit.common.services.layout").service("common.services.header.service",n)}(sit||(sit={})),angular.module("siemens.simaticit.common.components.mashup",[]),function(){function e(i,t,o,e){var a=this;function n(e){e&&t.go(e,this.context)}function r(e){for(var t in e)e.hasOwnProperty(t)&&(this.context[t]=e[t]);i.$emit("mashup."+a.name+".onContextChanged",this.context),l()}function s(e,t,n){i.$broadcast("mashup."+a.id+".onComponentMoveResize",{UIComponentId:e,position:t,size:n}),l()}function c(e,t){i.$broadcast("mashup."+a.id+".onDisplayChanged",{UIComponentId:e,toggle:t}),l()}function l(){"$apply"!==e.$root.$$phase&&"$digest"!==e.$root.$$phase&&e.$apply()}a.context={},angular.copy(t.current.context,a.context),"object"==typeof t.current.params&&(a.parameters=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&"_"!==n[0]){var i="_"+n+"Type";if(e.hasOwnProperty(i))switch(e[i]){case"number":"object"==typeof o&&o.hasOwnProperty(n)&&o[n]?t[n]=+o[n]:e[n]&&(t[n]=+e[n]);break;case"boolean":"object"==typeof o&&o.hasOwnProperty(n)&&o[n]?t[n]="true"===o[n]:e[n]&&(t[n]="true"===e[n]);break;case"date":"object"==typeof o&&o.hasOwnProperty(n)&&o[n]?t[n]=new Date(o[n]):e[n]&&(t[n]=new Date(e[n]));break;default:"object"==typeof o&&o.hasOwnProperty(n)&&o[n]?t[n]=o[n]:e[n]&&(t[n]=e[n])}else"object"==typeof o&&o.hasOwnProperty(n)&&o[n]?t[n]=o[n]:e[n]&&(t[n]=e[n])}return t}(t.current.params)),a.navigateTo=n,a.setContext=r,a.setPosition=s,a.display=c,a.loadEventInstance=i.$on("siemens.simaticit.common.widgets.container.mashupReady",function(e){e.defaultPrevented||(e.preventDefault(),i.$emit("mashup."+a.name+".onLoad",a.parameters))}),e.$on("$destroy",a.loadEventInstance)}angular.module("siemens.simaticit.common.components.mashup").controller("common.components.mashup.MashupComponentController",e),e.$inject=["$rootScope","$state","$stateParams","$scope"]}(),angular.module("siemens.simaticit.common.components.mashup").directive("sitMashup",function(){return{restrict:"EA",controller:"common.components.mashup.MashupComponentController",controllerAs:"mashupCtrl",bindToController:{name:"@name",id:"@id"},scope:!0}}),angular.module("siemens.simaticit.common.components.task",[]),function(){function e(e,t,n,i,o){var a,r,s=this;function c(e){e&&s&&s.selectedTask&&(s.selectedTask.Description=e)}function l(e){e&&s&&s.selectedTask&&(s.selectedTask.Status.StatusNId=e.taskStatus,s.taskDetailsVisible&&(s.isNIdVisible=s.taskDetailsVisible.includes("NId"),s.isNameVisible=s.taskDetailsVisible.includes("Name"),s.isDescriptionVisible=s.taskDetailsVisible.includes("Description"),s.isTaskDefinitionNIdVisible=s.taskDetailsVisible.includes("TaskDefinitionNId"),s.isTaskDefinitionRevisionVisible=s.taskDetailsVisible.includes(" TaskDefinitionRevision"),s.isEquipmentNIdVisible=s.taskDetailsVisible.includes("EquipmentNId"),s.isTaskFlowVisible=s.taskDetailsVisible.includes("TaskFlow"),s.isStatusNIdVisible=s.taskDetailsVisible.includes("StatusNId")))}function d(e){e}function m(){a=r=null,s.selectedItem=null,s.viewerData=null,s.viewerOptions=null,s=null}function u(e){a.logDebug("Component resized....:"+e.width+","+e.height)}function p(e){a.logDebug("Design mode toggled...."+e)}a=e.services.logger.service.getModuleLogger("siemensSimaticitCustomcomponent"),r=e.services.runtime.backendService,s.taskService=null,s.taskContextConfigData=[],a.logDebug("Initializing component....",s.name),s.ready=!1,s.selectedItem=null,s.viewerData=[],s.viewerOptions={},s.taskParameterConfigData={selectionMode:"none",enableColumnResizing:!0,data:[]},s.ready=!0,s.isNIdVisible=!0,s.isNameVisible=!0,s.isDescriptionVisible=!0,s.isTaskDefinitionNIdVisible=!0,s.isTaskDefinitionRevisionVisible=!0,s.isEquipmentNIdVisible=!0,s.isTaskFlowVisible=!0,s.isStatusNIdVisible=!0,s.selectedTask={},o&&o.componentStateParams&&o.componentStateParams.taskDetailsVisible&&(s.taskDetailsVisible=o.componentStateParams.taskDetailsVisible),o&&o.selectedTask?s.selectedTask=o.selectedTask:o&&o.componentStateParams&&o.componentStateParams.taskId?s.selectedTask.Id=o.componentStateParams.taskId:s.TaskId&&(s.selectedTask.NId=s.TaskId),i.$watch("vm.ContextId",c),n.$watch("$stateParams.componentStateParams",l),s._onComponentReady=d,s._onComponentDestroy=m,s._onComponentResize=u,s._onDesignModeToggle=p,t.has("task.service")?(s.taskService=t.get("task.service"),s.taskService.getParameterByTask(s.selectedTask.Id).then(function(e){s.taskParameterConfigData.data=e.value,s.taskParameterConfigData.data=_.sortBy(s.taskParameterConfigData.data,function(e){return e.NId.toUpperCase()})},r.backendError),s.taskService.getTaskContext(s.selectedTask.Id).then(function(e){var i;(i=e.value).forEach(function(n){s.taskService.getTaskUserField(n.Id).then(function(e){var t;s.taskContextConfigData[s.taskContextConfigData.length]={Context:n.NId,config:{},isUserFieldAvailable:0<e.value.length},s.taskContextConfigData[s.taskContextConfigData.length-1].config=(t=e.value,{selectionMode:"none",enableColumnResizing:!0,onInitCallback:function(e){},data:_.sortBy(t,function(e){return e.NId.toUpperCase()})}),i.length===s.taskContextConfigData.length&&(s.taskContextConfigData=_.sortBy(s.taskContextConfigData,function(e){return e.Context.toUpperCase()}))},r.backendError)})},r.backendError)):a.logDebug("No TaskList Service is available!")}angular.module("siemens.simaticit.common.components.task").component("siemensSimaticitTaskDetailscomponent",{bindings:{name:"@",id:"@",TaskId:"=taskid",TaskName:"=taskname",ContextId:"=contextid"},templateUrl:"common/components/task/detailsComponent.html",controller:e,controllerAs:"vm"}),e.$inject=["common.base","$injector","$rootScope","$scope","$stateParams"]}(),angular.module("siemens.simaticit.common.widgets.accordion",["ui.router.state"]),function(){function e(e,n,t,i){var o=this;function a(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(o.groups,function(e){e!==t&&(e.accGrpCtrl.isOpen=!1)})}function r(e){var t=this;o.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})}function s(e){var t=o.groups.indexOf(e);-1!==t&&o.groups.splice(t,1)}o.groups=[],o.closeOthers=a,o.addGroup=r,o.removeGroup=s,o.maxLevel=i.maxLevel}e.$inject=["$scope","$attrs","$state","sitAccordionConfig"],angular.module("siemens.simaticit.common.widgets.accordion").directive("sitAccordion",function(){return{restrict:"EA",controller:e,transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"common/widgets/accordion/sit-accordion.html"}}})}(),function(){function e(e){var t=this;function n(e){t.heading=e}t.setHeading=n,t.maxLevel=e.maxLevel}e.$inject=["sitAccordionConfig"],angular.module("siemens.simaticit.common.widgets.accordion").directive("sitAccordionGroup",function(){return{require:["sitAccordionGroup","^sitAccordion"],restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"common/widgets/accordion/sit-accordion-group.html"},scope:{},bindToController:{heading:"@",isOpen:"=?",isEnabled:"=?",level:"@?",faIcon:"@",faOpenIcon:"@",svgIcon:"@",openSvgIcon:"@",imgIcon:"@?",scrollUpdateCallback:"&?",onClickCallback:"&?",menuItemId:"@?",isSelected:"@?",internalType:"@"},controller:e,controllerAs:"accGrpCtrl",link:function(t,e,n,i){var o=i[0];o.displayIcon=null;var a=i[1];function r(){o.isOpen&&"null"!==o.openSvgIcon?o.displayIcon=o.openSvgIcon:o.isOpen||"null"===o.svgIcon?o.displayIcon=null:o.displayIcon=o.svgIcon}o.itemClicked=function(e){o.isEnabled&&(o.isOpen||(o.isOpen=!0),o.onClickCallback({itemData:{menuItemId:o.menuItemId,event:e}}))},o.toggleOpen=function(e){o.isEnabled&&(o.isOpen=!o.isOpen),r(),o.scrollUpdateCallback(),e.stopPropagation()},t.faIcon=o.faIcon,t.faOpenIcon=o.faOpenIcon,t.heading=o.heading,t.isOpen=o.isOpen,t.level=o.level,t.menuItemId=o.menuItemId,t.onClickCallback=o.onClickCallback,r(),a.addGroup(t),(!o.level||o.level<0)&&(o.level=0),t.$watch(function(){return o.isOpen},function(e){e&&a.closeOthers(t)},!0),o.imgLevelClass="icon-level-"+o.level,o.txtLevelClass="text-level-"+o.level,o.itemSpaceClass="item-space-"+o.level}}})}(),angular.module("siemens.simaticit.common.widgets.accordion").directive("sitAccordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^sitAccordionGroup",link:function(e,t,n,i,o){i.setHeading(o(e,function(){}))}}}),function(){function e(e,t,n){var i,o=this;function a(){o.refresh(o)}(i=o).data=i.data||[],i.config=i.config||[],i.closeOthers=angular.isDefined(i.config.closeOthers)?i.config.closeOthers:t.closeOthers,i.refreshMenuCallback=a,i.accordionMenu=new n.Accordion(e,i.data,i.refreshMenuCallback),o.config.get=o.accordionMenu.get,o.config.getParent=o.accordionMenu.getParent,o.config.update=o.accordionMenu.update,o.config.remove=o.accordionMenu.remove,o.config.add=o.accordionMenu.add,o.config.refresh=o.accordionMenu.refresh}angular.module("siemens.simaticit.common.widgets.accordion").constant("sitAccordionConfig",{closeOthers:!0,maxLevel:2,defaultIndexCounter:0}),e.$inject=["$timeout","sitAccordionConfig","common.accordion.accordionService"],angular.module("siemens.simaticit.common.widgets.accordion").directive("sitMenu",["$compile","$timeout","$translate","sitAccordionConfig",function(r,c,l,d){return{restrict:"E",scope:!0,bindToController:{data:"=?sitData",config:"=?sitConfig"},controller:e,controllerAs:"menuCtrl",template:'<div class="sit-menu-container"></div>',link:function(i,o,e,t){var s=t,a=!0!==s.config.isGroupSelectable&&!1!==s.config.isGroupSelectable||s.config.isGroupSelectable;s.onClickLink=function(e,t){var n=s.accordionMenu.get(e);n&&(!0!==n.enabled&&!1!==n.enabled||n.enabled)&&((!n.items||n.items.length<=0||a)&&(s.lastSelectedID&&(s.accordionMenu.get(s.lastSelectedID)&&(s.accordionMenu.get(s.lastSelectedID).isSelected=!1),o.find("#"+s.lastSelectedID).removeClass("highlight-selected-menu")),n.isSelected=!0,o.find("#"+e).addClass("highlight-selected-menu"),s.lastSelectedID=e,c(function(){o.find(".sit-panel-cont").css("width",o.find(".sit-menu-container")[0].scrollWidth),o.find(".highlight-selected-menu").css("width",o.find(".sit-menu-container")[0].scrollWidth)},20)),n&&n.onClickCallback?n.onClickCallback(n):s.config.onClickCallback&&s.config.onClickCallback(n)),t.stopPropagation()},s.onGroupClick=function(e){s.onClickLink(e.menuItemId,e.event)},s.scrollUpdate=function(){c(function(){o.find(".sit-panel-cont").css("width",o.find(".sit-menu-container")[0].scrollWidth),o.find(".highlight-selected-menu").css("width",o.find(".sit-menu-container")[0].scrollWidth)},20)},s.setAccordion=function(e,a){var r="";return r+='<sit-accordion close-others="{{menuCtrl.closeOthers}}">',_.each(e,function(e,t){e.id=e.id?e.id:"default_Id_"+d.defaultIndexCounter++;var n=(!0===e.opened||!1===e.opened)&&e.opened,i=!0!==e.visible&&!1!==e.visible||e.visible;s.isEnabled=!0!==e.enabled&&!1!==e.enabled||e.enabled;var o=e.translationId?l.instant(e.translationId):e.label;s.isEnabled||(n=e.opened=!1),e.id===s.selectedItem&&(s.lastSelectedID=e.id),e.typeIcon&&!e.svgIcon&&(e.svgIcon="common/icons/type"+e.typeIcon+"48.svg"),e.openTypeIcon&&!e.openSvgIcon&&(e.openSvgIcon="common/icons/type"+e.openTypeIcon+"48.svg"),e.items&&!_.isEmpty(e.items)?(r+='<sit-accordion-group ng-show="'+i+'" is-open="'+n+'" is-enabled="'+s.isEnabled+'"is-selected="'+(e.id===s.selectedItem)+'"',r+=' fa-icon="'+(e.icon?e.icon:"fa-angle-right")+'"',r+=' fa-open-icon="'+(e.openIcon?e.openIcon:"fa-angle-down")+'"',r+=' open-svg-icon="'+(e.openSvgIcon?e.openSvgIcon:null)+'"',r+=' svg-icon="'+(e.svgIcon?e.svgIcon:null)+'"',r+=' level="'+a+'"',r+=' internal-type="accordion-item_'+a+t+'"',r+=' scroll-update-callback="menuCtrl.scrollUpdate()" ',r+=' on-click-callback="menuCtrl.onGroupClick(itemData)" ',r+=e.id?' menu-item-id="'+e.id+'" ':"",r+=">",r+="<sit-accordion-heading>",r+=o,r+="</sit-accordion-heading>",r+=s.setAccordion(e.items,a+1),r+="</sit-accordion-group>"):(e.displayIcon=null,e.svgIcon&&(e.displayIcon=e.svgIcon),r+='<div data-internal-type="accordion-item_'+a+t+'" id="'+e.id+'" ng-show="'+i+'" class="sit-panel-item sit-panel-cont  background-level-common item-space-'+a+(e.id===s.selectedItem?" highlight-selected-menu":"")+'" ng-click="menuCtrl.onClickLink(\''+e.id+'\',$event)" ><div class="sit-panel-item-img fa '+(e.icon?e.icon:s.config.icon)+" icon-level-"+a+'  " ng-style="'+(null!==e.displayIcon).toString()+"?{'font-size':'0px'}:''\" ><img ng-if=\""+(null!=e.displayIcon).toString()+'" ng-src="'+e.displayIcon+'" height="16px" width="16px" /></div><div class="sit-panel-item-text text-level-'+a+'"><a href  title="'+o+'">'+o+"</a></div></div>")}),r+="</sit-accordion>"},s.refresh=function(e){e.accordionMenu.setMenu(e.data),e.selectedItem=e.accordionMenu.getSelectedItem();var t=e.setAccordion(e.data,0),n=r(t)(i);o.find(".sit-menu-container").empty().append(n)},s.refresh(s),c(function(){o.find(".sit-panel-cont").css("width",o.find(".sit-menu-container")[0].scrollWidth),o.find(".highlight-selected-menu").css("width",o.find(".sit-menu-container")[0].scrollWidth)},1e3)}}}])}(),function(){function e(e,t,n){var r,a;function o(e){return function e(t,n){var i,o;var a=t.length;for(i=0;i<a;i++){if(t[i].id===n){o=t[i];break}if(t[i].hasOwnProperty("items")&&(o=e(t[i].items,n)))break}return o}(r,e)}function s(e){var t,n,i;for(n=r.length,t=0;t<n;t++){if(r[t].id===e){i=null;break}if(r[t].hasOwnProperty("items")&&(i=c(r[t],e)))break}return i}function c(e,t){var n,i,o=e.items.length;for(n=0;n<o;n++){if(e.items[n].id===t){i=e;break}if(e.items[n].hasOwnProperty("items")&&(i=c(e.items[n],t)))break}return i}function l(){e(function(){n()})}function i(e){r=e,function(){var e,t,n,i,o=[];if(r&&0<r.length)for(o=function(){var e,t,n=[];for(e=r.length,t=0;t<e;t++)r[t].opened&&!0===r[t].opened||r[t].isSelected&&!0===r[t].isSelected?(n.push(r[t].id),r[t].isSelected&&!0===r[t].isSelected&&(a=r[t].id),r[t].hasOwnProperty("items")&&(n=n.concat(d(r[t])))):n=n.concat(d(r[t]));return n}(),e=o.length,i=e;0<i;i--)for(t=o[i-1];null!==(n=s(t))&&(n.opened&&!1!==n.opened||(n.opened=!0),t=n.id),null!==n;);}()}function d(e){var t,n,i=[];if(e.items&&0<e.items.length)for(t=e.items.length,n=0;n<t;n++)(e.items[n].opened&&!0===e.items[n].opened||e.items[n].isSelected&&!0===e.items[n].isSelected)&&(i.push(e.items[n].id),!0===e.items[n].isSelected&&(a=e.items[n].id)),e.items[n].hasOwnProperty("items")&&(i=i.concat(d(e.items[n])));return i}this.get=o,this.getParent=s,this.add=function(e,t,n){if(t){var i=o(t);i.items||(i.items=[]),n?i.items.splice(n,0,e):i.items.push(e)}else n?r.splice(n,0,e):r.push(e);return l(),r},this.remove=function(e){var t,n,i,o;for((t=s(e))?(n=t.items.length,o=t.items):(n=r.length,o=r),i=0;i<n;i++)if(o[i].id===e){o.splice(i,1);break}return l(),r},this.update=function(e,t){var n,i,o,a;for((n=s(e))?(i=n.items.length,a=n.items):(i=r.length,a=r),o=0;o<i;o++)a[o].id===e&&(a[o]=t);return l(),r},this.refresh=l,this.getSelectedItem=function(){return a},(this.setMenu=i)(t)}angular.module("siemens.simaticit.common.widgets.accordion").factory("common.accordion.accordionService",[function(){return{Accordion:e}}])}(),angular.module("siemens.simaticit.common.widgets.accordion").directive("sitAccordionTransclude",["$filter",function(o){return{require:"^sitAccordionGroup",link:function(e,n,t,i){e.$watch(function(){return i[t.sitAccordionTransclude]},function(e){if(e)if(n.html(""),n.append(e),-1!==e[0].textContent.indexOf("|")){var t=e[0].textContent.substring(3,e[0].textContent.indexOf("|")-1);n[0].title=o("translate")(t)}else n[0].title=e[0].textContent})}}}]),angular.module("siemens.simaticit.common.widgets.advancedSelect",["ui.bootstrap"]),function(){function e(b){return{restrict:"E",scope:{},bindToController:{readOnly:"=sitReadOnly",sitOptions:"=sitOptions",sitSelectedString:"=",sitSplitList:"=",sitPlaceholder:"=sitPlaceholder",sitDoneCallback:"&",validation:"=sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",multiSelect:"=?sitMultiSelect",sitToGroup:"=?"},templateUrl:"common/widgets/advancedSelect/sit-advanced-select.html",controllerAs:"ctrl",controller:t,link:function(o,s,e,a){var r=38,c=40,l=13,t="",d="",n=0,i=[];function m(){var e,t=s.find("button")[0].offsetWidth,n=s.find("ul").children("li");n.css("width","inherit"),0<n.length&&t<(e=s.find("ul")[0].scrollWidth)&&n.css("width",e-1)}a.isFalsy=function(e){return!e.selected};var u=function(){b(function(){var e=0,t=s.find("li.selected"),n=t[0].offsetHeight,i=t[0].offsetTop,o=n+i,a=t.parent()[0].scrollTop,r=t.parent()[0].clientHeight;r+Math.ceil(a)<o?(e=o-r,t.parent().scrollTop(e)):o<a&&(e=i,t.parent().scrollTop(e))},50)},p=_.debounce(function(e){d!==t&&(i=[],n=0),i.length?n===i.length-1?n=0:n++:a.sitOptions.forEach(function(e){e.name.toLowerCase().startsWith(d.toLowerCase())&&i.push(e)}),t=d,d="",i[n]&&(a.toggleSelected(e,i[n]),o.$apply(),u())},500);function g(e){e.keyCode!==r&&e.keyCode!==c&&e.keyCode!==l&&27!==e.keyCode&&(d+=e.originalEvent.key,p(e))}function f(e){var t,n;if(e.keyCode===r?0===(n=s.find("li.selected")).length?(a.toggleSelected(e,a.sitOptions[0]),o.$apply()):t=0===n.prev().length?n.siblings().last().attr("data-internal-type"):n.prev().attr("data-internal-type"):e.keyCode===c?0===(n=s.find("li.selected")).length?(a.toggleSelected(e,a.sitOptions[0]),o.$apply()):t=0===n.next().length?n.siblings().first().attr("data-internal-type"):n.next().attr("data-internal-type"):e.keyCode===l?(h(),s.find("div.dropdown").removeClass("open"),s.find("#dropdownMenuAdvanced").attr("aria-expanded",!1),e.preventDefault()):(d+=e.originalEvent.key,p(e)),t){var i=_.find(a.sitOptions,function(e){return e.id===t});a.toggleSelected(e,i),o.$apply()}}function h(){var e=s.find("ul.dropdown-menu"),t=s.find("button#dropdownMenuAdvanced");e.off("keydown",f),t.focus()}function v(){var e;m(),a.multiSelect||a.sitToGroup||(u(),(e=s.find("ul.dropdown-menu")).focus(),e.on("keydown",f))}function y(){a.updateSelectedString(),a.sitDoneCallback&&a.sitDoneCallback(),a.multiSelect||a.sitToGroup||h()}var C=o.$on("sit-layout-change",function(e,t){"layout"===t.eventSource&&(s.find(".dropdown.multi-select-dropdown").find(".dropdownButtonLabel").css("width","50px"),b(function(){a.setButtonLabelWidth(),m()},100))});b(function(){s.find(".multi-select-dropdown").on("shown.bs.dropdown",v),a.multiSelect||a.sitToGroup||s.find("button#dropdownMenuAdvanced").on("keydown",g)},100,!1),b(function(){s.find(".multi-select-dropdown").on("hidden.bs.dropdown",y)},100,!1),o.$on("$destroy",function(){s.find(".multi-select-dropdown").off("shown.bs.dropdown",v),s.find(".multi-select-dropdown").off("hidden.bs.dropdown",y),a.multiSelect||a.sitToGroup||(s.find("ul.dropdown-menu").off("keydown",f),s.find("button#dropdownMenuAdvanced").off("keydown",g)),C()})}}}function t(e,t,n,i){var o=this;function a(){var e=_.find(o.sitOptions,function(e){return e.id===o.sitSelectedString});e&&void 0!==e.name&&null!==e.name&&""!==e.name?(o.sitSelectedStringName=e.name,e.selected||(e.selected=!0)):o.sitSelectedStringName=""}if(o.toggleSelected=function(e,t){o.multiSelect?e.stopPropagation():(o.sitOptions.forEach(function(e){e.selected=!1}),o.sitSelectedString="",o.setButtonLabelWidth());t.selected=!t.selected,o.updateSelectedString()},o.toggleDirection=function(e,t){e.stopPropagation(),t.direction="desc"===t.direction?"asc":"desc"},o.getSelectedText=function(){var t=0,n="";{if(o.sitOptions.forEach(function(e){e.selected&&(t++,n=e.name)}),0===t)return o.sitPlaceholder;if(1===t)return n;if(1<t)return t+" "+e.instant("common.selected")}},o.updateSelectedString=function(){var e=o.sitOptions.filter(function(e){return e.selected});o.multiSelect?o.sitSelectedString=e.map(function(e){return e.id}).join():o.sitSelectedString=e.map(function(e){return e.id})[0];o.setButtonLabelWidth()},o.setButtonLabelWidth=function(){var e=n.find(".dropdown.multi-select-dropdown")[0]?n.find(".dropdown.multi-select-dropdown")[0].offsetWidth:"";n.find(".dropdown.multi-select-dropdown").find(".dropdownButtonLabel").css("width",e-40+"px")},o.getTemplate=function(){return o.multiSelect?"common/widgets/advancedSelect/multi-selection.html":"common/widgets/advancedSelect/single-selection.html"},!o.multiSelect&&0<o.sitOptions.length&&(_.each(o.sitOptions,function(e){e.selected=!1}),a()),!o.multiSelect){var r=t.$watch(function(){return o.sitOptions},function(e,t){e.length!==t.length&&a()}),s=t.$watch(function(){return o.sitSelectedString},function(e,t){e!==t&&(_.each(o.sitOptions,function(e){e.selected=!1}),a())});t.$on("$destroy",function(){s(),r()})}o.multiSelect&&o.sitSelectedString&&"string"==typeof o.sitSelectedString&&o.sitSelectedString.split(",").forEach(function(t,e){var n=_.find(o.sitOptions,function(e){return e.id===t});n&&(n.selected=!0)})}angular.module("siemens.simaticit.common.widgets.advancedSelect").directive("sitAdvancedSelect",e),angular.module("siemens.simaticit.common.widgets.advancedSelect").filter("groupBy",function(){return _.memoize(function(e,t){return _.groupBy(e,t)})}),e.$inject=["$timeout"],t.$inject=["$translate","$scope","$element","$timeout"]}(),angular.module("siemens.simaticit.common.widgets.auditTrail",[]),function(e){var t,c,n;t=e.framework||(e.framework={}),c=function(){function e(){}return e.ADDED="Added",e.MODIFIED="Modified",e.REMOVED="Removed",e.SIGNATURE_APPROVED="Signature Approved",e.SIGNATURE_REJECTED="Signature Rejected",e}(),n=function(){function a(e,t,n,i){this.$q=e,this.$window=t,this.$filter=n,this.backendService=i,this.enabled=null!==i.getAppEndPoint(a.APP_NAME)}return a.prototype.isEnabled=function(){return this.enabled},a.prototype.getFilterString=function(e){return this.processFilter(e)},a.prototype.getRecords=function(e,t){var n=this;void 0===t&&(t=null);var i=this.$q.defer();if(t){var o=e.options;o=-1===o.indexOf("$filter=")?"$filter="+t+"&"+o:o.replace("$filter=","$filter="+t+" and "),e.options=o}return this.backendService.findAll(e).then(function(e){e.value.forEach(function(e){n.processRecord(e,!0)}),i.resolve(e)},function(e){i.reject(e)}),i.promise},a.prototype.getCompositionPartEntities=function(e,t){var n=this,i=this.$q.defer(),o={appName:a.APP_NAME,entityName:a.ENTITY_NAME,options:"$select=Id,EntityType,RootEntityId,RootEntityName,RootEntityType,ChangedEntityId,ChangedEntityName,ChangedEntityType,RootCommand,Action,UserName,UpdatedOn,Environment,ComputerName,ChangedEntity,CorrelationId,Domain,Ordering,TransactionId,AssociatedRows,ElectronicSignatureId&$filter=RootEntityId ne ChangedEntityId and RootEntityId eq "+e+" and TransactionId eq "+t};return this.backendService.findAll(o).then(function(e){e.value.forEach(function(e){n.processRecord(e,!1)}),i.resolve(e.value)},function(e){i.reject(e)}),i.promise},a.prototype.processRecord=function(n,e){var i=this;if(void 0===e&&(e=!1),!n.isProcessed){n.isProcessed=!0,n.RootCommandShortName=this.getShortName(n.RootCommand),n.RootEntityShortType=this.getShortName(n.RootEntityType),n.ChangedEntityShortType=this.getShortName(n.ChangedEntityType);try{n.RootEntityName=JSON.parse(n.RootEntityName),n.ChangedEntityName=JSON.parse(n.ChangedEntityName),n.ChangedEntity=JSON.parse(n.ChangedEntity),0===n.ChangedEntity.length&&(n.RootEntityName=[],n.ChangedEntityName=[],n.ChangedEntity={LogicalKeyProperties:[],ChangedScalarProperties:[],ChangedComplexProperties:[],ChangedForwardNavigationProperties:[],ChangedBackwardNavigationProperties:[]},n.isESRecord=!0)}catch(e){n.RootEntityName=[],n.ChangedEntityName=[],n.ChangedEntity={LogicalKeyProperties:[],ChangedScalarProperties:[],ChangedComplexProperties:[],ChangedForwardNavigationProperties:[],ChangedBackwardNavigationProperties:[]}}if(n.isRootEntity=e){if(n.isCompositionModified=n.ChangedEntity.ChangedBackwardNavigationProperties.some(function(e){return e.IsComposition}),n.isManyToMany=n.ChangedEntity.ChangedBackwardNavigationProperties.some(function(e){return!e.IsComposition}),n.isManyToOne=n.ChangedEntity.ChangedForwardNavigationProperties.some(function(e){return!e.IsComposition}),n.isMoreDetailsAvailable=!1,n.isOnlyPartModified=!1,1<n.AssociatedRows?n.isMoreDetailsAvailable=!0:n.RootEntityType!==n.ChangedEntityType?(n.isMoreDetailsAvailable=!0,n.isOnlyPartModified=!n.isManyToMany):(n.isMoreDetailsAvailable=!1,n.isOnlyPartModified=!1),n.summary={timestamp:n.UpdatedOn,username:n.UserName,action:n.Action.replace(/\s+/g,""),entity:n.RootEntityShortType,environment:n.Environment},n.RootEntityName.length){var t="";n.RootEntityName.forEach(function(e){t=t+", "+e.Name+": "+e.Value}),n.summary.entity=n.summary.entity+" ("+t.substr(2)+")"}n.relationships=[],n.isManyToMany&&n.ChangedEntity.ChangedBackwardNavigationProperties.forEach(function(e){var t;e.IsComposition||null!==(t=-1!==e.$type.indexOf("ChangedOneNavigationProperty")?i.processOnePartRelationship(e):i.processManyPartRelationship(e))&&n.relationships.push(t)}),n.isManyToOne&&n.ChangedEntity.ChangedForwardNavigationProperties.forEach(function(e){var t;e.IsComposition||null!==(t=-1!==e.$type.indexOf("ChangedOneNavigationProperty")?i.processOnePartRelationship(e):i.processManyPartRelationship(e))&&n.relationships.push(t)})}}},a.prototype.processManyPartRelationship=function(e){var t,n;e.Added.length?(n=c.ADDED,t=e.Added[0].LogicalKey):(n=c.REMOVED,t=e.Removed[0].LogicalKey);var i="";return t.forEach(function(e){i=i+", "+e.Name+": "+e.Value}),{entity:this.getShortName(e.EntityType),entityFullName:e.EntityType,logicalKey:i?"("+i.substr(2)+")":"",action:n,type:"many"}},a.prototype.processOnePartRelationship=function(e){var t,n,i,o=e.OldValue.Id,a=e.NewValue.Id;if(o===a)return null;null===o&&null!==a?(i=c.ADDED,n=null,t=e.NewValue.LogicalKey):null!==o&&null===a?(i=c.REMOVED,n=e.OldValue.LogicalKey,t=null):(i=c.MODIFIED,n=e.OldValue.LogicalKey,t=e.NewValue.LogicalKey);var r="",s="";return null!==n&&n.forEach(function(e){r=r+", "+e.Name+": "+e.Value}),null!==t&&t.forEach(function(e){s=s+", "+e.Name+": "+e.Value}),{entity:this.getShortName(e.EntityType),entityFullName:e.EntityType,oldLogicalKey:r?"("+r.substr(2)+")":"",newLogicalKey:s?"("+s.substr(2)+")":"",propertyName:e.Name,action:i,type:"one"}},a.prototype.getShortName=function(e){return e?e.substring(e.lastIndexOf(".")+1):""},a.prototype.getDate=function(){var e=this.$window.moment();return e.set({millisecond:0,second:0,minute:0,hour:0}),e},a.prototype.processFilter=function(e){var t="AssociatedRows ge 1";if(!e)return t;for(var n=Object.keys(e),i=2,o=0;o<n.length;o++){var a=n[o],r=e[a];if(r){var s="";switch(a){case"EntityId":s="RootEntityId eq "+r;break;case"EntityFullName":s="RootEntityType eq '"+r+"'";break;case"UserName":s="UserName eq '"+r+"'";break;case"Action":s="Action eq '"+r+"'";break;case"RootCommand":s="RootCommand eq '"+r+"'";break;case"Timestamp":if(Object.keys(r).length){var c=this.getDate();s="(UpdatedOn ge "+this.getDate().subtract(r).toISOString()+" and UpdatedOn lt "+c.toISOString()+")"}}""!==s&&(t=t+(1<i?" and ":"")+s,i+=1)}}return t},a.prototype.getElectronicSignature=function(e){var n=this,i=this.$q.defer(),t={appName:a.APP_NAME,entityName:a.ES_ENTITY_NAME,options:"$select= Signer, Status, TimeStamp,Comment,Reason &$filter=Id eq "+e};return this.backendService.findAll(t).then(function(e){var t=[{Name:"Signer",Value:e.value[0].Signer.Name},{Name:"Reason",Value:e.value[0].Reason},{Name:"TimeStamp",Value:n.$filter("date")(new Date(e.value[0].TimeStamp),"MMM d, y h:mm:ss a")},{Name:"Status",Value:e.value[0].Status},{Name:"Comment",Value:e.value[0].Comment}];i.resolve(t)},function(e){i.reject(e)}),i.promise},a.APP_NAME="AuditTrail",a.ENTITY_NAME="AuditTrailRecord",a.ES_ENTITY_NAME="SignatureInstance",a.$inject=["$q","$window","$filter","common.services.runtime.backendService"],a}(),t.AuditTrailService=n,angular.module("siemens.simaticit.common.widgets.auditTrail").service("common.widgets.auditTrail.service",n)}(sit||(sit={})),function(){function e(){return{scope:{},bindToController:{data:"=sitData"},controller:t,controllerAs:"vm",templateUrl:"common/widgets/auditTrail/sit-at-composition-details.html"}}function t(e){var o=this;function t(t){var n=t.data;null!==n.parts&&0<n.parts.length?t.opened=!t.opened:e.getCompositionPartEntities(n.ChangedEntityId,n.TransactionId).then(function(e){(n.parts=e).length&&(t.items=[],i(n,t.items,n.parts),t.opened=!0)},function(e){})}function n(e){e.selected?(o.currentPart=e.data,o.currentPartConfig&&o.currentPartConfig.refresh&&o.currentPartConfig.refresh()):o.currentPart=null}function i(e,i,t){t.forEach(function(e){e.parts=null;var t=e.Action.replace(/\s+/g,""),n={data:e,id:"part_"+e.Id,label:e.ChangedEntityShortType+" has been "+t,opened:!1,selected:!1,action:t};i.push(n),o.parts[n.id]=n})}o.ready=!1,function(){if(o.parts={},o.currentPart=null,o.currentPartConfig={},o.accordion={config:{icon:"fa-plus",openIcon:"fa-minus",onClickCallback:n,loadPartEntities:t,showPartDetails:n},data:[]},1===o.data.AssociatedRows&&o.data.isOnlyPartModified)return i(null,o.accordion.data,[o.data]),o.ready=!0;e.getCompositionPartEntities(o.data.RootEntityId,o.data.TransactionId).then(function(e){i(null,o.accordion.data,e),o.ready=!0},function(e){})}()}angular.module("siemens.simaticit.common.widgets.auditTrail").directive("sitAtCompositionDetails",e),e.$inject=[],t.$inject=["common.widgets.auditTrail.service"]}(),function(){function e(){return{scope:{},bindToController:{data:"=sitData",config:"=sitConfig"},controller:t,controllerAs:"vm",templateUrl:"common/widgets/auditTrail/sit-at-parts-tree.html"}}function t(){var t,n=this;function e(e){return e.selected=!e.selected,null===t?(t=e,void n.config.showPartDetails(e)):(t.selected=!1,t=e.id===t.id?null:e,void n.config.showPartDetails(e))}t=null,n.onSelectedChanged=e}angular.module("siemens.simaticit.common.widgets.auditTrail").directive("sitAtPartsTree",e),e.$inject=[],t.$inject=[]}(),function(){function e(){return{scope:{},bindToController:{record:"=sitData",config:"=sitConfig"},controller:t,controllerAs:"vm",templateUrl:"common/widgets/auditTrail/sit-at-record-details.html"}}function t(e){var t=this;function n(){t.record.ElectronicSignatureId&&!t.record.ElectronicSignatureDetails&&e.getElectronicSignature(t.record.ElectronicSignatureId).then(function(e){t.record.ElectronicSignatureDetails=e},function(e){})}n(),t.config&&(t.config.refresh=n)}angular.module("siemens.simaticit.common.widgets.auditTrail").directive("sitAtRecordDetails",e),e.$inject=[],t.$inject=["common.widgets.auditTrail.service"]}(),function(){function e(){return{scope:{},bindToController:{filter:"=sitFilter",startEmpty:"=sitStartEmpty",config:"=sitConfig"},controller:t,controllerAs:"vm",templateUrl:"common/widgets/auditTrail/sit-at-viewer.html"}}function t(t,n,i){var o,a=this;function e(e){e.getSettings().sort={predicate:"UpdatedOn",reverse:!0},a.config.onInit&&a.config.onInit.call(null,e)}function r(e){a.config.onPageChange&&a.config.onPageChange.call(null,e)}function s(e,t){a.config.onSortChange&&a.config.onSortChange.call(null,e,t)}function c(e,t){a.config.onSelectionChange&&a.config.onSelectionChange.call(null,e,t)}function l(){a.ready||(a.isEnabled&&(g(),function(){for(var e=Object.keys(a.filter),t=0;t<e.length;t++){var n=e[t],i=a.filter[n];if(i){var o=null;switch(n){case"EntityId":o="RootEntityId";break;case"EntityFullName":o="RootEntityType";break;case"UserName":o="UserName";break;case"Action":o="Action";break;case"RootCommand":o="RootCommand";break;case"Timestamp":Object.keys(i).length&&(o="UpdatedOn")}null!==o&&(a.tableConfig.fields[o].sorting=!1,delete a.tableConfig.fields[o].filtering)}}}()),a.ready=!0)}function d(){a.ready&&a.tableConfig.refreshData&&(g(),a.tableConfig.refreshData())}function m(e){n.set({title:t.instant("auditTrail.composition.title"),templatedata:e,templateuri:"sit-at-composition-viewer.html",buttons:[{id:"at_btn_ok",displayName:t.instant("common.ok"),onClickCallback:u}]}),n.show()}function u(){n.hide()}function p(e){return i.getRecords(e,o)}function g(){o=i.getFilterString(a.filter)}function f(t){var e=null,n=$.extend({},a.tableConfig.getSettings());if(n.hasOwnProperty("filter"))if(n.filter.hasOwnProperty("predicateObject")){if(void 0!==(e=_.find(n.filter.predicateObject,function(e){return"RootEntityId"===e.filterField.field&&t===e.value&&"="===e.operator})))return}else n.filter.predicateObject=[];else n.filter={predicateObject:[]};e={filterField:{type:"GUID",default:!1,validation:{},field:"RootEntityId"},andOr:"and",operator:"=",matchCase:!1,validation:{required:!1},showValueField:!1,value:t,widget:"sit-text"},n.filter.predicateObject.push(e),a.tableConfig.applySettings(n),a.tableConfig.refreshData()}!function(){if(a.filter=a.filter||{},a.startEmpty=a.startEmpty||!1,a.config=a.config||{},a.config.uniqueID=a.config.uniqueID||"Id",a.config.enableColumnResizing=a.config.enableColumnResizing||!0,a.config.pageSizeDefault=a.config.pageSizeDefault||10,a.config.pageSizes=a.config.pageSizes||[10,25,50,100,250],a.config.onInit=a.config.onInit||null,a.config.onPageChange=a.config.onPageChange||null,a.config.onSortChange=a.config.onSortChange||null,a.ready=!1,o=null,a.showColumn=!0,a.isEnabled=i.isEnabled(),a.filterbyGUID=f,a.tableConfig={enableColumnResizing:a.config.enableColumnResizing,pageSizes:a.config.pageSizes,pageSizeDefault:a.config.pageSizeDefault,uniqueID:a.config.uniqueID,selectionMode:"none",fields:{RootEntityId:{sorting:!0,grouping:!0,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.RootEntityId"),filtering:{type:"guid",default:!1,validation:{required:!1}}},RootEntityType:{sorting:!0,grouping:!1,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.RootEntityType"),filtering:{type:"string",default:!1,validation:{required:!1},allowedCompareOperators:["contains","endsWith","isnull","isnotnull"]}},Action:{sorting:!0,grouping:!0,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.Action"),filtering:{type:"string",default:!1,validation:{required:!1}}},UserName:{sorting:!0,grouping:!0,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.UserName"),filtering:{type:"string",default:!1,validation:{required:!1}}},UpdatedOn:{sorting:!0,grouping:!0,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.UpdatedOn"),filtering:{type:"date",default:!1,validation:{required:!1},widget:"sit-date-time-picker"}},RootCommand:{sorting:!0,grouping:!0,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.RootCommand"),filtering:{type:"string",default:!1,validation:{required:!1}}},Environment:{sorting:!0,grouping:!0,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.Environment")},Domain:{sorting:!1,grouping:!1,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.Domain")},ExecutionInstance:{sorting:!1,grouping:!1,quicksearch:!1,displayName:t.instant("auditTrail.viewer.headers.ExecutionInstance")}},dataSource:{dataService:{findAll:p},dataEntity:"AuditTrailRecord",appName:"AuditTrail",optionsString:"$select=Id,EntityType,RootEntityId,RootEntityName,RootEntityType,ChangedEntityId,ChangedEntityName,ChangedEntityType,RootCommand,Action,UserName,UpdatedOn,Environment,ComputerName,ChangedEntity,CorrelationId,Domain,Ordering,TransactionId,AssociatedRows,ElectronicSignatureId"},onInitCallback:e,onPageChangeCallback:r,onSortChangeCallback:s,onSelectionChangeCallback:c},a.config.loadData=l,a.config.refreshData=d,a.refreshData=d,a.showMoreDetails=m,a.startEmpty)return;l(),a.filter.EntityId&&(a.showColumn=!1)}()}angular.module("siemens.simaticit.common.widgets.auditTrail").directive("sitAtViewer",e),e.$inject=[],t.$inject=["$translate","common.widgets.globalDialog.service","common.widgets.auditTrail.service"]}(),angular.module("siemens.simaticit.common.widgets.bindDynamicHtml",[]),angular.module("siemens.simaticit.common.widgets.bindDynamicHtml").directive("sitBindDynamicHtml",["$compile","$rootScope",function(o,a){return{restrict:"A",replace:!0,link:function(t,n,i){t.$watch(i.sitBindDynamicHtml,function(e){e?(n.html(e),o(n.contents())(t),a.$broadcast("siemens.simaticit.common.page.contentRendered",{content:n.contents(),callee:i.sitBindDynamicHtml})):n.html("")})}}}]),angular.module("siemens.simaticit.common.widgets.breadcrumb",["ui.router.state"]),function(){function e(e,n,i){var o=this;o.draw=function(){o.trails=n.getStatesChain(),o.tobeShown=[],o.tobeHidden=[],o.breadcrumbType="Complete",p="",o.showAsDropDown=!1,o.showFlyout=!1,g=0;var e=[],t=0;if(0===o.trails.length)return;for(angular.forEach(o.trails,function(e){var t=n.getStateTitle(e.name);e.title=void 0!==t?n.getStateTitle(e.name):e.data&&e.data.title?i("translate")(e.data.title):e.name}),o.breadcrumbLastItemWidth=h('<ol class="breadcrumb"><li>...</li><li>'+o.trails[o.trails.length-1].title+"</li></ol>"),t=0;t<o.trails.length-1;t++)e[e.length]="<li>"+o.trails[t].title+"</li>";e[e.length]='<li><span style="font-weight:bold;">'+o.trails[t].title+"</span></li>",p='<ol class="breadcrumb">'+e.join("")+"</ol>",o.breadcrumbStringWidth=h(p),o.containerDivWidth=$('div[data-internal-type="breadcrumbContainerDiv"]').outerWidth(),g=o.containerDivWidth-(o.containerDivWidth<l?a:o.containerDivWidth>=l&&o.containerDivWidth<d?r:o.containerDivWidth>=d&&o.containerDivWidth<m?s:c)-u,o.widthOfThreeItems=h('<ol class="breadcrumb"><li>'+o.trails[0].title+'</li><li>...</li><li><span style="font-weight:bold;">'+o.trails[o.trails.length-1].title+"</span></li></ol>"),0<g&&(g>o.breadcrumbStringWidth||1===o.trails.length?(1===o.trails.length&&g<h(o.trails[0].title)&&(o.trails[0].title=o.trails[0].title.substring(0,f(g))+"..."),o.breadcrumbType="Complete"):g>o.widthOfThreeItems?o.breadcrumbType="HideMiddle":o.breadcrumbType="ShowOnlyLast"),"HideMiddle"===o.breadcrumbType?(o.tobeShown[o.tobeShown.length]=o.trails[0],o.tobeShown[o.tobeShown.length]={data:{title:"..."},name:"show",title:"...",url:"",sitBreadcrumbLink:""},o.tobeShown[o.tobeShown.length]=o.trails[o.trails.length-1],o.tobeHidden=o.trails.slice(1,o.trails.length-1)):"ShowOnlyLast"===o.breadcrumbType&&(o.tobeShown[o.tobeShown.length]={data:{title:"..."},name:"show",title:"...",url:"",sitBreadcrumbLink:""},o.tobeShown[o.tobeShown.length]=o.trails[o.trails.length-1],o.tobeHidden=o.trails.slice(0,o.trails.length-1),o.toolTipforLastItem=o.tobeShown[1].title,0<g&&o.breadcrumbLastItemWidth+30>g&&10<=o.tobeShown[1].title.length&&(o.tobeShown[1].title=o.tobeShown[1].title.substring(0,f(g))+"..."))},o.setFlyoutType=function(){o.showAsDropDown=!1;for(var e=[],t=0;t<o.tobeHidden.length;t++)e.push(o.tobeHidden[t].data.title);var n=e.join(" > ");g<h(n)&&(o.showAsDropDown=!0)},o.setFlyoutVisibility=function(e){o.showFlyout=e},o.setFlyoutStyles=function(e,t,n){o.flyoutTop=e,o.flyoutLeft=t,o.flyoutMarginLeft=n;for(var i=0;i<o.tobeHidden.length;i++)o.tobeHidden[i].toolTip=o.tobeHidden[i].data.title},o.isDropdown=function(){return o.showAsDropDown};var a=56,r=56,s=248,c=248,l=768,d=992,m=1200,u=15,p="",g=0;function f(e){return Math.floor(e/14)}function h(e){var t=$("<div></div>").css({"font-family":'"Segoe UI", "Arial", "serif"',"font-size":"11pt",display:"inline-block"}).appendTo($('div[data-internal-type="breadcrumbContainerDiv"]'));t.html(e);var n=t.width();return t.remove(),n}o.draw()}e.$inject=["$interpolate","common.breadcrumb.breadcrumbService","$filter"],angular.module("siemens.simaticit.common.widgets.breadcrumb").directive("sitBreadcrumb",["$rootScope","$window","$timeout",function(m,u,p){return{restrict:"E",replace:!0,controller:e,controllerAs:"ctrl",templateUrl:"common/widgets/breadcrumb/breadcrumb.html",link:{post:function(t,a,e,r){var s=28,c=1,l="14px";function n(){r.draw(),t.$apply()}function i(e){p(function(){e.target.classList&&e.target.classList.contains("breadcrumbEllipsis")?function(){var e,t,n,i=$('li span[data-internal-type="breadcrumb-ellipsis"]',a);r.setFlyoutType(),r.setFlyoutVisibility(!0);var o=$(a).offset().left;r.isDropdown()?(e=i.offset().top+s+"px",t=i.offset().left+c+"px",n=0):(e=i.offset().top+s+"px",t=l,n=o+"px"),r.setFlyoutStyles(e,t,n)}():function(){r.setFlyoutVisibility(!1);var e=$('li span[data-internal-type="breadcrumb-ellipsis"]',a);e&&e.css({border:"none"})}(),t.$apply()})}function o(){r.draw()}u.addEventListener("resize",n),$(u.document).on("click",i);var d=m.$on("$viewContentLoaded",o);m.$on("breadcrumbService.stateTitleChanged",o),t.$on("$destroy",function(){u.removeEventListener("resize",n),$(u.document).off("click",i),d()}),m.$on("common.services.globalization.globalizationService.setLanguage",function(){r.draw()})}}}}])}(),function(){function e(a,r,n){var i=/^(.+)\.[^.]+$/,o=n,s={};function c(e){var t=e.parent||(i.exec(e.name)||[])[1];return t&&a.get(t)}n.$on("$viewContentLoaded",function(e){var t,n;t=e.targetScope.$id,n=o.$id,(angular.equals(t.length,n.length)?n<t:t.length>n.length)&&(o=e.targetScope)}),this.getStatesChain=function(){for(var e,t,n=[],i=a.$current.self;i&&""!==i.name;i=c(i)){i.hasOwnProperty("data")||(i.data={});var o=c(i);o&&o.data&&i.data.title===o.data.title||(e=n,(t=i).abstract||(t.sitBreadcrumbLink=a.href(t.name,r||{}),e.unshift(t)))}return n},this.getLastViewScope=function(){return o},this.setStateTitle=function(e,t){t!==s[e]&&(s[e]=t,n.$broadcast("breadcrumbService.stateTitleChanged"))},this.getStateTitle=function(e){return s[e]}}e.$inject=["$state","$stateParams","$rootScope"],angular.module("siemens.simaticit.common.widgets.breadcrumb").service("common.breadcrumb.breadcrumbService",e)}(),angular.module("siemens.simaticit.common.widgets.busyIndicator",[]),function(){function e(n,i){var o=this;function e(){o.message=o.defaultOptions.message,o.icon=o.defaultOptions.icon,o.delay=o.defaultOptions.delay,o.svgIcon=o.defaultOptions.svgIcon,o.indicatorIcon=o.defaultOptions.indicatorIcon,t()}function t(){o.svgIcon?o.displayIcon="common/icons/"+o.svgIcon+".svg":o.indicatorIcon?o.displayIcon="common/icons/indicator"+o.indicatorIcon+"16.svg":o.displayIcon="common/icons/grahCircleLoader80R.SVG"}o.message=o.message,o.delay=o.delay||500,o.defaultOptions={message:o.message,icon:o.icon,delay:o.delay,svgIcon:o.svgIcon,indicatorIcon:o.indicatorIcon},o.setOptionsDefault=e,o.setDisplayIcon=t;var a=i.$on("siemens.simaticit.common.stateChangeSuccess",function(e,t){"home"===t.fromState.name&&(i.globalBusyIndicator.message=o.message||n.instant("common.busy-message.loading"),a())})}e.$inject=["$translate","$rootScope"],angular.module("siemens.simaticit.common.widgets.busyIndicator").directive("sitBusyIndicator",["$timeout","common.widgets.busyIndicator.service",function(a,r){return{templateUrl:"common/widgets/busyIndicator/busy-indicator.html",replace:!0,scope:{},controller:e,controllerAs:"busyCtrl",bindToController:{message:"=sitMessage",svgIcon:"=?sitSvgIcon",indicatorIcon:"=?sitIndicatorIcon",delay:"=sitDelay"},link:function(e,t,n,i){var o;e.$on("$destroy",function(){a.cancel(o)}),r.registerShowCallback(function(e){i.displayIcon=null,void 0===e?i.setOptionsDefault():(i.message=e.message||i.defaultOptions.message,i.icon=e.icon||i.defaultOptions.icon,i.delay=e.delay||i.defaultOptions.delay,i.svgIcon=e.svgIcon||i.defaultOptions.svgIcon,i.indicatorIcon=e.indicatorIcon||i.defaultOptions.indicatorIcon,i.setDisplayIcon()),0<i.delay?o=a(function(){t.modal("show")},i.delay):t.modal("show")}),r.registerHideCallback(function(){a.cancel(o),t.modal("hide"),i.setOptionsDefault()})}}}])}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e){this.swacUiModuleManager=e,this.busyIndicatorCount=0,this.showCallbacks=[],this.hideCallbacks=[]}return e.prototype.show=function(t){this.swacUiModuleManager.enabled?this.swacUiModuleManager.busyServicePromise.promise.then(function(e){void 0!==t&&void 0!==t.message?e.show(t.message):e.show()}):(0===this.busyIndicatorCount&&this.showCallbacks.forEach(function(e){e(t)}),this.busyIndicatorCount++)},e.prototype.hide=function(){this.swacUiModuleManager.enabled?this.swacUiModuleManager.busyServicePromise.promise.then(function(e){e.hide()}):(0<this.busyIndicatorCount&&this.busyIndicatorCount--,this.busyIndicatorCount<=0&&this.hideCallbacks.forEach(function(e){e()}))},e.prototype.registerShowCallback=function(e){e&&this.showCallbacks.push(e)},e.prototype.registerHideCallback=function(e){e&&this.hideCallbacks.push(e)},e.$inject=["common.services.swac.SwacUiModuleManager"],e}(),t.BusyIndicatorService=n,angular.module("siemens.simaticit.common.widgets.busyIndicator").service("common.widgets.busyIndicator.service",n)}(sit||(sit={})),angular.module("siemens.simaticit.common.widgets.carousel",[]),function(){function e(){}function t(d,m){return{restrict:"E",templateUrl:"common/widgets/carousel/carousel.html",controller:e,controllerAs:"carouselCtrl",scope:{},bindToController:{sitItems:"=",sitValue:"=",onSelectionCallback:"=sitOnSelectionCallback",readonly:"=ngReadonly"},link:function(e,t,n,o){var i,a=150,r=0,s=window.innerWidth;function c(){var e=0;if(s=window.innerWidth,0<$(".carousel-inner").length&&0<$(".carousel-inner").width()){var t=Math.min(parseInt($(".carousel-inner").width()/160),o.sitItems.length);o.slideCount=t,r=t*a+40;for(var n=0,i=o.sitItems.length;n<i;n++)o.sitItems[n].id===o.sitValue&&($(".carousel-inner .inner").width(t*a),$(".carousel-inner").width(r),n<o.sitItems.length-t?(e=-n*a+"px",o.firstImage=n+1):(e=-(o.sitItems.length-t)*a+"px",o.firstImage=o.sitItems.length-t+1),o.lastImage=n+t<o.sitItems.length?n+t:o.sitItems.length);$(".carousel-inner ul").animate({marginLeft:e}).width(o.sitItems.length*a+"px")}}function l(){i=e.$watch("carouselCtrl.sitValue",function(e,t){e!==t&&c()})}$(".carousel-inner").ready(function(){m(function(){c()},1e3)}),o.resizeLogic=function(){s!==window.innerWidth&&c()},angular.element(d).bind("resize",function(){m(o.resizeLogic(),100)}),o.next=function(){o.lastImage!==o.sitItems.length&&!0!==o.readonly&&($(".carousel-inner ul").animate({marginLeft:"-="+a+"px"}),o.lastImage++,o.firstImage++)},o.prev=function(){1!==o.firstImage&&!0!==o.readonly&&($(".carousel-inner ul").animate({marginLeft:"+="+a+"px"}),o.firstImage--,o.lastImage--)},o.selectHomeCard=function(e){!0!==o.readonly&&(i(),o.sitValue=e.id,"function"==typeof o.onSelectionCallback&&o.onSelectionCallback(e),l())},l(),e.$on("$destroy",function(){i()})}}}t.$inject=["$window","$timeout"],angular.module("siemens.simaticit.common.widgets.carousel").directive("sitCarousel",t)}(),angular.module("siemens.simaticit.common.widgets.characteristicRepr",[]),function(){function e(e,t,n,i){return{restrict:"E",replace:!0,controller:o,controllerAs:"vm",templateUrl:"common/widgets/characteristicRepr/characteristic-repr-dir.html",bindToController:{crId:"@",containerId:"@",context:"@",mtu:"@",notifyViolations:"@"},scope:{}}}function o(e,t,r,s,c,l){var d=this;function n(){d.IsAttributive=!1,d.IsVariable=!1,d.HasValue=!1,c.GetCharacteristicSpecification(d.Id).then(function(e){d.Specification=e.value[0],d.IsVisual=-1!=d.Specification.CharacteristicSpecification.EntityType.indexOf("VisualCharacteristicSpecification"),d.IsAttributive=-1!=d.Specification.CharacteristicSpecification.EntityType.indexOf("AttributiveCharacteristicSpecification"),d.IsVariable=-1!=d.Specification.CharacteristicSpecification.EntityType.indexOf("VariableCharacteristicSpecification"),c.GetInspectionContext(d.context).then(function(e){if(0<e.value.length)if(d.InspectionContext=e.value[0],0<d.InspectionContext.InspectionSamples.length){if(d.ActualValue=o(d.InspectionContext.InspectionSamples),null!==d.ActualValue&&(d.IsVariable&&(d.Quantity=d.ActualValue.InspectionValues[0].MeasuredVariableValue,d.DisplayInfoBadge=d.Quantity<d.Specification.CharacteristicSpecification.LowerTolerance.QuantityValue||d.Quantity>d.Specification.CharacteristicSpecification.UpperTolerance.QuantityValue),d.IsAttributive&&(d.HasAttribute=d.ActualValue.InspectionValues[0].MeasuredAttributeValue),d.IsVisual)){var t=d.ActualValue.VisualDetectedFailures;angular.forEach(t,function(e,t){d.FailuresToBeUpdated.push({Id:e.Id,FailureNId:e.FailureNId,Count:e.Count}),angular.element("#failure_"+e.FailureNId)[0].value=e.Count})}}else d.DisplayInfoBadge=!1,d.ActualValue=null,d.Quantity=null;else c.CreateInspectionContext(d.context).then(function(e){var t=e.data.Id;c.GetInspectionContextById(t).then(function(e){0<e.value.length&&(d.InspectionContext=e.value[0])},s.error)},s.error)},s.error),function(){d.propertyGridData=[{label:r.instant("characteristicRepr.Name"),value:d.Specification.Name},{label:r.instant("characteristicRepr.Description"),value:d.Specification.CharacteristicSpecification.Description},{label:r.instant("characteristicRepr.NId"),value:d.Specification.CharacteristicSpecification.NId},{label:r.instant("characteristicRepr.Revision"),value:d.Specification.CharacteristicSpecification.Revision},{label:r.instant("characteristicRepr.Criticality"),value:d.Specification.CharacteristicSpecification.CriticalityNId},{label:r.instant("characteristicRepr.SpecifictionName"),value:d.Specification.CharacteristicSpecification.Name},{label:r.instant("characteristicRepr.SpecifictionDescription"),value:d.Specification.CharacteristicSpecification.Description},{label:r.instant("characteristicRepr.EquipmentNId"),value:d.context.EquipmentNId},{label:r.instant("characteristicRepr.MTU"),value:d.mtu},{label:r.instant("characteristicRepr.RuntimeChrRepresentationNId"),value:d.context.RuntimeChrRepresentationNId},{label:r.instant("characteristicRepr.MaterialNId"),value:d.context.MaterialNId},{label:r.instant("characteristicRepr.MaterialRevision"),value:d.context.MaterialRevision}],d.IsVariable&&(d.propertyGridData.push({label:r.instant("characteristicRepr.NominalValue"),value:d.Specification.CharacteristicSpecification.NominalValue.QuantityValue}),d.propertyGridData.push({label:r.instant("characteristicRepr.UoM"),value:d.Specification.CharacteristicSpecification.NominalValue.UoMNId}),d.propertyGridData.push({label:r.instant("characteristicRepr.UpperTolerance"),value:d.Specification.CharacteristicSpecification.UpperTolerance.QuantityValue}),d.propertyGridData.push({label:r.instant("characteristicRepr.LowerTolerance"),value:d.Specification.CharacteristicSpecification.LowerTolerance.QuantityValue}));d.IsVisual&&d.propertyGridData.push({label:r.instant("characteristicRepr.PotentialFailures"),value:d.Specification.CharacteristicSpecification.CharacterisicFailureAssociations.length})}(),d.propertyGridId=d.Specification.Id},s.error)}function o(e){var o;return angular.forEach(e,function(e,t){var n=e.InspectionValues[0];null!=n&&n.MTUNId===d.mtu&&(o=e);var i=e.VisualDetectedFailures[0];null!=i&&i.MTUNId===d.mtu&&(o=e)}),o}d.isenabled=!1,d.currentStateName=e.current.name+"",d.viewerData=[],d.InspectionContext={},d.Specification={},d.InspectionContext={},d.IsVisual=!1,d.IsAttributive=!1,d.IsVariable=!1,d.HasValue=!1,d.Quantity=null,d.HasAttribute=!1,null==d.notifyViolations&&(d.notifyViolations=!0),d.DisplayInfoBadge=!1,d.InitSample=function(e){return angular.element(e.target),!0},d.SaveSample=function(){var e=!1;if(null!=d.ActualValue){var t={Id:d.ActualValue.InspectionValues[0].Id};return null!==d.Quantity&&(t.MeasuredVariableValue=d.Quantity,e=!0),d.IsAttributive&&(t.MeasuredAttributeValue=d.HasAttribute,e=!0),void(e&&c.UpdateInspectionValue(t).then(function(e){l.info(r.instant("characteristicRepr.sampleupdated"))},s.error))}var n={InspectionAcquisitionContextId:d.InspectionContext.Id,MTUNId:d.mtu};null!==d.Quantity&&(n.MeasuredVariableValue=d.Quantity,e=!0);d.IsAttributive&&(n.MeasuredAttributeValue=d.HasAttribute,e=!0);if(e){var i=d.context.RuntimeChrRepresentationNId;c.CreateInspectionValue(n).then(function(e){l.info(r.instant("characteristicRepr.samplesaved"));var t=n.InspectionAcquisitionContextId;c.GetInspectionContextById(t).then(function(e){0<e.value.length&&i==d.context.RuntimeChrRepresentationNId?(d.InspectionContext=e.value[0],d.ActualValue=o(d.InspectionContext.InspectionSamples)):null==d.ActualValue&&(d.DisplayInfoBadge=!1,d.Quantity=null)},s.error)},s.error)}},d.ValueChanged=function(){if(!d.notifyViolations)return!1;if(null==d.Quantity)return!1;d.DisplayInfoBadge=d.Quantity<d.Specification.CharacteristicSpecification.LowerTolerance.QuantityValue||d.Quantity>d.Specification.CharacteristicSpecification.UpperTolerance.QuantityValue},d.SaveVisualSample=function(){angular.forEach(d.Specification.CharacteristicSpecification.CharacterisicFailureAssociations,function(e,t){var n=angular.element("#failure_"+e.NId)[0].value,i=e.NId;n=Number.parseInt(n);var o={InspectionAcquisitionContextId:d.InspectionContext.Id,MTUNId:d.mtu,FailureNId:i,Count:n},a=_.findWhere(d.FailuresToBeUpdated,{FailureNId:e.NId});a&&a.Count!=n?c.UpdateVisualDetectedFailure({Id:a.Id,Count:n}).then(function(e){l.info(r.instant("characteristicRepr.sampleupdated"))},s.error):void 0===a&&(isNaN(n)||c.CreateVisualDetectedFailure(o).then(function(e){l.info("Sample saved"),d.FailuresToBeUpdated.push({Id:e.data.Id,FailureNId:i,Count:n})},s.error))})},d.SetTooltipPosition=function(){$(".icon-text").each(function(e){$(this).css("left",-5-$(this).width()*(1-1/1.618))})},d.FailuresToBeUpdated=[],d.propertyGridId="pgridid",d.Details=r.instant("characteristicRepr.Details"),d.propertyGridData=[],t.$watch("vm.containerId",function(e,t){!function(){if(""===d.containerId||-1!==d.containerId.indexOf("{"))return;c.GetCharacteristicRepresentation(d.containerId).then(function(e){d.viewerData=e.value},s.error)}()});d.viewerOptions={containerID:"itemlist",selectionMode:"single",viewMode:"c",svgIcon:"common/icons/typeCharacteristicRepresentation48.svg",quickSearchOptions:{enabled:!0,field:"NId",filterText:""},sortFields:["NId"],filterBarOptions:"sq",tileConfig:{propertyFields:[{field:"CanBeSkipped",displayName:r.instant("characteristicRepr.CanBeSkipped")},{field:"ChrSpecNId",displayName:r.instant("characteristicRepr.NId")},{field:"ChrSpecRevision",displayName:r.instant("characteristicRepr.Revision")}],titleField:"Label",descriptionField:"ChrReprNId",isCell:!0},onSelectionChangeCallback:function(e){"string"==typeof d.context&&(d.context=JSON.parse(d.context));d.Label=e[0].Label,d.Id=e[0].ChrReprNId,d.context.RuntimeChrRepresentationNId=e[0].NId,n()}},d.isenabled=c.IsEnabled(),d.context=JSON.parse(d.context)}angular.module("siemens.simaticit.common.widgets.characteristicRepr").directive("characteristicRepr",e),e.$inject=["$state","$stateParams","$rootScope","common.services.runtime.backendService"],o.$inject=["$state","$scope","$translate","common.services.runtime.backendService","siemens.simaticit.common.characteristicReprService","common.widgets.notificationTile.globalService"]}(),angular.module("siemens.simaticit.common.widgets.characteristicRepr"),function(){function e(e,t,n,i){var o="WorkInstruction",a=null!=i.getAppEndPoint(o);this.IsEnabled=function(){return a},this.GetCharacteristicRepresentation=function(e){var t={appName:o,entityName:"RuntimeCharacteristicRepresentation",options:""===e?"":"$filter=RuntimeChrReprContainer_Id eq "+e};return i.findAll(t)},this.GetCharacteristicSpecification=function(e){var t={appName:o,entityName:"CharacteristicRepresentation",options:""===e?"":"$filter=NId eq '"+e+"'&$expand=CharacteristicSpecification($expand=CharacterisicFailureAssociations)"};return i.findAll(t)},this.GetInspectionContext=function(e){var t="$filter=RuntimeCharacteristicRepresentationNId eq '"+e.RuntimeChrRepresentationNId+"' AND EquipmentNId eq '"+e.EquipmentNId+"' AND MaterialNId eq '"+e.MaterialNId+"'&$expand=InspectionSamples($expand=InspectionValues,VisualDetectedFailures)",n={appName:o,entityName:"InspectionAcquisitionContext",options:t};return i.findAll(n)},this.GetInspectionContextById=function(e){var t={appName:o,entityName:"InspectionAcquisitionContext",options:"$filter=Id eq "+e+"&$expand=InspectionSamples($expand=InspectionValues,VisualDetectedFailures)"};return i.findAll(t)},this.CreateInspectionContext=function(e){return i.invoke({appName:o,commandName:"CreateInspectionAcquisitionContext",params:e})},this.CreateInspectionValue=function(e){return i.invoke({appName:o,commandName:"CreateInspectionValue",params:e})},this.CreateVisualDetectedFailure=function(e){return i.invoke({appName:o,commandName:"CreateVisualDetectedFailure",params:e})},this.UpdateInspectionValue=function(e){return i.invoke({appName:o,commandName:"UpdateInspectionValue",params:e})},this.UpdateVisualDetectedFailure=function(e){return i.invoke({appName:o,commandName:"UpdateVisualDetectedFailure",params:e})}}angular.module("siemens.simaticit.common.widgets.characteristicRepr").service("siemens.simaticit.common.characteristicReprService",e),e.$inject=["$state","$stateParams","$rootScope","common.services.runtime.backendService"]}(),angular.module("siemens.simaticit.common.widgets.checkbox",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.checkbox");e.controller("CheckboxController",function(){}),e.directive("sitCheckbox",function(){return{scope:{},restrict:"E",bindToController:{readOnly:"=?sitReadOnly",value:"=?sitValue",validation:"=?sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:"CheckboxController",controllerAs:"checkboxCtrl",templateUrl:"common/widgets/checkbox/checkbox.html"}})}(),angular.module("siemens.simaticit.common.widgets.highlight",[]),angular.module("siemens.simaticit.common.widgets.highlight").directive("sitCodeHighlight",["$timeout",function(n){return{restrict:"A",transclude:!1,link:function(e,i){var t=n(function(){e.$apply(function(){var e=i.html(),t=hljs.highlightAuto(i[0].innerText).language;if(e=e.replace(/\&lt;/g,"<").replace(/\&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),void 0!==t){var n=hljs.highlight(t,e).value;i.html(n)}else i.html(e)})});e.$on("$destroy",function(){n.cancel(t),t=null})}}}]),angular.module("siemens.simaticit.common.widgets.columnConfigurator",[]),function(){function e(e,t){return{scope:{},bindToController:{sitConfig:"=sitConfig"},controller:n,controllerAs:"columnConfiguratorCtrl",templateUrl:"common/widgets/columnConfigurator/columnConfigurator.html"}}function n(e){var s=this;function i(t){_.each(s.columnDefs,function(e){e.visible!==t&&void 0!==t||(e.selected=!1)})}function t(t,e){if(t.selected=!t.selected,t.selected)s.selectedList.push(t);else{var n=_.findIndex(s.selectedList,function(e){return e===t});s.selectedList.splice(n,1)}i(e),s.selectedList.sort(function(e,t){return e.index-t.index})}function o(){s.selectedList=[],i()}function a(t){_.each(s.selectedList,function(e){e.visible=t}),o()}function n(){c(-1)}function r(){c(1)}function c(t){s.selectedList.sort(function(e,t){return e.index-t.index}),p()&&1<_.where(s.columnDefs,{visible:!0}).length&&_.each(1===t?s.selectedList.reverse():s.selectedList,function(e){!function(t,e){s.columnDefs.sort(function(e,t){return e.index-t.index});var n=_.where(s.columnDefs,{visible:!0}),i=_.findIndex(n,function(e){return e===t});{if(0===i&&-1===e||i===n.length-1&&1===e)return;var o=n[i],a=n[i+e],r=o.index;o.index=a.index,a.index=r}}(e,t)})}function l(){var e=_.where(s.columnDefs,{visible:!0}).length;if(e<=1||0===p())o();else{if(s.selectedList.length===e){var t=_.min(s.selectedList,function(e){return e.index}),n=_.findIndex(s.selectedList,function(e){return e===t});s.selectedList.splice(n,1)}a(!1)}}function d(){0===_.where(s.selectedList,{visible:!1}).length?o():a(!0)}function m(){_.each(s.columnDefs,function(e){e.visible=!0}),o()}function u(){if(s.columnDefs.length){var t=_.min(_.where(s.columnDefs,{visible:!0}),function(e){return e.index});t.visible=!0,_.each(s.columnDefs,function(e){e!==t&&(e.visible=!1)}),o()}}function p(){return _.where(s.selectedList,{visible:!0}).length}function g(){return _.where(s.columnDefs,{visible:!0})}function f(){return _.where(s.columnDefs,{visible:!1})}function h(){return s.initialColumnDefs}s.svgIcons={forward:{path:"./common/icons/miscBackward24.svg"},backward:{path:"./common/icons/miscBackward24.svg"},left:{path:"./common/icons/miscChevronLeftDouble24.svg"},right:{path:"./common/icons/miscChevronLeftDouble24.svg"},reset:{path:"./common/icons/cmdToPartial24.svg"},up:{path:"./common/icons/miscUp24.svg"},down:{path:"./common/icons/miscDown24.svg"}},s.initialColumnDefs=$.extend(!0,[],s.sitConfig.data.columnDefs),_.each(s.sitConfig.data.columnDefs,function(e,t){e.selected=!1,e.visible="boolean"!=typeof e.visible||e.visible,e.index||(e.index=t)}),s.columnDefs=_.filter(s.sitConfig.data.columnDefs,function(e){return!e.isImageCol}),s.onItemSelection=t,s.selectedList=[],s.remove=l,s.add=d,s.addAll=m,s.removeAll=u,s.reset=s.sitConfig.reset.onClickCallback,s.moveUp=n,s.moveDown=r,s.sitConfig.getSelectedColumns=g,s.sitConfig.getAvailableColumns=f,s.sitConfig.getInitialColumnDefs=h}angular.module("siemens.simaticit.common.widgets.columnConfigurator").directive("sitColumnConfigurator",e),e.$inject=["$window","$document"],n.$inject=["common"]}(),angular.module("siemens.simaticit.common.widgets.commandBar",[]),function(){function e(e,p,n,t,i){var g=this,f="Sep",h="Group",v="Command",y="toggle",C="MainCommand",o="search",b="Action",w="Tool";function S(e){var t,n,i=e.type,o=_.isObject(_.findWhere(e.group,{type:"MainCommand"})),a={"font-family":'"Segoe UI", "Arial", "sans-serif","serif"',"font-size":"9pt"};if("MainCommand"===i||"toggle"===i||"Command"===i){var r="";switch(i){case"toggle":r="toggleTool";break;case"MainCommand":r="MainCommandTool";break;case"Command":r="CommandTool"}var s='<div data-internal-type="command-bar"  class="commandBarContainerTool tempWidthCalcDiv"><div  data-internal-type="command-menu-command-bar" class="right-align-align" class="commandBarRightAlign"><button  data-internal-type="command-button-command-bar" class="commandBarRightAlign" class="'+r+'Button">';e.image&&!e.imageTemplate?s+='<span  data-internal-type="image-container"  class="right-align-align fa-lg MainCommandImage"><i class="fa '+e.image+'"></i></span>':e.imageTemplate&&(s+='<span data-internal-type="image-container"  class="right-align-align fa-lg MainCommandImage">'+e.imageTemplate+"</span>"),s+='<span  data-internal-type="text-container" class="'+r+'Label">'+e.label+"</span></button></div></div>",t=$(s).css(a)}else t=o?$('<div class="commandBarContainerTool tempWidthCalcDiv"><div class="right-align-align" class="commandBarRightAlign"><div class="MainCommanBtnGrp"><button  data-internal-type="group-button-command-bar" class="right-align-align dropdown-toggle MainCommandGroupButton " data-toggle="dropdown" title="maingroup"><span data-internal-type="image-container" class="fa-lg MainCommandImage"><i class="fa'+e.image+' "></i></span><span data-internal-type="text-container" class="right-align-align MainCommandActionLabel">'+e.label+'</span></button><button  style="align-items:center;" data-internal-type="group-button-command-bar" class="right-align-align dropdown-toggle MainCmdGrpdropdown" data-toggle="dropdown" title="maingroup"><span class="caret"></span></button></div></div></div>').css(a):$('<div class="commandBarContainerTool tempWidthCalcDiv"><div  class=" btn-group right-align-align" class="commandBarRightAlign"><button  data-internal-type="command-button-command-bar" class="dropdown-toggle CommandToolDropdown"><div class="commandBarRightAlign"><span ng-if="cmdBarGrpBtnCtrl.group.image" class="fa-lg right-align"><i class="fa'+e.image+'"></i></span><span class="caret"></span></div><div  class="CommandToolDropdownLabel">'+e.label+"</div></button></div></div>").css(a);return t.appendTo(p),n=o?Math.ceil($(t.find(":button")[0]).outerWidth(!0))+Math.ceil($(t.find(":button")[1]).outerWidth(!0)):Math.ceil($(t.find(":button")[0]).outerWidth(!0)),t.remove(),n}g.svgIcons={bar:{path:"common/icons/cmdMenu24.svg",size:"16"}},g.otherCommandsText=t.instant("commandBar.moreCommandsAvailable"),g.logErrorFn=function(e,t){n.logger.logError(e,t,"siemens.simaticit.common.widgets.commandBar")},g.validateAttributes=function(){return void 0===g.commands.barType||null===g.commands.barType?(g.logErrorFn("barType can't be null",g.commands),!(g.commands={})):void 0===g.commands.bar||null===g.commands.bar?(g.logErrorFn("commands can't be empty",g.commands),!(g.commands={})):(g.commands.bar=_.filter(g.commands.bar,function(e){if(void 0===e.type||null===e.type)return g.logErrorFn("command type is mandatory",e),!1;if(e.type!==f&&e.type!==o){if((void 0===e.label||null===e.label)&&"contextual"!==g.layout)return g.logErrorFn("command label is mandatory",e),!1;if(e.type===o&&"contextual"!==g.layout)return g.logErrorFn("Quick search is supported only for contextual command bar",e),!1;if(e.type!==o&&(void 0===e.name||null===e.name))return g.logErrorFn("command name is mandatory",e),!1;if(e.type===h){if(void 0===e.group||null===e.group)return g.logErrorFn("When command type is group, group of commands can't be null or undefined",e),!1;e.group=_.filter(e.group,function(e){if(void 0===e.type||null===e.type)return g.logErrorFn("command type is mandatory",e),!1;if(e.type!==f){if(void 0===e.label||null===e.label)return g.logErrorFn("command label is mandatory",e),!1;if(void 0===e.name||null===e.name)return g.logErrorFn("command name is mandatory",e),!1}return!0})}else if(!(void 0!==e.image&&null!==e.image||void 0!==e.imageTemplate&&null!==e.imageTemplate||e.svgIcon||e.cmdIcon||"Search"===e.type))return g.logErrorFn("command image is mandatory",e),!1;return!0}return!0}),!0)},g.calculateCutOff=function(){"horizontal"===g.layout.toLowerCase()&&(g.__width=g.barElement.offsetWidth,function(){var e="right",t=!1,n=g.commands.bar.length-1,i=n,o=0,a=0,r=0;g.commands.barType===b&&(o=42,a=70,r=44);g.commands.barType===w&&(a=o=80,r=76);for(var s=0<g.__width-24?g.__width-24:0,c=0<s-a?s-a:0,l=0,d=g.commands.bar.length-1;0<=d;d--){var m=g.commands.bar[d];switch(m.type){case v:m.visibility&&(g.commands.barType===w&&g.labelAlign===e?l+=S(m):l+=o);break;case y:m.visibility&&(g.commands.barType===w&&g.labelAlign===e?l+=S(m):l+=r);break;case h:m.visibility&&(g.commands.barType===w&&g.labelAlign===e?l+=S(m):_.isObject(_.findWhere(m.group,{type:"MainCommand"}))?l+=a+140:l+=a);break;case f:l+=8;break;case C:if(m.visibility)if(g.commands.barType===w)g.labelAlign===e?l+=S(m):l+=o;else{var u=$("#ButtonMainCommand"+m.name).children("button").width();u<o&&(u=o),m.hasOwnProperty("commandWidth")&&m.commandWidth>u&&(u=m.commandWidth),m.commandWidth=u,l+=u}}if(l<=s&&n--,l<=c?i--:c=0,s<l){n=i,t=!0;break}}(g.DisplayMenu=t)?p.find("li[data-internal-type=command-bar-collapse-button]").removeClass("command-hide"):p.find("li[data-internal-type=command-bar-collapse-button]").addClass("command-hide");g.MaxIndexNumber=n}())},g.onWindowResizeSize=function(){g.barElement&&g.__width!==g.barElement.offsetWidth&&(g.__width=g.barElement.offsetWidth,g.calculateCutOff(),g.checkOpenPos&&g.checkOpenPos(),e.$apply())},null===g.commands||void 0===g.commands||g.validateAttributes()}function t(s,c,o){return{bindToController:{commands:"=?sitCommands",labelAlign:"@sitLabelAlign",type:"@sitType",layout:"@sitLayout"},controller:e,controllerAs:"commandBarCtrl",link:{pre:function(e,t,n,i){i.layout=i.layout?i.layout.toLowerCase():"horizontal",i.showLabel=o.getLabelVisibilityStatus(),null===i.commands||void 0===i.commands?(i.commands={},i.commands.barType=i.type&&"action"===i.type.toLowerCase()?"Action":"Tool",i.commands.bar=[],i.onCommandAdded=function(e){i.commands.bar[e.index]=e.command},i.onGroupAdded=function(e){i.commands.bar[e.index]=e.group},i.counter=0):i.labelAlign="right"===i.commands.labelAlign?"right":"bottom"},post:function(n,e,t,i){var o=[];function a(){i.onWindowResizeSize()}function r(){[].forEach.call(e.find(".vertical-group-main-command-label, .vertical-group-command-label, .vertical-command-label"),function(e){!function(e){for(var n=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)n.pop(),e.innerHTML=n.join(" ")+"...",n[n.length-1]=n[n.length-1].trim()+"...";e.scrollHeight===e.offsetHeight&&n.forEach(function(e,t){10<e.trim().length&&(n[t]=e.trim().substring(0,8)+"...")}),e.innerHTML=n.join(" ")}(e)})}void 0!==i.commands.bar&&null!==i.commands.bar&&0!==i.commands.bar.length?(void 0===i.counter&&null===i.counter||i.validateAttributes())&&(i.checkOpenPos=function(){var e=angular.element(c).width();if(e){var t=0;if(i.collapseButtonElement){var n=i.collapseButtonElement.getBoundingClientRect();n&&n.left&&(t=n.left)}t+$("#sit-commandbar-collapse-menu").width()<=e?i.openLeft=!0:i.openLeft=!1}else i.openLeft=!1;return i.openLeft},i.barElement=e[0].firstElementChild,i.__width=i.barElement.offsetWidth,a(),i.collapseButtonElement=e[0].querySelectorAll("#collapse-button-command-bar")[0],i.checkOpenPos(),o[o.length]=n.$watch(function(){return i.commands},function(){i.calculateCutOff(),"vertical"===i.layout&&s(r,250)},!0),o[o.length]=n.$on("sit-layout-change",function(e,t){"layout"===t.eventSource&&s(a,100)}),"vertical"===i.layout&&(o[o.length]=n.$on("sit-commandbar-toggle-label",function(e,t){i.commands.bar.forEach(function(e){e.hasOwnProperty("isVerticalCommandLabelShown")&&(e.isVerticalCommandLabelShown=t.isLabelShown)}),"$apply"!==n.$root.$$phase&&"$digest"!==n.$root.$$phase&&n.$apply()})),n.$on("$destroy",function(){for(var e in o)o[e]()})):i.logErrorFn("commands are not defined properly",i.commands)}},restrict:"E",scope:{},templateUrl:"common/widgets/commandBar/command-bar.html",transclude:!0}}e.$inject=["$scope","$element","common","$translate","$window"],t.$inject=["$timeout","$window","common.widgets.commandBar.service"],angular.module("siemens.simaticit.common.widgets.commandBar").directive("sitCommandBar",t)}(),function(){function e(a,n){var r=this;function s(e,t){n.logger.logError(e,t,"siemens.simaticit.common.widgets.commandBar command")}r.logErrorFn=s,r.commandClicked=_.debounce(function(e,t){if(!e.disabled)if("toggle"===e.type&&(e.selected=!e.selected,"Menu"===r.showas&&t.stopPropagation()),null!==e.stateTransition&&void 0!==e.stateTransition)"string"!=typeof e.stateTransition&&a.go(e.stateTransition.to,e.stateTransition.params,e.stateTransition.options);else if(e.hasOwnProperty("onClickCallback"))if((o=e.onClickCallback)&&"[object Function]"==={}.toString.call(o))e.onClickCallback(e);else{var n='onClickCallback is not a function on command "'+e.name+'": \n',i={command:e};s(n,i)}var o},200,!0)}function t(d,m){return{bindToController:{command:"=?sitCommand",showas:"@sitShowas",bartype:"@sitBartype",method:"&ngClick",visibility:"=?ngShow",selected:"=?sitSelected",type:"@sitType",icon:"@sitIcon",name:"@sitName",label:"@sitLabel",tooltip:"@sitTooltip",iconTemplate:"@sitIconTemplate",unauthorizedBehavior:"@sitUnauthorizedBehavior",svgIcon:"@svgIcon",cmdIcon:"@cmdIcon"},controller:e,controllerAs:"cmdCtrl",link:{pre:function(e,t,n,i){var o=i[0],a=i[1],r=i[2];void 0!==a.command&&null!==a.command||null!=r||(a.index=o.counter++)},post:function(e,t,n,i){var o=i[0],a=i[1],r=i[2];a.layout=o.layout,a.toggleImage={path:"common/icons/cmdCheckmark16.svg",size:"16px"},a.command&&!a.command.displayIcon&&(a.command.displayIcon=null,a.command.image||"contextual"===a.layout||(a.command.image="fa-cogs"),a.command.svgIcon&&(a.command.displayIcon={path:a.command.svgIcon,size:"16px"}),!a.command.displayIcon&&a.command.cmdIcon&&(a.command.displayIcon={prefix:"cmd",name:a.command.cmdIcon,suffix:"24",size:"16px"})),a.command&&a.command.displayIcon&&("vertical"===a.layout||"contextual"===a.layout)&&(a.command.displayIcon.size="24px");var s={main:"main",mainCommand:"MainCommand",MainCommand:"MainCommand",sep:"sep",Sep:"Sep",command:"command",Command:"Command",toggle:"toggle"},c=!1;if(void 0!==a.command&&null!==a.command||(a.command={},a.command.type=function(e){switch(e){case"main":case"MainCommand":return s.mainCommand;case"sep":case"Sep":return s.Sep;case"command":case"Command":return s.Command;case"toggle":return s.toggle;default:return s.Command}}(a.type),a.command.type!==s.Sep&&function(){a.command.displayIcon=null;var e=t.find("div[ng-transclude]").html();""!==e.trim()?a.command.label=e:a.command.label=a.label,a.svgIcon&&(a.command.displayIcon={path:a.svgIcon,size:"16px"}),!a.command.displayIcon&&a.cmdIcon&&(a.command.displayIcon={prefix:"cmd",name:a.cmdIcon,suffix:"24",size:"16px"}),a.command&&a.command.displayIcon&&("vertical"===a.layout||"contextual"===a.layout)&&(a.command.displayIcon.size="24px"),a.command.deniedFromAuthorization=!1,a.command.name=a.name,a.command.tooltip=a.tooltip,a.command.visibility=void 0===a.visibility||null===a.visibility||a.visibility,a.icon?a.command.image=a.icon:"contextual"!==a.layout?a.command.image="fa-cogs":a.command.image="",a.command.imageTemplate=a.iconTemplate?a.iconTemplate:null,a.command.onClickCallback=a.method(),a.command.unauthorizedBehavior=a.unauthorizedBehavior,a.command.selected=void 0!==a.selected&&!0===a.selected&&a.selected,"vertical"===a.layout&&(a.command.isVerticalCommandLabelShown=o.showLabel)}(),null!=r?r.onCommandAddedToGroup(a.command):o.onCommandAdded(a)),a.command.hasOwnProperty("visibility")||(a.command.visibility=!0),"vertical"!==a.layout||a.command.hasOwnProperty("isVerticalCommandLabelShown")||(a.command.isVerticalCommandLabelShown=o.showLabel),o.labelAlign&&(a.labelAlign=o.labelAlign.toLowerCase()),a.command.disabled="boolean"==typeof a.command.disabled&&a.command.disabled,a.command.unauthorizedBehavior||(a.command.unauthorizedBehavior="show"),a.command.type in s&&a.command.type!==s.Sep&&"show"!==a.command.unauthorizedBehavior){var l=[new m("business_command",a.command.name,"invoke")];d.canPerformOp(l).then(function(e){e&&0<e.length&&((c=e[0].isAccessible)||"disable"!==a.command.unauthorizedBehavior||(a.command.disabled=!0),c||"hide"!==a.command.unauthorizedBehavior||(a.command.deniedFromAuthorization=!0,a.command.visibility=!1))},function(e){a.logErrorFn("-1: Command Error: user data is not present1",e)})}"function"==typeof e.$parent.setVisibility&&e.$watch(function(){return a.command.visibility},function(){e.$parent.setVisibility(a.command)}),e.$watch(function(){return a.visibility},function(){void 0!==a.visibility&&null!==a.visibility&&(a.command.visibility=a.visibility)})}},restrict:"E",require:["^sitCommandBar","sitCommand","^?sitCommandGroup"],scope:{},template:['<div ng-transclude class="command-hide"></div>','<div ng-switch="cmdCtrl.showas" ng-show="cmdCtrl.command.visibility && !cmdCtrl.command.deniedFromAuthorization">','<div ng-switch-when="Button" id="Button{{cmdCtrl.command.type}}{{cmdCtrl.command.name}}"',"ng-class=\"{'vertical-button': cmdCtrl.layout === 'vertical',","'contextual-button': cmdCtrl.layout=== 'contextual'}\">",'<button data-internal-type="command-button-command-bar"',"ng-class=\"{'{{cmdCtrl.command.type}}ActionButton': cmdCtrl.bartype === 'Action' && cmdCtrl.layout === 'horizontal',","'{{cmdCtrl.command.type}}ToolButton': cmdCtrl.bartype === 'Tool' && cmdCtrl.layout === 'horizontal',","'toggle': cmdCtrl.command.type === 'toggle' && cmdCtrl.command.selected,","'vertical-command-button': cmdCtrl.layout === 'vertical',","'contextual-command-button': cmdCtrl.layout === 'contextual'}\"",'ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)" title="{{cmdCtrl.command.tooltip || cmdCtrl.command.label}}" ng-disabled="cmdCtrl.command.disabled">','<span data-internal-type="image-container" ng-if="(cmdCtrl.command.image || cmdCtrl.command.displayIcon) && !cmdCtrl.command.imageTemplate" class="fa-lg MainCommandImage">','<em class="fa {{cmdCtrl.command.image}}" sit-mom-icon="cmdCtrl.command.displayIcon" sit-class="command-mom-icon"','ng-class="{momIcon: cmdCtrl.command.displayIcon !== null,',"'vertical-command-image': cmdCtrl.layout === 'vertical' && (cmdCtrl.command.label.length===0 || !cmdCtrl.command.isVerticalCommandLabelShown),","'contextual-command-image': cmdCtrl.layout === 'contextual' && (cmdCtrl.command.label.length===0),","'contextual-command-label-image': cmdCtrl.layout === 'contextual' && (cmdCtrl.command.label.length===0 ),","'vertical-command-label-image': cmdCtrl.layout=== 'vertical' && cmdCtrl.command.label.length!==0 && cmdCtrl.command.isVerticalCommandLabelShown}\"></em>","<span ng-if=\"cmdCtrl.command.isVerticalCommandLabelShown && cmdCtrl.layout=== 'vertical' && cmdCtrl.command.label.length>0\"",'class="vertical-command-label">',"{{ cmdCtrl.command.label }}","</span>","</span>","<span ng-if=\"cmdCtrl.layout === 'contextual' && cmdCtrl.command.label.length > 0 && !cmdCtrl.command.imageTemplate\"",'class="contextual-command-label"',"ng-class=\"{'margin-fix': !cmdCtrl.command.image && !cmdCtrl.command.imageTemplate,","'margin-top-fix': cmdCtrl.command.image || cmdCtrl.command.imageTemplate}\">","{{ cmdCtrl.command.label }}","</span>",'<span data-internal-type="image-container" ng-if="cmdCtrl.command.imageTemplate"','class= "fa-lg" ng-bind-html="cmdCtrl.command.imageTemplate"',"ng-class=\"{'{{cmdCtrl.command.type}}ToolImage' :cmdCtrl.bartype === 'Tool' && cmdCtrl.layout === 'horizontal',","'right-align-Tool-image': cmdCtrl.labelAlign === 'right' && cmdCtrl.layout === 'horizontal',","'vertical-image-template': cmdCtrl.layout === 'vertical' && (cmdCtrl.command.label.length === 0 || !cmdCtrl.command.isVerticalCommandLabelShown),","'contextual-image-template': cmdCtrl.layout === 'contextual' ,","'vertical-image-template-label': cmdCtrl.layout === 'vertical' && cmdCtrl.command.label.length !== 0 && cmdCtrl.command.isVerticalCommandLabelShown}\"></span>","<span ng-if=\"cmdCtrl.layout === 'contextual' && cmdCtrl.command.label.length>0 && cmdCtrl.command.imageTemplate\"",'class="contextual-command-label">',"{{ cmdCtrl.command.label }}","</span>","<span ng-if=\"cmdCtrl.layout === 'vertical' && cmdCtrl.command.label.length>0 &&",'cmdCtrl.command.imageTemplate && cmdCtrl.command.isVerticalCommandLabelShown"','class="vertical-command-label">',"{{ cmdCtrl.command.label }}","</span>",'<span data-internal-type="text-container"',"ng-if=\"(cmdCtrl.bartype=='Tool' || cmdCtrl.command.type=='MainCommand')&& cmdCtrl.layout === 'horizontal'\"",'class="{{cmdCtrl.command.type}}{{cmdCtrl.bartype}}Label">{{cmdCtrl.command.label}}</span>',"</button>","</div>",'<div ng-switch-when="Menu">',' <div data-internal-type="command-menu-command-bar" type="button"',"ng-class=\"{'btnMainMenu btnMenu': cmdCtrl.command.type==='MainCommand',","'btnMenu': cmdCtrl.command.type!=='MainCommand', 'toggle-dropdown-selected-background' : cmdCtrl.command.selected}\"",'ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)"','title="{{cmdCtrl.command.tooltip || cmdCtrl.command.label}}" ng-disabled="cmdCtrl.command.disabled">','<span data-internal-type="image-container" sit-mom-icon="cmdCtrl.command.displayIcon" sit-class="command-menu-mom-icon"','ng-class="{momIcon: cmdCtrl.command.displayIcon !== null }"',"ng-if=\"(cmdCtrl.layout === 'horizontal' || cmdCtrl.layout === 'contextual' ) && (cmdCtrl.command.image || cmdCtrl.command.displayIcon ) && !cmdCtrl.command.imageTemplate\"",'class="fa {{cmdCtrl.command.image}}"></span>','<span data-internal-type="image-container" sit-mom-icon="cmdCtrl.command.displayIcon" sit-class="command-menu-mom-icon"','ng-class="{momIcon: cmdCtrl.command.displayIcon !== null }"',"ng-if=\"(cmdCtrl.layout === 'horizontal' || cmdCtrl.layout === 'contextual') && cmdCtrl.command.imageTemplate\"",'ng-bind-html="cmdCtrl.command.imageTemplate">TTTT</span>','<label data-internal-type="text-container" class="menuLabel" onclick="event.preventDefault();"',"ng-class=\"!cmdCtrl.command.image && cmdCtrl.labelAlign === 'right' ? 'menu-label-icon-margin' : 'menu-label-margin'\">","{{cmdCtrl.command.label}}",'<input type="checkbox" ng-if= "cmdCtrl.layout === \'horizontal\'" style="float:right" ng-show="cmdCtrl.command.type === \'toggle\'"','ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)" ng-checked="cmdCtrl.command.selected" />','<em ng-if= "cmdCtrl.layout !== \'horizontal\'" class= "toggle-dropdown-image" sit-mom-icon="cmdCtrl.toggleImage"',"ng-show=\"cmdCtrl.command.type === 'toggle' && cmdCtrl.command.selected\"",'ng-click="cmdCtrl.commandClicked(cmdCtrl.command, $event)"/>',"</label>"," </div>","</div>","</div>"].join("\n"),transclude:!0}}e.$inject=["$state","common"],t.$inject=["common.services.security.securityService","common.services.security.functionRightModel"],angular.module("siemens.simaticit.common.widgets.commandBar").directive("sitCommand",t)}(),function(){function e(e,t,o,n){var i=angular.element(t),a=this;function r(e,t){n.logger.logError(e,t,"siemens.simaticit.common.widgets.commandBar command")}function s(){a.winWidth=i.width(),a.checkOpenPos&&a.checkOpenPos()}a.logErrorFn=r,a.winWidth=i.width(),a.group&&(a.mainCommandGroup=_.findWhere(a.group.group,{type:"MainCommand"}),a.isMainCommandGroup=!!_.isObject(a.mainCommandGroup)),a.checkOpenPos&&a.checkOpenPos(),angular.element(t).bind("resize",s),a.commandClicked=_.debounce(function(e,t){if(null!==e.stateTransition&&void 0!==e.stateTransition)"string"!=typeof e.stateTransition&&o.go(e.stateTransition.to,e.stateTransition.params,e.stateTransition.options);else if(e.hasOwnProperty("onClickCallback"))if($.isFunction(e.onClickCallback))e.onClickCallback(e);else{var n='onClickCallback is not a function on command "'+e.name+'": \n',i={group:e};r(n,i)}},200,!0),e.$on("$destroy",function(){angular.element(t).unbind("resize",s)})}e.$inject=["$scope","$window","$state","common"],angular.module("siemens.simaticit.common.widgets.commandBar").directive("sitCommandGroup",function(){return{bindToController:{group:"=?sitGroup",showas:"@sitShowas",bartype:"@sitBartype",labelAlign:"@sitLabelAlign",method:"&ngClick",icon:"@sitIcon",name:"@sitName",label:"@sitLabel",tooltip:"@sitTooltip",iconTemplate:"@sitIconTemplate",svgIcon:"@svgIcon",cmdIcon:"@cmdIcon"},controller:e,controllerAs:"cmdBarGrpBtnCtrl",link:{pre:function(e,t,n,i){var o=i[0],a=i[1];a.layout=o.layout,a.group&&!a.group.displayIcon&&(a.group.displayIcon=null,a.group.image||"contextual"===a.layout||(a.group.image="fa-cogs"),a.group.svgIcon&&(a.group.displayIcon={path:a.group.svgIcon,size:"16px"}),!a.group.displayIcon&&a.group.cmdIcon&&(a.group.displayIcon={prefix:"cmd",name:a.group.cmdIcon,suffix:"24",size:"16px"})),("vertical"===a.layout||"contextual"===a.layout)&&a.group&&a.group.displayIcon&&(a.group.displayIcon.size="24px"),void 0!==a.group&&null!==a.group||(a.group={},a.group.displayIcon=null,a.svgIcon&&(a.group.displayIcon={path:a.svgIcon,size:"16px"}),!a.group.displayIcon&&a.cmdIcon&&(a.group.displayIcon={prefix:"cmd",name:a.cmdIcon,suffix:"24",size:"16px"}),"vertical"!==a.layout&&"contextual"!==a.layout||!a.group.displayIcon||(a.group.displayIcon.size="24px"),a.icon?a.group.image=a.icon:"contextual"!==a.layout?a.group.image="fa-cogs":a.group.image="",a.group.imageTemplate=a.iconTemplate?a.iconTemplate:null,a.group.label=a.label,a.group.tooltip=a.tooltip,a.group.name=a.name,a.group.type="Group",a.group.onClickCallback=a.method(),a.group.group=[],a.onCommandAddedToGroup=function(e){a.group.group[a.group.group.length]=e,a.group.group=_.uniq(a.group.group),a.sendGroupToCommandBar=!0},a.index=i[0].counter++)},post:function(e,t,n,i){var o=i[0],a=i[1];function r(e){($(e.target).parents('div[data-internal-type="group-submenu-command-bar"]').length||"group-submenu-command-bar"===$(e.target).data("internal-type"))&&(e.stopPropagation(),e.preventDefault())}a.sendGroupToCommandBar&&o.onGroupAdded(a),a.groupButtonElement=t[0],a.checkOpenPos=function(){if(a.winWidth){var e=0,t=0;if(a.groupButtonElement)if("contextual"===a.layout&&0<$(a.groupButtonElement).parents(".property-area-container").length)t=$(a.groupButtonElement).find(".commandBarDropdownMenu").width(),$(a.groupButtonElement).position().left>t?a.openLeft=!0:a.openLeft=!1;else{var n=a.groupButtonElement.getBoundingClientRect();n&&n.left&&(e=n.left),e>=a.winWidth/2?a.openLeft=!0:a.openLeft=!1}}else a.openLeft=!1;return a.openLeft},a.checkOpenPos(),e.setVisibility=function(e){if(e.visibility)a.groupVisibility=!0;else{for(var t=!1,n=0;n<a.group.group.length;n++)if(a.group.group[n].visibility){t=!0;break}a.groupVisibility=t}a.group.visibility=a.groupVisibility},e.$watch(a.checkOpenPos,function(){a.checkOpenPos()}),$(".dropdown-menu").on("click.bs.dropdown",r),e.$on("$destroy",function(){$(".dropdown-menu").off("click.bs.dropdown",r)})}},restrict:"E",require:["^sitCommandBar","sitCommandGroup"],scope:{},template:["<div>",'<div ng-switch="cmdBarGrpBtnCtrl.showas" ng-show="cmdBarGrpBtnCtrl.groupVisibility">','<div ng-switch-when="Button" class="btn-group" ng-class="{\'MainCommanBtnGrp\': cmdBarGrpBtnCtrl.isMainCommandGroup}">','<button ng-if="cmdBarGrpBtnCtrl.isMainCommandGroup" data-internal-type="group-button-command-bar"','class="MainCommandGroupButton" ng-click="cmdBarGrpBtnCtrl.commandClicked(cmdBarGrpBtnCtrl.group, $event)"','title="{{ cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.label }}"',"ng-class=\"{'dropdown-toggle': cmdBarGrpBtnCtrl.layout === 'vertical' || cmdBarGrpBtnCtrl.layout === 'contextual'}\"","data-toggle=\"{{(cmdBarGrpBtnCtrl.layout === 'vertical' || cmdBarGrpBtnCtrl.layout === 'contextual')  ? 'dropdown' : '' }}\">",'<span class ="vertical-group-main-command-arrow" ng-if="cmdBarGrpBtnCtrl.layout === \'vertical\'" sit-class="arrow-mom-icon" sit-mom-icon=\'{path:"common/icons/miscLeftArrow16.svg"}\'></span>','<img ng-class="{\'img-without-label\': !cmdBarGrpBtnCtrl.group.label || cmdBarGrpBtnCtrl.group.label.length === 0 }" alt="" ng-if="cmdBarGrpBtnCtrl.layout === \'contextual\' " src="common/icons/miscDownArrow16.svg" height="16" width="16">','<span data-internal-type="image-container" class="fa-lg"',"ng-class=\"cmdBarGrpBtnCtrl.layout === 'vertical' && cmdBarGrpBtnCtrl.group.label.length !== 0? 'vertical-group-main-command-image-label': 'MainCommandImage'\">",'<em class="fa {{cmdBarGrpBtnCtrl.group.image}} " sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" sit-class="command-mom-icon" ','ng-class="{momIcon: cmdBarGrpBtnCtrl.group.displayIcon !== null }">',"</em>",'<span ng-if="cmdBarGrpBtnCtrl.layout === \'vertical\' && cmdBarGrpBtnCtrl.group.label.length> 0" class="vertical-group-main-command-label">',"{{cmdBarGrpBtnCtrl.group.label}}","</span>","</span>",'<span ng-if="cmdBarGrpBtnCtrl.layout === \'contextual\' && cmdBarGrpBtnCtrl.group.label.length> 0" class="contextual-group-main-command-label"',"ng-class=\"{'margin-fix': !cmdBarGrpBtnCtrl.group.image && !cmdBarGrpBtnCtrl.group.imageTemplate}\">","{{cmdBarGrpBtnCtrl.group.label}}","</span>",'<span ng-if="cmdBarGrpBtnCtrl.layout === \'horizontal\'" data-internal-type="text-container" class="MainCommandActionLabel">',"{{ cmdBarGrpBtnCtrl.group.label }}","</span>",'<button ng-if="cmdBarGrpBtnCtrl.isMainCommandGroup && cmdBarGrpBtnCtrl.layout===\'horizontal\'" data-internal-type="group-button-command-bar"','class="dropdown-toggle MainCmdGrpdropdown" data-toggle="dropdown" title="{{ cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.label }}">','<span class="caret">',"</span>","</button>","</button>",'<button ng-if="!cmdBarGrpBtnCtrl.isMainCommandGroup" data-internal-type="group-button-command-bar"',"ng-class=\"{Action:'dropdown-toggle CommandActionDropdown',Tool:'dropdown-toggle CommandToolDropdown'}[cmdBarGrpBtnCtrl.bartype]\"",'data-toggle="dropdown" title="{{ cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.label }}">',"<div style=\"display:inline\" ng-if=\"(cmdBarGrpBtnCtrl.layout ==='vertical' || cmdBarGrpBtnCtrl.labelAlign !== 'right') || cmdBarGrpBtnCtrl.layout ==='contextual'\">",'<span class ="vertical-group-main-command-arrow" ng-if="cmdBarGrpBtnCtrl.layout === \'vertical\'" sit-class="arrow-mom-icon" sit-mom-icon=\'{path:"common/icons/miscLeftArrow16.svg"}\'></span>','<img ng-class="{\'img-without-label\': !cmdBarGrpBtnCtrl.group.label || cmdBarGrpBtnCtrl.group.label.length === 0 }" alt="" ng-if="cmdBarGrpBtnCtrl.layout === \'contextual\' " src="common/icons/miscDownArrow16.svg" height="16" width="16">','<span style="line-height:1em" ng-if="(cmdBarGrpBtnCtrl.group.image || cmdBarGrpBtnCtrl.group.displayIcon) " class="fa-stack fa-lg"',"ng-class=\"{'vertical-group-command-image':cmdBarGrpBtnCtrl.layout === 'vertical' && cmdBarGrpBtnCtrl.group.label.length === 0,","'contextual-group-command-image': cmdBarGrpBtnCtrl.layout === 'contextual' && cmdBarGrpBtnCtrl.group.label.length === 0,","'contextual-group-command-image-label':cmdBarGrpBtnCtrl.layout === 'contextual' && cmdBarGrpBtnCtrl.group.label.length !== 0,","'vertical-group-command-image-label': cmdBarGrpBtnCtrl.layout === 'vertical'  && cmdBarGrpBtnCtrl.group.label.length !== 0}\">",'<em class="fa {{cmdBarGrpBtnCtrl.group.image}} fa-stack" sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" sit-class="command-mom-icon"','ng-class="{momIcon: cmdBarGrpBtnCtrl.group.displayIcon !== null }">',"</em>","</span>","<span ng-if=\"(cmdBarGrpBtnCtrl.layout === 'vertical' || cmdBarGrpBtnCtrl.layout === 'contextual') && cmdBarGrpBtnCtrl.group.label.length> 0\" ","ng-class=\"{'vertical-group-command-label': cmdBarGrpBtnCtrl.layout === 'vertical',","'contextual-group-command-label': cmdBarGrpBtnCtrl.layout=== 'contextual',","'contextual-group-margin-top': cmdBarGrpBtnCtrl.layout=== 'contextual' && !cmdBarGrpBtnCtrl.group.image && !cmdBarGrpBtnCtrl.group.imageTemplate}\">","{{cmdBarGrpBtnCtrl.group.label}}","</span>",'<span style="width:24px!important" ng-if="cmdBarGrpBtnCtrl.layout === \'horizontal\'">','<span class="caret">',"</span>","</span>","</div>","<div ng-if=\"cmdBarGrpBtnCtrl.layout === 'horizontal' && cmdBarGrpBtnCtrl.bartype=='Tool' && cmdBarGrpBtnCtrl.labelAlign !== 'right'\"",'class="CommandToolDropdownLabel">',"{{cmdBarGrpBtnCtrl.group.label}}","</div>","<span ng-if=\"cmdBarGrpBtnCtrl.layout === 'horizontal' && cmdBarGrpBtnCtrl.group.image && cmdBarGrpBtnCtrl.labelAlign === 'right'\" class=\"fa-lg right-align\">",'<em class="fa {{cmdBarGrpBtnCtrl.group.image}} " sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" sit-class="command-mom-icon"',"ng-class=\"{'momIcon': cmdBarGrpBtnCtrl.group.displayIcon !== null }\">","</em>","</span>","<span class=\"caret\" ng-if=\"cmdBarGrpBtnCtrl.layout === 'horizontal' && cmdBarGrpBtnCtrl.labelAlign === 'right'\">","</span>","<span ng-if=\"cmdBarGrpBtnCtrl.layout === 'horizontal' && cmdBarGrpBtnCtrl.bartype=='Tool' && cmdBarGrpBtnCtrl.labelAlign === 'right'\"",'class="CommandToolDropdownLabel">',"{{cmdBarGrpBtnCtrl.group.label}}","</span>","</button>",'<ul data-internal-type="menu-command-bar" class="dropdown-menu commandBarDropdownMenu"',"ng-class=\"{'commandBarDropdownMenuAlignRight':cmdBarGrpBtnCtrl.openLeft,'mainCommandDropdownMenu': cmdBarGrpBtnCtrl.isMainCommandGroup}\"",'role = "menu" data-toggle="dropdown" > ','<li ng-repeat="subcommand in cmdBarGrpBtnCtrl.group.group" class="commandBarDropdownItem">','<div ng-switch="subcommand.type">','<div data-internal-type="menu-item-command-bar" ng-switch-when="MainCommand" class="btnMainMenu">','<sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">',"</sit-command>","</div>",'<div data-internal-type="menu-item-command-bar" ng-switch-when="Command">','<sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">',"</sit-command>","</div>",'<div ng-switch-when="Sep">','<div data-internal-type="menu-separator-command-bar" class="divider menuDivider" />',"</div>",'<div data-internal-type="menu-item-command-bar" ng-switch-when="toggle">','<sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">',"</sit-command>","</div>","<div ng-switch-default>",'Unknown sub command type: Allowed values are "Command" or "Sep"',"</div>","</div>","</li>","</ul>","</div>",'<div ng-switch-when="Menu" class="dropdown-submenu " ng-class="{\'pull-left\':cmdBarGrpBtnCtrl.openLeft}">','<div data-internal-type="group-submenu-command-bar"',"ng-class=\"{'btnMainMenu btnMenu': cmdBarGrpBtnCtrl.isMainCommandGroup,'btnMenu': !cmdBarGrpBtnCtrl.isMainCommandGroup}\"",'style="text-align:left" title="{{cmdBarGrpBtnCtrl.group.tooltip || cmdBarGrpBtnCtrl.group.name}}">','<span ng-if="(cmdBarGrpBtnCtrl.group.image || cmdBarGrpBtnCtrl.group.displayIcon)" class="fa {{cmdBarGrpBtnCtrl.group.image}}  " sit-mom-icon="cmdBarGrpBtnCtrl.group.displayIcon" sit-class="command-mom-icon" ng-class="{momIcon: cmdBarGrpBtnCtrl.group.displayIcon !== null }">',"</span>",'<label class="menuLabel">',"{{cmdBarGrpBtnCtrl.group.label}}","</label>",'<span class="fa fa-caret-right">',"</span>","</div>",'<ul data-internal-type="submenu-command-bar" class="dropdown-menu commandBarDropdownMenu"','ng-class="{\'mainCommandDropdownMenu\': cmdBarGrpBtnCtrl.isMainCommandGroup}" role="menu">','<li class="commandBarDropdownItem" ng-repeat="subcommand in cmdBarGrpBtnCtrl.group.group">','<div ng-switch="subcommand.type">','<div data-internal-type="submenu-item-command-bar" ng-switch-when="Command">','<sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">',"</sit-command>","</div>",'<div data-internal-type="menu-item-command-bar" ng-switch-when="MainCommand" class="btnMainMenu">','<sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">',"</sit-command>","</div>",'<div data-internal-type="submenu-separator-command-bar" ng-switch-when="Sep">','<div class="divider menuDivider">',"</div>","</div>",'<div data-internal-type="submenu-item-command-bar" ng-switch-when="toggle">','<sit-command sit-command="subcommand" sit-showas="Menu" sit-bartype="{{cmdBarGrpBtnCtrl.bartype}}">',"</sit-command>","</div>","<div ng-switch-default>",'Unknown sub command type: Allowed values are "Command" or "Sep"',"</div>","</div>","</li>","</ul>","</div>","<ng-transclude ng-show=false>","</ng-transclude>","</div>","</div>"].join("\n"),transclude:!0}})}(),function(){function e(){this.svgIcons={search:{path:"common/icons/cmdSearch24.svg",size:"16"},close:{path:"common/icons/cmdClosePanel24.svg",size:"16"}},this.focusInput=function(){$(".contextual-quick-search:visible").focus()}}angular.module("siemens.simaticit.common.widgets.commandBar").directive("sitSearch",function(){return{bindToController:{command:"=?sitCommand",clickSearch:"=?ngClick",focusSearch:"=?ngFocus",visibility:"@sitVisibility",sitChange:"=?",blurSearch:"=?ngBlur",disableSearch:"=?ngDisabled",type:"@sitType",placeholder:"@sitPlaceholder",quickSearchText:"@sitSearchValue"},controller:e,controllerAs:"searchCtrl",link:function(e,t,n,i){var o=i[0],a=i[1];a.type&&(void 0!==a.command&&null!==a.command||(a.command={},a.command.type="search",a.index=o.counter++,a.command.clickCallback=a.clickSearch,a.command.focusCallback=a.focusSearch,a.command.changeCallback=a.sitChange,a.command.blurCallback=a.blurSearch,a.command.quickSearchText=a.quickSearchText,a.command.disableSearch="boolean"==typeof a.disableSearch&&a.disableSearch,a.command.placeholder=a.placeholder,a.command.visibility="false"!==a.visibility,a.command.quickSearchText&&a.command.changeCallback(a.quickSearchText),o.onCommandAdded(a)))},restrict:"E",require:["^sitCommandBar","sitSearch"],scope:{},template:['<div ng-transclude class="command-hide"></div>','<div data-internal-type="quick-search-container" class="contextual-search-container">','<input data-internal-type="quickSearchTextBox" type="text" ng-change="searchCtrl.sitChange(searchCtrl.quickSearchText)"','placeholder="{{searchCtrl.placeholder}}" class="form-control contextual-quick-search" ng-model="searchCtrl.quickSearchText"','ng-focus="searchCtrl.focusSearch()" ng-disabled="searchCtrl.disableSearch" ng-blur="searchCtrl.blurSearch()"/>','<em data-internal-type="quickSearchIcon"  ng-class="{momIcon: searchCtrl.svgIcons.search }" sit-class="svg-icon" ',' sit-mom-icon="searchCtrl.svgIcons.search" ','class="fa fa-search contextual-search-icon" ng-click="searchCtrl.clickSearch(searchCtrl.quickSearchText);searchCtrl.focusInput();"></em>','<em data-internal-type="quickSearchIcon" ng-if="searchCtrl.quickSearchText.length > 0" ng-class="{momIcon: searchCtrl.svgIcons.close }" sit-class="svg-icon" ',' sit-mom-icon="searchCtrl.svgIcons.close" ',"class=\"fa fa-close contextual-close-icon\" ng-click=\"searchCtrl.quickSearchText ='';searchCtrl.clickSearch('');searchCtrl.focusInput();\"></em>","</div>"].join("\n"),transclude:!0}})}(),angular.module("siemens.simaticit.common.widgets.component",[]),function(){function e(o){return{restrict:"EA",link:function(e,t,n){var i;i=n.sitInternal===""+e.$id?e.ComponentCtrl:e.$parent.ComponentCtrl;o(function(){i.componentLoaded()})}}}function t(i,p,g,a,r,s,f){return{restrict:"E",require:["^sitContainer","sitComponent"],bindToController:{name:"@sitName",source:"@sitSource",componentname:"@sitComponentname",left:"@sitLeft",top:"@sitTop",rows:"@sitRows",cols:"@sitCols",flavor:"@sitFlavor",type:"@sitType",dpc:"=?sitDpc",contracts:"=?sitContracts"},scope:!0,template:" ",controller:n,controllerAs:"ComponentCtrl",compile:function(e,o){var l,d;if(o.isAttributesValid=function(){if(n(o.sitName))return t("name attribute can't be empty"),!1;if(n(o.sitType))o.sitType="ui";else if(o.sitType=angular.lowercase(o.sitType),"ui"!==o.sitType&&"swac"!==o.sitType)return t("Invalid type attribute defined. Valid values are ui, swac"),!1;if(n(o.sitSource))return t("source attribute can't be empty"),!1;if("ui"===o.sitType&&n(o.sitComponentname))return t("componentname attribute can't be empty"),!1;if(n(o.sitLeft))return t("left attribute can't be empty"),!1;if(o.sitLeft=parseInt(o.sitLeft,10),isNaN(o.sitLeft)||o.sitLeft<0)return t("Invalid left attribute. Specify valid integer greater than 0"),!1;if(n(o.sitTop))return t("top attribute can't be empty"),!1;if(o.sitTop=parseInt(o.sitTop,10),isNaN(o.sitTop)||o.sitTop<0)return t("Invalid top attribute. Specify valid integer greater than 0"),!1;if(n(o.sitCols))return t("cols attribute can't be empty"),!1;if(o.sitCols=parseInt(o.sitCols,10),isNaN(o.sitCols)||o.sitCols<1)return t("Invalid cols attribute. Specify valid integer greater than 1"),!1;if(n(o.sitRows))return t("rows attribute can't be empty"),!1;if(o.sitRows=parseInt(o.sitRows,10),isNaN(o.sitRows)||o.sitRows<1)return t("Invalid rows attribute. Specify valid integer greater than 1"),!1;if(n(o.sitFlavor))o.sitFlavor="ui";else if(o.sitFlavor=angular.lowercase(o.sitFlavor),"ui"!==o.sitFlavor)return t("Invalid flavor attribute defined. valid values are ui"),!1;return e="Component attributes validated",s.logInfo(e,o,"sit-component"),!0;var e}(),!o.isAttributesValid)return;void 0===e.attr("gridster-item")?e.html('<div ng-style="ComponentCtrl.componentStyle" name="{{ComponentCtrl.compName}}"></div>'):(e.html('<div class="component-content" name="{{ComponentCtrl.compName}}"><section class="gridsteritem-helper"></section></div>'),i.$emit("siemens.simaticit.common.widgets.component.gridster-loaded",!0));return{pre:function(e,t,n,i){l=i[0],(d=i[1]).setContainerController(l),d.scopeid=e.$id,d.compName=l.containerPrefix+d.name,t[0].compName=d.compName,l.componentCreationStarted(d.compName,d.type);var o=t.children("div");if("swac"===d.type)return p.onReadySubscribe(m),p.onRemoveSubscribe(u),void g.loadComponent(d.compName,"",d.source,o[0],0,0,"100%","100%",d.flavor);var a="<"+d.source+' sit-internal="{{ComponentCtrl.scopeid}}" name="{{ComponentCtrl.compName}}" id="{{ComponentCtrl.name}}"';if(""!==d.dpc&&void 0!==d.dpc)for(var r=0,s=Object.keys(d.dpc),c=Object.keys(d.dpc).length;r<c;r++)a+=s[r]+'="ComponentCtrl.dpc.'+s[r]+'" ';a+="/>",o.append(f(a)(e))},post:function(e,t){if(void 0!==o.gridMaxColumns){var n=(window.screen.height-100)/12,i=n*parseInt(d.rows,10)-o.gridMargin;t.attr("data-mobile-height",i)}e.$on("gridster-item-resized",function(e,t){var n={};n.componentName=t.$element[0].compName,n.height=t.getElementSizeY(),n.width=t.getElementSizeX(),a.onComponentResize(n),d.invokeWindowResize()}),e.$on("$destroy",function(){p.onReadyUnsubscribe(m),p.onRemoveUnsubscribe(u),r.cancel(void 0)})}};function t(e){s.logError(e,o,"sit-component")}function n(e){return void 0===e||""===e}function m(e,t){e===d.compName&&(g.setComponentReady(d.compName,t),p.onReadyUnsubscribe(m),d.componentLoaded())}function u(e){e===d.compName&&(g.setComponentRemoved(d.compName),p.onRemoveUnsubscribe(u),d.componentRemoved())}}}}function n(e,t,n,i,o,a,r,s){var c,l,d,m,u=this;function p(e){c=e}function g(){"swac"!==u.type&&(d=n.find(u.source).data("$"+u.source+"Controller"),m=new C(u.compName,u.componentname,u.type,u.contracts,d,e),s.addComponent(u.compName,{componentName:u.componentname,hub:d,instance:m})),c.componentCreationCompleted(u.compName,u.type),0<n.find(".nvd3-svg").length&&f()}function f(){i(function(){var e=window.document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)})}function h(){}function v(e,t){u.cellWidth=t||0,u.cellHeight=e||0,u.componentStyle={position:"absolute",width:o.sitCols*u.cellWidth+"px",height:o.sitRows*u.cellHeight+"px",left:o.sitLeft*u.cellWidth+"px",top:o.sitTop*u.cellHeight+"px",overflow:"auto"}}function y(e,t){t&&t.containerPrefix===c.containerPrefix&&t&&t.height&&t.width&&v(t.height,t.width)}!function(){if(u.isAttributesValid=o.isAttributesValid,!u.isAttributesValid)return;u.componentStyle={},u.componentLoaded=g,u.componentRemoved=h,u.setContainerController=p,u.invokeWindowResize=f,l=t.$parent.$on("sit-container.cellSizeChanged",y),t.$on("$destroy",function(){l()}),v()}()}function C(e,t,n,i,o,a){var r,s,c,l,d=this;!function(){if(r=e,s=t,c=o,l=a,d.methods={},d.events={},d.properties={},null==i)return;(function(e){if(null==e||0===e.length)return;for(var t=0;t<e.length;t++){var n=e[t];d.methods[n]=new m(n,c)}})(i.methods),function(e){if(null==e||0===e.length)return;for(var t=0;t<e.length;t++){var n=e[t];d.events[n]=new u(n,r,s,l)}}(i.events),function(e,t){if(null==e)return;for(var n=0,i=Object.keys(e),o=i.length;n<o;n++){var a=i[n],r=e[a];d.properties[a]=new p(a,r,t)}}(i.properties,i.onPropertyChange)}()}function m(e,t){function n(){t[e].apply(t,arguments)}this.call=n}function u(t,n,i,o){function e(e){o.$emit(i+"."+n+"."+t,e)}this.emit=e}function p(i,e,t){var o=this,a=null,r=null;function n(){return a}function s(e,t){var n=a;a=e,!1!==t&&function(e,t){if(null===r)return;try{r.call(null,i,e,t)}catch(e){}}(n,e)}function c(e,t){var n=a;a=e,!1!==t&&function(e,t){if(null===o.onChange)return;try{o.onChange.call(null,e,t)}catch(e){}}(n,e)}o.default=e.default,o.readable=!0,o.writable="rw"===e.permission,o.onChange=null,o.get=n,o.set=s,a=angular.copy(o.default),o._set=c,r=t}angular.module("siemens.simaticit.common.widgets.component").directive("sitComponent",t).directive("sitInternal",e),e.$inject=["$timeout"],t.$inject=["$rootScope","common.services.component.swacContainerService","common.services.component.swacComponentService","common.services.component.uiComponentService","$timeout","common.services.logger.service","$compile"],n.$inject=["$rootScope","$scope","$element","$timeout","$attrs","common.services.component.swacContainerService","common.services.component.swacComponentService","common.services.component.uiComponentService"]}(),function(){function e(u,e,p,g,f,h,v){return{restrict:"E",scope:!1,controller:t,controllerAs:"ContainerCtrl",compile:function(e,n){var o,a,r,s,c,l=!1;if(!function(){if(e=n.sitIsswac,void 0===e||""===e)return!(n.sitIsswac=!1);var e;var t=angular.lowercase(n.sitIsswac);if("true"!==t&&"false"!==t)return i("Invalid isswac attribute defined. isswac accepts true or false"),!1;return n.sitIsswac="true"===t,!0}())return;if(s=e.find("sit-component").length,l=n.sitIsswac){u.setCreateTimeOut(2e4),u.setInternalTimeOut(2e4),u.setProxyFunctionsTimeOut(2e4),u.setProxyEventsTimeOut(2e4);var t=g.absUrl();t=(t=t.substring(0,t.lastIndexOf("#"))).substring(0,t.lastIndexOf("/")),u.setContainerBaseLibrary(t+"/common/scripts/swac-base.js"),v.WebSSO&&v.WebSSO.service?u.registerService("UMCSSO",v.WebSSO.service):i("umcService WebSSO undefined")}return{pre:function(e,t,n,i){a=e,(r=i).isSwac=l,void 0!==n.sitGroupName?r.containerPrefix=n.sitGroupName+"_":r.containerPrefix="c"+a.$id+"_";r.setComponentsCount(s),c=function(){d(t.parent().parent().height(),t.parent().parent().width()),a.$apply()},o=f(function(){angular.element(p).bind("resize",c),d(t.parent().parent().height(),t.parent().parent().width())})},post:function(e,t){t.wrap('<div style="position:relative;width:100%;height:100%;"></div>'),e.$on("$destroy",m)}};function i(e){h.logError(e,n,"sit-container")}function d(e,t){r.cellHeight=Math.floor(e/12),r.cellWidth=Math.floor(t/12),a.$broadcast("sit-container.cellSizeChanged",{containerPrefix:r.containerPrefix,height:r.cellHeight,width:r.cellWidth})}function m(){r.close(),angular.element(p).unbind("resize",c),f.cancel(o)}}}}function t(e,t,n,i,o,a){var r=this,s=0,c=[],l=[];function d(e){s=e}function m(e,t){a.logDebug("Component creation started for component:"+t+":"+e,null,"sit-container"),"swac"===t?l.push(e):c.push(e)}function u(e,t){a.logDebug("Component creation completed for component:"+t+":"+e,null,"sit-container"),s--,g()}function p(e,t){a.logDebug("Component creation failed for component:"+t+":"+e,null,"sit-container"),s--,g()}function g(){0<s||(n.handleEvents(r.containerPrefix),t.handleEvents(r.containerPrefix),n.startComponents(),o(function(){var e=window.document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}),i.$broadcast("siemens.simaticit.common.widgets.container.mashupReady",r.containerPrefix))}function f(){0<l.length&&e.closeContainer(l),0<c.length&&n.removeComponents(c)}r.isSwac=!1,r.cellHeight=0,r.cellWidth=0,r.containerPrefix="",r.setComponentsCount=d,r.componentCreationStarted=m,r.componentCreationCompleted=u,r.componentCreationFailed=p,r.close=f}angular.module("siemens.simaticit.common.widgets.component").directive("sitContainer",e),e.$inject=["common.services.component.swacContainerService","common.services.component.uiComponentService","$window","$location","$timeout","common.services.logger.service","common.services.umc"],t.$inject=["common.services.component.swacContainerService","common.services.component.swacComponentService","common.services.component.uiComponentService","$rootScope","$timeout","common.services.logger.service"]}(),function(){function e(E,O,P){return{restrict:"E",require:["^sitContainer","sitWire"],bindToController:{name:"@sitName",inputcomponents:"@sitInputcomponents",inputevents:"@sitInputevents",outputcomponents:"@sitOutputcomponents",outputapis:"@sitOutputapis",converters:"&sitConverters",inputtypes:"@sitInputtypes",outputtypes:"@sitOutputtypes"},scope:{},controller:t,controllerAs:"WireCtrl",link:function(e,t,n,i){var o,a,r,s,c,l,d=i[0],m=i[1],u=d.containerPrefix,p=[],g=m.converters();if(!function(){if(w(n.sitName))return b("name attribute can't be empty"),!1;if(w(n.sitInputcomponents))return b("No input components specified to execute wire."),!1;if(w(n.sitInputtypes))return b("type of input components is not specified."),!1;if(w(n.sitInputevents))return b("events of the input component which should be linked with wire are not specified."),!1;if(w(n.sitOutputcomponents))return b("No output components specified to execute wire."),!1;if(w(n.sitOutputtypes))return b("type of output components is not specified."),!1;if(w(n.sitOutputapis))return b("api of output components which should be linked with wire are not specified."),!1;if(0===(o=n.sitInputcomponents.split(",")).length||S(o))return b("Input components contain blank values."),!1;if(0===(a=n.sitInputtypes.split(",")).length||S(a))return b("Inputtypes contain blank values."),!1;if(o.length!==a.length)return b("Input components count is not matching with input types count"),!1;if(0===(r=n.sitInputevents.split(",")).length||S(r))return b("Inputevents contains blank values."),!1;if(o.length!==r.length)return b("Input components count is not matching with input events count"),!1;if(0===(s=n.sitOutputcomponents.split(",")).length||x(s))return b("No valid output components specified to execute wire."),!1;if(0===(c=n.sitOutputtypes.split(",")).length||x(c))return b("No valid output components types specified to execute wire."),!1;if(s.length!==c.length)return b("Output components count is not matching with output types count"),!1;if(0===(l=n.sitOutputapis.split(",")).length||x(l))return b("No valid output components api specified to execute wire."),!1;if(s.length!==l.length)return b("Output components count is not matching with output api count"),!1;return!0}())return;try{I();for(var f=0;f<o.length;f++){var h=o[f],v=a[f],y=r[f];if("ui"===v||"swac"===v){var C=T(f);"swac"===v?E.handleComponentEvent(u+h,y,C):O.handleComponentEvent(u+h,y,C)}else b("Invalid type attribute defined for input component. Valid values are ui, swac",{component:h,type:v,api:y})}}catch(e){b("Error occurred while configuring wire",{exception:e})}function b(e,t){void 0===t&&(t=n),P.logError(e,t,"sit-wire")}function w(e){return void 0===e||""===e}function S(e){for(var t=0;t<e.length;t++)if(w(e[t]))return!0;return!1}function x(e){for(var t=0;t<e.length;t++)if(!w(e[t]))return!1;return!0}function T(t){return function(e){p[t]=e,function(){for(var e=0;e<s.length;e++)try{var t=s[e],n=c[e],i=l[e];if(w(t)||w(n)||w(i)){b("required attribute information is not available for the output component",{component:t,type:n,api:i});continue}if("ui"!==n&&"swac"!==n){b("Invalid type attribute defined for output component. Valid values are ui, swac",{component:t,type:n,api:i});continue}var o=void 0!==g&&g.hasOwnProperty(t)?g[t]:k,a=o(p,void 0);a instanceof Array||(a=[a]),"swac"===n?E.callComponentFunction(u+t,i,a):O.callComponentFunction(u+t,i,a)}catch(e){b("Error occurred while executing wire response",{exception:e})}I()}()}}function I(){for(var e=0;e<o.length;e++)p[e]=void 0}function k(e){for(var t=0;t<e.length;t++)if(e[t])return e[t];return null}}}}function t(){}angular.module("siemens.simaticit.common.widgets.component").directive("sitWire",e),e.$inject=["common.services.component.swacComponentService","common.services.component.uiComponentService","common.services.logger.service"]}(),angular.module("siemens.simaticit.common.widgets.dataSource",["siemens.simaticit.common.widgets.pager"]),function(){function e(e,t,n){var i,o=this;i={serverDataOptions:{dataService:t.invoke([o.sitDataService,function(e){return e}]),dataEntity:o.sitDataEntity,optionsString:o.sitQueryOptions},pagingOptions:{currentPage:1,pageSize:10},quickSearchOptions:{field:"",filterText:""},sortInfo:{field:"",direction:""}},e.getDataManager(i).getAllData().then(function(e){o.sitDataItems=e.data,o.isDataReturned=!0},function(e){o.isDataReturned=!1,n.logger.logError(e.data.error.errorCode+" : "+e.data.error.errorMessage,e.data,"sitDataSource")})}angular.module("siemens.simaticit.common.widgets.dataSource").directive("sitDataSource",function(){return{restrict:"A",bindToController:{sitDataService:"@",sitDataEntity:"@",sitQueryOptions:"@",sitDataItems:"="},scope:{},controller:e,controllerAs:"dataSourceCtrl"}}),e.$inject=["common.widgets.pager.serverDataService","$injector","common"]}(),angular.module("siemens.simaticit.common.widgets.datePicker",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.datePicker");e.controller("DatePickerController",["$filter",function(e){var t=this;t.opened=!1,t.value||(t.value=""),t.value instanceof Date||""===t.value||(t.value=new Date(t.value)),"Invalid Date"===t.value.toString()&&(t.value=""),""!==t.format&&void 0!==t.format||(t.format="mediumDate"),void 0!==t.showButtonBar&&""!==t.showButtonBar||(t.showButtonBar=!0),void 0===t.appendToBody&&(t.appendToBody=!1),t.dateOptions={showWeeks:!1},t.open=function(e){e.preventDefault(),e.stopPropagation(),t.opened=!t.opened}}]),e.directive("sitDatepicker",function(){return{scope:{},restrict:"E",bindToController:{readOnly:"=?sitReadOnly",value:"=?sitValue",validation:"=?sitValidation",format:"=?sitFormat",appendToBody:"=?sitAppendToBody",ngBlur:"&?",sitChange:"=?",showButtonBar:"=?sitShowButtonBar",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:"DatePickerController",controllerAs:"datepickerCtrl",templateUrl:"common/widgets/datePicker/date-picker.html"}})}(),angular.module("siemens.simaticit.common.widgets.dateTimePicker",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.dateTimePicker");function t(e,t,n){var i,o=this,a=10;function r(){i=t(function(){o.isCollapsed?(o.buttonLabel=n.instant("dateTimePicker.today"),$(o.element).find(".uib-datepicker div[uib-daypicker]").focus()):(o.buttonLabel=n.instant("dateTimePicker.now"),$(o.element).find("table.uib-timepicker td.uib-time.hours>input")[0].focus())},0)}function s(){if(0<o.element.parents("ng-form[name=filterForm]").length){var e=o.element.find("ng-form[name=dateTimePickerForm] div.property-grid-input-group:last-child input.property-grid-control").outerHeight(),t={top:o.element.offset().top+e+a,left:o.element.offset().left+a,position:"fixed"};o.element.find("ng-form[name=dateTimePickerForm] div.dropdown-menu").css(t)}}function c(){o.isOpen=!o.isOpen,o.element.find("ng-form div.property-grid-input-group input.property-grid-control").focus(),"function"==typeof o.ngFocus&&o.ngFocus(),o.isOpen&&(o.value||(o.value=new Date),r(),s())}function l(e){var t=$(o.element).find("div[uib-datepicker-popup-wrap]");40===e.which&&(t&&($(o.element).find("ul.uib-datepicker-popup").remove(),t.remove()),c())}function d(){var e=$(o.element).find(".dropdown-menu").children("#datepicker").width();$(o.element).find("#timepicker").width(e),o.isCollapsed=!o.isCollapsed,r()}function m(){if(o.isCollapsed||!o.value)o.value=new Date;else{var e=new Date(o.value),t=new Date;e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds()),o.value=e}}function u(){o.value=null}function p(){o.isOpen=!1,"function"==typeof o.ngBlur&&o.ngBlur()}o.isOpen=!1,o.isCollapsed=!0,o.value||(o.value=""),o.value instanceof Date||""===o.value||(o.value=new Date(o.value)),"Invalid Date"===o.value.toString()&&(o.value=""),o.format||(o.format="medium"),void 0===o.showButtonBar&&(o.showButtonBar=!0),void 0===o.showWeeks&&(o.showWeeks=!1),void 0===o.showMeridian&&(o.showMeridian=!0),void 0===o.showSeconds&&(o.showSeconds=!1),o.dateOptions={showWeeks:o.showWeeks},o.buttonLabel=n.instant("dateTimePicker.today"),o.clearLabel=n.instant("dateTimePicker.clear"),o.closeLabel=n.instant("dateTimePicker.close"),o.clear=u,o.clicked=c,o.close=p,o.keydownPressed=l,o.switchDateTimePicker=d,o.today=m,o.setDropdownPosition=s,e.$on("$destroy",function(){i&&t.cancel(i)})}t.$inject=["$scope","$timeout","$translate"],e.directive("sitDateTimePicker",["$document","$window",function(m,u){return{scope:{},restrict:"E",bindToController:{readOnly:"=?sitReadOnly",value:"=sitValue",validation:"=?sitValidation",format:"=?sitFormat",showButtonBar:"=?sitShowButtonBar",showWeeks:"=?sitShowWeeks",showMeridian:"=?sitShowMeridian",sitChange:"=?",ngDisabled:"=?",ngReadonly:"=?",ngBlur:"&?",ngFocus:"&?",showSeconds:"=?sitShowSeconds"},templateUrl:"common/widgets/dateTimePicker/date-time-picker.html",controller:t,controllerAs:"dateTimePickerCtrl",link:function(a,r,e,s){var t=!1;function n(){s.isOpen&&s.setDropdownPosition()}function i(){s.isOpen&&s.close()}function o(e){if(0<r.find("div.property-grid-input-group").length&&!0===s.isOpen){var t=r.find("div.property-grid-input-group").children(".dropdown-menu").offset().left,n=r.find("div.property-grid-input-group").children(".dropdown-menu").offset().top,i=r.find("div.property-grid-input-group").children(".dropdown-menu").width(),o=r.find("div.property-grid-input-group").children(".dropdown-menu").height();s.isOpen&&!r.find(e.target).length&&(e.clientX<=t||e.clientX>=t+i||e.clientY<=n||e.clientY>=n+o)&&a.$apply(function(){s.isOpen=!1,"function"==typeof s.ngBlur&&s.ngBlur()})}$(r).find(".uib-datepicker .btn").on("click",c)}function c(){$(r).find(".uib-datepicker").children("table").focus()}s.element=r;var l=a.$watch(function(){return r.length},function(e){1===e&&(m.bind("click",o),l())});function d(e){var t=r.find("div.uib-button-bar>button")[0],n=r.find(".date-time-icon-btn")[0],i=9,o=27;s.isOpen&&(e.which===o&&a.$apply(function(){s.close()}),e.which===i&&(s.isCollapsed&&t===e.target?(n.focus(),e.preventDefault()):s.isCollapsed||t!==e.target||(n.focus(),e.preventDefault())))}r.on("keydown",d),0<r.parents("ng-form[name=filterForm]").length&&(t=!0,angular.element(u).bind("resize",n),angular.element(m.find(".canvas-ui-view")).bind("scroll",n),angular.element(angular.element(m.find("sit-filter")).parent()).bind("scroll",i)),a.$on("$destroy",function(){r.off("keydown",d),$(r).find(".uib-datepicker .btn").off("click",c),m.unbind("click",o),t&&(angular.element(u).bind("resize",n),angular.element(m.find(".canvas-ui-view")).bind("scroll",n),angular.element(angular.element(m.find("sit-filter")).parent()).bind("scroll",i))})}}}])}(),angular.module("siemens.simaticit.common.widgets.dialog",["siemens.simaticit.common.widgets.dialog-button","siemens.simaticit.common.widgets.propertyGrid"]),function(){function e(n,e,o,t,a,i,r,s,c){var l=this,d=i.logger.getLogFn("dialog Widget",r.LOG_ERROR),m=i.logger.getLogFn("dialog Widget",r.LOG_INFO),u="The dialog button function is not a valid javascript function \n",p=null,g=[];function f(){l.dialogTitle=l.title,l.dialogTemplate=l.templateuri,l.isValid={},l.isValid.value=!0,l.closeButtonTooltip=l.closeButton&&l.closeButton.tooltip?l.closeButton.tooltip:c.instant("dialog.close"),l.isCloseButtonShown=!l.closeButton||"boolean"!=typeof l.closeButton.showClose||l.closeButton.showClose}function h(){d(u,p)}function v(e){l.alerts.splice(e,1)}function y(){f(),l.positioning="centered",l.showed=!0}function C(){f(),l.positioning="notcentered",l.showed=!0}function b(){l.dialogTitle="",l.dialogTemplate="",l.positioning="notcentered",l.showed=!1}function w(e,t){l.isValid.value=t.validity,l&&l.modalid&&t&&m("data "+l.modalid+": "+JSON.stringify(t))}function S(){a.hideDialogModal(l.modalid)}function x(e,t){"sit-dialog"!==t.eventSource&&"nonModal"!==t.eventSource&&(l.showed&&("notcentered"!==l.positioning&&"centered"!==l.positioning||a.ensureVisible(l.modalid)),n.$broadcast("sit-layout-change",{eventSource:"sit-dialog"}),n.$apply())}function T(n,i,e){void 0!==n.stateTransition?l.buttons[e].onClickCallback=function(){var e,t;e=i,t=n,a.hideDialogModal(e),o.go(t.stateTransition.to,t.stateTransition.params,t.stateTransition.options)}:null!==n.stateTransition||n.onClickCallback&&angular.isFunction(n.onClickCallback)||(p=angular.copy(n),h(),l.buttons[e].onClickCallback=h)}if(void 0!==l.buttons)for(var I=0,k=l.buttons.length;I<k;I++){T(l.buttons[I],l.modalid,I)}n.$on("$destroy",function(){g.forEach(function(e){e()})}),l.positioning="centered",l.showed=!1,l.isValid={},l.isValid.value=!0,l.closeAlert=v,l.center=y,l.notcenter=C,l.hide=b,l.closeDialog=S,l.closeIcon={path:"common/icons/cmdClosePanel24.svg",size:"16px"},n.$watch(function(){return l.templateuri},function(){f()}),n.$watch(function(){return l.title},function(){f()}),g[g.length]=n.$on("sit-layout-change",x),g[g.length]=n.$on("sit-property-grid.validity-changed",w)}angular.module("siemens.simaticit.common.widgets.dialog").directive("sitDialog",function(){return{bindToController:{title:"=sitTitle",templateuri:"=?sitTemplateuri",templatedata:"=sitTemplatedata",modalid:"@sitModalid",buttons:"=sitButtons",closeButton:"=?sitClose"},scope:{},restrict:"E",templateUrl:"common/widgets/dialog/dialog.html",controller:e,controllerAs:"Dialog"}}),e.$inject=["$scope","$rootScope","$state","$window","common.widgets.dialog.service","common","LOG_TYPES","$element","$translate"]}(),function(){function e(e,t,u){var p=125,o=40;function g(){return Math.max(0,Math.max.apply(null,$.map($("*"),function(e){var t=parseFloat($(e).css("z-index"))||0;return 2147483638<=t&&(t=0),t})))}function a(){e.$broadcast("sit-layout-change",{eventSource:"sit-dialog"})}function f(e){var t,n,i;t=e,n=$(t[0]).find(".dialog-alert-container-").height(),i={maxHeight:t[0].offsetHeight-(p+n),maxWidth:t[0].offsetWidth-o},t.find(".dialog-body-overflow").css(i),u.setTimeout(a)}this.showDialogModal=function(e,t){var n=g(),i=$("#"+e);angular.element(i).controller("sitDialog").notcenter(),i.modal("show"),i.data("bs.modal").$backdrop.css({zIndex:n+1});var o=i[0].firstElementChild.firstElementChild.firstElementChild,a=$("#"+t),r=a.offset(),s=a.height(),c=a.width(),l=$(window).innerHeight(),d=$(window).innerWidth();i.find(".dialog-body-overflow").css("max-height",l-p);var m={top:r.top+s+5,left:r.left+c+5,zIndex:n+2};l/2>s/2+r.top?m.top=r.top+s+5:m.top=r.top-(5+o.offsetHeight),d/2>c/2+r.left?m.left=r.left+c+5:m.left=r.left-(5+o.offsetWidth),o.offsetHeight+m.top>l&&(m.top=l-o.offsetHeight),m.top<0&&(m.top=0),o.offsetWidth+m.left>d&&(m.left=d-o.offsetWidth),m.left<0&&(m.left=0),i.css(m),u.setTimeout(function(){f(i)})},this.ensureVisible=function(e){var t=$("#"+e);if("centered"!==angular.element(t).controller("sitDialog").positioning){var n=t.offset(),i=t[0].firstElementChild.firstElementChild.firstElementChild,o=$(window).innerHeight(),a=$(window).innerWidth();i.offsetHeight+n.top>o&&(n.top=o-i.offsetHeight),n.top<0&&(n.top=0),i.offsetWidth+n.left>a&&(n.left=a-i.offsetWidth),n.left<0&&(n.left=0),t.css(n)}u.setTimeout(function(){f(t)})},this.showDialogCenteredModal=function(e){var t=g(),n=$(window).height(),i=$("#"+e);angular.element(i).controller("sitDialog").center(),i.find(".dialog-body-overflow").css("max-height",n-p);var o={top:0,left:0,zIndex:t+2};i.css(o),i.modal("show"),i.data("bs.modal").$backdrop.css({zIndex:t+1}),u.setTimeout(function(){f(i)})},this.hideDialogModal=function(e){var t=$("#"+e);0!==t.length&&(angular.element(t).controller("sitDialog").hide(),t.modal("hide"))}}angular.module("siemens.simaticit.common.widgets.dialog").service("common.widgets.dialog.service",e),e.$inject=["$rootScope","LOG_TYPES","$window"]}(),angular.module("siemens.simaticit.common.widgets.dialog-button",[]),angular.module("siemens.simaticit.common.widgets.dialog-button").directive("sitDialogButton",[function(){return{bindToController:{button:"=sitButton"},scope:!0,restrict:"E",templateUrl:"common/widgets/dialogButton/dialogButton.html",controller:["$scope",function(e){e.$on("$destroy",function(){})}],controllerAs:"dialogButtonCtrl"}}]),angular.module("siemens.simaticit.common.widgets.documentViewer",[]),function(){function e(e,t){var n=this;function i(){n.isImageFullScreenMode=!0,t.find("#full-screen-image").ready(function(){document.getElementById("full-screen-image").addEventListener("click",function(e){n.isImageFullScreenMode=!1})})}n.$onInit=function(){n.eventListner=[],n.showFullScreen=i,n.eventListner[n.eventListner.length]=e.$on("imageMaximise",i)},n.$onDestroy=function(){n.eventListner.forEach(function(e){e()})}}angular.module("siemens.simaticit.common.widgets.documentViewer").component("sitImageViewer",{transclude:!0,require:{parent:"^sitDocumentViewer"},bindings:{source:"<sitSource",config:"@sitConfig"},controller:e,templateUrl:"common/widgets/documentViewer/plugins/image/image-viewer.html"}),e.$inject=["$scope","$element"]}(),function(){function e(e,s,t){var n,i,c=this,l=";base64,";function o(){c.sourceUrl=function(e){for(var t=e.indexOf(l)+l.length,n=e.substring(t),i=window.atob(n),o=i.length,a=new window.Uint8Array(new window.ArrayBuffer(o)),r=0;r<o;r++)a[r]=i.charCodeAt(r);return a}(c.source),c.pdfReference.getDocument(c.sourceUrl).then(function(e){for(var t=s.find(".pdf-viewer")[0];t.hasChildNodes();)t.removeChild(t.firstChild);if(!t.hasChildNodes()){c.pdfDocument=e;for(var n=1;n<=c.pdfDocument.numPages;n++)a(n)}})}function a(i){c.pdfDocument.getPage(i).then(function(e){var t="pdf-viewer-"+i,n=document.getElementById(t);n&&n.parentNode.removeChild(n),s.find(".pdf-viewer").append($("<canvas/>",{id:t})),function(e,t){var n=s.parents().find(".doc-content")[0];if(n)var i=n.clientWidth/t.pageInfo.view[2]*c.DEFAULT_SCALE,o=(n.clientHeight-5)/t.pageInfo.view[3]*c.DEFAULT_SCALE;var a=Math.min(i,o),r=t.getViewport(a);e.height=r.height,e.width=r.width-20,c.renderContext={canvasContext:e.getContext("2d"),viewport:r}}(n=s.find("#"+t)[0],e),e.render(c.renderContext).promise.then(function(){null!==c.pageNumPending&&(a(c.pageNumPending),c.pageNumPending=null)})})}function r(){n=t(function(){var e,t;e=s.find(".pdf-canvas"),(t=s.parents().find(".doc-content")[0])&&(e.css("height",t.clientHeight+"px"),e.css("width",t.clientWidth+"px")),o()})}function d(){c.isFullScreenMode=!0,c.viewerScriptLoaded||((i=document.createElement("script")).type="text/javascript",i.onload=function(){c.pdfFullScreenViewer=window.PDFViewerApplication,c.viewerScriptLoaded=!0,c.pdfFullScreenViewer.open(c.sourceUrl)},i.src="common/scripts/pdfjs/viewer.js",i.id="viewerJs",document.getElementsByTagName("body")[0].appendChild(i))}function m(){c.isFullScreenMode=!1,document.getElementById("viewerJs").parentNode.removeChild(document.getElementById("viewerJs")),c.viewerScriptLoaded=!1}c.$onInit=function(){c.pdfReference=window.PDFJS,c.pdfDocument=null,c.pageNumPending=null,c.eventListner=[],c.DEFAULT_SCALE=1,c.showFullScreen=d,c.eventListner[c.eventListner.length]=e.$on("sit-layout-change",r),c.eventListner[c.eventListner.length]=e.$on("pdfMaximise",d)},c.$postLink=function(){r()},window.document.addEventListener("pdf-full-screen-closed",m,!0),c.$onChanges=function(e){e.source&&!e.source.isFirstChange()&&r()},c.$onDestroy=function(){c.eventListner.forEach(function(e){e()}),t.cancel(n),t.cancel(void 0),window.document.removeEventListener("pdf-full-screen-closed",m,!0),c.pdfDocument.destroy()}}angular.module("siemens.simaticit.common.widgets.documentViewer").component("sitPdfViewer",{transclude:!0,require:{parent:"^sitDocumentViewer"},bindings:{source:"<sitSource",config:"@sitConfig"},controller:e,templateUrl:"common/widgets/documentViewer/plugins/pdf/pdf-viewer.html"}),e.$inject=["$scope","$element","$timeout"]}(),function(){function e(e,t,n){var i=this;function o(e){i.textContent=e.replace("data:text/plain;base64,",""),i.textData=atob(i.textContent)}function a(){i.istextFullScreenMode=!0,t.find("#full-screen-text").ready(function(){document.getElementById("full-screen-text").addEventListener("click",function(e){i.istextFullScreenMode=!1})})}i.$onInit=function(){i.eventListner=[],i.showFullScreen=a,i.eventListner[i.eventListner.length]=e.$on("textMaximise",a),o(i.source)},e.$watch(function(){return i.source},function(e,t){t!==e&&o(e)}),i.$onDestroy=function(){i.eventListner.forEach(function(e){e()}),n.cancel(void 0)}}angular.module("siemens.simaticit.common.widgets.documentViewer").component("sitTextViewer",{transclude:!0,require:{parent:"^sitDocumentViewer"},bindings:{source:"<sitSource",config:"@sitConfig"},controller:e,templateUrl:"common/widgets/documentViewer/plugins/text/text-viewer.html"}),e.$inject=["$scope","$element","$timeout"]}(),angular.module("siemens.simaticit.common.widgets.documentViewer").filter("textLineBreak",function(){return function(e){return e.replace(/\n/g,"<br />")}}),function(){function e(e,t,n){var i=this;function o(e){i.svgContent=e.replace("data:image/svg+xml;base64,",""),i.svgData=atob(i.svgContent),i.finalSVG=n.trustAsHtml(i.svgData)}function a(){i.isVectorFullScreenMode=!i.isVectorFullScreenMode}i.$onInit=function(){i.eventListner=[],i.isVectorFullScreenMode=!1,i.toggleFullScreen=a,i.eventListner[i.eventListner.length]=e.$on("svgMaximise",a),o(i.source)},e.$watch(function(){return i.source},function(e,t){t!==e&&o(e)}),i.$onDestroy=function(){i.eventListner.forEach(function(e){e()})}}angular.module("siemens.simaticit.common.widgets.documentViewer").component("sitVectorViewer",{transclude:!0,require:{parent:"^sitDocumentViewer"},bindings:{source:"<sitSource",config:"@sitConfig"},controller:e,templateUrl:"common/widgets/documentViewer/plugins/vector/vector-viewer.html"}),e.$inject=["$scope","$element","$sce"]}(),function(){function e(e,t){var n=this;function i(){var e,t=document.getElementById("video-element");void 0!==document.fullscreenElement&&(e=null!==document.fullscreenElement),void 0!==document.msFullscreenElement&&(e=document.msFullscreenElement),t&&!e?(t.requestFullscreen&&t.requestFullscreen(),t.msRequestFullscreen&&t.msRequestFullscreen()):(document.exitFullscreen&&document.exitFullscreen(),document.msExitFullscreen&&document.msExitFullscreen())}n.$onInit=function(){n.eventListner=[],n.showFullScreen=i,n.eventListner[n.eventListner.length]=e.$on("videoMaximise",i)},n.$onDestroy=function(){n.eventListner.forEach(function(e){e()})}}angular.module("siemens.simaticit.common.widgets.documentViewer").component("sitVideoViewer",{transclude:!0,require:{parent:"^sitDocumentViewer"},bindings:{source:"<sitSource",config:"@sitConfig"},controller:e,templateUrl:"common/widgets/documentViewer/plugins/video/video-viewer.html"}),e.$inject=["$scope","$element"]}(),function(){function e(e,t){var n=this;function i(){n.carouselContainer=t.parents().find(".tab-content")[0];n.carouselContainer&&(n.showItems=(n.carouselContainer.clientWidth-64)/50,n.last=Math.ceil(n.data.length/n.showItems),n.carouselData=n.data.slice(0,n.showItems))}n.$onInit=function(){n.page=1,n.eventListner=[],n.registerEvents()},n.onThumbnailClick=function(e){n.parent.setDocument(e)},n.nextItems=function(){return n.page+=1,n.carouselData=n.data.slice(n.showItems*n.page-n.showItems,n.showItems*n.page),n.carouselData},n.prevItems=function(){return n.page-=1,n.carouselData=n.data.slice(n.showItems*n.page-n.showItems,n.showItems*n.page),n.carouselData},n.$onChanges=function(e){e.data&&!e.data.isFirstChange()&&(n.carouselData=e.data.currentValue,n.page=1,i())},n.registerEvents=function(){n.eventListner[n.eventListner.length]=e.$on("sit-layout-change",i)},n.$onDestroy=function(){n.eventListner.forEach(function(e){e()})}}angular.module("siemens.simaticit.common.widgets.documentViewer").component("sitDocumentCarousel",{transclude:!0,require:{parent:"^sitDocumentViewer"},bindings:{data:"<sitData",config:"=sitConfig"},controller:e,templateUrl:"common/widgets/documentViewer/document-carousel.html"}),e.$inject=["$scope","$element"]}(),function(){function e(){var e,t=this;t.supportedPlugins=[],t.defaultDocumentViewerPlugins=[{format:"pdf",viewer:"sit-pdf-viewer"},{format:"image",viewer:"sit-image-viewer"},{format:"video",viewer:"sit-video-viewer"},{format:"text",viewer:"sit-text-viewer"}],e=t.plugins?t.plugins.concat(t.defaultDocumentViewerPlugins):t.defaultDocumentViewerPlugins,t.supportedPlugins=_.uniq(e,"format")}angular.module("siemens.simaticit.common.widgets.documentViewer").directive("sitDocumentPlugin",["$compile",function(a){return{restrict:"EA",controller:e,bindToController:{plugins:"=?sitPlugins"},link:function(e,t,n,i){var o="";void 0!==i.supportedPlugins&&0<i.supportedPlugins.length&&angular.forEach(i.supportedPlugins,function(e){o+="<"+e.viewer+" ng-if=\"$ctrl.documentFormat === '"+e.format+'\'" sit-source="$ctrl.documentSource" sit-config="$ctrl.config"></'+e.viewer+">"}),t.append(a(o)(e))}}}])}(),function(){function e(t,e,n,i){var o=this;function a(n){_.each(o.categories,function(e,t){e.id===n?o.categories[t].tabActive=!0:o.categories[t].tabActive=!1}),o.enableTabs(n)}function r(e){e!==o.selectedMode&&o.toggleViewer()}function s(e,t,n){e.stopPropagation(),function(e,t){for(var n=atob(e.split(",")[1]),i=new window.ArrayBuffer(n.length),o=new window.Uint8Array(i),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);var r=new Blob([i]);if(-1!==navigator.userAgent.indexOf("MSIE")||document.documentMode)window.navigator.msSaveBlob(r,t);else{var s=document.createElement("a");s.download=t,s.innerHTML="download",s.href=URL.createObjectURL(r),s.click(),s.removeAttribute("href")}}(t,n)}o.$onInit=function(){o.selectedTab="",o.tabContent="",o.docContent=!1,o.tileType="item",o.selectStyle="standard",o.useCustomColors=!1,o.title="string"==typeof o.config.title?o.config.title:e.instant("documentViewer.defaultTitle"),o.defaultDocumentSelection=o.document?o.document:"",o.selectedMode="details"===o.config.mode?"details":"display",o.fullScreenMode="toolbar"===o.config.fullScreenMode?"toolbar":"viewer",o.config.selectCategory=a,o.config.setMode=r,o.downloadDocument=s,o.docTemplate="",o.onInitTiles(),o.populateData(),o.setMode(),o.items=[],function(){for(var e=0;e<o.actions.length;e++)o.actions[e].displayIcon=null,o.actions[e].svgIcon?o.actions[e].displayIcon={path:o.actions[e].svgIcon,size:"24px"}:o.actions[e].cmdIcon&&(o.actions[e].displayIcon={prefix:"cmd",name:o.actions[e].cmdIcon,suffix:"24",size:"24px"})}()},o.onInitTiles=function(){var e="black",t="orange",n="#647887",i="blue";o.options={containerID:"tile-view-container",bgColor:t,bgColorSelected:i,color:e,colorSelected:n,propertyFields:[{field:"name",displayName:"Name"}],tileViewMode:"wide",selectStyle:o.selectStyle,tileType:o.tileType,useCustomColors:o.useCustomColors,debug:!0,enableResponsiveBehaviour:!0,multiSelect:!1,commands:[{onClick:o.downloadDocument}],tileTemplate:'<div style="position:relative;" class="custom-large"><div style="float:left; padding: 0 9px 0 9px;"><div data-internal-type="image-vcenter" style="width: 54px;height: 68px; box-sizing: border-box;align-items: center; justify-content: center; display: flex; vertical-align: middle;"><img ng-if="itemTileCtrl.tileContent.thumbnail && itemTileCtrl.tileContent.thumbnail!==undefined"ng-src="{{itemTileCtrl.tileContent.thumbnail}}" style="max-height: 68px;width: 100%;height: auto;"/><div ng-if="!itemTileCtrl.tileContent.thumbnail || itemTileCtrl.tileContent.thumbnail===undefined"class="doc-tile-thumbnail" ng-switch="itemTileCtrl.tileContent.format" ><i ng-switch-when="image" class="fa fa-file-image-o"> </i><em ng-switch-when="pdf" sit-mom-icon="{\'path\': \'common/icons/typePdf48.svg\'}"></em><i ng-switch-when="video" class="fa fa-file-video-o"> </i><em ng-switch-when="text" sit-mom-icon="{\'path\': \'common/icons/typeTxt48.svg\'}"></em><i ng-switch-default class="fa fa-file"> </i></div></div></div><div style="float:left; padding: 15px 0 15px 8px; width: 192px;"><div ng-attr-title="{{itemTileCtrl.displayProp1.value}}" style="text-overflow: ellipsis; overflow: hidden;white-space: nowrap; color: #1e1e1e; font-size: 10.5pt; font-weight: 600;" data-internal-type="description">{{itemTileCtrl.displayProp1.value}}</div><div style="color: #197fa2; font-size: 9pt; font-weight: 400;" data-internal-type="size">{{(itemTileCtrl.tileContent.source.length*0.75)/1024 | number:0}} KB</div></div><div style="float: right; width: 62px; padding: 6px 16px 0 8px; height: 68px; text-align: right;"><div style="transition: all .2s ease-in-out" onMouseOver="this.style.transform=\'scale(1.1)\'"onMouseOut="this.style.transform=\'scale(1)\'" ng-attr-title="Download {{itemTileCtrl.tileContent.name}}"ng-click="itemTileCtrl.tileOptions.commands[0].onClick($event, itemTileCtrl.tileContent.source, itemTileCtrl.tileContent.name)"><em sit-mom-icon="{\'path\': \'common/icons/cmdDownload24.svg\'}"></em></div></div></div>'}},o.populateData=function(){void 0!==o.data&&o.data.length?_.findIndex(o.data,o.document)<0&&(o.data[o.data.length]=o.document):(o.data=[],o.data[0]=o.document),void 0!==o.categories&&o.categories.length?_.findIndex(o.categories,{id:o.document.category})<0&&(o.categories[o.categories.length]={id:o.document.category,label:o.document.category,uploadEnabled:!1,deleteEnabled:!1}):(o.categories=[],o.categories[0]={id:o.document.category,label:o.document.category,uploadEnabled:!1,deleteEnabled:!1})},o.setDocument=function(t){o.document=t,angular.forEach(o.tabContent,function(e){e.selected=!1,e.name===t.name&&(e.selected=!0)}),o.documentSource=t.source,o.documentFormat=t.format},o.showDocument=function(t){if(angular.forEach(o.data,function(e){e.category===t&&o.tabContent.push(e)}),o.items=o.tabContent,""!==o.defaultDocumentSelection){var e=_.findIndex(o.items,o.defaultDocumentSelection);return o.defaultDocumentSelection="",void o.setDocument(o.items[e])}o.setDocument(o.items[0])},o.enableTabs=function(e){if(""===o.defaultDocumentSelection)o.selectedTab=e;else{o.selectedTab=o.document.category;var t=_.findIndex(o.categories,{id:o.selectedTab});o.categories[t].tabActive=!0}},o.maximizeClicked=function(e){e.format&&t.$broadcast(e.format+"Maximise")},t.$watch(function(){return o.selectedTab},function(e,t){t!==e&&(o.tabContent=[],o.showDocument(e))}),t.$on("sit-item-selection-changed",function(e,t){o.docContent=!1,o.setDocument(t[0])}),o.setMode=function(){"details"===o.selectedMode?o.docContent=!0:o.docContent=!1},o.toggleViewer=function(){o.docContent=!o.docContent,o.selectedMode=o.docContent?"details":"display"}}angular.module("siemens.simaticit.common.widgets.documentViewer").component("sitDocumentViewer",{transclude:!0,bindings:{document:"<sitDocument",data:"=sitData",categories:"=sitCategories",actions:"=sitActions",config:"=sitConfig"},controller:e,templateUrl:"common/widgets/documentViewer/document-viewer.html"}),e.$inject=["$scope","$translate","$document","$compile"]}(),angular.module("siemens.simaticit.common.widgets.electronicSignature",[]),function(){function e(){return{scope:{},bindToController:{filter:"=sitFilter",config:"=sitConfig",vmpicker:"=sitVmpicker"},controller:t,controllerAs:"vm",templateUrl:"common/widgets/electronicSignature/sit-es-browse-scenarios.html"}}function t(e,t){var i=this;function n(){i.tableConfig.data;i.ready&&i.tableConfig.refreshData&&(l(),i.tableConfig.refreshData(),i.ready=!0)}function o(e){e.getSettings().sort={predicate:"NId",reverse:!1},i.config.onInit&&i.config.onInit.call(null,e)}function a(e){i.config.onPageChange&&i.config.onPageChange.call(null,e)}function r(e,t){i.config.onSortChange&&i.config.onSortChange.call(null,e,t)}function s(e,t){0<e.length?i.config.SelectedScenario=e[0].NId:i.config.SelectedScenario=null,(i.config.onSelectionChange||""==i.config.SelectedScenario)&&i.config.onSelectionChange.call(null,i.config.SelectedScenario,t,i.vmpicker)}function c(e){if(i.ready&&i.tableConfig.refreshData)return t.getScenarios(e,"IsCurrent eq true and SignatureConfigurations/any()")}function l(){t.getFilterString(i.filter)}i.config=i.config||{},i.filter=i.filter||{},i.config.enableColumnResizing=i.config.enableColumnResizing||!0,i.config.pageSizeDefault=i.config.pageSizeDefault||10,i.config.pageSizes=i.config.pageSizes||[10,25,50,100,250],i.config.SelectedItem=i.config.SelectedItem||"",i.config.onInit=i.config.onInit||null,i.config.onPageChange=i.config.onPageChange||null,i.config.onSelectionChange=i.config.onSelectionChange||null,i.ready=!1,i.refreshData=n,i.refreshTitle=e.instant("electronicSignature.refresh"),i.tableConfig={enableColumnResizing:i.config.enableColumnResizing,pageSizes:i.config.pageSizes,pageSizeDefault:i.config.pageSizeDefault,selectionMode:"single",fields:{NId:{sorting:!0,grouping:!0,quicksearch:!0,displayName:"NId",filtering:{type:"string",default:!0,validation:{required:!1}}},Name:{sorting:!0,grouping:!1,quicksearch:!1,displayName:e.instant("electronicSignature.scenarioName"),filtering:{type:"string",default:!1,validation:{required:!1}}},Description:{sorting:!0,grouping:!1,quicksearch:!1,displayName:e.instant("electronicSignature.scenarioDescription"),filtering:{type:"string",default:!1,validation:{required:!1}}}},dataSource:{dataService:{findAll:c},dataEntity:"ScenarioConfiguration",appName:"AuditTrail",optionsString:"$select=Id,NId,Name,Description,SignatureConfigurations&$expand=SignatureConfigurations($select=Id,Index,Sequence,Signer,Reason,IsCommentMandatory)"},data:[],onInitCallback:o,onPageChangeCallback:a,onSortChangeCallback:r,onSelectionChangeCallback:s},i.ready||(l(),function(){for(var e=Object.keys(i.filter),t=0;t<e.length;t++){var n=e[t];if(i.filter[n])switch(n){case"NId":delete i.tableConfig.fields.NId.filtering;break;case"Name":delete i.tableConfig.fields.Name.filtering;break;case"Description":delete i.tableConfig.fields.Description.filtering}}}(),i.ready=!0)}angular.module("siemens.simaticit.common.widgets.electronicSignature").directive("sitEsBrowseScenarios",e),e.$inject=[],t.$inject=["$translate","common.services.electronicSignature.service"]}(),function(){function ce(){for(var e=document.querySelectorAll(".panel"),t=0;t<e.length;t++)e[t].classList.remove("panel");for(e=document.querySelectorAll(".panel-heading"),t=0;t<e.length;t++)e[t].classList.remove("panel-heading");return!0}function e(a,e,t,r,n,c,i,s,o,l,d,m,u,p,g){var f=this,h=this,v=null,y=location.origin,C=!0,b=null,w=null,S=null,x=null,T=null,I=null,k=null,E=null,O=null,P=null,D=420,R="";function A(e){return(-1<e.indexOf("//")?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}function M(e){return-1!==e.indexOf("https")?"https://":"http://"}I=l,k=d,R=t.getLocale(),function(){w=b=v=E=T=x=S=null;var e=JSON.parse(JSON.stringify(f.config.items));f.config.items=null,f.config.items=e,void 0!==window.location.search&&(b=window.location.search.split("=")[1]),F=b||location.origin+"/umc-sso",(N=document.createElement("a")).href=F,void 0!==N&&void 0!==N.href&&0<N.href.length&&(y=M(location.origin)+A(N.href))}(),L(),document.getElementsByClassName("dialog-close-btn")[0].onclick=V;var F=b||location.origin+"/umc-sso";if(void 0!==F){var N=document.createElement("a");N.href=F,void 0!==N&&void 0!==N.href&&0<N.href.length&&(y=M(location.origin)+A(N.href))}var B={name:"umc-comp",type:"",source:F+"/swaclogin",settings:{left:"200px",top:"0%",width:"85%",height:"90%",flavor:"ui"}},G={name:"umc-sign",type:"",source:F+"/swaclogin",parent:null,settings:{top:"0px",width:"290px",height:D+"px",flavor:"ui"}};function V(){f.config.onCloseDialog&&f.config.onCloseDialog.call(null,null)}function L(){f.config.description=i.instant("esSigners.description"),f.config.signsleftdescription=f.config.signstocollect-f.config.signscollected+" "+i.instant("esSigners.leftsigns")+".",f.config.progressvalue=f.config.signscollected/f.config.signstocollect*100}function z(e){return decodeURIComponent(Array.prototype.map.call(atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function U(e,t,n){v.claim=z(e),v.encrypted_claim=e,v.sig=t,v.AuthToken=n,v.comment=JSON.parse(v.claim).comment,v.comment||(v.comment="");var i="";"A"===h.RichRadio1.value&&(i="Approved"),"R"===h.RichRadio1.value&&(i="Rejected"),255<=v.comment.length?(v.error=J("TooLongComment"),Z()):f.executeCommandFullName("AuditTrail","AddSignature",{ESTicket:f.config.ESTicket,AuthenticationToken:v.AuthToken,Comment:v.comment,SignatureAction:i})}function j(o){"Initial"!==v.Status?_():(!function(){var e=document.getElementById(v.Id+"_content");e.innerHTML="",e.removeAttribute("class"),e.className="sit-panel-item sit-panel-cont background-level-common item-space-1",e.style.height=G.settings.height;var t=document.createElement("label");t.type="text",t.setAttribute("id","output"),"Initial"!==v.Status&&(document.getElementById("output").innerHTML="todo data output-----");G.parent=e}(),f.config.callback=function(e){var t,n=e.data.name,i=SWAC.Container.get({name:n});f.config.subscribed=!0,t=o,(S=SWAC.Container.get({name:"umc-sign"})).proxy.beginSign(t).then(function(t){if("success"===t.result.toLowerCase()){if(null!=x)x.fulfill(t),x=null;else{var n=!1;JSON.parse(z(t.claim)).groups.forEach(function(e){e.name==v.group&&(n=!0)}),0===v.Signer.Name.length&&!1===n?(g.warning("The signer does not belong to the requested group ("+v.group+")"),document.getElementsById("rbcontrol")[0].click()):(v.error="",a.post(y+"/sit-auth/OAuth/GetESAuthenticationToken",{claim:t.claim,sig:t.sig}).then(function(e){f.OnAuthTokenReceived(t.claim,t.sig,e.data.estoken)},function(e){v.error=e.error.errorMessage}))}S.beginRemove().then(function(){},function(e){})}},function(e){"aborted"===e.message&&S.beginRemove(),null!=x&&(x.reject(e),x=null)}),i.hasUI()&&i.beginShow(!0),SWAC.Container.onReady.unsubscribe(f.config.callback)},SWAC.Container.onReady.subscribe(f.config.callback),SWAC.Container.beginCreate([G]).then(function(e){!function(e){var t=document.getElementsByClassName("dialog-body-overflow")[0];t&&t.setAttribute("style",t.style.cssText+"overflow-x:hidden;");var n=document.getElementsByName("umc-sign")[0];n.style.position="relative",n.setAttribute("style","position:relative;border:1px solid #DCDCDC;overflow:hidden;");var i=n.contentWindow||n.contentDocument;i.document&&(i=i.document);q(n=i.body.getElementsByClassName("loginButton")[0],"click",function(){0<P.username.length&&setTimeout(function(){W(O)},1e3),v.error="",c.$apply()}),(n=document.getElementById(v.Id+"_content")).style.height=D+"px",n.setAttribute("align","middle"),n.setAttribute("overflow","hidden"),P=e,W(O=i),q(n=i.body.getElementsByClassName("auth-option-chevron")[0],"click",function(){0<P.username.length&&setTimeout(function(){W(O)},1),v.error="",c.$apply()}),function(e){for(var t=null,n=e.body.getElementsByClassName("loginButton"),i=0;i<n.length;i++)"loginFormSubmit"===n[i].id&&(t=n[i]).setAttribute("value",J("Sign"));!function e(t,n){n<100&&setTimeout(function(){t.offsetParent&&(n=100,t.value=J("Sign")),e(t,n++)},100)}(t,0)}(i),i.body.getElementsByClassName("login-content")[0].setAttribute("on-finish-render",ce());document.getElementsByTagName("iframe")[0].offsetLeft,document.getElementById(v.Id+"_content").offsetLeft;var o=t.style.cssText,a=o.indexOf("width: "),r=(o=o.substring(a,o.length)).indexOf("px"),s=o.substring(o.indexOf(" "),r).trim();w=k('<center><sit-rich-radio id="rbcontrol" style="width:'+s+"px;left:100px\" sit-value='vm.RichRadio1.value' sit-validation='vm.RichRadio1.validation' sit-options='vm.RichRadio1.widgetAttributes.options' templateurl='common/widgets/electronicSignature/es-rich-radio.html'></sit-rich-radio></center>")(I),angular.element(document.getElementById(v.Id+"_header")).empty().append(w),document.getElementById("rbcontrol").style.zIndex="1000"}(o)},function(e){}))}function q(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),!0):e.attachEvent?e.attachEvent("on"+t,n):null}function W(e){var t=O.body.getElementsByClassName("credential-input")[0];0<P.username.length&&(t.value=P.username,t.disabled=!0)}function _(){var e=document.getElementById(v.Id+"_content");if("Rejected"===f.config.items.Status&&"Initial"===v.Status)v.error=J("ScenarioInRejectStatus"),e.removeAttribute("style");else{e.innerHTML="",e.removeAttribute("class"),e.className="sit-panel-item sit-panel-cont background-level-common item-space-1",e.setAttribute("style","width:100%;padding: 5px;"),e.setAttribute("align","left");var t=document.createElement("table");e.appendChild(t),t.setAttribute("width","100%"),X(t,J("Meaning")+":",v.Reason,null),H(t,J("UserID")+":",v.UserIdentity.Name,null),void 0===v.UserIdentity.FullName&&(v.UserIdentity.FullName=""),H(t,J("FullName")+":",v.UserIdentity.FullName,null);var n=new Date(v.TimeStamp);H(t,J("DateAndTime")+":",moment(n.toString()).format("YYYY-MM-DD HH:mm:ss"),null),X(t,J("Comment")+":",v.Comment,null)}}function H(e,t,n,i){var o=document.createElement("tr");e.appendChild(o);var a=document.createElement("td");o.appendChild(a);var r=document.createElement("span");r.type="text",r.setAttribute("id",e.id+t),r.setAttribute("class","signer_info_header"),r.setAttribute("width","100%"),r.setAttribute("style","width:100%;margin-left:5%;margin-top:10px;"),r.innerHTML=t,a.appendChild(r),o=document.createElement("tr"),e.appendChild(o),a=document.createElement("td"),o.appendChild(a);var s=document.createElement("span");s.type="text",s.setAttribute("id",e.id+"_content_"+t),s.setAttribute("width","100%"),s.setAttribute("class","signer_info_text"),s.setAttribute("style","width:100%;margin-left:5%;margin-bottom: 30px;"),null!=i&&s.setAttribute("style","width:100%;padding:5px;margin-bottom: 10px;color:"+i+';"'),s.innerHTML=n,a.appendChild(s)}function X(e,t,n,i){var o=document.createElement("tr");e.appendChild(o);var a=document.createElement("td");o.appendChild(a);var r=document.createElement("span");r.type="text",r.setAttribute("id",e.id+t),r.setAttribute("class","signer_info_header"),r.setAttribute("width","100%"),r.setAttribute("style","width:100%;margin-left:5%;"),r.innerHTML=t,a.appendChild(r),o=document.createElement("tr"),e.appendChild(o),a=document.createElement("td"),o.appendChild(a);var s=document.createElement("textarea");s.readOnly=!0,s.rows="1",s.setAttribute("id",e.id+"_content_"+t),s.setAttribute("width","100%"),s.setAttribute("style",'margin-top:-5px;margin-bottom:-5px;margin-left:16px;color: #464646;text-align: left;text-decoration: none;font-family: "Segoe UI",Arial;font-size: 10.5pt;font-style: normal;font-weight: 400;width:100%;resize: none;background-color:#f0f0f0;border-style: none;border-color: Transparent;overflow: auto;outline: none;'),null!=i&&s.setAttribute("style","width:100%;padding:5px;margin-bottom: 10px;color:"+i+';"'),s.innerHTML=n,a.appendChild(s)}function Y(e,t){t,T=e,SWAC.Container.beginCreate([B]).then(function(e){$.getJSON("../UIDynamicStyle.json",function(e){SWAC.Container.get({name:"umc-comp"}).proxy.beginCustomizeUI(e)})},function(e){})}function Q(e,t){x=t,j(T=e)}function K(e,t,n){var i,o,a,r;S=null,(T=new Object).service=y+"/UMC/slwapi/service",T.sigalg="PS256",T.language=R,T.nosession=!0,T.nonce=JSON.parse(atob(f.config.ESTicket)).Body.umcnonce,T.description=n,E=UmcWebSSO(F,Y,Q),SWAC.Services.register("UMCSSO",E.service),E.beginSilentLogin(T).then(function(e){E.init(JSON.parse(atob(e.claim))),e.ctx=T.ctx},function(){}),i=e,o=t,a=n,(r=new Object).service=location.origin+"/UMC/slwapi/service",r.nosession=!0,r.comment=!0,r.commentrequired=o,r.language=R,r.cancancel=!1,r.username=i,r.sigalg="PS256",r.nonce=JSON.parse(atob(f.config.ESTicket)).Body.umcnonce,r.description=a,j(T=r)}function J(e){var t=i.instant("esSigners."+e);return t!=="esSigners."+e?t:""}function Z(){h.config.items.SignatureInstances.forEach(function(e){angular.element(document.getElementById(e.Id+"_header")).empty(),angular.element(document.getElementById(e.Id+"_content")).empty()}),"SpecificUser"===v.Signer.Type?K(v.Signer.Name,v.IsCommentMandatory,v.Reason):K("",v.IsCommentMandatory,v.Reason)}function ee(e,t){t,(v=h.config.items.SignatureInstances[t]).error="","Approved"!==v.Status&&"Rejected"!==v.Status&&"Approved"!==f.config.items.Status&&"Rejected"!==f.config.items.Status?0==e||null==e?null==f.config.ESTicket?f.executeCommandFullName("AuditTrail","PrepareSignature",{ScenarioInstanceId:f.config.ScenarioInstance.ScenarioInstanceId,ScenarioStepId:v.Index}):(f.executeCommandFullName("AuditTrail","AbortSignature&PrepareSignature",{ESTicket:f.config.ESTicket}),f.config.ESTicket=null):(-1,f.config.ESTicket&&(f.executeCommandFullName("AuditTrail","AbortSignature",{ESTicket:f.config.ESTicket}),f.config.ESTicket=null)):_()}function te(e,t){v.error=J("Error"+e+t.error.errorCode),0===v.error.length&&(v.error=t.error.errorMessage)}function ne(e,t,n){var i=new Object,o=new s;return o.appName=e,o.appPrefix=e,o.commandName=t.split("&")[0],o.params=n,r.invoke(o).then(function(e){i.succeeded=!0,i.data=e,f.switchercall(t,i)},function(e){f.switchercall(t,e)}),i}function ie(e,t){switch(e){case"AddSignature":f.AddSignature(t.data);break;case"PrepareSignature":f.PrepareSignature(t.data);break;case"AbortSignature":f.AbortSignature(t.data);break;case"AbortSignature&PrepareSignature":f.AbortSignatureAndPrepare(t.data)}}function oe(e){e.succeeded?(f.config.ESTicket=e.data.ESTicket,h.RichRadio1.value="A",f.loadUMC()):te("PrepareSignature",e)}function ae(e){e.succeeded&&(f.config.ESTicket=null)}function re(e){e.succeeded&&ae(e),f.executeCommandFullName("AuditTrail","PrepareSignature",{ScenarioInstanceId:f.config.ScenarioInstance.ScenarioInstanceId,ScenarioStepId:v.Index})}function se(e){e.succeeded?(document.getElementById("rbcontrol").style.display="none",_(),f.config.items.Status=e.data.StatusScenarioInstance,f.config.signscollected=e.data.CountSigners,L(),n.$emit("ReloadOnChangeScenarioStatus",f.config.items.Status)):(f.loadUMC(),te("AddSignature",e))}C&&(b=null,a.get(y+"/sit-svc/config").then(function(e){var t=e.data.identityProviderUrl;b="/IPSimatic-Logon"===t?y:A(t)},function(e){g.warning("Unable to retrieve endpoint!")})),h.UMC_Caller=K,h.Translate=J,h.Opened=ee,h.ReStyle=ce,h.UpdateStatus=L,h.executeCommandFullName=ne,h.switchercall=ie,h.AddSignature=se,h.PrepareSignature=oe,h.AbortSignature=ae,h.AbortSignatureAndPrepare=re,h.OnAuthTokenReceived=U,h.loadUMC=Z,h.RichRadio1={value:"A",validation:{required:!1},widgetAttributes:{name:"myRichRadio1",options:[{label:J("Approve"),value:"A",description:""},{label:J("Reject"),value:"R",description:""}]}},f.config.progressvalue=f.config.signscollected/f.config.signstocollect*100}angular.module("siemens.simaticit.common.widgets.electronicSignature").directive("sitEsBrowseSigners",function(){return{scope:{},bindToController:{config:"=sitConfig"},controller:e,controllerAs:"vm",templateUrl:"common/widgets/electronicSignature/es-browse-signers.html"}}).directive("onFinishRender",function(){return{restrict:"A",link:function(e,t,n){!0===e.$last&&t.ready(function(){ce()})}}}),e.$inject=["$http","common.widgets.busyIndicator.service","common.services.globalization.globalizationService","common.services.runtime.commandService","$rootScope","$scope","$translate","common.services.runtime.commandModel","common.services.electronicSignature.service","$scope","$compile","common.base","common.services.component.swacComponentService","common.services.component.swacContainerService","common.widgets.notificationTile.globalService"]}(),function(){function e(){return{scope:{},bindToController:{config:"=sitConfig",mode:"@sitMode"},controller:t,controllerAs:"vm",templateUrl:"common/widgets/electronicSignature/sit-es-scenario-picker.html"}}function t(n,e,i,o,t){var a=this;function r(e){if(e.config.IsReadOnly)return!1;e.dialogConfig={enableColumnResizing:e.config.enableColumnResizing,pageSizeDefault:e.config.pageSizeDefault,pageSizes:e.config.pageSizes,SelectedScenario:e.config.SelectedScenario,onSelectionChange:c},e.setDialogButtons(e),e.dialogData={title:i.instant("electronicSignature.selectSignatureScenario"),templateuri:"common/widgets/electronicSignature/browse-scenarios-popup.html",buttons:e.buttonsScenariosDialog,templatedata:{config:e.dialogConfig,filter:e.filter,vmpicker:e}},o.set(e.dialogData),o.show()}function s(e){var t=e;t.buttonsScenariosDialog=[{id:n.$id+"_okButton",displayName:i.instant("electronicSignature.select"),onClickCallback:function(){t.config.SelectedScenario!=t.dialogConfig.SelectedScenario&&(t.config.SelectedScenario=t.dialogConfig.SelectedScenario,t.displayName=t.dialogConfig.SelectedScenario,o.hide(),t.config.onSelectionChange&&t.config.onSelectionChange.call(null,t.dialogConfig.SelectedScenario))},disabled:t.dialogConfig.SelectedScenario===t.displayName||null===t.dialogConfig.SelectedScenario},{id:n.$id+"_cancelButton",displayName:i.instant("electronicSignature.cancel"),onClickCallback:function(){o.hide()},disabled:!1}]}function c(e,t,n){n.dialogConfig.SelectedScenario=e,n.setDialogButtons(n),n.dialogData.buttons=n.buttonsScenariosDialog,o.set(n.dialogData)}a.isEnabled=!0,a.displayName="",a.ready=!1,a.isEnabled=t.isEnabled(),a.browsScenarios=r,a.setDialogButtons=s,a.config=a.config||{},a.filter=a.filter||{},a.mode=a.mode||"Horizontal",a.config.pageSizeDefault=a.config.pageSizeDefault||10,a.config.pageSizes=a.config.pageSizes||[10,25,50,100,250],a.config.enableColumnResizing=a.config.enableColumnResizing||!0,a.config.SelectedScenario=a.config.SelectedScenario||"",a.config.onSelectionChange=a.config.onSelectionChange||null,a.config.IsReadOnly=a.config.IsReadOnly||!1,a.scenarioConfigurationTitle=i.instant("electronicSignature.scenarioConfiguration"),a.scenarioPlaceHolderTitle=i.instant("electronicSignature.pickerPlaceHolder"),a.isEnabled&&(""!==a.config.SelectedScenario?(a.ready=!1,$.when(t.getScenario(a.config.SelectedScenario)).then(function(e){e.value[0]?(a.displayName=e.value[0].NId,a.config.SelectedScenario=e.value[0].NId):(a.displayName="",a.config.SelectedScenario=""),a.ready=!0,n.$apply()})):(a.displayName="",a.ready=!0)),n.$watch("vm.config.SelectedScenario",function(){a.config.SelectedScenario!==a.displayName&&(a.displayName=a.config.SelectedScenario)}),n.$watch("vm.displayName",function(e,t){e!==t&&0===e.length&&(a.config.SelectedScenario="",n.$emit("sit-es-scenario-picker.input-blanked"))})}angular.module("siemens.simaticit.common.widgets.electronicSignature").directive("sitEsScenarioPicker",e),e.$inject=[],t.$inject=["$scope","common","$translate","common.widgets.globalDialog.service","common.services.electronicSignature.service"]}(),function(){function e(){return{scope:{},restrict:"E",bindToController:{ScenarioInstance:"=sitScenarioInstance"},controller:t,controllerAs:"vm",templateUrl:"common/widgets/electronicSignature/sit-rt-signatures.html"}}function t(t,e,n,a,r,i,o,s,c){var l=this,d=!1;function m(e,t){g()}function u(){i.hide(),f(),null!=l.dialogData.templatedata.config.ESTicket&&(l.executeCommandFullName("AuditTrail","AbortSignature",{ESTicket:l.dialogData.templatedata.config.ESTicket}),l.dialogData.templatedata.config.ESTicket=null),d=l.dialogData.templatedata.config.subscribed,l.EmitOnCloseSignatures()}function p(){var e={Id:l.dialogData.templatedata.config.ScenarioInstance.ScenarioInstanceId,Status:l.dialogData.templatedata.config.items.Status};t.$emit("OnCloseSignatures",e)}function g(){null!=l.dialogData.templatedata.config.ScenarioInstance.ScenarioInstanceId&&$.when(o.getScenarioInstanceSigners(l.dialogData.templatedata.config.ScenarioInstance.ScenarioInstanceId)).then(function(e){e&&e.succeeded&&(l.dialogData.templatedata.config.signscollected=0,e.value[0].SignatureInstances.forEach(function(e){"approved"!==e.Status.toLowerCase()&&"rejected"!==e.Status.toLowerCase()||l.dialogData.templatedata.config.signscollected++,e.Reason.length<=15?e.ShortReason=e.Reason:e.ShortReason=e.Reason.substr(0,15)+"..."}),l.dialogData.templatedata.config.signstocollect=e.value[0].SignatureInstances.length,l.dialogData.templatedata.config.items=e.value[0],l.dialogData.templatedata.config.items.SignatureInstances.sort(function(e,t){return e.Index-t.Index}),n.actualstatus=e.value[0].Status,e.value[0].SignatureInstances.forEach(function(e){e.decision=""}),l.EmitOnCloseSignatures(),f(),n.$apply())},function(e){l.displayName=""},function(e){l.displayName=""})}function f(){l.dialogData.templatedata.config.signstocollect===l.dialogData.templatedata.config.signscollected&&0<l.dialogData.templatedata.config.signstocollect?l.buttonEStext=s.instant("esSigners.buttontext_completed"):l.buttonEStext=s.instant("esSigners.buttontext")}function h(e){e&&(l.dialogData.templatedata.config.ScenarioInstance.ScenarioInstanceId=e,l.dialogData={title:s.instant("esSigners.title"),templateuri:"common/widgets/electronicSignature/sit-rt-signatures-dialog.html",templatedata:{config:{modalid:n.id+"popup",ESTicket:null,signstocollect:0,signscollected:0,icon:"fa-angle-right",openIcon:"fa-angle-down",closeOthers:!0,backgroundColor:"#334455",ScenarioInstance:l.ScenarioInstance,items:null,subscribed:d,onStatusChange:v,onCloseDialog:u}},buttons:[{id:"CloseButton",displayName:s.instant("esSigners.close"),onClickCallback:u}]},g(),f())}function v(e){n.$apply}function y(e){l.dialogData.templatedata.config.signsleftdescription=l.dialogData.templatedata.config.signstocollect-l.dialogData.templatedata.config.signscollected+" "+s.instant("esSigners.leftsigns")+".",l.dialogData.templatedata.config.progressvalue=l.dialogData.templatedata.config.signscollected/l.dialogData.templatedata.config.signstocollect*100,l.dialogData.templateuri="common/widgets/electronicSignature/sit-rt-signatures-dialog.html",i.set(l.dialogData),i.show()}function C(e,t,n){var i=new Object,o=new r;return o.appName=e,o.appPrefix=e,o.commandName=t,o.params=n,a.invoke(o).then(function(e){i.succeeded=!0,i.data=e,l.switchercall(t,i)},function(e){i.succeeded=!1,i.data=null}),i}function b(e,t){if(t.succeeded)switch(e){case"AbortSignature":l.AbortSignature(t.data)}}function w(e){l.dialogData.templatedata.config.ESTicket=null}l.isEnabled=!0,n.actualstatus="Initial",l.isEnabled=o.isEnabled(),l.buttonEStext=s.instant("esSigners.buttontext"),l.menuIcon="fa-pencil",l.description=s.instant("esSigners.buttontext"),l.dialogData={title:s.instant("esSigners.title"),templateuri:"common/widgets/electronicSignature/sit-rt-signatures-dialog.html",templatedata:{config:{modalid:n.id+"popup",ESTicket:null,signstocollect:0,signscollected:0,icon:"fa-angle-right",openIcon:"fa-angle-down",closeOthers:!0,backgroundColor:"#334455",ScenarioInstance:l.ScenarioInstance,items:null,subscribed:d,onStatusChange:v,onCloseDialog:u}},buttons:[{id:"CloseButton",displayName:s.instant("esSigners.close"),onClickCallback:u}]},g(),l.executeCommandFullName=C,l.switchercall=b,l.AbortSignature=w,l.ChangeScenarioStatus=m,l.setScenarioInstance=h,l.EmitOnCloseSignatures=p,t.$on("ReloadOnChangeScenarioStatus",l.ChangeScenarioStatus),n.$watch("vm.ScenarioInstance.ScenarioInstanceId",function(e,t){e!=t&&l.setScenarioInstance(e)}),l.OpenDialog=y,l.onStatusChange=v}angular.module("siemens.simaticit.common.widgets.electronicSignature").directive("sitRtSignatures",e),e.$inject=[],t.$inject=["$rootScope","common.widgets.busyIndicator.service","$scope","common.services.runtime.commandService","common.services.runtime.commandModel","common.widgets.globalDialog.service","common.services.electronicSignature.service","$translate","common.base"]}(),angular.module("siemens.simaticit.common.widgets.email",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.email");e.controller("EmailController",function(){}),e.directive("sitEmail",function(){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",validation:"=sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:"EmailController",controllerAs:"emailCtrl",templateUrl:"common/widgets/email/email.html"}})}(),angular.module("siemens.simaticit.common.widgets.entityPicker",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.entityPicker");function t(e,t){return{restrict:"E",scope:{},bindToController:{id:"=?sitId",readOnly:"=?sitReadOnly",datasource:"=?sitDatasource",templateUrl:"=?sitTemplateUrl",selectedAttributeToDisplay:"=?sitSelectedAttributeToDisplay",attributeToSearch:"=?sitAttributeToSearch",selectedObject:"=?sitSelectedObject",value:"=?sitValue",limit:"=?sitLimit",editable:"=?sitEditable",placeholder:"=?sitPlaceholder",validation:"=?sitValidation",sitoption:"=?sitPickerOptions",waitTime:"=?sitWaitMs",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",required:"=?sitRequired"},controller:n,controllerAs:"entityPickerCtrl",templateUrl:"common/widgets/entityPicker/entityPicker.html",link:function(e,t,n,i){e.$watch(function(){return t.find(".entity-picker-container").find("ul").attr("class")},function(e){})}}}function n(i,e,o,t,n,a,r,s,c,l){var d=this,m=50,u=300,p="",g={limit:8,selectedAttributeToDisplay:"name",templateUrl:"common/widgets/entityPicker/typeahead-default-template.html"},f=t.logger.getLogFn("siemens.unity.common.entityPicker.controller",n.LOG_ERROR),h=t.globalDialog;function v(){var e,t,n,i,o,a=$(".entity-picker-container"),r=a.length;for(e=0;e<r;e++)t=a[e],n=$(t).offset(),i=$(t).find("ul"),o=$(window).height()-(n.top+m),i.css("max-height",o+"px"),i.css("min-width","100%")}function y(){c(function(){var e,t=o.find("input").width(),n=o.find("ul").children("li");0<n.length&&(n.find("a").css("width","100%"),t<(e=o.find("ul")[0].scrollWidth)?n.find("a").css("width",e-1):n.find("a").css("width",t-1))})}function C(e,t,n){d.value=t,d.selectedObject=t,i.$emit("sit-entity-picker.entity-selected",{item:e,model:t,label:n})}function b(){var e=!1;if(d.value){var n="object"==typeof d.value?d.value[d.selectedAttributeToDisplay]:d.value;if(d.isLocalDatasource){var t=r("filter")(d.datasource,n);0<t.length&&(e=t[0].selected=!0,d.selectedObject=t[0])}else d.datasource("").then(function(e){var t=r("filter")(e,n);0<t.length&&(t[0].selected=!0,d.selectedObject=t[0])},function(e){})}var i={title:d.dialogTitle,templatedata:d.icvObject,templateuri:"common/widgets/entityPicker/popup-default-template.html",buttons:d.buttonsListICVGrid};h.set(i),h.show(),w(e)}function w(e){d.buttonsListICVGrid[0].disabled=!e}i.$on("sit-item-collection-viewer.data-search-completed",function(){c(function(){var e=$("#no-data-message-container")[0];w(!e&&(d.icvObject.options.getSelectedItems&&d.icvObject.options.getSelectedItems().length))})}),i.$watch("entityPickerCtrl.datasource",function(e,t){d.icvObject.data=e}),i.$watch("entityPickerCtrl.value",function(e){(d.readOnlyValue=e)||(d.selectedObject=null,i.$emit("sit-entity-picker.input-blanked",{item:d.value,selected:d.selectedObject}))}),d.modalId=i.$id+"_popupGrid",d.label=d.label?d.label:"",d.value=d.value?d.value:d.selectedObject,d.readOnlyValue=d.value,d.waitTime=d.waitTime?d.waitTime:u,d.dialogTitle=r("translate")("entityPicker.selectItem"),d.placeholder=d.placeholder?d.placeholder:r("translate")("entityPicker.defaultPlaceHolder"),d.editable=!(!d.editable||"boolean"!=typeof d.editable)&&d.editable,d.limit=d.limit?d.limit:g.limit,d.templateUrl=d.templateUrl?d.templateUrl:g.templateUrl,d.selectedAttributeToDisplay=d.selectedAttributeToDisplay?d.selectedAttributeToDisplay:g.selectedAttributeToDisplay,d.attributeToSearch=d.attributeToSearch?d.attributeToSearch:d.selectedAttributeToDisplay,d.required=d.validation&&d.validation.hasOwnProperty("required")?d.validation.required:!!d.required,d.isLocalDatasource=!!Array.isArray(d.datasource),d.buttonsListICVGrid=[{id:i.$id+"_okButton",displayName:e.instant("entityPicker.select"),onClickCallback:function(){h.hide(),d.sitoption&&(d.selectedObject=d.sitoption.getSelectedItems()[0],d.value=d.selectedObject,d.selectedObject.selected=!1,i.$emit("sit-entity-picker.entity-selected",{item:d.selectedObject,model:d.selectedObject,label:d.selectedObject[d.selectedAttributeToDisplay]}))},disabled:!1},{id:i.$id+"_cancelButton",displayName:e.instant("entityPicker.cancel"),onClickCallback:function(){var e=d.sitoption.getSelectedItems();0<e.length&&(e[0].selected=!1),h.hide(),d.icvObject&&d.icvObject.options&&d.icvObject.options.quickSearchOptions&&(d.icvObject.options.quickSearchOptions.filterText=p)},disabled:!1}],d.cmdIcon={path:"common/icons/cmdMore16.svg",size:"16px"},d.setDropDownHeight=v,d.setDropDownWidth=y,d.onSelect=C,d.showPopup=b,!d.datasource&&f("datasource can't be null"),d.sitoption&&(d.sitoption.selectionMode="single",d.sitoption.viewMode="g",d.sitoption.viewOptions="g",d.sitoption.onSelectionChangeCallback=function(e,t){"object"==typeof e&&0<e.length?(d.selectedObject&&d.selectedObject!==e[0]&&(d.selectedObject.selected=!1),d.buttonsListICVGrid[0].disabled=!1):d.buttonsListICVGrid[0].disabled=!0},d.sitoption&&d.sitoption.quickSearchOptions&&(p=d.sitoption.quickSearchOptions.filterText)),d.icvObject={data:d.isLocalDatasource?d.datasource:[],options:d.sitoption}}function i(o){return function(e,t,n){if(n){var i={};return i[n]=t,o("filter")(e,i)}return o("filter")(e,t)}}t.$inject=["$filter","$translate"],n.$inject=["$scope","$translate","$element","common","LOG_TYPES","LOG_LEVELS","$filter","$window","$timeout","common.widgets.dialog.service"],i.$inject=["$filter"],e.directive("sitEntityPicker",t),e.filter("entityPickrerFilter",function(){return function(e){return"string"==typeof e?e:"object"==typeof e?e.name:void 0}}),e.filter("entityPickrerSearchFilter",i)}(),angular.module("siemens.simaticit.common.widgets.fileUpload",[]),function(){function e(t,n,i,o){var a=this;a.selectedFile={name:o.instant("fileUploader.noFile")},a.isFileLoaded=!1,a.isError=!1,a.currentPercentage="",a.broadcastEvents={uploaderSuccess:"sit-file-uploader-success",uploaderError:"sit-file-uploader-error"},a.fileSizes=["KB","MB","GB"],a.accept=a.accept?a.accept:"image/*,video/*,audio/*,application/x-zip-compressed",a.validation?!a.validation.hasOwnProperty("required")&&angular.extend(a.validation,{required:!1}):a.validation={required:!1},a.openAction={path:"common/icons/homeFolderOpen24.svg"},a.deleteAction={path:"common/icons/cmdTrash24.svg"},a.addEvents=function(e){e.onload=function(){a.isFileLoaded=!0,n.$apply()},e.onprogress=function(e){e.lengthComputable&&(a.currentPercentage=parseInt(100*e.loaded/e.total,10)+"%",n.$apply())},e.onloadend=a.reader.onabort=function(){a.currentPercentage="";var e=a.readAsText?a.reader.result:a.reader.result.substr(a.reader.result.lastIndexOf(",")+1);a.value?(a.value.name=a.selectedFile.name,a.value.type=a.selectedFile.type,a.value.contents=e):a.value={name:a.selectedFile.name,type:a.selectedFile.type,contents:e},n.$apply(),t.$broadcast(a.broadcastEvents.uploaderSuccess)},e.onerror=function(){a.currentPercentage="",a.isError=!0,a.selectedFile={name:o.instant("fileUploader.error.readError")},n.$apply(),t.$broadcast(a.broadcastEvents.uploaderError)}},a.logErrorFn=function(e,t){i.logger.logError(e,t,"siemens.simaticit.common.widgets.fileUpload")}}angular.module("siemens.simaticit.common.widgets.fileUpload").directive("sitFileUploader",["$rootScope","$window","$translate",function(l,d,m){return{restrict:"E",replace:!1,scope:{},transclude:!0,controller:e,controllerAs:"uploadCtrl",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",accept:"=?accept",minSize:"=?sitMinSize",maxSize:"=?sitMaxSize",readAsText:"=?sitReadAsText",validation:"=sitValidation",sitChange:"=?",ngDisabled:"=?",ngReadonly:"=?"},templateUrl:"common/widgets/fileUpload/file-upload.html",link:{post:function(t,e,n,s){s.uploadedFile={},s.reader=new d.FileReader;var i="0KB",o="50MB";function a(){s.domElement.inputButton.click()}function c(e,t){var n=!1,i="*"===e.slice(-1);if(i){var o=e.substring(0,e.lastIndexOf("/"));t.mediaType!==o&&""!==t.mediaType||(n=!0)}else{var a,r=e.slice(-t.subMediaType.length)===t.subMediaType;r||(a=e.slice(-t.fileNameExtension.length)===t.fileNameExtension),(r||a)&&(n=!0)}return n}function r(e){var t,n,i;t=parseInt(e,10),n=e.slice(-2);for(var o=0;o<s.fileSizes.length;o++)n===s.fileSizes[o]&&(i=t*Math.pow(1024,o+1));return i}s.domElement={inputButton:$('input[data-internal-type="fileInput"]',e)[0],uploadButton:$('a[data-internal-type="uploadButton"]',e)[0],showStatus:$('input[data-internal-type="fileStatus"]',e)[0]},s.domElement.uploadButton.addEventListener("click",a),s.domElement.inputButton.onchange=function(){s.domElement.inputButton&&s.fileUploadHandler(s.domElement.inputButton.files[0])},s.fileUploadHandler=function(e){!s.uploadedFile&&(s.uploadedFile={}),null!=e&&(s.isError=!1,s.isValidType=!1,s.isValidSize=!1,s.isFileLoaded=!1,s.selectedFile=e,s.accept?s.isValidType=function(){for(var e=!1,t=s.accept.replace(/ +/g,"").toLowerCase().split(","),n=s.selectedFile.type,i=s.selectedFile.name,o={subMediaType:n.substring(n.lastIndexOf("/")+1),mediaType:n.substring(0,n.lastIndexOf("/")),fileNameExtension:i.substring(i.lastIndexOf(".")+1)},a=0;a<t.length;a++){var r="";if(r=t[a],e=c(r,o))break}return e}():s.isValidType=!0,s.isValidSize=function(){!function(){var e=new RegExp("^[0-9]+[KMGT]B");void 0!==s.minSize&&!1!==e.test(s.minSize)||(s.logErrorFn("Minimum size specified is invalid - ",s.minSize),s.minSize=i);void 0!==s.maxSize&&!1!==e.test(s.maxSize)||(s.logErrorFn("Maximum size specified is invalid - ",s.maxSize),s.maxSize=o)}();var e=r(s.minSize),t=r(s.maxSize);return s.selectedFile.size>=e&&s.selectedFile.size<=t}(),s.isValidSize&&s.isValidType?(s.readAsText?s.reader.readAsText(s.selectedFile):s.reader.readAsDataURL(s.selectedFile),s.uploadedFile={name:e.name}):(s.isError=!0,s.isValidType?s.isValidSize||(s.selectedFile={name:m.instant("fileUploader.error.fileSize")}):s.selectedFile={name:m.instant("fileUploader.error.fileType")},s.uploadedFile={name:""},l.$broadcast(s.broadcastEvents.uploaderError)),t.$apply())},s.addEvents(s.reader),s.removeFile=function(e){s.uploadedFile={name:""},$(e.target).parents(".uploadSection").find(".File").val(""),s.value.name="",s.value.type="",s.value.contents="",s.selectedFile={name:m.instant("fileUploader.noFile")},s.isFileLoaded=!1,s.reader=new d.FileReader,s.addEvents(s.reader),$(e.target).parents(".uploadSection").find(".showStatus").value=m.instant("fileUploader.noFile"),l.$broadcast("sit-file-uploader-file-removed")},t.$on("$destroy",function(){s.domElement.uploadButton.removeEventListener("click",a)})}}}}]),e.$inject=["$rootScope","$scope","common","$translate"]}(),angular.module("siemens.simaticit.common.widgets.filter",[]),function(){function e(n,e,t,i,o,a){var r=this;r.savedFilters=null,r.widget="sit-filter",r.logger=t.getModuleLogger("siemens.simaticit.common.widgets.filter"),r.dateFormat="longDate",r.dateTimeOptions={format:"medium",showSeconds:!0},r.addBtn={path:"common/icons/cmdAdd24.svg",size:"16px"},r.constBtn={path:"common/icons/cmdList16.svg",size:"16px"},r.listBtn={path:"common/icons/cmdListBox16.svg",size:"16px"},r.minusBtn={path:"common/icons/cmdRemove24.svg",size:"16px"},r.linkIcon={path:"common/icons/cmdClauseGroup24.svg",size:"16px"},r.unLinkIcon={path:"common/icons/cmdClauseUngroup24.svg",size:"16px"};var s={AND:{id:"and",value:n.instant("common.and")},OR:{id:"or",value:n.instant("common.or")}},c={eq:{id:"=",display:"="},neq:{id:"<>",display:"<>"},lt:{id:"<",display:"<"},lteq:{id:"<=",display:"<="},gt:{id:">",display:">"},gteq:{id:">=",display:">="},in:{id:"in",display:n.instant("common.in")},con:{id:"contains",display:n.instant("common.contains")},sw:{id:"startsWith",display:n.instant("common.starts-with")},ew:{id:"endsWith",display:n.instant("common.ends-with")},isnull:{id:"isnull",display:n.instant("common.isNull")},isnotnull:{id:"isnotnull",display:n.instant("common.isNotNull")}};function l(e){e.filterField.widget?e.widget=e.filterField.widget:"number"===e.filterField.type||"string"===e.filterField.type?e.filterField.values&&0!==e.filterField.values.length?e.operator===c.in.id?e.widget=e.filterField.values.length<=10?"sit-multi-select":"sit-text":e.widget=e.filterField.values.length<=20?"sit-select":"sit-entity-picker":e.widget="number"===e.filterField.type?"sit-numeric":"sit-text":"boolean"===e.filterField.type||"enum"===e.filterField.type?e.widget="sit-select":"date"===e.filterField.type?e.widget="sit-datepicker":"guid"===e.filterField.type&&(e.widget="sit-text")}function d(e){"sit-checkbox"===e.widget?$.extend(e.validation,e.filterField.validation,{required:!1}):e.filterField.validation&&"boolean"==typeof e.filterField.validation.required?e.validation=e.filterField.validation:$.extend(e.validation,e.filterField.validation,{required:!0})}function m(e){var t={filterField:e,andOr:"and",operator:c.eq.id,matchCase:!1,validation:{}};return Array.isArray(e.valueColumns)&&0<e.selectValueColumns.length?Array.isArray(e.values)?t.showValueField=!1:t.showValueField=!0:t.showValueField=!1,r.setDefaultValue(t),r.setWidget(t),r.setValidation(t),t}function u(e){e.hasOwnProperty("selectValues")||"boolean"!==e.type||(e.selectValues=[{id:!0,name:!0},{id:!1,name:!1}])}function p(e){if(e.showValueField)e.filterField.selectValueColumns&&e.filterField.selectValueColumns.length&&e.showValueField&&(e.selectValueColumn=e.filterField.selectValueColumns[0]);else if("boolean"===e.filterField.type||"enum"===e.filterField.type)e.selectValue=e.filterField.selectValues[0],e.value=e.filterField.selectValues[0].id;else if("date"===e.filterField.type){var t=new Date;e.value=t}else e.filterField.selectValues&&e.filterField.selectValues.length?(e.selectValue=e.filterField.selectValues[0],e.value=e.filterField.selectValues[0].id):"number"===e.filterField.type?e.value=e.value?e.value:0:"string"===e.filterField.type||"guid"===e.filterField.type?e.value=e.value?e.value:"":(e.value="UNKNOWN TYPE",r.logger.logWarn("Field "+e.filterField.field+" has unknown type: "+e.filterField.type))}function g(e,t){t.obsolete||(Array.isArray(t.filterField.valueColumns)&&0<t.filterField.selectValueColumns.length?Array.isArray(t.filterField.values)||t.value||Array.isArray(t.filterField.selectValues)?t.showValueField=!1:t.showValueField=!0:t.showValueField=!1,delete t.value,delete t.selectValue,delete t.selectValueColumn,t.validation={},r.setDefaultValue(t),r.setWidget(t),r.setValidation(t))}function f(e){e.obsolete||r.setWidget(e)}function h(e){if(r.sitFilterFields){var t,n=e?r.clauses.indexOf(e)+1:r.clauses.length;r.clauses.splice(n,0,r.makeClause(r.sitFilterFields[0])),e&&"grpId"in r.clauses[n-1]&&-1===r.clauses[n-1].grpClass.indexOf("grp-end")&&(t=n,r.clauses[t].grpId=r.clauses[t-1].grpId,r.clauses[t].grpClass="grp")}}function v(e){var t=r.clauses.indexOf(e);r.clauses.splice(t,1),"grpId"in e&&function(e,t,n){if(function(e){var t=0,n=0,i=r.clauses.length;for(;n<i;n++)r.clauses[n].grpId===e&&++t;return t}(n)<2)return k(n);-1!==t.indexOf("grp-end")?r.clauses[e-1].grpClass=t:-1!==t.indexOf("grp-start")&&(r.clauses[e].grpClass=t)}(t,e.grpClass,e.grpId)}function y(){0===r.clauses.length&&r.setDefaultClause&&r.addClause()}function C(e){if(!e.obsolete){if("string"===e.filterField.type)return b(r.stringOperators,e);if("number"===e.filterField.type)return b(r.numberOperators,e);if("date"===e.filterField.type)return b(r.dateOperators,e);if("boolean"===e.filterField.type)return b(r.booleanOperators,e);if("guid"===e.filterField.type)return b(r.guidOperators,e);if("enum"===e.filterField.type)return b(r.enumOperators,e);r.logger.logWarn("Field "+e.filterField.field+" has unknown type: "+e.filterField.type)}}function b(e,t){var n=t.filterField.allowedCompareOperators,i=[];return n&&0<n.length?(e.forEach(function(e){-1!==n.indexOf(e.id)&&i.push(e)}),-1===n.indexOf(t.operator)&&0<i.length&&(t.operator=i[0].id),0<i.length?i:e):e}function w(){r.clauses=[],void 0!==r.sitResetCallback?r.sitResetCallback():e.$emit("sit-filter.reset"),r.addDefaultClauses(),r.filterData.filterName="New Filter",r.filterData.description=""}function S(){r.clauses.forEach(function(e){"isnull"!==e.operator&&"isnotnull"!==e.operator?e.showValueField?(delete e.value,delete e.selectValue):("sit-entity-picker"===e.widget||"sit-select"===e.widget?e.value=e.selectValue.id:"sit-checkbox"===e.widget&&(e.value=e.checkValue[0].checked),e.selectValueColumn&&delete e.selectValueColumn):(delete e.value,delete e.selectValue,delete e.selectValueColumn,delete e.showValueField)}),e.$emit("sit-filter.apply",r.clauses),void 0!==r.sitApplyCallback&&r.sitApplyCallback({clauses:r.clauses})}function x(){r.sitFilterFields&&r.sitFilterFields.forEach(function(e){!0===e.default&&r.clauses.push(r.makeClause(e))})}function T(){r.isGroupingEnabled=function(e){e.selectedClauses=[];var t=0,n=0,i=e.clauses.length,o=-1;for(;t<i;t++)if(e.clauses[t].selected){if(n++,-1!==o&&1<t-o)return!1;o=t,e.selectedClauses.push(e.clauses[t])}return 1<n}(r)&&function(){var e=0,t=r.selectedClauses.length;for(;e<t;e++)if("grpId"in r.selectedClauses[e])return!1;return!0}()}function I(){if(r.isGroupingEnabled){++r.lastGrpId;for(var e=0,t=r.selectedClauses.length;e<t;e++)r.selectedClauses[e].grpId=r.lastGrpId,r.selectedClauses[e].grpClass="grp",0===e?r.selectedClauses[e].grpClass+=" grp-start":e===t-1&&(r.selectedClauses[e].grpClass+=" grp-end");++r.noOfGroups,function(){r.isGroupingEnabled=!1;var e=0,t=r.clauses.length;for(;e<t;e++)r.clauses[e].selected=!1}()}}function k(e){for(var t=0,n=r.clauses.length;t<n;t++)"grpId"in r.clauses[t]&&r.clauses[t].grpId===e&&(delete r.clauses[t].grpId,delete r.clauses[t].grpClass);--r.noOfGroups,r.noOfGroups<1&&(r.lastGrpId=-1),1<r.selectedClauses.length&&!r.isGroupingEnabled&&T()}function E(){r.setDefaultClause=!r.sitFilterOptions||"boolean"!=typeof r.sitFilterOptions.showDefaultClause||r.sitFilterOptions.showDefaultClause,r.isMatchCaseShown=!r.sitFilterOptions||"boolean"!=typeof r.sitFilterOptions.showMatchCase||r.sitFilterOptions.showMatchCase,r.logicalOperator=r.sitFilterOptions&&r.sitFilterOptions.allowedOperators?r.sitFilterOptions.allowedOperators.trim().toLowerCase():"andor",function(e){switch(e){case"and":r.operatorOptions=[s.AND];break;case"or":r.operatorOptions=[s.OR];break;default:r.operatorOptions=[s.AND,s.OR],r.logicalOperator="andor"}}(r.logicalOperator)}function O(){r.isGroupingEnabled=!1,r.lastGrpId=-1,r.selectedClauses=[],r.noOfGroups=0,r.clauseSelectionChange=T,r.group=I,r.unGroup=k,E(),r.clauses&&r.clauses.forEach(function(e){e.obsolete=!0}),r.clauses=[],r.sitFilterFields&&r.sitFilterFields.forEach(function(t){if(t.hasOwnProperty("dataSource")&&0<Object.keys(t.dataSource).length)t.dataService.findAll({appName:t.appName,entityName:t.dataSource.selectedEntity.name,options:t.dataSource.query}).then(function(e){if(e.hasOwnProperty("value")&&Array.isArray(e.value)?(t.selectValues=[],e.value.forEach(function(e){t.selectValues.push({id:e[t.dataSource.displayProperty],name:e[t.dataSource.valueProperty]})})):"boolean"!==t.type||t.hasOwnProperty("values")?"enum"!==t.type||t.hasOwnProperty("values")&&t.values.length||(t.selectValues=[{id:"",name:""}]):u(t),t.hasOwnProperty("valueColumns")&&Array.isArray(t.valueColumns)){if(t.selectValueColumns=[],"enum"===t.type)return;t.valueColumns.forEach(function(e){e.field&&e.displayName&&t.selectValueColumns.push({id:e.field,name:e.displayName,isAlias:"boolean"==typeof e.isAlias&&e.isAlias,aliasName:"string"==typeof e.aliasName&&e.aliasName?e.aliasName:""})})}});else if(t.hasOwnProperty("values")&&Array.isArray(t.values)?(t.selectValues=[],t.values.forEach(function(e){t.selectValues.push({id:e,name:e})})):"boolean"!==t.type||t.hasOwnProperty("values")?"enum"!==t.type||t.hasOwnProperty("values")&&t.values.length||(t.selectValues=[{id:"",name:""}]):u(t),t.hasOwnProperty("valueColumns")&&Array.isArray(t.valueColumns)){if(t.selectValueColumns=[],"enum"===t.type)return;t.valueColumns.forEach(function(e){e.field&&e.displayName&&t.selectValueColumns.push({id:e.field,name:e.displayName,isAlias:"boolean"==typeof e.isAlias&&e.isAlias,aliasName:"string"==typeof e.aliasName&&e.aliasName?e.aliasName:""})})}}),r.sitClauses?(!function(e){if(!r.sitFilterFields)return;e.forEach(function(t){if(!t.filterField&&t.filterFieldId){var e=_.find(r.sitFilterFields,function(e){return e.id===t.filterFieldId});t.filterField=e,t.widget||l(t),"enum"===e.type&&(t.selectValue={id:t.value,name:t.value})}t.validation=t.validation?t.validation:t.filterField.validation})}(r.sitClauses),r.clauses=r.sitClauses):r.addDefaultClauses(),r.addEmptyClause(),R(r.clauses,r.isMatchCaseShown,r.logicalOperator),r.multiSelectPlaceHolder=n.instant("common.none"),e.$watch(function(){return r.sitClauses},function(e,t){e&&(r.clauses=e,r.allowGrouping&&function(e){var t=0,n=e.clauses.length,i=[],o=-1;for(;t<n;t++){var a=e.clauses[t];"grpId"in a&&(a.grpId===parseInt(a.grpId,10)&&-1<a.grpId?o===a.grpId?(o=a.grpId,i.push(t)):(1<i.length?(P(e,i),i=D(i,t)):1===i.length?delete a.grpId:i=D(i,t),o=a.grpId,e.lastGrpId=o>e.lastGrpId?o:e.lastGrpId):delete a.grpId)}1<i.length?P(e,i):1===i.length&&delete e.clauses[i[0]].grpId}(r))}),e.$watch(function(){return r.sitFilterOptions},function(e,t){e!==t&&(E(),R(r.clauses,r.isMatchCaseShown,r.logicalOperator))},!0)}function P(e,t){++e.noOfGroups,function(e){var t=1,n=e.length;for(r.clauses[e[0]].grpClass="grp grp-start",r.clauses[e[n-1]].grpClass="grp grp-end";t<n-1;t++)r.clauses[e[t]].grpClass="grp"}(t)}function D(e,t){return(e=[]).push(t),e}function R(e,t,n){0<e.length&&e.forEach(function(e){e.showValueField="boolean"==typeof e.showValueField?e.showValueField:!e.selectValue&&!e.value&&!!e.selectValueColumn,e.matchCase=!1===t?t:e.matchCase,e.andOr=n&&"andor"!==n?n:e.andOr})}function A(){return r.clauses}function M(){r.sitFilterOptions.getFilterClauses=r.getFilterClauses}function F(e){e.showValueField=!1}function N(e){e.showValueField=!0}function B(){r.save=G,r.saveAs=V,r.clear=L,r.delete=U,r.onFilterChange=q,r.onValidityChangeCallback=z,r.filterData={filterName:n.instant("filterPanel.newFilter"),description:"",filterClauses:r.clauses},r.commandButtons={barType:"Action",bar:[{name:"open_filter",svgIcon:"common/icons/homeFolderOpen24.svg",tooltip:n.instant("filterPanel.openFilter"),type:"Group",group:[]},{type:"Command",name:"clear",visibility:!0,svgIcon:"common/icons/cmdDelete24.svg",tooltip:n.instant("commandBar.clearToolTip"),onClickCallback:r.clear},{type:"Command",name:"save_as",visibility:!0,svgIcon:"common/icons/cmdSaveAs24.svg",tooltip:n.instant("commandBar.saveAsToolTip"),onClickCallback:r.saveAs},{type:"Command",name:"save",visibility:!0,svgIcon:"common/icons/cmdSave24.svg",tooltip:n.instant("commandBar.saveToolTip"),onClickCallback:r.save},{type:"Command",name:"delete",visibility:!1,svgIcon:"common/icons/cmdTrash24.svg",tooltip:n.instant("filterPanel.delete"),onClickCallback:r.delete}]},r.saveAsDialogButtons=[{id:"save",displayName:n.instant("filterPanel.save"),disabled:!0,onClickCallback:function(e){if(j(),-1<_.findIndex(r.savedFilters,function(e){return _.isEqual(e.filterName.toLowerCase(),r.dialogData.templatedata.name.value.toLowerCase())}))o.hide(),r.overlay={text:n.instant("filterPanel.overlay.text"),title:n.instant("filterPanel.overlay.title"),buttons:[{id:"okButton",displayName:n.instant("filterPanel.overlay.displayName"),onClickCallback:function(){a.hide(),o.show()}}]},a.set(r.overlay),a.show();else{r.filterData.filterName=r.dialogData.templatedata.name.value,r.filterData.description=r.dialogData.templatedata.description.value,r.filterData.filterClauses.forEach(function(e){e.filterField.hasOwnProperty("dataService")&&(e.filterField.dataService=""),e.filterField.hasOwnProperty("dataSource")&&(e.filterField.dataSource="")});var t=angular.copy(r.filterData);i.saveFilterClauses(r.widget,r.userPrefId,t),r.commandButtons.bar[0].group[r.commandButtons.bar[0].group.length]={label:t.filterName,type:"Command",name:t.filterName,visibility:!0,svgIcon:"common/icons/cmdFilter24.svg",tooltip:t.filterName,onClickCallback:r.onFilterChange,data:t},r.commandButtons.bar[4].visibility=!0,o.hide()}}},{id:"cancel",displayName:n.instant("filterPanel.cancel"),onClickCallback:function(){o.hide()}}]}function G(){if(j(),r.savedFilters){var e=_.findIndex(r.savedFilters,function(e){return _.isEqual(e.filterName,r.filterData.filterName)});-1<e?(r.filterData.filterClauses.forEach(function(e,t){e.filterField.hasOwnProperty("dataService")&&(e.filterField.dataService=""),e.filterField.hasOwnProperty("dataSource")&&(e.filterField.dataSource="")}),i.saveFilterClauses(r.widget,r.userPrefId,r.filterData),r.commandButtons.bar[0].group[e].data=angular.copy(r.filterData)):V()}else V()}function V(){r.dialogData={title:n.instant("filterPanel.saveFilterAs"),templatedata:{name:{value:"",placeholder:n.instant("filterPanel.filterName"),validation:{required:!0,pattern:"[A-Za-z0-9_]{3,25}",patternInfo:n.instant("filterPanel.nameInfo")}},description:{value:"",placeholder:"Type here an optional description",validation:{pattern:"[A-Za-z0-9_]{3,25}",patternInfo:n.instant("filterPanel.descInfo")}},onValidityChangeCallback:r.onValidityChangeCallback},templateuri:"common/widgets/filterPanel/save-filter-panel.html",buttons:r.saveAsDialogButtons},o.set(r.dialogData),o.show()}function L(){r.reset(),r.filterData.filterName=n.instant("filterPanel.newFilter"),r.filterData.description="",r.filterData.filterClauses=r.clauses,r.commandButtons.bar[4].visibility=!1}function z(e){e&&e.isValid?r.saveAsDialogButtons[0].disabled=!1:r.saveAsDialogButtons[0].disabled=!0}function U(){var e=_.findIndex(r.commandButtons.bar[0].group,function(e){return _.isEqual(e.data.filterName,r.filterData.filterName)});-1<e&&r.commandButtons.bar[0].group.splice(e,1),i.deleteFilterClauses(r.widget,r.userPrefId,r.filterData),r.clear()}function j(){r.savedFilters=i.retrieveFilterClauses(r.widget,r.userPrefId)}function q(){r.commandButtons.bar[4].visibility=!0;var e=angular.copy(arguments[0].data);r.filterData.filterName=e.filterName,r.filterData.description=e.description,r.filterData.filterClauses=e.filterClauses;for(var t=0;t<r.filterData.filterClauses.length;t++){var n=r.filterData.filterClauses[t].filterField,i=_.findIndex(r.sitFilterFields,function(e){return _.isEqual(e.field,n.field)});r.filterData.filterClauses[t].filterField=r.sitFilterFields[i]}r.clauses=r.filterData.filterClauses}r.dateOperators=[c.eq,c.neq,c.lt,c.lteq,c.gt,c.gteq,c.isnull,c.isnotnull],r.numberOperators=[c.eq,c.neq,c.lt,c.lteq,c.gt,c.gteq,c.in,c.isnull,c.isnotnull],r.stringOperators=[c.eq,c.neq,c.in,c.con,c.sw,c.ew,c.isnull,c.isnotnull],r.booleanOperators=[c.eq,c.neq],r.guidOperators=[c.eq,c.neq,c.isnull,c.isnotnull],r.enumOperators=[c.eq,c.neq,c.lt,c.lteq,c.gt,c.gteq,c.isnull,c.isnotnull],r.setWidget=l,r.setValidation=d,r.makeClause=m,r.setDefaultValue=p,r.fieldChanged=g,r.operatorChanged=f,r.addClause=h,r.removeClause=v,r.addEmptyClause=y,r.getOperators=C,r.reset=w,r.apply=S,r.addDefaultClauses=x,r.initialize=O,r.getFilterClauses=A,r.setAPIMethods=M,r.canShowValueField=F,r.canShowValueColumnField=N,r.initFilterPersonalization=B,r.initialize(),r.setAPIMethods(),r.initFilterPersonalization(),j(),r.savedFilters&&r.savedFilters.length&&r.savedFilters.forEach(function(e){r.commandButtons.bar[0].group[r.commandButtons.bar[0].group.length]={label:e.filterName,type:"Command",name:e.filterName,visibility:!0,svgIcon:"common/icons/cmdFilter24.svg",tooltip:e.filterName,data:e,onClickCallback:r.onFilterChange}})}angular.module("siemens.simaticit.common.widgets.filter").directive("sitFilter",function(){return{restrict:"E",scope:{},bindToController:{sitFilterFields:"=",sitFilterOptions:"=",sitApplyCallback:"&",sitFilterServerSide:"=?",sitResetCallback:"&",sitClauses:"=",allowGrouping:"=sitAllowGrouping",sitHideApplyReset:"=",userPrefId:"=sitUserPreference"},templateUrl:"common/widgets/filter/sit-filter.html",link:function(e,t,n,i){e.$watch("sitFilterFields",function(e,t){e!==t&&i.initialize()})},controller:e,controllerAs:"FilterCtrl"}}),e.$inject=["$translate","$scope","common.services.logger.service","common.services.filterPersonalization.filterPersonalizationService","common.widgets.globalDialog.service","common.widgets.messageOverlay.service"]}(),function(){function e(l,e){var m=this,r=864e5;function d(e){var t=e.replace(/%/g,"%25");return t=(t=(t=(t=t.replace(/'/g,"''")).replace(/&/g,"%26")).replace(/#/g,"%23")).replace(/\+/g,"%2B")}function t(e){this.getFilteredData=function(e,t){var n=[];if(e&&0<e.length){var i,o;if(null!=t&&0<t.length)for(function(e){"*"===e[0]?"*"===e[e.length-1]?(r=s.contains,a=e.substr(1,e.length-2)):(r=s.endsWith,a=e.substr(1)):(r=s.beginsWith,a=e.substr(0,e.length));a=a.toLowerCase()}(t),i=0;e[i];i++)c(o=e[i])&&n.push(o);else n=e}return n};var a,r,s={beginsWith:0,contains:1,endsWith:2,equals:3};var t=e?e.split("."):void 0,n=e?"obj":"obj[undefined]";if(t)for(var i=0;i<t.length;i++)n+="['"+t[i]+"']";var o=l(n);function c(e){var t,n=!1,i=o({obj:e});switch(i=null==i?"":i.toLowerCase(),r){case s.beginsWith:n=0===i.indexOf(a);break;case s.endsWith:n=-1!==(t=i.lastIndexOf(a))&&t===i.length-a.length;break;case s.contains:n=-1!==i.indexOf(a);break;case s.equals:n=i===a}return n}}m.dateConvertFailures=0,m.logger=e.getModuleLogger("siemens.simaticit.common.widgets.filter"),m.convertValue=function(e,t){{if("number"===t.filterField.type)return Number(e);if("date"===t.filterField.type){var n="sit-date-time-picker"===t.filterField.widget,i=e instanceof Date?e:new Date(e),o=n?i.setMilliseconds(0):i.setHours(0,0,0,0);return isNaN(o)?(m.dateConvertFailures++,1===m.dateConvertFailures&&m.logger.logWarn("Unable to convert value to Date: "+e),0):"sit-date-time-picker"===t.filterField.widget?o/r:Math.floor(o/r)}if("boolean"===t.filterField.type)return Boolean(e);if("string"===t.filterField.type||"enum"===t.filterField.type){var a=String(e);return t.matchCase||(a=a.toLowerCase()),a}}},m.addTesterFunctions=function(e){e.forEach(function(d){var e,s;"in"===d.operator?e=function(l){if(!d.filterField.field)return!1;var e,t=(e="number"==typeof d.value?String(d.value):!0===d.showValueField?void 0===(e=l[d.selectValueColumn.id])?"":e:d.value).split(",").map(function(e){return m.convertValue(e,d)});return t.some(function(n){var e,t=d.filterField.field.split(".");e=l[t[0]];for(var i=1;i<t.length;i++){if(angular.isArray(e)){var o,a=e.length;for(o=0;o<a;o++)if(!0===c(e[o][t[i]]))return!0;return!1}e=e[t[i]]}if(angular.isArray(e)&&!e[0][t[t.length-1]]){var r,s=e.length;for(r=0;r<s;r++)if(!0===c(e[r]))return!0;return!1}return c(e);function c(e){var t=m.convertValue(e,d);return t===n}})}:e=function(e){if(!d.filterField.field)return!1;s=!0===d.showValueField?void 0===(s=e[d.selectValueColumn.id])?"":s:m.convertValue(d.value,d);for(var t,n,i=d.filterField.field.split(".");e&&i.length;){if(n=i.shift(),"isnull"!==d.operator&&!e.hasOwnProperty(n)&&!angular.isArray(e))return!1;e.hasOwnProperty(n)&&(t="object"==typeof e?e[n]:e,e=e[n])}if(angular.isArray(t)){var o,a=t.length;for(o=0;o<a;o++)if(t[o][n]){if(!0===r(t[o][n]))return!0}else if(!0===r(t[o]))return!0;return!1}return r(t);function r(e){var t;return t="isnull"===d.operator||"isnotnull"===d.operator?e:m.convertValue(e,d),"="===d.operator?t===s:"<>"===d.operator?t!==s:"<"===d.operator?t<s:"<="===d.operator?t<=s:">"===d.operator?s<t:">="===d.operator?s<=t:"contains"===d.operator?-1!==t.indexOf(s):"startsWith"===d.operator?t.substring(0,s.length)===s:"endsWith"===d.operator?t.slice(-s.length)===s:"isnull"===d.operator?!t:"isnotnull"===d.operator?!!t:void 0}};d.testerFunction=e})},m.filterArray=function(n,e){if((m.dateConvertFailures=0)===n.length)return e;m.addTesterFunctions(n);var t=n.reduce(function(e,t,n){var i="";return 0!==n&&("and"===t.andOr?i=" &&":"or"===t.andOr&&(i=" ||")),e+i+" results["+n+"]"},""),i=l(t),o=e.filter(function(t){var e=n.map(function(e){return e.testerFunction(t)});return i({results:e})});1<m.dateConvertFailures&&m.logger.logWarn("Unable to convert "+m.dateConvertFailures+" values to Dates");return o},m.getODataFilterString=function(e){var o="",a=[];if(!e||0===e.length)return o;function r(s){var e="",c=l(s.filterField.field);function l(e){return e.replace?e.replace(/\./g,"/"):e}function i(e,t){var n="";if(void 0===t&&(t=s.showValueField?s.selectValueColumn.id:s.value),"string"===s.filterField.type)t=d(t),n=s.showValueField&&s.selectValueColumn.isAlias?c+" "+e+" @"+s.selectValueColumn.aliasName:s.showValueField?c+" "+e+" "+t:c+" "+e+" '"+t+"'";else if("date"===s.filterField.type)if("[object Date]"===Object.prototype.toString.apply(t)){var i="sit-date-time-picker"===s.filterField.widget,o=new Date(t.getTime());i?o.setMilliseconds(0):o.setHours(0,0,0,0);var a=i?new Date(o.getTime()+1e3):new Date(o.getTime()+864e5);"="===s.operator?n="("+c+" ge "+o.toISOString()+" and "+c+" lt "+a.toISOString()+")":"<>"===s.operator?n="("+c+" lt "+o.toISOString()+" or "+c+" ge "+a.toISOString()+")":"<"===s.operator?n="("+c+" lt "+o.toISOString()+")":"<="===s.operator?n="("+c+" lt "+a.toISOString()+")":">"===s.operator?n="("+c+" ge "+a.toISOString()+")":">="===s.operator&&(n="("+c+" ge "+o.toISOString()+")")}else s.showValueField&&s.selectValueColumn.isAlias?"="===s.operator?n=c+" eq @"+s.selectValueColumn.aliasName:"<>"===s.operator?n=c+" ne @"+s.selectValueColumn.aliasName:"<"===s.operator?n=c+" lt @"+s.selectValueColumn.aliasName:"<="===s.operator?n=c+" le @"+s.selectValueColumn.aliasName:">"===s.operator?n=c+" gt @"+s.selectValueColumn.aliasName:">="===s.operator&&(n=c+" ge @"+s.selectValueColumn.aliasName):"="===s.operator?n=c+" eq "+s.selectValueColumn.id:"<>"===s.operator?n=c+" ne "+s.selectValueColumn.id:"<"===s.operator?n=c+" lt "+s.selectValueColumn.id:"<="===s.operator?n=c+" le "+s.selectValueColumn.id:">"===s.operator?n=c+" gt "+s.selectValueColumn.id:">="===s.operator&&(n=c+" ge "+s.selectValueColumn.id);else if("enum"===s.filterField.type)s.filterField.dataType=s.filterField.dataType?s.filterField.dataType:"",n=c+" "+e+" "+s.filterField.dataType+"'"+t+"'";else if(s.showValueField&&s.selectValueColumn.isAlias){var r=l(s.selectValueColumn.aliasName);n=c+" "+e+" @"+r}else n=c+" "+e+" "+t;return n}function t(e){var t;return t=!0===s.showValueField?d(s.selectValueColumn.id):d(s.value),s.showValueField&&s.selectValueColumn.isAlias?e+"("+c+",@"+s.selectValueColumn.aliasName+")":s.showValueField?e+"("+c+", "+t+")":e+"("+c+", '"+t+"')"}function n(e){return c+" "+e+" null"}return"="===s.operator?e=i("eq"):"<>"===s.operator?e=i("ne"):"<"===s.operator?e=i("lt"):"<="===s.operator?e=i("le"):">"===s.operator?e=i("gt"):">="===s.operator?e=i("ge"):"in"===s.operator?e=function(){var e,n="";e=!0===s.showValueField?s.selectValueColumn.id.split(","):s.value.split(",");0<e.length&&(n="(",e.forEach(function(e,t){0<t&&(n+=" or "),n+=i("eq",e)}),n+=")");return n}():"contains"===s.operator?e=t("contains"):"startsWith"===s.operator?e=t("startswith"):"endsWith"===s.operator?e=t("endswith"):"isnull"===s.operator?e=n("eq"):"isnotnull"===s.operator&&(e=n("ne")),e}e.forEach(function(e,t){var n,i="";"grpId"in e&&e.grpClass&&-1!==e.grpClass.indexOf("grp-start")&&(i="("),0===t?o=i+r(e):o+=" "+e.andOr+" "+i+r(e),"grpId"in e&&e.grpClass&&-1!==e.grpClass.indexOf("grp-end")&&(o+=")"),!0===e.showValueField&&e.selectValueColumn.isAlias&&(n=e,_.findWhere(a,{aliasName:n.selectValueColumn.aliasName,field:n.selectValueColumn.id})||a.push({aliasName:n.selectValueColumn.aliasName,field:n.selectValueColumn.id}))});var t=(n="",a.forEach(function(e){n+="&@"+e.aliasName+"='"+e.field+"'"}),n);var n;return o+t},m.getQuickSearchFilter=function(e){return new t(e)},m.escapeODataValue=d}e.$inject=["$parse","common.services.logger.service"],angular.module("siemens.simaticit.common.widgets.filter").service("common.widgets.filter.service",e)}(),angular.module("siemens.simaticit.common.widgets.filterBar",["siemens.simaticit.common.widgets.switchButton","ui.bootstrap","siemens.simaticit.common.services.tagsManager"]),function(){function e(o){return{restrict:"E",bindToController:{filterOptions:"=sitFilterOptions"},scope:{},link:function(e,t,n,i){i.isQuickSearched=!1,e.$watch(function(){return i.filterOptions},function(e,t){e!==t&&(i.setDisplayOptions(),i.groupSelectChange(i.options.currentGroupField)),i.setApiMethods()}),e.$on("sit-item-collection-viewer.quicksearch-text-changed",function(e,t){i.quickSearchText=t,i.isQuickSearchDisabled=!0,i.isQuickSearched||(i.isQuickSearched=!0)}),e.$on("sit-item-collection-viewer.rows-selection-changed",function(e,t){i.options.tagsManagerButton=t.tagsManagerButton}),e.$on("sit-item-collection-viewer.data-search-completed",function(){i.isQuickSearchDisabled=!1,o(function(){i.isQuickSearched&&angular.element(t[0]).find("#quickSearchTextBox").focus()})}),e.$on("sit-tile.data-update-completed",function(){i.isQuickSearchDisabled=!1,o(function(){i.isQuickSearched&&angular.element(t[0]).find("#quickSearchTextBox").focus()})})},controller:t,controllerAs:"filterBarCtrl",templateUrl:"common/widgets/filterBar/filter-bar.html"}}function t(t,o,e,n,i,a,r,s){var c=this,l=n.logger.getLogFn("FilterBar Widget",i.INFO);c.logErrorFn=function(e,t){n.logger.logError(e,t,"siemens.simaticit.common.widgets.filterBar")},c.isQuickSearchDisabled=!1,c.showFilterBar=!1;var d={currentGroupField:"",currentSortDirection:"none",currentSortField:"",displayOptions:"sqg",onFilterClickCallback:null,groupByFields:[],onGroupChangeCallback:null,quickSearchField:"",onSearchChangeCallback:null,sortByFields:[],onSortChangeCallback:null};c.isUserAuthorised=!1,c.showTagsManagerButton=!1;var m,u=_.debounce(function(e){t.$apply(c.doQuickSearch(e))},500);function p(e){var t=[];return angular.forEach(e,function(e){angular.isString(e)?t.push({displayName:e,field:e}):t.push(e)}),t}function g(t){var n=t;c.commandBarData&&c.commandBarData.bar[5].group.length&&c.commandBarData.bar[5].group.forEach(function(e){e.label!==t.label&&e.field!==t&&(e.selected=!1),e.label!==t.label&&e.field!==t||(e.selected=!0)}),"object"==typeof n&&(n=t.field),c.selectedSort=_.find(c.options.sortByFields,function(e){return e.field===n}),c.selectedSort||(c.selectedSort={field:"",direction:"none"}),v(),c.options.oldSortDirection=n}function f(){c.options=$.extend(!0,{},d,c.filterOptions),c.options.groupByFields=c.convertToObjects(c.options.groupByFields),c.options.sortByFields=c.convertToObjects(c.options.sortByFields),c.options.oldSortDirection=c.options.currentSortField,c.options.currentSortField||(c.options.currentSortDirection="none",0<c.options.sortByFields.length&&(c.options.currentSortField=c.options.sortByFields[0].field)),c.showSortDirectionControls=c.options.currentSortDirection,c.setSelectedSort(c.options.currentSortField);var e=c.options.displayOptions.toLowerCase();c.showSortControls=-1!==e.indexOf("s")&&0<c.options.sortByFields.length,c.showQuickSearchControl=-1!==e.indexOf("q"),c.showFilterButton=-1!==e.indexOf("f")&&c.options.filterFields&&(0<c.options.filterFields.length||c.options.filterFields.fields&&0<c.options.filterFields.fields.length),c.compactMode=-1!==e.indexOf("c"),c.showGroupButton=!c.compactMode&&-1!==e.indexOf("g")&&0<c.options.groupByFields.length,c.isPersonalizationAllowed=-1!==e.indexOf("p"),c.quickSearchText=c.options.quickSearchText,c.sortStyle={"max-width":"145px"},c.showTagsManagerButton=s.isDataSegregationEnabled(),c.compactMode&&(c.openLeft=!0,c.showSortControls&&(c.showQuickSearchControl||c.showFilterButton&&c.showGroupButton?c.sortStyle={width:"150px"}:c.showQuickSearchControl||!c.showFilterButton&&!c.showGroupButton||(c.sortStyle={width:"140px"})),c.showQuickSearchControl&&(c.showGroupButton&&c.showTagsManagerButton?(c.searchStyle={width:"134px"},c.searchContainerStyle={width:"138px"}):(c.showGroupButton||c.showTagsManagerButton)&&(c.searchStyle={width:"161px"},c.searchContainerStyle={width:"165px"})))}function h(e){c.options.currentSortDirection!==e&&(c.options.currentSortDirection=e,c.options.onSortChangeCallback&&c.options.onSortChangeCallback(c.options.currentSortField,e))}function v(){""===c.options.currentSortDirection&&(c.options.currentSortDirection="asc"),c.options.currentSortField=c.selectedSort.field,c.options.onSortChangeCallback&&c.options.onSortChangeCallback(c.options.currentSortField,c.options.currentSortDirection)}function y(){c.filterButton[0].selected=!c.filterButton[0].selected,c.options.onFilterClickCallback&&c.options.onFilterClickCallback(c.filterButton[0].selected)}function C(t){c.commandBarData&&c.commandBarData.bar[6].group.length&&c.commandBarData.bar[6].group.forEach(function(e){e.label!==t.label&&(e.selected=!1),e.label===t.label&&(e.selected=!0)});var e=t;"object"==typeof t&&(e=t&&t.field&&"none"!==t.field?t.field:void 0),c.options.onGroupChangeCallback&&c.options.onGroupChangeCallback(e),c.groupStatus.groupField=e,c.groupStatus.isOpen=!1,c.optionSelectedClass=e?"switch-button-select":"";l('[Controller.groupSelectChange] Group select was changed \n"',{field:e})}function b(){c.preferenceButton[0].selected=!1,c.options.onPreferenceButtonClicked&&c.options.onPreferenceButtonClicked()}function w(){c.options.onSegregationTagsButtonClicked&&c.options.onSegregationTagsButtonClicked()}function S(e){return e?c.groupStatus.groupField===e:!c.groupStatus.groupField}function x(e){c.options.onSearchChangeCallback&&(c.options.onSearchChangeCallback(e),t.$emit("filterbar.quicksearch.done"))}function T(){return c.showSortControls}function I(){return c.showQuickSearchControl}function k(){return c.showFilterButton}function E(e){c.filterButton[0].selected=e}function O(){return c.showGroupButton}function P(){return c.showTagsManagerButton}function D(e,t){c.options.currentSortField=e,"asc"===(c.options.currentSortDirection=t)?(c.commandBarData.bar[4].selected=!0,c.commandBarData.bar[4].tooltip=o.instant("filterBar.descendingTitle")):(c.commandBarData.bar[4].selected=!1,c.commandBarData.bar[4].tooltip=o.instant("filterBar.ascendingTitle")),c.options.currentSortField!==c.options.oldSortDirection&&c.setSelectedSort(e)}function R(){return c.quickSearchText}function A(){return c.groupStatus.groupField}function M(){return{field:c.options.currentSortField,direction:c.options.currentSortDirection}}function F(){c.filterOptions.changeSort=c.changeSort,c.filterOptions.getFilterVisible=c.getFilterVisible,c.filterOptions.setFilterSelected=c.setFilterSelected,c.filterOptions.getGroupField=c.getGroupField,c.filterOptions.getGroupVisible=c.getGroupVisible,c.filterOptions.getSearchText=c.getSearchText,c.filterOptions.getSearchVisible=c.getSearchVisible,c.filterOptions.getSortInfo=c.getSortInfo,c.filterOptions.getSortVisible=c.getSortVisible,c.filterOptions.getTagsManagerVisible=c.getTagsManagerVisible}function N(t){c.commandBarData&&c.commandBarData.bar[2].group.length&&c.commandBarData.bar[2].group.forEach(function(e){e.name!==t.name&&(e.selected=!1),e.name===t.name&&(e.selected=!0,c.commandBarData.bar[2].svgIcon=t.svgIcon)}),t&&"Grid"===t.name&&c.viewMode[0].callback&&c.viewMode[0].callback(!0),t&&"Small"===t.name&&c.viewMode[1].callback&&c.viewMode[1].callback(!0),t&&"Medium"===t.name&&c.viewMode[2].callback&&c.viewMode[2].callback(!0),t&&"Large"===t.name&&c.viewMode[3].callback&&c.viewMode[3].callback(!0)}function B(e){"Multi-select"===e.name&&(e.selected?c.multiSelection[0].callback(!0):c.multiSelection[0].callback(!1)),"Select-all"===e.name&&(e.selected?c.selectAll[0].callback(!0):c.selectAll[0].callback(!1))}function G(e,t){var n=_.find(c.commandBarData.bar,function(e){return"mode"===e.name.toLowerCase()});n.name&&n.group&&2===n.group.length&&t.view&&("grid"===t.view?(n.group[0].selected=!0,n.group[1].selected=!1):(n.group[1].selected=!0,n.group[0].selected=!1))}function V(){c.filterOptions.viewBarOptions?(c.multiSelection.push({field:"Multi-select",selected:c.filterOptions.viewBarOptions.check.selected,show:c.filterOptions.viewBarOptions.check.show,svgIcon:"common/icons/cmdCriteria24.svg",callback:c.filterOptions.viewBarOptions.check.onClickCallback}),c.selectAll.push({field:"Select-all",selected:c.filterOptions.viewBarOptions.details.selected,show:c.filterOptions.viewBarOptions.details.show,svgIcon:"common/icons/cmdSquareCheck24.svg",callback:c.filterOptions.viewBarOptions.check.onClickCallback}),c.filterOptions.viewBarOptions.grid&&c.viewMode.push({field:"Grid",selected:c.filterOptions.viewBarOptions.grid.selected,show:c.filterOptions.viewBarOptions.grid.show,svgIcon:"common/icons/cmdTableView24.svg",callback:c.filterOptions.viewBarOptions.grid.onClickCallback}),c.filterOptions.viewBarOptions.smallTile&&c.viewMode.push({field:"Small",selected:c.filterOptions.viewBarOptions.smallTile.selected,show:c.filterOptions.viewBarOptions.smallTile.show,svgIcon:"common/icons/cmdListView24.svg",callback:c.filterOptions.viewBarOptions.smallTile.onClickCallback}),c.filterOptions.viewBarOptions.mediumTile&&c.viewMode.push({field:"Medium",selected:c.filterOptions.viewBarOptions.mediumTile.selected,show:c.filterOptions.viewBarOptions.mediumTile.show,svgIcon:"common/icons/cmdListView24.svg",callback:c.filterOptions.viewBarOptions.mediumTile.onClickCallback}),c.filterOptions.viewBarOptions.largeTile&&c.viewMode.push({field:"Large",selected:c.filterOptions.viewBarOptions.largeTile.selected,show:c.filterOptions.viewBarOptions.largeTile.show,svgIcon:"common/icons/cmdListView24.svg",callback:c.filterOptions.viewBarOptions.largeTile.onClickCallback})):(c.multiSelection=[{field:"Multi-select",selected:!1,show:!1,svgIcon:"common/icons/cmdCriteria24.svg"}],c.selectAll=[{field:"Select-all",selected:!1,show:!1,svgIcon:"common/icons/cmdSquareCheck24.svg"}])}function L(){c.commandBarData={barType:"Action",bar:[{label:"",name:"Filter",tooltip:o.instant("filterBar.filterTitle"),selected:!1,svgIcon:"common/icons/cmdFilter24.svg",type:"toggle",visibility:!c.compactMode&&c.showFilterButton,onClickCallback:function(){c.onFilterClicked()}},{label:"",name:c.selectAll[0].field,tooltip:c.selectAll[0].field,selected:c.selectAll[0].selected,svgIcon:c.selectAll[0].svgIcon,visibility:c.selectAll[0].show,type:"toggle",onClickCallback:function(e){c.onSelectButtonShowChange(e)}},{label:o.instant("filterBar.mode"),name:"Mode",tooltip:o.instant("filterBar.mode"),type:"Group",svgIcon:"common/icons/cmdTableView24.svg",group:[]},{label:"",name:c.multiSelection[0].field,tooltip:c.multiSelection[0].field,selected:c.multiSelection[0].selected,svgIcon:c.multiSelection[0].svgIcon,visibility:c.multiSelection[0].show,type:"toggle",onClickCallback:function(e){c.onSelectButtonShowChange(e)}},{label:"",name:"ascDescSort",tooltip:"desc"===c.options.currentSortDirection?o.instant("filterBar.ascendingTitle"):o.instant("filterBar.descendingTitle"),svgIcon:"common/icons/cmdSort24.svg",type:"toggle",selected:"desc"!==c.options.currentSortDirection,visibility:c.showSortControls&&""!==c.showSortDirectionControls,onClickCallback:function(e){e.selected?(c.setSortDirection("asc"),c.commandBarData.bar[4].tooltip=o.instant("filterBar.descendingTitle")):(c.setSortDirection("desc"),c.commandBarData.bar[4].tooltip=o.instant("filterBar.ascendingTitle"))}},{label:o.instant("filterBar.sortby"),name:"Sort By",tooltip:o.instant("filterBar.sortby"),type:"Group",group:[]},{label:o.instant("filterBar.groupTitle"),name:"Group By",tooltip:o.instant("filterBar.groupTitle"),type:"Group",svgIcon:"common/icons/cmdGroupBy24.svg",group:[]},{label:"",name:"search",tooltip:o.instant("filterBar.quick-search"),svgIcon:"common/icons/cmdSearch24.svg",type:"toggle",visibility:c.compactMode&&c.showQuickSearchControl,onClickCallback:function(){c.commandBarData.bar[11].quickSearchText=c.quickSearchText,c.commandBarData.bar[11].visibility=!c.commandBarData.bar[11].visibility,e.$broadcast("compact-quick-search-enabled")}},{type:"search",placeholder:o.instant("filterBar.quick-search"),quickSearchText:c.quickSearchText,visibility:!c.compactMode&&c.showQuickSearchControl,changeCallback:u,clickCallback:u},{label:"",name:"Segregation Tags",tooltip:o.instant("filterBar.segregationTagsTitle"),svgIcon:"common/icons/cmdTags24.svg",type:"Command",visibility:c.options.tagsManagerButton,onClickCallback:function(){c.onSegregationTagsButtonClicked()}},{label:"",name:"User Preference",tooltip:o.instant("filterBar.userPreferenceTitle"),svgIcon:"common/icons/cmdSliders24.svg",type:"Command",visibility:c.isUserAuthorised&&c.isPersonalizationAllowed&&!c.filterOptions.noData,onClickCallback:function(){c.onPreferenceButtonClicked()}},{type:"search",placeholder:o.instant("filterBar.quick-search"),quickSearchText:c.quickSearchText,visibility:!1,changeCallback:u,clickCallback:u}]}}function z(e){return _.findWhere(c.commandBarData.bar,{name:e})}function U(){c.eventListner.forEach(function(e){e()})}c.viewMode=[],c.multiSelection=[],c.selectAll=[],c.eventListner=[],c.convertToObjects=p,c.setSelectedSort=g,c.selectView=N,c.onSelectButtonShowChange=B,c.setDisplayOptions=f,c.groupTooltip=o.instant("filterBar.groupTitle"),c.filterButton=[{svgIcon:"common/icons/cmdFilter24.svg",selected:!1,tooltip:o.instant("filterBar.filterTitle"),onClickCallback:function(){c.onFilterClicked()}}],c.preferenceButton=[{svgIcon:"common/icons/cmdAdmin24.svg",selected:!1,tooltip:o.instant("filterBar.userPreferenceTitle"),onClickCallback:function(){c.onPreferenceButtonClicked()}}],c.SegregationTagsButton=[{svgIcon:"common/icons/cmdTags24.svg",selected:!1,tooltip:o.instant("filterBar.segregationTagsTitle"),onClickCallback:function(){c.onSegregationTagsButtonClicked()}}],c.setSortDirection=h,c.onSortChanged=v,c.onFilterClicked=y,c.groupSelectChange=C,c.onPreferenceButtonClicked=b,c.onSegregationTagsButtonClicked=w,c.groupStatus={isOpen:!1,groupField:null},c.itemSelected=S,c.quickSearchText=c.filterOptions.quickSearchText,c.doQuickSearch=x,c.getSortVisible=T,c.getSearchVisible=I,c.getFilterVisible=k,c.setFilterSelected=E,c.getGroupVisible=O,c.getTagsManagerVisible=P,c.changeSort=D,c.getSearchText=R,c.getGroupField=A,c.getSortInfo=M,c.setApiMethods=F,c.setViewModeOptions=V,c.setDefaultFilterBar=L,m=[new r("business_command","Siemens.SimaticIT.System.System.SAPOMModel.Commands.Published.SetUserPreference","invoke")],a.canPerformOp(m).then(function(e){e&&0<e.length&&(c.isUserAuthorised=e[0].isAccessible,c.commandBarData.bar[10].visibility=c.isUserAuthorised&&c.isPersonalizationAllowed&&!c.filterOptions.noData)},function(e){c.logErrorFn("-1: Command Error: user data is not present1",e)}),c.setDisplayOptions(),c.groupSelectChange(c.options.currentGroupField),c.setApiMethods(),c.setViewModeOptions(),c.setDefaultFilterBar(),function(){var e=null,t=z("Mode");c.viewMode&&c.viewMode.length&&c.viewMode.forEach(function(e){e.show&&t.group.push({label:"Grid"===e.field?o.instant("filterBar.table"):o.instant("filterBar.list"),name:e.field,tooltip:"Grid"===e.field?o.instant("filterBar.table"):o.instant("filterBar.list"),visibility:e.show,selected:e.selected,type:"toggle",svgIcon:e.svgIcon,onClickCallback:function(e){c.selectView(e)}})}),t&&t.group&&1===t.group.length&&(c.commandBarData.bar[2].group[0].visibility=!1);var n=z("Sort By");c.filterOptions.sortByFields&&c.filterOptions.sortByFields.length&&c.filterOptions.sortByFields.forEach(function(e){n.group.push({label:e.displayName?e.displayName:e.field?e.field:e,name:e.displayName?e.displayName:e.field?e.field:e,tooltip:e.displayName?e.displayName:e.field?e.field:e,field:e.field?e.field:e,visibility:c.showSortControls,selected:!1,type:"toggle",onClickCallback:c.setSelectedSort})}),n.group.length&&((e=_.findIndex(n.group,{name:c.selectedSort.displayName}))<0&&(e=_.findIndex(n.group,{name:c.selectedSort.field})),-1<e&&(n.group[e].selected=!0));var i=z("Group By");c.filterOptions.groupByFields&&c.filterOptions.groupByFields.length&&(c.filterOptions.groupByFields.forEach(function(e){i.group.push({label:e.displayName?e.displayName:e.field?e.field:e,name:e.displayName?e.displayName:e.field?e.field:e,tooltip:e.displayName?e.displayName:e.field?e.field:e,field:e.field?e.field:e,selected:!1,visibility:c.showGroupButton,type:"toggle",onClickCallback:c.groupSelectChange})}),i.group.push({label:o.instant("filterBar.none"),name:"none",field:"none",tooltip:o.instant("filterBar.none"),selected:!0,visibility:c.showGroupButton,type:"toggle",onClickCallback:c.groupSelectChange})),c.groupStatus.groupField&&-1<(e=_.findIndex(i.group,function(e){return _.isEqual(e.name.toLowerCase(),c.options.currentGroupField.toLowerCase())}))&&(i.group[e].selected=!0,i.group[i.group.length-1].selected=!1)}(),c.eventListner[c.eventListner.length]=e.$on("sit-filter.apply",function(){c.commandBarData.bar[0].selected=!1}),c.eventListner[c.eventListner.length]=e.$on("sit-filter-panel-closed",function(){c.commandBarData.bar[0].selected=!1}),c.filterOptions.viewBarOptions&&c.filterOptions.viewBarOptions.grid&&(c.eventListner[c.eventListner.length]=e.$on("sit-item-collection-viewer.change-view-mode-completed."+c.filterOptions.viewBarOptions.grid.id,G)),c.eventListner[c.eventListner.length]=t.$watch(function(){return c.options.tagsManagerButton},function(e,t){e!==t&&(c.commandBarData.bar[9].visibility=e)}),c.eventListner[c.eventListner.length]=t.$watch(function(){return c.filterOptions.noData},function(e,t){e===t||c.filterOptions.noData||(c.commandBarData.bar[10].visibility=c.isUserAuthorised&&c.isPersonalizationAllowed&&!c.filterOptions.noData)}),t.$on("$destroy",U),c.commandBarData.bar.forEach(function(e){if(e.hasOwnProperty("group"))e.group.forEach(function(e){e.visibility&&(c.showFilterBar=!0)});else if(e.visibility)return void(c.showFilterBar=!0)})}angular.module("siemens.simaticit.common.widgets.filterBar").directive("sitFilterBar",e),e.$inject=["$timeout"],t.$inject=["$scope","$translate","$rootScope","common","LOG_TYPES","common.services.security.securityService","common.services.security.functionRightModel","common.services.tagsManager.tagsManagementService"]}(),angular.module("siemens.simaticit.common.widgets.filterPanel",[]),function(){function e(i,t,n,o,a,r,s){var c=this;function e(){a.setPreviousFilterClauses({id:c.userPrefId,data:angular.copy(c.filterData)})}function l(){if(g(),c.savedFilters){var e=_.findIndex(c.savedFilters,function(e){return _.isEqual(e.filterName,c.filterData.filterName)});-1<e?(o.saveFilterClauses(c.widget,c.userPrefId,c.filterData),c.commandButtons.bar[0].group[e].data=angular.copy(c.filterData)):d()}else d()}function d(){c.dialogData={title:i.instant("filterPanel.saveFilterAs"),templatedata:{name:{value:"",placeholder:i.instant("filterPanel.filterName"),validation:{required:!0,pattern:"[A-Za-z0-9_]{3,25}",patternInfo:i.instant("filterPanel.nameInfo")}},description:{value:"",placeholder:"Type here an optional description",validation:{pattern:"[A-Za-z0-9_]{3,25}",patternInfo:i.instant("filterPanel.descInfo")}},onValidityChangeCallback:c.onValidityChangeCallback},templateuri:"common/widgets/filterPanel/save-filter-panel.html",buttons:c.saveAsDialogButtons},r.set(c.dialogData),r.show()}function m(){c.filterData.filterName=i.instant("filterPanel.newFilter"),c.filterData.description="",c.commandButtons.bar[4].visibility=!1;for(var e=0;e<c.filterData.filterClauses.length;e++)if("sit-checkbox"===c.filterData.filterClauses[e].widget)c.filterData.filterClauses[e].value.forEach(function(e){e.checked=!1});else if("sit-multi-select"!=c.filterData.filterClauses[e].widget&&"sit-advanced-select"!=c.filterData.filterClauses[e].widget||!c.filterData.filterClauses[e].widgetAttributes)c.filterData.filterClauses[e].value="";else if(c.filterData.filterClauses[e].widgetAttributes["sit-selected-string"]="",c.filterData.filterClauses[e].widgetAttributes["sit-options"].length)for(var t=0;t<c.filterData.filterClauses[e].widgetAttributes["sit-options"].length;t++)c.filterData.filterClauses[e].widgetAttributes["sit-options"][t].selected=!1,c.filterData.filterClauses[e].widgetAttributes["sit-options"][t].value=!1}function u(e){e&&e.isValid?c.saveAsDialogButtons[0].disabled=!1:c.saveAsDialogButtons[0].disabled=!0}function p(){var e=_.findIndex(c.commandButtons.bar[0].group,function(e){return _.isEqual(e.data.filterName,c.filterData.filterName)});-1<e&&c.commandButtons.bar[0].group.splice(e,1),o.deleteFilterClauses(c.widget,c.userPrefId,c.filterData),c.clear()}function g(){c.savedFilters=o.retrieveFilterClauses(c.widget,c.userPrefId)}function f(){c.commandButtons.bar[4].visibility=!0;var e=angular.copy(arguments[0].data);t.$broadcast("save-filter-opened",e),h(e)}function h(e){c.filterData.filterName=e.filterName,c.filterData.description=e.description;for(var n=0;n<e.filterClauses.length;n++)""==c.filterData.filterClauses[n].value||null==c.filterData.filterClauses[n].value?"sit-multi-select"!=c.filterData.filterClauses[n].widget&&"sit-advanced-select"!=c.filterData.filterClauses[n].widget||!c.filterData.filterClauses[n].hasOwnProperty("widgetAttributes")?c.filterData.filterClauses[n].value=e.filterClauses[n].value:(c.filterData.filterClauses[n].widgetAttributes["sit-selected-string"]=e.filterClauses[n].widgetAttributes["sit-selected-string"],c.filterData.filterClauses[n].widgetAttributes["sit-options"].length&&(c.filterData.filterClauses[n].widgetAttributes["sit-options"]=angular.copy(e.filterClauses[n].widgetAttributes["sit-options"]))):"sit-checkbox"===c.filterData.filterClauses[n].widget?e.filterClauses[n].value.forEach(function(e,t){c.filterData.filterClauses[n].value[t].checked=e.checked}):c.filterData.filterClauses[n].value=e.filterClauses[n].value}function v(e){c.retainFilterData();var t,n=[];e.forEach(function(e){(""!==e.value&&void 0!==e.value||e.widgetAttributes&&""!==e.widgetAttributes["sit-selected-string"]&&void 0!==e.widgetAttributes["sit-selected-string"])&&(t="sit-select"===e.widget?e.value[e.toKeep]:"sit-checkbox"===e.widget?e.value[0].checked:"sit-multi-select"===e.widget||"sit-advanced-select"===e.widget?e.widgetAttributes["sit-selected-string"]:e.value,n[n.length]={filterField:e,value:t,widget:e.widget,andOr:"and",operator:"=",matchCase:!1,showValueField:!1},t="")}),c.data.onApplyCallback?c.data.onApplyCallback(n,c.filterData.filterName):c.data.defaultApplyCallback&&c.data.defaultApplyCallback(n,c.filterData.filterName)}function y(){var e=[];c.clear(),a.setPreviousFilterClauses({id:c.userPrefId,data:{}}),c.data.onResetCallback?c.data.onResetCallback(e):c.data.defaultApplyCallback&&c.data.defaultApplyCallback(e)}c.savedFilters=null,c.widget="sit-filter-panel",c.isDataRetainEnabled=!1!==c.data.isDataRetainEnabled,c.filterData={filterName:i.instant("filterPanel.newFilter"),description:"",filterClauses:c.data.fields.slice()},c.closeIcon={path:"common/icons/cmdClosePanel24.svg",size:"16px"},c.save=l,c.saveAs=d,c.clear=m,c.delete=p,c.onFilterChange=f,c.apply=v,c.reset=y,c.onValidityChangeCallback=u,c.retainFilterData=e,c.commandButtons={barType:"Action",bar:[{name:"open_filter",svgIcon:"common/icons/homeFolderOpen24.svg",tooltip:i.instant("filterPanel.openFilter"),type:"Group",group:[]},{type:"Command",name:"clear",visibility:!0,svgIcon:"common/icons/cmdDelete24.svg",tooltip:i.instant("commandBar.clearToolTip"),onClickCallback:c.clear},{type:"Command",name:"save_as",visibility:!0,svgIcon:"common/icons/cmdSaveAs24.svg",tooltip:i.instant("commandBar.saveAsToolTip"),onClickCallback:c.saveAs},{type:"Command",name:"save",visibility:!0,svgIcon:"common/icons/cmdSave24.svg",tooltip:i.instant("commandBar.saveToolTip"),onClickCallback:c.save},{type:"Command",name:"delete",visibility:!1,svgIcon:"common/icons/cmdTrash24.svg",tooltip:i.instant("filterPanel.delete"),onClickCallback:c.delete}]},c.saveAsDialogButtons=[{id:"save",displayName:i.instant("filterPanel.save"),disabled:!0,onClickCallback:function(e){g();var t=_.findIndex(c.savedFilters,function(e){return _.isEqual(e.filterName.toLowerCase(),c.dialogData.templatedata.name.value.toLowerCase())});if(-1<t)r.hide(),c.overlay={text:i.instant("filterPanel.overlay.text"),title:i.instant("filterPanel.overlay.title"),buttons:[{id:"okButton",displayName:i.instant("filterPanel.overlay.displayName"),onClickCallback:function(){s.hide(),r.show()}}]},s.set(c.overlay),s.show();else{c.filterData.filterName=c.dialogData.templatedata.name.value,c.filterData.description=c.dialogData.templatedata.description.value;var n=angular.copy(c.filterData);o.saveFilterClauses(c.widget,c.userPrefId,n),c.commandButtons.bar[0].group[c.commandButtons.bar[0].group.length]={label:n.filterName,type:"Command",name:n.filterName,visibility:!0,svgIcon:"common/icons/cmdFilter24.svg",tooltip:n.filterName,onClickCallback:c.onFilterChange,data:n},c.commandButtons.bar[4].visibility=!0,r.hide()}}},{id:"cancel",displayName:i.instant("filterPanel.cancel"),onClickCallback:function(){r.hide()}}],g(),function(){if(c.savedFilters&&c.savedFilters.length&&c.savedFilters.forEach(function(e){c.commandButtons.bar[0].group[c.commandButtons.bar[0].group.length]={label:e.filterName,type:"Command",name:e.filterName,visibility:!0,svgIcon:"common/icons/cmdFilter24.svg",tooltip:e.filterName,data:e,onClickCallback:c.onFilterChange}}),!c.isDataRetainEnabled)return m();var e=a.getPreviousFilterClauses(c.userPrefId);e&&e.data&&Object.keys(e.data).length?(m(),n(function(){h(e.data)},1e3)):m()}()}angular.module("siemens.simaticit.common.widgets.filterPanel").directive("sitFilterPanel",["$compile","$rootScope",function(c,l){return{restrict:"E",scope:{},bindToController:{data:"=sitData",userPrefId:"=sitUserPreference"},controller:e,controllerAs:"filterPanelCtrl",link:function(t,n,e,i){var o;i.panelElm=void 0,i.filterFields=i.data.fields;var a=!1;$.get("common/widgets/filterPanel/sit-filter-panel.html",function(e){i.panelElm=c(e)(t)}),(o=i.data.floatID?$(n).parents().find("#"+i.data.floatID):$(n).parents(i.data.parentWidget)).first().hasClass("filter-panel-wrapper")||o.first().wrap("<div class='filter-panel-wrapper'></div>");var r=n.find("div.simple-filter-panel");$(".simple-filter-clauses").on("scroll",function(){0<this.scrollTop?r.children(".action-button-footer").addClass("shadow"):r.children(".action-button-footer").removeClass("shadow")});var s=t.$watch(function(){return i.panelElm},function(e){void 0===e||a||($(n).parents(".filter-panel-wrapper").prepend(e),$(n).parents().find("#filter-panel")[0].style.width=360,$($(o)).children().css("width","calc(100% - 368px)"),$($(o)).children().css("margin-left",368),$(n).parents().find("#ButtontoggleFilter").css("pointer-events","none"),a=!0,l.$broadcast("sit-filter-panel-opened"),s())},!0);i.close=function(){$(n).parents().find("#filter-panel").unwrap(),$(n).parents().find("#filter-panel").remove(),$($(o)).children().css("margin-left","0"),$($(o)).children().css("width","100%"),$(n).parents().find("#ButtontoggleFilter").css("pointer-events","auto"),l.$broadcast("sit-filter-panel-closed")}}}}]),e.$inject=["$translate","$rootScope","$timeout","common.services.filterPersonalization.filterPersonalizationService","common.filterPanel.filterPanelService","common.widgets.globalDialog.service","common.widgets.messageOverlay.service"]}(),angular.module("siemens.simaticit.common.widgets.filterPanel").service("common.filterPanel.filterPanelService",[function(){this.filterData=[],this.setPreviousFilterClauses=function(t){var e=_.findIndex(this.filterData,function(e){return e.id===t.id});-1===e?this.filterData.push(t):this.filterData[e].data=t.data},this.getPreviousFilterClauses=function(t){var e=_.findIndex(this.filterData,function(e){return e.id===t});if(-1!==e)return angular.copy(this.filterData[e])}}]),angular.module("siemens.simaticit.common.widgets.flowEditor",[]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.Actions",["$log","siemens.simaticit.common.widgets.flowEditor.services.GuidService","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService",function(e,d,f,h){var v=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];h.MoveOnTop(i,e.MainCanvas)}};return{CreateEdgeAction:function(e,t,n,i){var o;this.Name="Create Edge Action",this.Execute=function(){null==o&&((o="function"==typeof i?new i:i).Id=d.CreateGuid()),e.AddEdge(o,t,n)},this.UnExecute=function(){if(e.RemoveEdge(o),null!=o.OnRemove)return o.OnRemove()},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}},MoveVertexAction:function(i,o,a,r,s,c,l,d){var m;this.Name="Move Vertex Action";var u=[],p=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];u[i.Id]={ox:i.X-e.X,oy:i.Y-e.Y},i.CanHaveChildren&&p(e,i.Children)}},g=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=u[i.Id];i.X=e.X+o.ox,i.Y=e.Y+o.oy,i.CanHaveChildren&&g(e,i.Children)}};c.CanHaveChildren&&p(c,c.Children),this.Execute=function(){if(m=c.Parent,o==r&&a==s||(c.X=r+f.innerPlaceholderGap,c.Y=s+f.innerPlaceholderGap),c.CanHaveChildren&&g(c,c.Children),d)for(var t=0;t<d.length;t++){if(null==d[t].Parent){c.Children.push(d[t]),d[t].Parent=c;var e=i.Cells.indexOf(d[t]);-1<e&&i.Cells.splice(e,1)}else if(null==c.Children.filter(function(e){return e.Id==d[t].Parent.Id})[0]){var n=d[t].Parent.Children.indexOf(d[t]);-1<n&&d[t].Parent.Children.splice(n,1),c.Children.push(d[t]),d[t].Parent=c}h.MoveOnTop(d[t],i.MainCanvas),d[t].CanHaveChildren&&d[t].Children&&v(i,d[t].Children)}c.CheckError?c.CheckError(function(){i.UpdateVertex(c,l)},{parent:l,oparent:m}):i.UpdateVertex(c,l)},this.UnExecute=function(){if(c.X=o,c.Y=a,d)for(var e=0;e<d.length;e++)if(d[e].Parent.Id===c.Id){d[e].Parent=null;var t=c.Children.indexOf(d[e]);c.Children.splice(t,1),-1===i.Cells.indexOf(d[e])&&i.Cells.push(d[e])}c.CanHaveChildren&&g(c,c.Children),c.CheckError?c.CheckError(function(){i.UpdateVertex(c,m)},{parent:m}):i.UpdateVertex(c,m)},this.CanExecute=function(){return!i.IsReadOnly},this.CanUnExecute=function(){return!i.IsReadOnly}},CopyVertexAction:function(e,t){this.Name="Copy Vertex Action",this.Execute=function(){e.AddCell(t,null)},this.UnExecute=function(){if(e.RemoveCell(t),null!=t.OnRemove)return t.OnRemove()},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}},AddVertexAction:function(i,o,a,r,s,c){var l;this.Name="Add Vertex Action",this.Execute=function(){if(null==l&&(l="function"==typeof r?new r:r,o-=l.Width/2,a-=l.Height/2,l.Incoming=[],l.Outgoing=[],l.CanHaveChildren&&(l.Children=[]),l.X=o,l.Y=a,l.Id=d.CreateGuid()),i.AddCell(l,s),c)for(var t=0;t<c.length;t++){if(null==c[t].Parent){(c[t].Parent=l).Children.push(c[t]);var e=i.Cells.indexOf(c[t]);-1<e&&i.Cells.splice(e,1)}else if(null==c.filter(function(e){return e.Id===c[t].Parent.Id})[0]){var n=c[t].Parent.Children.indexOf(c[t]);-1<n&&c[t].Parent.Children.splice(n,1),l.Children.push(c[t]),c[t].Parent=l}h.MoveOnTop(c[t],i.MainCanvas),c[t].CanHaveChildren&&c[t].Children&&v(i,c[t].Children)}},this.UnExecute=function(){if(c)for(var e=0;e<c.length;e++)if(c[e].Parent.Id===l.Id){c[e].Parent=null;var t=l.Children.indexOf(c[e]);l.Children.splice(t,1),i.Cells.indexOf(c[e]),i.Cells.push(c[e])}if(i.RemoveCell(l),null!=l.OnRemove)return l.OnRemove()},this.CanExecute=function(){return!i.IsReadOnly},this.CanUnExecute=function(){return!i.IsReadOnly}},MoveGroupVertexAction:function(n,e,i,o){this.Name="Move Group Vertex Action",this.Execute=function(){angular.forEach(e,function(e){e.X+=i+f.innerPlaceholderGap,e.Y+=o+f.innerPlaceholderGap;var t=h.GetCandidateParentFromCell(n,e);n.UpdateVertex(e,t)})},this.UnExecute=function(){angular.forEach(e,function(e){e.X-=i+f.innerPlaceholderGap,e.Y-=o+f.innerPlaceholderGap;var t=h.GetCandidateParentFromCell(n,e);n.UpdateVertex(e,t)})},this.CanExecute=function(){return!n.IsReadOnly},this.CanUnExecute=function(){return!n.IsReadOnly}},RemoveVertexAction:function(n,i){this.Name="Remove Vertex Action";var o,a=i.Incoming,r=i.Outgoing;this.Execute=function(){if(o=i.Parent,n.RemoveVertex(i),null!=i.OnRemove)return i.OnRemove()},this.UnExecute=function(){var t,e;for(n.StartSession(),n.AddCell(i,o,!0),e=0;e<a.length;e++)t=a[e],void 0===_.find(t.Source.Outgoing,function(e){return e.Id===t.Id})&&(t.Source.Outgoing.push(t),n.AddCell(t,null,!0));for(e=0;e<r.length;e++)t=r[e],void 0===_.find(t.Source.Incoming,function(e){return e.Id===t.Id})&&(t.Target.Incoming.push(t),n.AddCell(t,null,!0));n.EndSession()},this.CanExecute=function(){return!n.IsReadOnly},this.CanUnExecute=function(){return!n.IsReadOnly}},RemoveEdgeAction:function(e,t){this.Name="Remove Edge Action",this.Execute=function(){if(e.RemoveEdge(t),null!=t.OnRemove)return t.OnRemove()},this.UnExecute=function(){e.AddEdge(t,t.Source,t.Target)},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}},ResizeVertexAction:function(e,t,n,i,o,a){this.Name="Resize Vertex Action",this.Execute=function(){a.Width=i,a.Height=o,e.UpdateVertex(a,a.Parent)},this.UnExecute=function(){a.Width=t,a.Height=n,e.UpdateVertex(a,a.Parent)},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}},RenameCellAction:function(e,t,n){var i=t.Label;this.Name="Rename Cell Action",this.Execute=function(){t.Label=i,e.UpdateCell(t)},this.UnExecute=function(){t.Label=n,e.UpdateCell(t)},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}},ConnectAndCloneAction:function(e,t,n,i,o){var a,r;this.Name="ConnectAndClone Action",this.Execute=function(){null==a&&((a=new i).Id=d.CreateGuid()),null==r&&((r=new n).Incoming=new Array,r.Outgoing=new Array,"right"===o?(r.X=t.X+t.Width+100,r.Y=t.Y):"bottom"===o?(r.X=t.X,r.Y=t.Y+t.Height+100):"left"===o?(r.X=t.X-t.Width-100,r.Y=t.Y):"top"===o&&(r.X=t.X,r.Y=t.Y-t.Height-100),r.Width=t.Width,r.Height=t.Height,r.Background=t.Background,r.Foreground=t.Foreground,r.Label=t.Label,r.Id=d.CreateGuid()),e.AddCell(r),e.AddEdge(a,t,r)},this.UnExecute=function(){return e.RemoveEdge(a),e.RemoveVertex(r),null!=a.OnRemove?a.OnRemove():null!=r.OnRemove?r.OnRemove():void 0},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}},MoveCellLabelAction:function(e,t,n){var i={LabelX:t.LabelX,LabelY:t.LabelY,LabelWidth:t.LabelWidth,LabelHeight:t.LabelHeight};this.Name="Move Cell Label Action",this.Execute=function(){t.LabelX=i.LabelX,t.LabelY=i.LabelY,t.LabelWidth=i.LabelWidth,t.LabelHeight=i.LabelHeight,e.UpdateCell(t)},this.UnExecute=function(){t.LabelX=n.LabelX,t.LabelY=n.LabelY,t.LabelWidth=n.LabelWidth,t.LabelHeight=n.LabelHeight,e.UpdateCell(t)},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}},TransformVertexAction:function(r,s,c,l){this.Name="Vertex Transform";var d=s,m=[];r.Cells.forEach(function(e){var t=e.BusinessObject;if(t&&t.Variables&&t.Variables.length)_.find(e.BusinessObject.Variables,function(e){return e.Source&&e.Source.startsWith(s.NId)||e.Target&&e.Target.startsWith(s.NId)})&&m.push(angular.copy(e));else if("Gateways"===e.Group)for(var n=0;n<e.Outgoing.length;n++)m.push(angular.copy(e.Outgoing[n]));else t&&t.Timer&&(t.Timer.Source&&t.Timer.Source.startsWith(s.NId)||t.Timer.Target&&t.Timer.Target.startsWith(s.NId))&&m.push(angular.copy(e))});var i=angular.copy(s.Incoming),o=angular.copy(s.Outgoing);this.Execute=function(){if(void 0!==s){(s="function"==typeof c?new c:c).Incoming=d.Incoming,s.Outgoing=d.Outgoing,s.X=d.X,s.Y=d.Y,s.Id=d.Id,s.IsSelected=!1;var e=_.findIndex(r.Cells,function(e){return s.Id===e.Id});if(-1!==e){if("IN"===l)for(;s.Incoming.length;)r.RemoveEdge(s.Incoming[0]);if("OUT"===l)for(;s.Outgoing.length;)r.RemoveEdge(s.Outgoing[0]);(r.Cells[e]=s).Incoming.forEach(function(e){e.Target=s}),s.Outgoing.forEach(function(e){e.Source=s}),r.UpdateCell(s);for(var t=0;t<m.length;t++){var n=_.find(r.Cells,function(e){return e.Id===m[t].Id});if(n&&n.BusinessObject&&n.BusinessObject.Variables&&n.BusinessObject.Variables.length)for(var i=n.BusinessObject.Variables.length-1;0<=i;i--){var o=n.BusinessObject.Variables[i];o.Source&&o.Source.startsWith(s.NId)&&(delete n.BusinessObject.Variables[i].Source,n.BusinessObject.Variables[i].Constant=!0,n.BusinessObject.Variables[i].Expression=!0),o.Target&&o.Target.startsWith(s.NId)&&(delete n.BusinessObject.Variables[i].Target,n.BusinessObject.Variables[i].Constant=!0,n.BusinessObject.Variables[i].Expression=!0)}if(n&&n.BusinessObject&&n.BusinessObject.Timer){var a=n.BusinessObject.Timer;(a.Source&&a.Source.startsWith(s.NId)||a.Target&&a.Target.startsWith(s.NId))&&delete n.BusinessObject.Timer}}s={}}}},this.UnExecute=function(){if(void 0!==d){var e=_.findIndex(r.Cells,function(e){return e.Id===d.Id});-1!==e&&(d.IsSelected=!1,r.Cells[e]=d,"IN"===l&&i.forEach(function(t){r.AddEdge(t,_.find(r.Cells,function(e){return e.Id===t.Source.Id}),_.find(r.Cells,function(e){return e.Id===t.Target.Id}))}),"OUT"===l&&o.forEach(function(t){r.AddEdge(t,_.find(r.Cells,function(e){return e.Id===t.Source.Id}),_.find(r.Cells,function(e){return e.Id===t.Target.Id}))}),d.Incoming.forEach(function(e){e.Target=d}),d.Outgoing.forEach(function(e){e.Source=d}),r.UpdateCell(d));for(var t=0;t<m.length;t++){var n=_.find(r.Cells,function(e){return e.Id===m[t].Id});n&&n.BusinessObject&&n.BusinessObject.Variables?n.BusinessObject.Variables=angular.copy(m[t].BusinessObject.Variables):n&&n.BusinessObject&&"timer"===n.Type&&(n.BusinessObject.Timer=angular.copy(m[t].BusinessObject.Timer))}for(t=0;t<m.length;t++)(n=_.find(r.Cells,function(e){return e.Id===m[t].Id}))&&(n.BusinessObject.Condition=angular.copy(m[t].BusinessObject.Condition))}},this.CanExecute=function(){return!r.IsReadOnly},this.CanUnExecute=function(){return!r.IsReadOnly}},EditEdgeWayPointAction:function(e,t,n,i,o){var a=angular.copy(t.Points),r=t.SourcePos,s=t.TargetPos;this.Name="Edit Edge WayPoint Action",this.Execute=function(){t.Points=angular.copy(a),t.SourcePos=r,t.TargetPos=s,e.UpdateCell(t)},this.UnExecute=function(){t.Points=angular.copy(n),t.SourcePos=i,t.TargetPos=o,e.UpdateCell(t)},this.CanExecute=function(){return!e.IsReadOnly},this.CanUnExecute=function(){return!e.IsReadOnly}}}}]),function(){var e=angular.module("siemens.simaticit.common.widgets.flowEditor");e.factory("siemens.simaticit.common.widgets.flowEditor.model.Cell",["$log",function(e){return function(){this.Id,this.NID,this.Label,this.IsSelected=!1,this.IsMouseOver=!1,this.Renamable=!0,this.Configurable=!0,this.Deletable=!0,this.HResizable=!1,this.VResizable=!1,this.Resizable=!1,this.GraphService,this.Font={}}}]),e.factory("siemens.simaticit.common.widgets.flowEditor.model.Vertex",["$log","siemens.simaticit.common.widgets.flowEditor.model.Cell",function(e,t){var n=function(){this.Width=200,this.Height=100,this.MinWidth=100,this.MinHeight=50,this.X,this.Y,this.Incoming,this.Outgoing,this.MaxIn=-1,this.MaxOut=-1,this.Background="white",this.Foreground="black",this.CanHaveChildren=!1,this.ParentValueModelerId=null,this.EditableProps=[{name:"Label"},{name:"Width",min:this.MinWidth},{name:"Height",min:this.MinHeight},{name:"X",min:0},{name:"Y",min:0},{name:"MaxIn",min:-1},{name:"MaxOut",min:-1}]};return n.prototype=new t,n}]),e.factory("siemens.simaticit.common.widgets.flowEditor.model.Edge",["$log","siemens.simaticit.common.widgets.flowEditor.model.Cell",function(e,t){var n=function(){this.Route=[],this.Source,this.Target,this.Points};return n.prototype=new t,n}])}(),function(){var e=angular.module("siemens.simaticit.common.widgets.flowEditor");e.constant("siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",{innerPlaceholderGap:26,resizeRectDimension:20,selectionRectGap:10,resizeRectGap:10,linkRectGap:10,anchorWidth:15,anchorHeight:30,anchorOpacity:.7,domainEdgeWidth:3,edgeWidth:3,renameWidth:10,configWidth:10,deleteWidth:10,contextMenuButtonWidth:10,initialWidth:6512,initialHeight:2912,zoomMin:.3,zoomMax:3}),e.constant("siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes",{hash:"#",oph:"outerph_",iph:"innerph_",right_anchor:"anchor_r_",bottom_anchor:"anchor_b_",left_anchor:"anchor_l_",top_anchor:"anchor_t_",edge:"edge_",edgewrap:"edgewrap_",edgeLabel:"edge_label_",edgeRoute:"edge_route_",selrect:"selrect_",ghost:"ghostLine",moveGhost:"ghostBlock",bottom:"bottom_",right:"right_",left:"left_",top:"top_",rb_corner:"rb_corner",rt_corner:"rt_corner",lb_corner:"lb_corner",lt_corner:"lt_corner",linkrect:"linkr_",overlay:"pzoverlay_",grid:"grid_",svg:"svg_",debugOPH:"debugoph_",debugIPH:"debugiph_",debugXY:"debugxy_",debugWH:"debugwh_",renamebutton:"renameb_",configbutton:"config_",deletebutton:"deleteb_",contextMenuButtons:["cm1_","cm2_","cm3_","cm4_","cm5_"],iconButtons:["icon1_","icon2_"],labelList:["label1_","label2_"],xAxis:"xaxis_",yAxis:"yaxis_",canvas:"canvas_",after:"after",pan:"pan_",customAnchor:"customanchor_",graphId:"graph",aligner:"aligner"})}(),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.DefaultScenarioService",["$log","siemens.simaticit.common.widgets.flowEditor.Actions","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,d,m){this.CanBringToFront=function(e,t){if(this.sitFlowOutputApiService)for(var n=0;n<this.sitFlowOutputApiService.GetApis().length;n++){var i=this.sitFlowOutputApiService.GetApis()[n];if(!i.CanBringToFront)return!0;i.CanBringToFront(e,t)}},this.CanSendToBack=function(e,t){if(this.sitFlowOutputApiService)for(var n=0;n<this.sitFlowOutputApiService.GetApis().length;n++){var i=this.sitFlowOutputApiService.GetApis()[n];if(!i.CanSendToBack)return!0;i.CanSendToBack(e,t)}},this.CanEdit=function(e,t){return!0},this.CanRemove=function(e,t){return!0},this.CanRename=function(e,t){return!0},this.MoveVertex=function(e,t,n,i,o,a,r){var s=new d.MoveVertexAction(e,n,i,o,a,t,r);e.UndoRedoService.Record(s)},this.RemoveVertex=function(e,t){var n=new d.RemoveVertexAction(e,t);e.UndoRedoService.Record(n)},this.RemoveEdge=function(e,t){var n=new d.RemoveEdgeAction(e,t);e.UndoRedoService.Record(n)},this.AddVertex=function(e,t,n,i,o,a){var r=new i,s=r.Width/2+m.innerPlaceholderGap,c=r.Height/2+m.innerPlaceholderGap;t-s<0&&(t=s),n-c<0&&(n=c);var l=new d.AddVertexAction(e,t,n,i,o,a);e.UndoRedoService.Record(l)},this.TransformVertex=function(e,t,n){new n;var i=new d.TransformVertex(e,t,n);e.UndoRedoService.Record(i)},this.ResizeVertex=function(e,t,n,i){var o=new d.ResizeVertexAction(e,n,i,t.Width,t.Height,t);e.UndoRedoService.Record(o)},this.RenameCell=function(e,t,n){var i=new d.RenameCellAction(e,t,n);e.UndoRedoService.Record(i)},this.CanLink=function(e,t,n){return t!==n},this.Name="Default Scenario"}]),function(){var e=angular.module("siemens.simaticit.common.widgets.flowEditor");e.directive("sitFlowGraphEditor",["siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes",function(g){return{restrict:"E",transclude:!0,scope:{sitScenario:"=",sitDebug:"=?",sitMultiSelect:"@?",sitKeyboardShortcuts:"@?",sitShowGrid:"@?",sitShowPan:"@?",sitShowLock:"@?",sitActive:"@?",sitMoveMode:"@?",sitResizeMode:"@?",sitGridSize:"@?",sitConnectAndClone:"@?",sitOnFlowReady:"&?",sitCanvasClicked:"&?"},template:"<div id='{{graphId}}' style='position:relative' ng-click='canvasClicked()' ng-show='isLoaded()' sit-flow-droppable>                             <svg shape-rendering='geometricPrecision' id='svg_{{graphId}}'>                                 <defs>                                 </defs>                             </svg>                             <div id='_rename'>                                 <div id='_rename_text' contenteditable='true'>                                 </div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<div ng-show='sitScenario.sitFlowInputApi.transformProtoData && sitScenario.sitFlowInputApi.transformProtoData.length'> \t\t\t\t\t\t\t<div id='workflow-context-menu' class='workflow-context-menu'> \t\t\t\t\t\t\t\t<div class='context-menu-item' ng-repeat='item in sitScenario.sitFlowInputApi.transformProtoData' ng-click='sitScenario.sitFlowInputApi.Transform(item)'> \t\t\t\t\t\t\t\t\t<span class='icon {{item.Group.toLowerCase()}} {{item.Icon}}'><i class=\"fa fa-{{item.Icon}}\"></i></span>{{item.Name}}  \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div>                     </div>",controller:["$log","$scope","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.PluginService","$element","$timeout","siemens.simaticit.common.widgets.flowEditor.services.SVGPlaceholderService","siemens.simaticit.common.widgets.flowEditor.services.GraphCanvasService","siemens.simaticit.common.widgets.flowEditor.services.SharingService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService",function(e,d,t,m,i,n,o,a,r,s){var c=new Object,u=[],l={Add:function(e){u.push(e)},GetApis:function(){return u}};parseInt(d.sitGridSize,10)?r.GridSize=parseInt(d.sitGridSize,10):r.GridSize=20,d.$watch("sitMoveMode",function(){"ghost"===d.sitMoveMode||"full"===d.sitMoveMode?r.MoveMode=d.sitMoveMode:r.MoveMode="full"}),d.$watch("sitResizeMode",function(){"ghost"===d.sitResizeMode||"full"===d.sitResizeMode?r.ResizeMode=d.sitResizeMode:r.ResizeMode="full"}),d.isConnectAndClone=function(){return!!d.sitConnectAndClone&&("true"==d.sitConnectAndClone||"false"!=d.sitConnectAndClone)},d.isShowGrid=function(){return!d.sitShowGrid||("true"==d.sitShowGrid||"false"!=d.sitShowGrid)},d.isShowPan=function(){return!!d.sitShowPan&&("true"==d.sitShowPan||"false"!=d.sitShowPan)},d.isShowLock=function(){return!!d.sitShowLock&&("true"==d.sitShowLock||"false"!=d.sitShowLock)},d.sitDebug?r.Debug=!0:r.Debug=!1,d.loaded=!1,this.init=function(){m.setScenario(d.sitScenario)};var p=function(e){m.ConnectAndClone(d.graphCanvasService.GetGraphService(),e.cell,e.direction)};c.ActivateGraph=function(e){e==d.graphId?d.sitActive="true":d.sitActive="false",d.graphCanvasService.ClearSelection()},d.canvasClicked=function(){d.sitCanvasClicked&&d.sitCanvasClicked()},d.isLoaded=function(){return d.loaded},d.handleDrop=function(e,t,n){d.graphCanvasService&&d.graphCanvasService.Drop(e,t,n,i[0])},c.ToggleGrid=function(){d.gridChecked=!d.gridChecked,d.graphCanvasService.ToggleGrid()},c.TogglePan=function(){d.panChecked=!d.panChecked,d.graphCanvasService.TogglePan()},c.ToggleLock=function(){d.lockChecked=!d.lockChecked,d.graphCanvasService.ToggleLock()},c.ToggleSnap=function(){d.snapChecked=!d.snapChecked,d.graphCanvasService.ToggleSnap()},c.Remove=function(){var e=d.graphCanvasService.GetAllSelectedCells();d.graphCanvasService.RemoveMultipleCells(e)},c.Edit=function(){var e=d.graphCanvasService.GetAllSelectedCells();d.graphCanvasService.EditCells(e)},c.Transform=function(e){for(var t=d.graphCanvasService.GetAllSelectedCells(),n=0;n<t.length;n++)t[n].Id===d.sitScenario.sitFlowInputApi.transformVertexId&&(m.TransformVertex(d.graphCanvasService.GetGraphService(),t[n],e),d.sitScenario.sitFlowInputApi.transformProtoData=[])},c.bringToFront=function(){var e=d.graphCanvasService.GetAllSelectedCells();d.graphCanvasService.BringCellsToFront(e)},c.bringForward=function(){var e=d.graphCanvasService.GetAllSelectedCells();d.graphCanvasService.BringCellsForward(e)},c.sendToBack=function(){var e=d.graphCanvasService.GetAllSelectedCells();d.graphCanvasService.SendCellsToBack(e)},c.sendBackward=function(){var e=d.graphCanvasService.GetAllSelectedCells();d.graphCanvasService.SendCellsBackward(e)},c.Save=function(){d.graphCanvasService.Save()},c.Undo=function(){d.graphCanvasService.Undo(!0)},c.Redo=function(){d.graphCanvasService.Redo(!0)},c.ZoomIn=function(){d.graphCanvasService.ZoomIn()},c.ZoomOut=function(){d.graphCanvasService.ZoomOut()},c.ZoomReset=function(){d.graphCanvasService.ZoomReset()},c.ZoomFit=function(){d.graphCanvasService.ZoomFit()},c.UpdateCell=function(e){d.graphCanvasService.GetGraphService().UpdateCell(e)},c.Refresh=function(){d.graphCanvasService.Refresh()},c.AutoGenerate=function(){d.graphCanvasService.AutoGenerate()},c.AutoGenerateAll=function(){d.graphCanvasService.AutoGenerateAll()},c.ClearSelection=function(){d.graphCanvasService.ClearSelection()},c.SelectCells=function(e){d.graphCanvasService.SelectCells(e)},c.EditSettings=function(){d.graphCanvasService.EditSettings()};c.LoadFlow=function(e){var t=!1;null!=d.graphId&&(t=!0),d.graphId=g.graphId+e.Id.trim(),d.graphTitle=e.Name,d.phaseId=e.PhaseId,d.loaded=!0,n(function(){t?(d.graphCanvasService.GetGraphService().Clear(),d.graphCanvasService.ClearUndoRedo()):function(){var e=new a(d,function(e){for(var t=0;t<u.length;t++){var n=u[t];if(n){if(0<e.length){var i=d.graphCanvasService.GetGraphService(),o=e[0],a=o&&m.CanEdit(i,o);n.OnCanEditChanged&&n.OnCanEditChanged(a);var r=o&&m.CanRemove(i,o);n.OnCanRemoveChanged&&n.OnCanRemoveChanged(r);var s=o&&m.CanRename(i,o);n.OnCanRenameChanged&&n.OnCanRenameChanged(s);var c=o&&m.CanBringToFront(i,o);n.OnCanBringToFrontChanged&&n.OnCanBringToFrontChanged(c);var l=o&&m.CanSendToBack(i,o);n.OnCanSendToBackChanged&&n.OnCanSendToBackChanged(l)}else n.OnCanEditChanged&&n.OnCanEditChanged(!1),n.OnCanRemoveChanged&&n.OnCanRemoveChanged(!1),n.OnCanRenameChanged&&n.OnCanRenameChanged(!1),n.OnCanBringToFrontChanged&&n.OnCanBringToFrontChanged(!1),n.OnCanBringForwardChanged&&n.OnCanBringForwardChanged(!1),n.OnCanSendToBackChanged&&n.OnCanSendToBackChanged(!1),n.OnCanSendBackwardChanged&&n.OnCanSendBackwardChanged(!1);n.OnSelectionChanged&&n.OnSelectionChanged(e)}}},function(){for(var e=0;e<u.length;e++){var t=u[e];t&&(t.OnCanUndoChanged&&t.OnCanUndoChanged(d.graphCanvasService.CanUndo()),t.OnCanRedoChanged&&t.OnCanRedoChanged(d.graphCanvasService.CanRedo()))}},p);d.graphCanvasService=e;var t=s.GetSVG(d.graphId);if(null!=t){var n=t.select("defs");n.append("marker").attr("id","ghostmarker").attr("markerWidth","7").attr("markerHeight","7").attr("refX","0").attr("refY","3").attr("orient","auto").attr("markerUnits","strokeWidth").attr("viewBox","0 0 12 12").append("path").attr("d","M0,0 L0,6 L9,3 z"),m.InitSvg(d.graphCanvasService.GetGraphService(),n)}d.isShowPan()&&d.graphCanvasService.TogglePan(),d.isShowLock()&&d.graphCanvasService.ToggleLock(),"false"==d.sitMultiSelect&&d.graphCanvasService.DisableMultiSelect()}(),m.LoadFlow(d.graphCanvasService.GetGraphService(),e.Id,e.Arguments)},100)},"true"==d.sitKeyboardShortcuts&&$(document).keydown(function(e){var t,n;89===e.which&&e.ctrlKey?null!=d.graphCanvasService&&d.graphCanvasService.CanRedo()&&(d.graphCanvasService.Redo(!1),d.$apply()):90===e.which&&e.ctrlKey?null!=d.graphCanvasService&&d.graphCanvasService.CanUndo()&&(d.graphCanvasService.Undo(!1),d.$apply()):46===e.which?null==d.graphCanvasService||d.readOnly||(n=d.graphCanvasService.GetAllSelectedCells(),d.graphCanvasService.RemoveMultipleCells(n),d.$apply()):37===e.which?null==d.graphCanvasService||d.readOnly||null!=(t=d.graphCanvasService.GetAllSelectedCells())&&(e.preventDefault(),d.graphCanvasService.MoveLeft(t),d.$apply()):38===e.which?null==d.graphCanvasService||d.readOnly||null!=(t=d.graphCanvasService.GetAllSelectedCells())&&(e.preventDefault(),d.graphCanvasService.MoveUp(t),d.$apply()):39===e.which?null==d.graphCanvasService||d.readOnly||null!=(t=d.graphCanvasService.GetAllSelectedCells())&&(e.preventDefault(),d.graphCanvasService.MoveRight(t),d.$apply()):40===e.which&&(null==d.graphCanvasService||d.readOnly||null!=(t=d.graphCanvasService.GetAllSelectedCells())&&(e.preventDefault(),d.graphCanvasService.MoveDown(t),d.$apply()))}),d.sitOnFlowReady&&d.sitOnFlowReady({sitFlowInputApi:c,sitFlowOutputApiService:l})}],link:function(e,t,n,i){i.init()}}}]),e.directive("sitFlowDroppable",[function(){return{link:function(o,e){var t=e[0];t.addEventListener("dragover",function(e){return e.dataTransfer.dropEffect="move",e.preventDefault&&e.preventDefault(),this.classList.add("over"),!1},!1),t.addEventListener("dragenter",function(e){return this.classList.add("over"),!1},!1),t.addEventListener("dragleave",function(e){return this.classList.remove("over"),!1},!1),t.addEventListener("drop",function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),this.classList.remove("over");var t=e.dataTransfer.getData("Text"),n=e.pageX-$("#"+e.currentTarget.id).offset().left+$("#"+e.currentTarget.id).scrollLeft(),i=e.pageY-$("#"+e.currentTarget.id).offset().top+$("#"+e.currentTarget.id).scrollTop();return o.handleDrop(t,n,i),!1},!1)}}}])}(),angular.module("siemens.simaticit.common.widgets.flowEditor").directive("sitFlowProperty",[function(){return{restrict:"E",transclude:!0,scope:{sitCell:"=?",sitFlowInputApi:"=?"},template:"<div class='sit-flow-propertygrid'>                        <div class='sit-flow-propertygrid-title'>Selected cell properties</div>                        <div class='sit-flow-propertygrid-propertylist'>                            <div data-ng-repeat='key in keys'>                                <div class='sit-flow-propertygrid-property'>                                    <div class='sit-flow-propertygrid-property-name'>{{key.key}}</div>                                    <div class='sit-flow-propertygrid-property-input'>                                        <input ng-model='key.value' ng-change='valueChanged(key)' ng-show='key.string'/>                                        <select ng-model='key.value' ng-options='option as option for option in [true, false]' ng-selected='{{option == key.value}}' ng-show='key.boolean' ng-change='valueChanged(key)'></select>                                        <input data-ng-model='key.value' ng-show='key.number'  data-ng-change='valueChanged(key)'></input>                                    </div>                                </div>                            </div>                        <div>                    </div> ",controller:["$scope",function(s){this.init=function(e){},s.$watch("sitCell",function(e,t){s.keys=new Array;var n=e;if(n){var i=n.EditableProps;if(i)for(var o=0;o<i.length;o++){var a=i[o],r=n[a.name];"string"==typeof r&&s.keys.push({key:a.name,value:r,string:!0}),"number"==typeof r&&s.keys.push({key:a.name,value:r,number:!0,min:a.min,max:a.max}),"boolean"==typeof r&&s.keys.push({key:a.name,value:r,boolean:!0})}}}),s.valueChanged=function(e){if(e.number){var t=parseInt(e.value,10);if(e.min&&t<e.min||e.max&&t>e.max)return;s.sitCell[e.key]=t}else s.sitCell[e.key]=e.value;s.sitFlowInputApi&&s.sitFlowInputApi.UpdateCell&&s.sitFlowInputApi.UpdateCell(s.sitCell)}}],link:function(e,t,n,i){i.init(t)}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").directive("sitFlowGraphTabs",[function(){return{restrict:"E",transclude:!0,template:"<div id='flowEditor'><ul></ul></div>",scope:{sitOnFlowTabsReady:"&?",sitActiveGraphApi:"=?",sitScenario:"="},controller:["$scope","$compile","$timeout",function(o,a,e){var r,s=0,t=[],n={Add:function(e){t.push(e)}};r=$("#flowEditor").tabs(),o.flows=new Array;var i=new Object;i.LoadFlow=function(e){var t="tab"+s;if(!function(e){for(var t=0;t<o.flows.length;t++)if(o.flows[t].Id==e)return!0;return!1}(t)){o.flows.push({Id:"#"+t});var n=(e.Id,"<div>                                    <div id='toolbarContainer' class='toolbarContainer'>                                        <sit-flow-toolbar \t                                    sit-flow-output-api-service='sitFlowTabsOutputApiService'\t                                    sit-flow-input-api='sitActiveGraphApi'\t                                    sit-show-save='false'\t                                    sit-show-edit='false'\t                                    sit-show-rename='false'></sit-flow-toolbar>                                    </div>                                    <div id='graphContainer' class='graphContainer'>                                        <sit-flow-graph-editor sit-scenario='sitScenario'\t                                    sit-on-flow-ready='flowReady(sitFlowInputApi, sitFlowOutputApiService)'                                        ></sit-flow-graph-editor>                                    </div>                                </div>"),i=a(n)(o);r.find("ul").append("<li graph="+e.Id+"><a href='#tab"+s+"'>"+e.Id+"</a></li>"),r.append("<div id='"+t+"' style='overflow:scroll'></div>"),r.tabs("refresh"),$("#tab"+s).append(i),$("#flowEditor").tabs({active:-1,activate:function(e,t){var n=function(e){for(var t=0;t<o.flows.length;t++)if(o.flows[t].Id==e)return o.flows[t].api;return null}(t.newPanel.selector);o.sitActiveGraphApi=n}}),o.flows[o.flows.length-1].api.LoadFlow({Id:e.Id,Name:e.Name}),s++}},o.flowReady=function(e,t){o.flows[o.flows.length-1].api=e},o.sitOnFlowTabsReady&&o.sitOnFlowTabsReady({sitFlowTabsInputApi:i,sitFlowTabsOutputApiService:n})}]}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").directive("sitFlowToolbar",[function(){return{restrict:"E",transclude:!0,scope:{sitFlowOutputApiService:"=?",sitFlowInputApi:"=?",sitShowPan:"@?",sitShowGrid:"@?",sitShowSnap:"@?",sitShowEdit:"=?",sitShowRename:"@?",sitShowRemove:"=?",sitShowBringToFront:"=?",sitShowBringForward:"=?",sitShowSendToBack:"=?",sitShowSendBackward:"=?",sitShowUndoRedo:"=?",sitShowZoom:"@?",sitShowSave:"=?",sitShowAutogenerate:"=?",sitShowRefresh:"=?",sitShowSettings:"=?",readOnly:"=?",bigBlockId:"=?"},templateUrl:"common/widgets/flow/directives/toolbar.html",controller:["$scope",function(t){t.$watch("sitShowPan",function(){null==t.sitShowPan?t.sitShowPan=!0:"true"==t.sitShowPan?t.sitShowPan=!0:"false"==t.sitShowPan&&(t.sitShowPan=!1)}),t.$watch("sitShowGrid",function(){null==t.sitShowGrid?t.sitShowGrid=!0:"true"==t.sitShowGrid?t.sitShowGrid=!0:"false"==t.sitShowGrid&&(t.sitShowGrid=!1)}),t.$watch("sitShowSnap",function(){null==t.sitShowSnap?t.sitShowSnap=!0:"true"==t.sitShowSnap?t.sitShowSnap=!0:"false"==t.sitShowSnap&&(t.sitShowSnap=!1)}),t.$watch("sitShowEdit",function(){null==t.sitShowEdit?t.sitShowEdit=!0:"true"==t.sitShowEdit?t.sitShowEdit=!0:"false"==t.sitShowEdit&&(t.sitShowEdit=!1)}),t.$watch("sitShowRename",function(){null==t.sitShowRename?t.sitShowRename=!0:"true"==t.sitShowRename?t.sitShowRename=!0:"false"==t.sitShowRename&&(t.sitShowRename=!1)}),t.$watch("sitShowRemove",function(){null==t.sitShowRemove?t.sitShowRemove=!0:"true"==t.sitShowRemove?t.sitShowRemove=!0:"false"==t.sitShowRemove&&(t.sitShowRemove=!1)}),t.$watch("sitShowBringToFront",function(){null==t.sitShowBringToFront?t.sitShowBringToFront=!0:"true"==t.sitShowBringToFront?t.sitShowBringToFront=!0:"false"==t.sitShowBringToFront&&(t.sitShowBringToFront=!1)}),t.$watch("sitShowBringForward",function(){null==t.sitShowBringForward?t.sitShowBringForward=!0:"true"==t.sitShowBringForward?t.sitShowBringForward=!0:"false"==t.sitShowBringForward&&(t.sitShowBringForward=!1)}),t.$watch("sitShowSendToBack",function(){null==t.sitShowSendToBack?t.sitShowSendToBack=!0:"true"==t.sitShowSendToBack?t.sitShowSendToBack=!0:"false"==t.sitShowSendToBack&&(t.sitShowSendToBack=!1)}),t.$watch("sitShowSendBackward",function(){null==t.sitShowSendBackward?t.sitShowSendBackward=!0:"true"==t.sitShowSendBackward?t.sitShowSendBackward=!0:"false"==t.sitShowSendBackward&&(t.sitShowSendBackward=!1)}),t.$watch("sitShowUndoRedo",function(){null==t.sitShowUndoRedo?t.sitShowUndoRedo=!0:"true"==t.sitShowUndoRedo?t.sitShowUndoRedo=!0:"false"==t.sitShowUndoRedo&&(t.sitShowUndoRedo=!1)}),t.$watch("sitShowZoom",function(){null==t.sitShowZoom?t.sitShowZoom=!0:"true"==t.sitShowZoom?t.sitShowZoom=!0:"false"==t.sitShowZoom&&(t.sitShowZoom=!1)}),t.$watch("sitShowSave",function(){null==t.sitShowSave?t.sitShowSave=!0:"true"==t.sitShowSave?t.sitShowSave=!0:"false"==t.sitShowSave&&(t.sitShowSave=!1)}),t.$watch("sitShowAutogenerate",function(){null==t.sitShowAutogenerate?t.sitShowAutogenerate=!0:"true"==t.sitShowAutogenerate?t.sitShowAutogenerate=!0:"false"==t.sitShowAutogenerate&&(t.sitShowAutogenerate=!1)}),t.$watch("sitShowRefresh",function(){null==t.sitShowRefresh?t.sitShowRefresh=!0:"true"==t.sitShowRefresh?t.sitShowRefresh=!0:"false"==t.sitShowRefresh&&(t.sitShowRefresh=!1)}),t.$watch("sitFlowOutputApiService",function(){t.sitFlowOutputApiService&&t.sitFlowOutputApiService.Add({OnCanRedoChanged:function(e){t.canRedo=t.sitShowUndoRedo&&e},OnCanUndoChanged:function(e){t.canUndo=t.sitShowUndoRedo&&e},OnCanEditChanged:function(e){t.canEdit=t.sitShowEdit&&e},OnCanRemoveChanged:function(e){t.canRemove=t.sitShowRemove&&e},OnCanBringToFrontChanged:function(e){t.canBringToFront=t.sitShowBringToFront&&e},OnCanSendToBackChanged:function(e){t.canSendToBack=t.sitShowSendToBack&&e},OnCanRenameChanged:function(e){t.canRename=t.sitShowRename&&e}})}),this.init=function(e){},t.snapChecked=!0,t.gridChecked=!t.readOnly,t.panChecked=!1,t.toggleGrid=function(){t.sitFlowInputApi&&t.sitFlowInputApi.ToggleGrid&&t.sitFlowInputApi.ToggleGrid(),t.gridChecked=!t.gridChecked},t.toggleSnap=function(){t.sitFlowInputApi&&t.sitFlowInputApi.ToggleSnap&&t.sitFlowInputApi.ToggleSnap(),t.snapChecked=!t.snapChecked},t.rename=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Rename&&t.sitFlowInputApi.Rename()},t.undo=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Undo&&t.sitFlowInputApi.Undo()},t.redo=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Redo&&t.sitFlowInputApi.Redo()},t.togglePan=function(){t.sitFlowInputApi&&t.sitFlowInputApi.TogglePan&&t.sitFlowInputApi.TogglePan(),t.panChecked=!t.panChecked},t.zoomin=function(){t.sitFlowInputApi&&t.sitFlowInputApi.ZoomIn&&t.sitFlowInputApi.ZoomIn()},t.zoomout=function(){t.sitFlowInputApi&&t.sitFlowInputApi.ZoomOut&&t.sitFlowInputApi.ZoomOut()},t.zoomreset=function(){t.sitFlowInputApi&&t.sitFlowInputApi.ZoomReset&&t.sitFlowInputApi.ZoomReset()},t.zoomfit=function(){t.sitFlowInputApi&&t.sitFlowInputApi.ZoomFit&&t.sitFlowInputApi.ZoomFit()},t.remove=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Remove&&t.sitFlowInputApi.Remove()},t.bringToFront=function(){t.sitFlowInputApi&&t.sitFlowInputApi.bringToFront&&t.sitFlowInputApi.bringToFront()},t.bringForward=function(){t.sitFlowInputApi&&t.sitFlowInputApi.bringForward&&t.sitFlowInputApi.bringForward()},t.sendToBack=function(){t.sitFlowInputApi&&t.sitFlowInputApi.sendToBack&&t.sitFlowInputApi.sendToBack()},t.sendBackward=function(){t.sitFlowInputApi&&t.sitFlowInputApi.sendBackward&&t.sitFlowInputApi.sendBackward()},t.rename=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Rename&&t.sitFlowInputApi.Rename()},t.edit=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Edit&&t.sitFlowInputApi.Edit()},t.save=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Save&&t.sitFlowInputApi.Save()},t.refresh=function(){t.sitFlowInputApi&&t.sitFlowInputApi.Refresh&&t.sitFlowInputApi.Refresh()},t.editSettings=function(){t.sitFlowInputApi&&t.sitFlowInputApi.EditSettings&&t.sitFlowInputApi.EditSettings()}}],link:function(e,t,n,i){i.init(t)}}}]),function(){var e=angular.module("siemens.simaticit.common.widgets.flowEditor");e.directive("sitFlowToolbox",[function(){return{restrict:"E",scope:{sitScenario:"=",sitTitle:"@?",sitMode:"@?"},templateUrl:"common/widgets/flow/directives/toolbox.html",controller:["$scope","siemens.simaticit.common.widgets.flowEditor.services.PluginService",function(o,a){var r;null==o.sitMode&&(o.sitMode="tiles"),"tiles"!=o.sitMode&&"list"!=o.sitMode&&(o.sitMode="tiles"),this.init=function(e){a.setScenario(o.sitScenario);var t={};if(r=a.GetVertexes()){for(var n=0;n<r.length;n++){var i=new r[n];t[i.Group]||(t[i.Group]=[]),t[i.Group].push(i)}o.blocks=t}},o.switchMode=function(){"tiles"==o.sitMode?o.sitMode="list":o.sitMode="tiles"}}],link:function(e,t,n,i){i.init(t)}}}]),e.directive("sitFlowToolboxDragOnClick",["$rootScope",function(o){return{restrict:"A",link:function(t,e,n,i){d3.select(e[0]).on("mouseup",function(){var e=t.item;o.$broadcast("drop",{type:e.Type})})}}}]),e.directive("sitFlowToolboxIcon",[function(){return{restrict:"A",link:function(e,t,n,i){var o,a,r,s,c,l,d,m=e.item,u=d3.select(t[0]);a=!(o=40),r=u,s=d3.scale.linear().domain([0,Math.max(m.Width,m.Height)]).range([0,o]),c=s(m.Width)-2,l=s(m.Height)-2,d=r.append("svg").attr("width",o).attr("height",o),m.Width=c,m.Height=l,m.Draw(d,!0,a)}}}]),e.directive("sitFlowToolboxDraggable",function(){return function(e,t){var n=t[0];n.draggable=!0,n.addEventListener("dragstart",function(e){var t=this.attributes.id.value;return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("Text",t),!(e.target.style.opacity=.5)},!1),n.addEventListener("dragend",function(e){return!(e.target.style.opacity=1)},!1)}})}(),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.APIService",["$log","siemens.simaticit.common.widgets.flowEditor.model.Vertex",function(e,a){var r;function s(e,t){for(var n=0;n<e.length;n++)if(e[n].Id==t)return e[n];return null}function i(e,t){if(r[t.Type]){var n=new r[t.Type];null!=n&&(n.Id=t.Id,n.NId=t.NId,n.X=t.X,n.Y=t.Y,n.BusinessObject=t.BusinessObject,t.Width&&(n.Width=t.Width),t.Height&&(n.Height=t.Height),t.Label&&(n.Label=t.Label),n.Outgoing=[],n.Incoming=[],e.AddCell(n,null,!0))}}function o(e,t){if(r[t.Type]){var n=new r[t.Type];if(null!=n){n.Id=t.Id,n.NId=t.NId,n.SourcePos=t.SourcePos,n.TargetPos=t.TargetPos,n.LabelX=t.LabelX,n.LabelY=t.LabelY,n.LabelHeight=t.LabelHeight,n.BusinessObject=t.BusinessObject;var i=s(e.Cells,t.Source),o=s(e.Cells,t.Target);n.Points=_.map(t.Points,function(e){return{x:e.X,y:e.Y}}),null!=i&&null!=o&&(n.Label=t.Label,t.Color&&(n.Color=t.Color),e.AddEdge(n,i,o,!0,n.Points))}}}function c(e,t){var n=s(e.Cells,t);n&&(n.OnRemove&&n.OnRemove(),e.RemoveVertex(n,!0))}return{Load:function(e,t){var n;for(e.StartSession(),new Array,n=0;n<t.vertexes.length;n++)i(e,t.vertexes[n]);for(n=0;n<t.edges.length;n++)o(e,t.edges[n]);e.EndSession()},InitCellMap:function(e){var t=e.GetVertexes(),n=e.GetEdges();r={};for(var i=t.concat(n),o=0;o<i.length;o++){var a=new i[o];r[a.Type]=i[o]}return r},AddVertex:function(e,t){e.StartSession(),i(e,t),e.EndSession()},AddEdge:function(e,t){e.StartSession(),o(e,t),e.EndSession()},EditVertex:function(e,t){var n,i,o;e.StartSession(),i=t,(o=s((n=e).Cells,i.Id))&&(o.X=i.X,o.Y=i.Y,i.Width&&(o.Width=i.Width),i.Height&&(o.Height=i.Height),i.Label&&(o.Label=i.Label),n.UpdateVertex(o,!0)),e.EndSession()},EditEdge:function(e,t){var n,i,o;e.StartSession(),i=t,(o=s((n=e).Cells,i.Id))&&(i.Label&&(o.Label=i.Label),i.Color&&(o.Color=i.Color),n.UpdateCell(o,!0)),e.EndSession()},RemoveVertex:function(e,t){e.StartSession(),c(e,t),e.EndSession()},RemoveEdge:function(e,t){var n,i,o;e.StartSession(),i=t,(o=s((n=e).Cells,i))&&(o.OnRemove&&o.OnRemove(),n.RemoveEdge(o,!0)),e.EndSession()},Save:function(e){for(var t=[],n=[],i=0;i<e.Cells.length;i++){var o=e.Cells[i];o instanceof a?t.push({Id:o.Id,X:o.X,Y:o.Y,Label:o.Label}):n.push({Id:o.Id,Source:o.Source.Id,Target:o.Target.Id,Label:o.Target.Id,Color:o.Target.Id})}return{edges:n,vertexes:t}},Clear:function(e){e.StartSession();for(var t=[],n=0;n<e.Cells.length;n++)e.Cells[n]instanceof a&&t.push(e.Cells[n].Id);for(n=0;n<t.length;n++)c(e,t[n]);e.EndSession()}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.AnchorService",["$log","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(I,k,E,O,P){return function(C,b,w,o){var n,S,x,$=.001,R=$*$;function A(e,t,n,i,o,a){return(e-o)*(i-a)-(n-o)*(t-a)}function M(e,t,n,i,o,a){var r=(n-e)*(n-e)+(i-t)*(i-t),s=((o-e)*(n-e)+(a-t)*(i-t))/r;return s<0?(o-e)*(o-e)+(a-t)*(a-t):s<=1?(e-o)*(e-o)+(t-a)*(t-a)-s*s*r:(o-n)*(o-n)+(a-i)*(a-i)}function T(e,t,n,i,o,a,r,s){return c=e,l=t,d=n,m=i,u=o,p=a,g=r,f=s,h=Math.min(c,Math.min(d,u))-$,v=Math.max(c,Math.max(d,u))+$,y=Math.min(l,Math.min(m,p))-$,C=Math.max(l,Math.max(m,p))+$,!(g<h||v<g||f<y||C<f)&&(T=o,I=a,O=0<=A(b=e,w=t,S=n,x=i,k=r,E=s),P=0<=A(S,x,T,I,k,E),D=0<=A(T,I,b,w,k,E),!!(O&&P&&D)||M(e,t,n,i,r,s)<=R||M(n,i,o,a,r,s)<=R||M(o,a,e,t,r,s)<=R);var c,l,d,m,u,p,g,f,h,v,y,C,b,w,S,x,T,I,k,E,O,P,D}function r(){if(!d3.event.sourceEvent.ctrlKey){var e=E.GetVertexIdFromNode(this);S=C.GetCellById(e),n=E.GetMainCanvasMousePosition(b),x=!0;var t="";t=n[0]<S.X?"left":n[1]<S.Y?"top":n[1]>S.Y+S.Height?"bottom":"right",S._pos=t,I.debug("[draganchorstart] executed for cell "+S.Id),document.body.style.cursor="alias",d3.event.sourceEvent.stopPropagation()}}function s(){if(x){var e=E.GetMainCanvasMousePosition(b);O.RemoveGhost(),O.AddGhost(b,n[0],n[1],e[0],e[1],w.graphId),I.debug("[draganchormove] executed"),document.body.style.cursor="alias",d3.event.sourceEvent.stopPropagation()}}function c(){if(x){var e=E.GetMainCanvasMousePosition(b),t=e[0],n=e[1],i=E.GetVertexFromPoint(b,t,n);if(null!=i.node()){var o=E.GetId(i);if(null!=o){var a=C.GetCellById(o),r=a.X+a.Width/2,s=a.Y+a.Height/2,c=a.X-P.resizeRectDimension,l=a.Y-P.resizeRectDimension,d=a.X-P.resizeRectDimension+(a.Width+2*P.resizeRectDimension),m=a.Y-P.resizeRectDimension,u=a.X-P.resizeRectDimension+(a.Width+2*P.resizeRectDimension),p=a.Y-P.resizeRectDimension+(a.Height+2*P.resizeRectDimension),g=a.X-P.resizeRectDimension,f=a.Y-P.resizeRectDimension+(a.Height+2*P.resizeRectDimension),h="left";T(c,l,d,m,r,s,t,n)?h="top":T(r,s,d,m,u,p,t,n)?h="right":T(g,f,r,s,u,p,t,n)&&(h="bottom"),a._pos=h;var v=a.MaxIn&&a.MaxIn>a.Incoming.length||-1==a.MaxIn,y=k.CanLink(C,S,a);v&&y&&k.AddEdge(C,S,a)}I.debug("[draganchorend] executed for cell "+a.Id)}O.RemoveGhost(),w.$apply(),x=!1,document.body.style.cursor="auto",d3.event.sourceEvent.stopPropagation()}}function l(e){d3.event.ctrlKey&&t("right",this)}function d(e){d3.event.ctrlKey&&t("bottom",this)}function m(e){d3.event.ctrlKey&&t("left",this)}function u(e){d3.event.ctrlKey&&t("top",this)}function t(e,t){var n=E.GetVertexIdFromNode(t),i=C.GetCellById(n);o({cell:i,direction:e})}this.IsLinking=function(){return x},this.GetStartCell=function(){return S},this.AttachAnchorEvents=function(e){var t=d3.behavior.drag();if(t.on("dragstart",r).on("drag",s).on("dragend",c),e.DrawAnchor)E.GetCustomAnchor(e.Id).call(t);else{var n=E.GetRightAnchor(e.Id);n.call(t);var i=E.GetBottomAnchor(e.Id);i.call(t);var o=E.GetLeftAnchor(e.Id);o.call(t);var a=E.GetTopAnchor(e.Id);a.call(t),w.isConnectAndClone()&&(n.on("mouseup",l),i.on("mouseup",d),o.on("mouseup",m),a.on("mouseup",u))}}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.ClickService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService",function(r,e,t,s){return function(i,e,o,t,n){this.AttachClickOnCanvas=function(){},this.AttachVertexClickEvent=function(e){var t=s.GetVertexOuterPh(e.Id);r.debug("[AttachVertexClickEvent] executed for cell "+e.Id);var n=function(){d3.event.stopPropagation()};t.on("wheel.zoom",n).on("mousewheel.zoom",n).on("DOMMouseScroll.zoom",n)};var a=function(){var e=d3.select(this),t=s.GetId(e);if(null!=t){var n=i.GetCellById(t);o.ClearSelection(),o.Select(n),d3.event.stopPropagation()}r.debug("[click] executed for cell "+n.Id)};this.AttachEdgeClickEvent=function(e){var t=s.GetEdge(e.Id);t.on("click",a),t.on("mouseover",function(){document.body.style.cursor="pointer",e.focus&&e.IsSelected&&(void 0===e.Movable||1==e.Movable)&&(!0!==e._active&&e.focus(d3.mouse(this)),e._active=!0)}),t.on("mousemove",function(){e.move&&e.IsSelected&&(void 0===e.Movable||1==e.Movable)&&!0===e._active&&e.move(d3.mouse(this),e)}),t.on("mouseout",function(){document.body.style.cursor="auto"}),r.debug("[AttachEdgeClickEvent] executed for cell "+e.Id)}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.ContextMenuService",["$log","$rootScope","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.model.Vertex","siemens.simaticit.common.widgets.flowEditor.model.Edge",function(u,p,g,f,h,v,e){return function(e,t,n,i){this.attachContextMenuEvents=function(l,d,m){h.getContextMenuButtons(l.Id).forEach(function(e,c){e.on("click",function(e){setTimeout(function(){if($("#workflow-context-menu").css({display:"none"}),l.ContextMenu[c].onClick)if("string"==typeof l.ContextMenu[c].onClick){if(f.OnContextAction(d,l,l.ContextMenu[c].onClick),"edit"===l.ContextMenu[c].onClick)f.EditVertex(d,l);else if("delete"===l.ContextMenu[c].onClick)l.IsSelected=!1,l instanceof v?f.RemoveVertex(d,l):f.RemoveEdge(d,l),p.$broadcast("siemens.simaticit.common.widgets.flowEditor.deleteCell",{deletedCell:l});else if("rename"===l.ContextMenu[c].onClick){var e=h.GetVertexOuterPh(l.Id);null===e[0][0]&&(e=h.GetSelRect(l.Id)),l.Height,g.innerPlaceholderGap,g.innerPlaceholderGap,l.Width;var t=$("#_rename"),n=$("#_rename_text");t.css({"min-height":e[0][0].getAttribute("height")+"px",height:"auto",width:e[0][0].getAttribute("width")+"px",left:e[0][0].getAttribute("x")+"px",top:e[0][0].getAttribute("y")+"px"});var i=l.Label;i&&n.html(i.replace(/\n/g,"<br>")),n.one("focus",function(){var e,t;document.body.createTextRange?((e=document.body.createTextRange()).moveToElementText(this),e.select()):window.getSelection&&(t=window.getSelection(),(e=document.createRange()).selectNodeContents(this),t.removeAllRanges(),t.addRange(e))}),n.focus().select(),n.one("blur",function(){l.Label=n[0].innerText,t.css({height:0,width:0,left:"-5px",top:"-5px"}),n.text(""),f.RenameCell(d,l,i),d.UpdateCell(l),d.UpdateCell(l),l.Outgoing[0].length&&d.UpdateCell(l.Outgoing[0]),m.$apply()}),h.GetRenameButton(l.Id).transition().duration(300).style("opacity",0),u.debug("[click] executed for cell "+l.Id)}else if("action"===l.ContextMenu[c].onClick)f.ContextAction(d,l);else if("transform"===l.ContextMenu[c].onClick){var o=(e=h.GetVertexOuterPh(l.Id))[0][0].getBoundingClientRect(),a=e[0][0].parentNode.parentNode.getBoundingClientRect();t=$("#workflow-context-menu");var r=o.right-a.left-2*g.innerPlaceholderGap,s=o.bottom-a.top-2*g.innerPlaceholderGap;t.css({display:"block",left:r+"px",top:s+"px"}),f.scenario.sitFlowInputApi.transformProtoData=l.TransformList,f.scenario.sitFlowInputApi.transformVertexId=_.clone(l.Id),u.debug("[click] executed for cell "+l.Id)}}else"function"==typeof l.ContextMenu[c].onClick&&l.ContextMenu[c].onClick(l,l.ContextMenu[c].name)}),h.GetConfigButton(l.Id).transition().duration(300).style("opacity",0),u.debug("[click] executed for cell "+l.Id)}),u.debug("[AttachRenameEvent] executed for cell "+l.Id)})}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.GeometryService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,t){this.flowConstants=t,this.GetOuterCorners=function(e){var t=new Object;return t.TopLeft={x:e.X,y:e.Y},t.TopRight={x:e.X+e.Width,y:e.Y},t.BottomLeft={x:e.X,y:e.Y+e.Height},t.BottomRight={x:e.X+e.Width,y:e.Y+e.Height},t},this.GetInnerCorners=function(e){var t=new Object;return t.TopLeft={x:e.X+this.flowConstants.selectionRectGap,y:e.Y+this.flowConstants.selectionRectGap},t.TopRight={x:e.X+e.Width-this.flowConstants.selectionRectGap,y:e.Y+this.flowConstants.selectionRectGap},t.BottomLeft={x:e.X+this.flowConstants.selectionRectGap,y:e.Y-this.flowConstants.selectionRectGap+e.Height},t.BottomRight={x:e.X+e.Width-this.flowConstants.selectionRectGap,y:e.Y-this.flowConstants.selectionRectGap+e.Height},t},this.GetOuterMiddlePoints=function(e){var t=new Object;return t.Top={x:e.X+e.Width/2,y:e.Y},t.Bottom={x:e.X+e.Width/2,y:e.Y+e.Height},t.Left={x:e.X,y:e.Y+e.Height/2},t.Right={x:e.X+e.Width,y:e.Y+e.Height/2},t},this.GetInnerMiddlePoints=function(e){var t=new Object;return t.Top={x:e.X+e.Width/2,y:e.Y},t.Bottom={x:e.X+e.Width/2,y:e.Y+e.Height},t.Left={x:e.X,y:e.Y+e.Height/2},t.Right={x:e.X+e.Width,y:e.Y+e.Height/2},t},this.GetPoints=function(e){var t=new Object;return t.OuterCorners=this.GetOuterCorners(e),t.InnerCorners=this.GetInnerCorners(e),t.OuterMiddles=this.GetOuterMiddlePoints(e),t.InnerMiddles=this.GetInnerMiddlePoints(e),t.Middle={x:e.X+e.Width/2,y:e.Y+e.Height/2},t},this.pointOnRect=function(e,t,n,i,o,a,r){if(r&&n<=e&&e<=o&&i<=t&&t<=a)throw"Point "+[e,t]+"cannot be inside the rectangle: "+[i,i]+" - "+[o,a]+".";var s=(n+o)/2,c=(i+a)/2,l=(c-t)/(s-e);if(e<=s){var d=l*(n-e)+t;if(i<d&&d<a)return{x:n,y:d}}if(s<=e){var m=l*(o-e)+t;if(i<m&&m<a)return{x:o,y:m}}if(t<=c){var u=(i-t)/l+e;if(n<u&&u<o)return{x:u,y:i}}if(c<=t){var p=(a-t)/l+e;if(n<p&&p<o)return{x:p,y:a}}},this.rounded_rect=function(e,t,n,i,o,a,r,s,c){var l;return l="M"+(e+o)+","+t,l+="h"+(n-2*o),r?l+="a"+o+","+o+" 0 0 1 "+o+","+o:(l+="h"+o,l+="v"+o),l+="v"+(i-2*o),c?l+="a"+o+","+o+" 0 0 1 "+-o+","+o:(l+="v"+o,l+="h"+-o),l+="h"+(2*o-n),s?l+="a"+o+","+o+" 0 0 1 "+-o+","+-o:(l+="h"+-o,l+="v"+-o),l+="v"+(2*o-i),a?l+="a"+o+","+o+" 0 0 1 "+o+","+-o:(l+="v"+-o,l+="h"+o),l+="z"}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.GraphCanvasService",["$log","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.services.GraphService","siemens.simaticit.common.widgets.flowEditor.services.SelectionService","siemens.simaticit.common.widgets.flowEditor.services.SVGPlaceholderService","siemens.simaticit.common.widgets.flowEditor.model.Vertex","siemens.simaticit.common.widgets.flowEditor.model.Edge","siemens.simaticit.common.widgets.flowEditor.services.ToolsService","siemens.simaticit.common.widgets.flowEditor.services.ResizeService","siemens.simaticit.common.widgets.flowEditor.services.MoveService","siemens.simaticit.common.widgets.flowEditor.services.GroupSelectionService","siemens.simaticit.common.widgets.flowEditor.services.MouseOverService","siemens.simaticit.common.widgets.flowEditor.services.ClickService","siemens.simaticit.common.widgets.flowEditor.services.AnchorService","siemens.simaticit.common.widgets.flowEditor.services.PanZoomService","siemens.simaticit.common.widgets.flowEditor.services.SharingService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService","siemens.simaticit.common.widgets.flowEditor.services.SVGDebugService","siemens.simaticit.common.widgets.flowEditor.services.SVGGridService","siemens.simaticit.common.widgets.flowEditor.services.SVGContextMenuService","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.services.ContextMenuService","siemens.simaticit.common.widgets.flowEditor.services.SVGIconService","siemens.simaticit.common.widgets.flowEditor.services.SVGLabelService","siemens.simaticit.common.widgets.flowEditor.services.IconService",function(e,x,v,T,I,k,t,E,O,P,D,R,A,M,F,N,B,G,V,L,z,U,j,q,W,_,H){return String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),function(y,e,t,n){var C=x.GetVertexes();U.initialHeight=6*$("#graphContainer").height(),U.initialWidth=6*$("#graphContainer").width();var i=B.GetSVG(y.graphId).attr({width:U.initialWidth,height:U.initialHeight});i.append("g").attr({id:j.grid+y.graphId}),i.append("g").attr({id:j.canvas+y.graphId}).append("g").attr({id:j.after});var d=B.GetMainCanvas(y.graphId);i=B.GetSVG(y.graphId);var o,m=new T(y,e);i.on("mouseenter",function(){o=!0}),i.on("mouseleave",function(){o=!1}),this.SelectCells=function(e){m.SetSelected(e)},this.ClearSelection=function(){w.ClearSelection()},this.ToggleGrid=function(){w.ShowGrid=!w.ShowGrid,w.ShowGrid?L.AddGrid(y.graphId,S.GetScale()):L.RemoveGrid(y.graphId,S.GetScale())},this.TogglePan=function(){w.ShowPan=!w.ShowPan,w.ShowPan?S.AddPan(y.graphId):S.RemovePan(y.graphId)},this.ToggleReadOnly=function(){b.IsReadOnly=!b.IsReadOnly},this.ToggleLock=function(){w.ShowPan=!w.ShowPan,w.ShowPan?S.AddPan(y.graphId):S.RemovePan(y.graphId),b.IsReadOnly=w.ShowPan},this.ToggleSnap=function(){w.SnapToGrid=!w.SnapToGrid},this.CanUndo=function(){return b.UndoRedoService.CanUndo()},this.CanRedo=function(){return b.UndoRedoService.CanRedo()},this.ZoomIn=function(){S.ZoomIn()},this.ZoomOut=function(){S.ZoomOut()},this.ZoomReset=function(){S.ZoomReset()},this.ZoomFit=function(){S.ZoomFit(b)},this.ClearUndoRedo=function(){b.UndoRedoService.Clear()},this.Undo=function(e){if(o||e)return b.UndoRedoService.Undo()},this.Redo=function(e){if(o||e)return b.UndoRedoService.Redo()},this.IsReadOnly=function(){return b.IsReadOnly},this.DisableMultiSelect=function(){b.IsMultiSelectable=!1},this.EnableMultiSelect=function(){b.IsMultiSelectable=!0},this.GetGraphService=function(){return b},this.RemoveCell=function(e){w.ClearSelection(),e instanceof k?x.RemoveVertex(b,e):x.RemoveEdge(b,e)};var a=function(e){for(var t=0;t<e.length;t++){var n=e[t];B.MoveOnTop(n,d),n.CanHaveChildren&&a(n.Children)}};this.BringCellsToFront=function(e){for(var t=0;t<e.length;t++){var n=e[t];n instanceof k&&(b.BringModelCellsToFront(n),n.Parent&&a(n.Parent.Children))}a(b.Cells)},this.SendCellsToBack=function(e){for(var t=0;t<e.length;t++){var n=e[t];n instanceof k&&(b.SendModelCellsToBack(n),n.Parent&&a(n.Parent.Children))}a(b.Cells)},this.BringCellsForward=function(e){for(var t=0;t<e.length;t++){var n=e[t];n instanceof k&&(b.BringModelCellsForward(n),n.Parent&&a(n.Parent.Children))}a(b.Cells)},this.SendCellsBackward=function(e){for(var t=0;t<e.length;t++){var n=e[t];n instanceof k&&(b.SendModelCellsBackward(n),n.Parent&&a(n.Parent.Children))}a(b.Cells)},this.RemoveMultipleCells=function(e){w.ClearSelection();for(var t=[],n=[],i=0;i<e.length;i++){var o=e[i];o instanceof k?t.push(o):n.push(o)}1==t.length&&x.RemoveVertex(b,t[0]),1==n.length&&x.RemoveEdge(b,n[0]),1<t.length&&x.RemoveMultipleVertex(b,t),n.length},this.EditCells=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i instanceof k?t.push(i):x.EditEdge(b,i)}1==e.length?x.EditVertex(b,e[0]):x.EditMultipleVertex(b,t)},this.EditCell=function(e){e instanceof k?x.EditVertex(b,e):x.EditEdge(b,e)},this.UpdateCell=function(e){b.UpdateCell(e)},this.GetCells=function(){return b.Cells},this.GetSelectedCells=function(){return w.GetSelectedCells()},this.GetAllSelectedCells=function(){return w.GetAllSelectedCells()},this.Save=function(){x.Save(b)},this.Refresh=function(){x.Refresh(b)},this.AutoGenerate=function(){x.AutoGenerate(b)},this.AutoGenerateAll=function(){x.AutoGenerateAll(b)},this.EditSettings=function(){x.EditSettings(b)},this.Drop=function(e,t,n,i){for(var o,a,r,s=0;s<C.length;s++)if((r=new(a=C[s])).Type==e){o=a;break}var c,l,d=S.GetScaledPosition(t,n),m=r.Width/2+U.innerPlaceholderGap,u=r.Height/2+U.innerPlaceholderGap;c=d.x-m<0?m:d.x,l=d.y-u<0?u:d.y,c-=r.Width/2,l-=r.Height/2;var p=B.GetCandidateChildren(b,c,l,r.Width,r.Height),g=B.GetCandidateParent(b,c,l,r.Width,r.Height);(t=parseInt(d.x,10))<0&&(t=0),(n=parseInt(d.y,10))<0&&(n=0);var f=w.SnapOnMove(t,n),h=f[0],v=f[1];o&&x.AddVertex(b,h,v,o,g,p),y.$apply()},this.MoveUp=function(e){for(var t=0;t<e.length;t++){var n=e[t];u.moveStart(n),n.endX=n.X-U.innerPlaceholderGap,n.endY=n.Y-5-U.innerPlaceholderGap,n.startX=n.X,n.startY=n.Y,n.offsetX=0,n.offsetY=-5}u.moveEndwithArrow()},this.MoveDown=function(e){for(var t=0;t<e.length;t++){var n=e[t];u.moveStart(n),n.endX=n.X-U.innerPlaceholderGap,n.endY=n.Y+5-U.innerPlaceholderGap,n.endY<5&&(n.endY=5),n.startX=n.X,n.startY=n.Y,n.offsetX=0,n.offsetY=5}u.moveEndwithArrow()},this.MoveLeft=function(e){for(var t=0;t<e.length;t++){var n=e[t];u.moveStart(n),n.endX=n.X-5-U.innerPlaceholderGap,n.endX<5&&(n.endX=5),n.endY=n.Y-U.innerPlaceholderGap,n.startX=n.X,n.startY=n.Y,n.offsetX=-5,n.offsetY=0}u.moveEndwithArrow()},this.MoveRight=function(e){for(var t=0;t<e.length;t++){var n=e[t];u.moveStart(n),n.endX=n.X+5-U.innerPlaceholderGap,n.endY=n.Y-U.innerPlaceholderGap,n.startX=n.X,n.startY=n.Y,n.offsetX=5,n.offsetY=0}u.moveEndwithArrow()};var r=function(e){I.CreatePlaceholder(d,e),b.IsReadOnly||(u.AttachDragDropEvents(e),p.AttachMouseOverEvents(e),s.AttachResizeEvent(e)),x.DrawVertex(e),b.IsReadOnly||(G.AppendAnchor(e,y.isConnectAndClone()),z.addContextMenuButtons(e),W.addIconButtons(e),_.addLabel(e),h.attachIconEvents(e),c.AttachAnchorEvents(e),f.attachContextMenuEvents(e,b,y)),b.IsMultiSelectable&&l.AttachCanvasDragEvents(i)},b=new v(y,function(e,t,n){!function(e){for(var t=0;t<e.length;t++){var n=e[t];n instanceof k?n.Init?n.Init(r):r(n):(x.DrawEdge(n,d),g.AttachEdgeClickEvent(n),u.AttachDragDropEventsEdge(n),p.AttachMouseOverEventsEdge(n),z.addContextMenuButtons(n),W.addIconButtons(n),_.addLabel(n),h.attachIconEvents(n),f.attachContextMenuEvents(n,b,y))}}(e),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n instanceof k){I.CleanPlaceholder(n);var i=B.GetPlaceholder(n.Id);i&&null!=i[0][0]&&(i.html(""),I.UpdatePlaceholder(n),x.DrawVertex(n,i),z.addContextMenuButtons(n),W.addIconButtons(n),_.addLabel(n),h.attachIconEvents(n),f.attachContextMenuEvents(n,b,y))}else{var o=B.GetEdge(n.Id),a=B.GetSelRect(n.Id),r=B.GetSelEdgeLabel(n.Id),s=B.GetSelEdgeToken(n.Id),c=B.GetEdgeWaypoints(n.Id);r.remove(r),o.remove(o),a.remove(a),s.remove(s),c.remove(c),o.html("");var l=B.GetEdgeRoutePoints(n.Id);l.remove(l),o=x.DrawEdge(n,d),g.AttachEdgeClickEvent(n),u.AttachDragDropEventsEdge(n),p.AttachMouseOverEventsEdge(n),z.addContextMenuButtons(n),W.addIconButtons(n),_.addLabel(n),h.attachIconEvents(n),f.attachContextMenuEvents(n,b,y),n.IsSelected&&(n.IsSelected=!1,m.SetSelected([n]))}}}(t),function(e){for(var t,n=0;n<e.length;n++){var i=e[n];if(i instanceof k)t=B.GetVertexOuterPh(i.Id),N.Debug&&V.RemoveDebugElements(i),t.remove();else{t=B.GetEdge(i.Id);var o=B.GetEdgeRoutePoints(i.Id),a=B.GetSelRect(i.Id);a.remove(a);var r=B.GetEdgeWaypoints(i.Id);r.remove(r);var s=B.GetSelEdgeLabel(i.Id);s.remove(s);var c=B.GetSelEdgeToken(i.Id);c.remove(c),o.remove(),t.remove()}}}(n)},d,t),w=new E(b,m,d,y),S=new F(b,d,y,w),s=new O(b,d,w),u=new P(b,d,w,S),c=new M(b,d,y,n),p=new R(b,s,u,c,d),g=new A(b,B.GetSVG(y.graphId),w,y,S),f=new q(b,B.GetSVG(y.graphId),w,y),h=new H(b,B.GetSVG(y.graphId),w,y),l=new D(b,B.GetSVG(y.graphId),w,s,S,x,u);g.AttachClickOnCanvas(),w.ShowGrid&&L.AddGrid(y.graphId)}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.GraphService",["$log","siemens.simaticit.common.widgets.flowEditor.services.UndoRedoService",function(m,u){return function(e,t,n,i){var s,l,a,r;function c(e,t){return null==t.Id?(m.error("The cell has a NULL Id!!!"),!1):!function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.Id===t)return!0}}(e,t.Id)||(m.error("The id "+t.Id+" is duplicated!!!"),!1)}function d(e,t){for(var n=-1,i=t.Id,o=0;o<e.length;o++)e[o].Id===i&&(n=o);-1<n&&e.splice(n,1)}function o(e){if(a.push(e),e.CanHaveChildren)for(var t=0;t<e.Children.length;t++)o(e.Children[t])}this.MainCanvas=n,this.UndoRedoService=new u(e.$parent,i),this.GraphId=e.graphId,this.PhaseId=e.phaseId,this.Cells=new Array,this.IsReadOnly=!1,this.IsMultiSelectable=!0,this.Configurations=new Array,this.addChildren=function(e,t){for(var n=0;n<e.length;n++){var i,o=e[n];t&&(o.Parent=t),s.push(o);for(var a=0;a<o.Incoming.length;a++)(i=o.Incoming[a]).Source.Outgoing.push(i),s.push(i),this.Cells.push(i);for(var r=0;r<o.Outgoing.length;r++)(i=o.Outgoing[r]).Target.Incoming.push(i),s.push(i),this.Cells.push(i);o.CanHaveChildren&&this.addChildren(o.Children,o)}},this.GetCellById=function(e){return r=null,function e(t,n){for(var i=0;i<t.length;i++){var o=t[i];if(o.Id==n){r=o;break}o.CanHaveChildren&&e(o.Children,n)}}(this.Cells,e),r},this.StartSession=function(){s=new Array,l=new Array,a=new Array},this.EndSession=function(){t(s,l,a)},this.AddCell=function(t,e,n){if(c(this.Cells,t)){null!=n&&n||this.StartSession();var i=(t.GraphService=this).Configurations.filter(function(e){return e.VertexType==t.Type})[0];i&&(t.Font={Size:i.Font.Size,Italic:i.Font.Italic,Bold:i.Font.Bold}),s.push(t),e?(t.Parent=e).Children.push(t):this.Cells.push(t),t.CanHaveChildren&&this.addChildren(t.Children,t),null!=n&&n||this.EndSession()}},this.RemoveCell=function(e,t){null!=t&&t||this.StartSession(),a.push(e),e.Parent?(d(e.Parent.Children,e),e.Parent=null):d(this.Cells,e),null!=t&&t||this.EndSession()},this.UpdateSolutionAreaVertexesRecursive=function(e,t){if(this.StartSession(),e.X+=t,l.push(e),this.EndSession(),e.CanHaveChildren&&null!=e.Children)for(var n=0;n<e.Children.length;n++){var i=e.Children[n];this.UpdateSolutionAreaVertexesRecursive(i,t)}},this.UpdateSolutionAreaEdgesRecursive=function(e,t,n){var i;for(this.StartSession(),i=0;i<e.Outgoing.length;i++){for(var o=e.Outgoing[i],a=0;a<o.Route.length;a++)("domainEdge"!=o.Type||a!=o.Route.length-1||n)&&(o.Route[a].x+=t);this.UpdateCell(o)}if(this.EndSession(),e.CanHaveChildren&&null!=e.Children)for(i=0;i<e.Children.length;i++){var r=e.Children[i];this.UpdateSolutionAreaEdgesRecursive(r,t,n)}},this.UpdateSolutionArea=function(e,t,n){this.UpdateSolutionAreaVertexesRecursive(e,t),this.UpdateSolutionAreaEdgesRecursive(e,t,n)},this.UpdateCellPositionRecursive=function(e,t,n,i,o){var a;for(null!=o&&o||this.StartSession(),e.X+=t,e.Y+=n,a=0;a<e.Outgoing.length;a++){for(var r=e.Outgoing[a],s=0;s<r.Route.length-1;s++)r.Route[s].x+=t,r.Route[s].y+=n;i&&(r.Route[r.Route.length-1].x+=t,r.Route[r.Route.length-1].y+=n),this.UpdateCell(r)}if(l.push(e),null!=o&&o||this.EndSession(),e.CanHaveChildren&&null!=e.Children)for(a=0;a<e.Children.length;a++){var c=e.Children[a];this.UpdateCellPositionRecursive(c,t,n,i,o)}},this.UpdateCell=function(e,t){null!=t&&t||this.StartSession(),l.push(e),null!=t&&t||this.EndSession()},this.UpdateCells=function(e,t){null!=t&&t||this.StartSession();for(var n=0;n<e.length;n++)e[n]&&l.push(e[n]);null!=t&&t||this.EndSession()},this.UpdateVertex=function(e,t,n){if(null!=n&&n||this.StartSession(),this.UpdateCell(e,!0),e.Incoming&&this.UpdateCells(e.Incoming,!0),e.Outgoing&&this.UpdateCells(e.Outgoing,!0),t!=e.Parent&&(t&&null==e.Parent&&(d(this.Cells,e),t.Children.push(e)),null==t&&e.Parent&&(this.Cells.push(e),d(e.Parent.Children,e)),t&&e.Parent&&(d(e.Parent.Children,e),t.Children.push(e)),e.Parent=t),e.CanHaveChildren&&null!=e.Children)for(var i=0;i<e.Children.length;i++){var o=e.Children[i];this.UpdateVertex(o,o.Parent,!0)}null!=n&&n||this.EndSession()},this.RemoveVertex=function(e,t){var n;null!=t&&t||this.StartSession(),a.push(e),e.Parent?(d(e.Parent.Children,e),e.Parent=null):d(this.Cells,e);for(var i=0;i<e.Incoming.length;i++)n=e.Incoming[i],a.push(n),n.OnRemove&&n.OnRemove(),d(this.Cells,n),d(n.Source.Outgoing,n);for(i=0;i<e.Outgoing.length;i++)n=e.Outgoing[i],a.push(n),n.OnRemove&&n.OnRemove(),d(this.Cells,n),d(n.Target.Incoming,n);if(e.CanHaveChildren)for(i=0;i<e.Children.length;i++){var o=e.Children[i];o.Parent=null,this.RemoveVertex(o,!0)}null!=t&&t||this.EndSession()},this.AddEdge=function(e,t,n,i,o){c(this.Cells,e)&&(null!=i&&i||this.StartSession(),e.GraphService=this,e.Source=t,e.Target=n,o&&(e.Points=o),e.Source.Outgoing.push(e),e.Target.Incoming.push(e),l.push(t),l.push(n),s.push(e),this.Cells.push(e),null!=i&&i||this.EndSession())},this.RemoveEdge=function(e,t){null!=t&&t||this.StartSession(),a.push(e),l.push(e.Target),l.push(e.Source),e.Target&&d(e.Target.Incoming,e),e.Source&&d(e.Source.Outgoing,e),d(this.Cells,e),null!=t&&t||this.EndSession()},this.Clear=function(){this.StartSession();for(var e=0;e<this.Cells.length;e++)o(this.Cells[e]);this.Configurations=[],this.Cells=new Array,this.EndSession()},this.FlattenCells=function(){return function e(t){for(var n=t,i=0;i<t.length;i++){var o=t[i];if(o.CanHaveChildren&&null!=o.Children&&0<o.Children.length){var a=e(o.Children);n=n.concat(a)}}return n}(this.Cells)},this.BringModelCellsToFront=function(e){var t=[],n=(t=null==e.Parent?this.Cells:e.Parent.Children).indexOf(e);-1<n&&t.splice(n,1),t.push(e)},this.SendModelCellsToBack=function(e){var t=[],n=(t=null==e.Parent?this.Cells:e.Parent.Children).indexOf(e);-1<n&&t.splice(n,1),t.unshift(e)},this.BringModelCellsForward=function(e){var t=[],n=(t=null==e.Parent?this.Cells:e.Parent.Children).indexOf(e);if(-1<n){var i=t[n];t.splice(n,1),t.splice(n+1,0,i)}},this.SendModelCellsBackward=function(e){var t=[],n=(t=null==e.Parent?this.Cells:e.Parent.Children).indexOf(e);if(-1<n){var i=t[n];t.splice(n,1),t.splice(n-1,0,i)}}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.GroupSelectionService",["$log","$rootScope","siemens.simaticit.common.widgets.flowEditor.services.SVGPlaceholderService","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SelectionService","siemens.simaticit.common.widgets.flowEditor.services.SharingService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.services.SVGGhostService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService","siemens.simaticit.common.widgets.flowEditor.model.Vertex",function(e,m,t,n,i,o,a,r,s,c,l,u){return function(s,t,o,c,n,e,i){var l=1,d=!1;this.AttachCanvasDragEvents=function(a){var r=function(e,i){angular.forEach(e,function(e){var t,n;e instanceof u&&(e.Children&&r(e.Children,i),t=e,(n=i).x<t.X*l&&n.x+n.width<t.X*l||n.x>(t.X+t.Width)*l&&n.x+n.width>(t.X+t.Width)*l||n.y<t.Y*l&&n.y+n.height<t.Y*l||n.y>(t.Y+t.Height)*l&&n.y+n.height>(t.Y+t.Height)*l?e.IsSelected&&o.UnSelect(e):e.IsSelected||o.Select(e))})},e=function(){d&&($("#workflow-context-menu").css("display","none"),m.$broadcast("siemens.simaticit.common.widgets.flowEditor.selectionEnd",o.GetAllSelectedCells())),document.body.style.cursor="default",a.select(".selection").remove(),d=!1};t.on("mousedown",function(){var e=d3.event;if(!c.IsResizing()&&e.target===e.currentTarget&&(d=!0,document.body.style.cursor="crosshair",!d3.event.defaultPrevented)){l=n.GetScale(),o.ClearSelection();var t=d3.mouse(this);a.append("rect").attr({rx:6,ry:6,class:"selection",x:t[0],y:t[1],width:0,height:0})}}).on("mousemove",function(){if(!c.IsResizing()&&d){d3.event.preventDefault();var e=s.Cells,t=a.select("rect.selection");if(!t.empty()){document.body.style.cursor="crosshair";var n=d3.mouse(this),i={x:parseInt(t.attr("x"),10),y:parseInt(t.attr("y"),10),width:parseInt(t.attr("width"),10),height:parseInt(t.attr("height"),10)},o={x:n[0]-i.x,y:n[1]-i.y};if(o.x<1||2*o.x<i.width?(i.x=n[0],i.width-=o.x):i.width=o.x,o.y<1||2*o.y<i.height?(i.y=n[1],i.height-=o.y):i.height=o.y,0==o.x&&0==o.y)return;i.x<=0&&(i.x=0),i.y<=0&&(i.y=0),i.width<=0&&(i.width=0),i.height<=0&&(i.height=0),t.attr(i),r(e,i)}}}).on("mouseup",e).on("mouseleave",e)}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.GuidService",["$log",function(e){this.CreateGuid=function(){return"Axxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.IconService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.model.Vertex","siemens.simaticit.common.widgets.flowEditor.model.Edge",function(o,e,t,a,n,i){return function(e,t,n,i){this.attachIconEvents=function(n,e,t){a.getIconButtonList(n.Id).forEach(function(e,t){e.on("click",function(e){setTimeout(function(){n.IconMenu[t].onClick&&"function"==typeof n.IconMenu[t].onClick&&n.IconMenu[t].onClick(n,n.IconMenu[t].name)}),a.GetConfigButton(n.Id).transition().duration(300).style("opacity",0),o.debug("[click] executed for cell "+n.Id)}),o.debug("[AttachRenameEvent] executed for cell "+n.Id)})}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.MouseOverService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService",function(d,e,m,u,p){return function(o,a,r,s,e){function c(){var e=u.GetVertexIdFromNode(this),t=o.GetCellById(e);p.HideAnchors(t),u.GetLinkRect(t.Id).transition().duration(100).style("opacity",0),m.CustomMouseOut(t),s.IsLinking()&&m.LinkMouseOut(t),document.body.style.cursor="auto"}function l(){var e=u.GetVertexIdFromNode(this),t=o.GetCellById(e);if(a.IsResizing()||r.IsMoving()||s.IsLinking()||(-1==t.MaxOut||t.Outgoing&&t.Outgoing.length<t.MaxOut)&&p.ShowAnchors(t),s.IsLinking()){var n=t.MaxIn&&t.MaxIn>t.Incoming.length||-1==t.MaxIn,i=m.CanLink(o,s.GetStartCell(),t);m.LinkMouseOver(t,i&&n)}m.CustomMouseOver(t)}this.AttachMouseOverEvents=function(e){var t,n,i,o;t=e,n=u.GetVertexOuterPh(t.Id),u.GetVertexInnerPh(t.Id).on("mouseout",function(){document.body.style.cursor="auto"}),n.on("mouseout",c),d.debug("[attachMouseOutEvent] executed for cell "+t.Id),i=e,o=u.GetVertexOuterPh(i.Id),u.GetVertexInnerPh(i.Id).on("mouseover",function(){document.body.style.cursor="move"}),o.on("mouseover",l),d.debug("[attachMouseOverEvent] executed for cell "+i.Id)},this.AttachMouseOverEventsEdge=function(e){for(var t,n,i=e.Route,o=0;o<i.length;o++){var a=u.GetEdgeRoutePoints(e.Id,o);n=a,u.GetEdgeWrapper(n.Id).on("mouseover",function(){document.body.style.cursor="pointer"}),d.debug("[attachMouseOutEventEdge] executed for routing point "+n.Id),(t=a).on("mouseout",function(){document.body.style.cursor="auto"}),d.debug("[attachMouseOverEventEdge] executed for routing point "+t.Id)}}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.MoveService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGPlaceholderService","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SharingService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.services.SVGGhostService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService","siemens.simaticit.common.widgets.flowEditor.services.GuidService",function(A,M,F,N,B,G,e,V,t,n){return function(y,C,b,e){var i,o,a,w,S,x,T,r=!1,s=!1,c={},l=null,d=500,m=!1;function u(e){e.IsSelected||(d3.event.sourceEvent.ctrlKey||b.ClearSelection(),b.Select(e))}function p(e){if("domainGrid"!=e.Type&&0!=e.BigBlockType&&4!=e.BigBlockType&&1!=e.BigBlockType){var t=e.Id,n=B.GetVertexOuterPh(t);if(null!=n[0][0]){var i=n.attr("x"),o=n.attr("y"),a=B.GetMainCanvasMousePosition(C);null==e.offsetX&&null==e.offsetY&&(e.offsetX=a[0]-parseInt(i,10),e.offsetY=a[1]-parseInt(o,10));var r=a[0]-e.offsetX,s=a[1]-e.offsetY;r<0&&(r=0),s<0&&(s=0);var c=b.SnapOnMove(r,s);e.endX=c[0],e.endY=c[1];var l=e.X,d=e.Y;d3.event.sourceEvent.shiftKey&&(Math.abs(e.endX-e.startX+N.innerPlaceholderGap)<Math.abs(e.endY-e.startY+N.innerPlaceholderGap)?e.endX=e.startX-N.innerPlaceholderGap:e.endY=e.startY-N.innerPlaceholderGap),e.X=e.endX+N.innerPlaceholderGap,e.Y=e.endY+N.innerPlaceholderGap,"full"==G.MoveMode?(n.attr("x",e.endX),n.attr("y",e.endY),e.UpdateEdges&&e.UpdateEdges(l,d),b.UpdateEdges(e),(n=B.GetPlaceholder(e.Id)).html(""),M.CleanPlaceholder(e),F.DrawVertex(e),M.UpdatePlaceholder(e),y.Cells,y.FlattenCells(),e.CanHaveChildren&&0<e.Children.length&&P(e,e.Children)):V.UpdateVertexGhost(e.X,e.Y,e.Width,e.Height),document.body.style.cursor="move",$("#workflow-context-menu").css({display:"none"})}else A.debug("[dragMoveSingleCell] ph null for cell "+e.Id+", type "+e.Type)}}function g(){if(0!=d3.event.dx||0!=d3.event.dy){var e=B.GetVertexIdFromNode(this),t=y.GetCellById(e);r||(r=!0,u(t));var n=b.GetAllSelectedCells();if(null==t.Movable||t.Movable)for(var i=0;i<n.length;i++)"elbow"!=n[i].Type&&p(n[i])}}function f(e,t){if(B.GetVertexOuterPh(e.Id).attr("opacity",t),null!=e.Children)for(var n=0;n<e.Children.length;n++)f(e.Children[n],t)}function h(){var e,t;if(!r){var n=B.GetVertexIdFromNode(this);e=y.GetCellById(n),l?(clearTimeout(l),t=e,d3.event.sourceEvent.ctrlKey?t.IsSelected?b.UnSelect(t):b.Select(t):t.IsSelected||(b.ClearSelection(),b.Select(t))):m&&(u(e),m=!1)}var i=b.GetAllSelectedCells();if(0<i.length){for(var o=i[0].startX!=i[0].endX||i[0].startY!=i[0].endY,a=0;a<i.length;a++)(e=i[a]).parent=B.GetCandidateParentFromCell(y,e),e.children=B.GetCandidateChildrenFromCell(y,e),s&&f(e,1);!0===y.IsMultiSelectable?o&&F.MoveMultipleVertex(y,i):F.MoveMultipleVertex(y,i)}document.body.style.cursor="auto","ghost"==G.MoveMode&&V.RemoveVertexGhost(),r=s=!1}function v(){l=setTimeout(function(){m=!(l=null)},d),c={};var e=B.GetVertexIdFromNode(this),t=y.GetCellById(e),n=b.GetAllSelectedCells();O(t);for(var i=0;i<n.length;i++)O(n[i])}function I(){var e=B.GetVertexIdFromNode(this).split("_"),t=e[0],n=y.GetCellById(t),i=n.Route,o=e[1];o>i.length-1&&(o=i.length-1);var a=i[o],r=B.GetEdgeRoutePoints(e[0],o),s=r.attr("x"),c=r.attr("y"),l=B.GetMainCanvasMousePosition(C);null==x&&null==T&&(x=l[0]-parseInt(s,10),T=l[1]-parseInt(c,10));var d=l[0]-x,m=l[1]-T;d<0&&(d=0),m<0&&(m=0);var u=b.SnapOnMove(d,m);w=u[0],S=u[1],0==o||o==i.length-1?(n.UpdateRoute(o,w,S),r.attr("y",S),r.attr("x",w)):(0==a.quadrant?(r.attr("y",S),a.y=S):(r.attr("x",w),a.x=w),n.AdjustRoutingPoints());var p=B.GetEdge(t);p.remove(p);var g=B.GetSelRect(t);g.remove(g);var f=B.GetSelEdgeLabel(t);f.remove(f);var h=B.GetSelEdgeToken(t);h.remove(h);var v=B.GetEdgeWaypoints(t);v.remove(v),F.DrawEdge(n,y.MainCanvas),b.ClearSelection(),b.Select(n),r=B.GetEdgeRoutePoints(t,o),o==i.length-1?(r.attr("y",S-15),r.attr("x",w-15)):(r.attr("y",S-8),r.attr("x",w-8)),"domainGrid"==n.Source.Type?y.UpdateCell(n.Source):y.UpdateCell(n.Target),document.body.style.cursor="move"}function k(){var e=B.GetVertexIdFromNode(this).split("_"),t=y.GetCellById(e[0]),n=e[1];n>t.Route.length-1&&(n=t.Route.length-1),i==w&&o==S||F.MoveEdge(y,t,n,a,i,o,w,S),b.ClearSelection(),b.Select(t),document.body.style.cursor="auto",T=x=null}function E(){var e=B.GetVertexIdFromNode(this).split("_"),t=y.GetCellById(e[0]).Route;i=t[e[1]].x,o=t[e[1]].y,w=t[e[1]].x,S=t[e[1]].y,a=[];for(var n=0;n<t.length;n++)a.push({x:t[n].x,y:t[n].y,quadrant:t[n].quadrant});d3.event.sourceEvent.stopPropagation(),r=!0}function O(e){e.offsetX=null,e.offsetY=null,e.startX=e.X,e.startY=e.Y,e.endX=e.X,e.endY=e.Y,d3.event.sourceEvent.stopPropagation(),"ghost"==G.MoveMode&&V.AddVertexGhost(e.X,e.Y,e.Width,e.Height,y.GraphId),t.HideAnchors(e),e.CanHaveChildren&&R(e,e.Children)}function P(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=c[i.Id],a=B.GetVertexOuterPh(i.Id),r=i.X,s=i.Y;i.X=e.X+o.ox,i.Y=e.Y+o.oy,a.attr("x",e.X+o.ox),a.attr("y",e.Y+o.oy),i.UpdateEdges&&i.UpdateEdges(r,s),b.UpdateEdges(i),F.DrawVertex(i),M.UpdatePlaceholder(i),i.CanHaveChildren&&P(i,i.Children)}}function D(e){for(var t=0;t<e.length;t++){var n=e[t];B.MoveOnTop(n,C),n.CanHaveChildren&&D(n.Children)}}function R(e,t){for(var n=0;n<t.length;n++){var i=t[n];c[i.Id]={ox:i.X-e.X,oy:i.Y-e.Y},i.CanHaveChildren&&R(i,i.Children)}}d3.select("#svg_graphx").on("click",function(){!1===y.IsMultiSelectable&&b.ClearSelection()}),this.IsMoving=function(){return r},this.AttachDragDropEvents=function(e){var t=B.GetVertexInnerPh(e.Id),n=d3.behavior.drag();n.on("drag",g).on("dragend",h).on("dragstart",v),t.call(n),A.debug("[AttachDragDropEvents] executed for cell "+e.Id)},this.AttachDragDropEventsEdge=function(e){for(var t=e.Route,n=0;n<t.length;n++){var i=B.GetEdgeRoutePoints(e.Id,n),o=d3.behavior.drag();o.on("drag",I).on("dragend",k).on("dragstart",E),i.call(o),A.debug("[AttachDragDropEventsEdge] executed for edge "+e.Id)}},this.moveStart=function(e){c={},i=e.X,o=e.Y,w=e.X,S=e.Y,B.MoveOnTop(e,C),e.CanHaveChildren&&(D(e.Children),R(e,e.Children))},this.moveEndwithArrow=function(){!function(){var e=b.GetAllSelectedCells();if(0<e.length&&(e[0].startX!=e[0].endX||e[0].startY!=e[0].endY)){for(var t=0;t<e.length;t++){var n=e[t];n.parent=B.GetCandidateParentFromCell(y,n),n.children=B.GetCandidateChildrenFromCell(y,n)}F.MoveMultipleVertex(y,e)}document.body.style.cursor="auto","ghost"==G.MoveMode&&V.RemoveVertexGhost(),r=!1}()}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.PanZoomService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGGridService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes",function(e,k,E,O,P){return function(i,e,o,a){var r=E.GetMainCanvas(i.GraphId),s=E.GetSVG(i.GraphId),p=(E.GetPan(i.GraphId),E.GetGrid(i.GraphId),$("#graphContainer")),g=1,c=!1,t=k.zoomMin,n=k.zoomMax,l=k.initialWidth*t,d=k.initialWidth*n,m=d3.scale.linear().domain([t,n]).range([l,d]),u=k.initialHeight*t,f=k.initialHeight*n,h=d3.scale.linear().domain([t,n]).range([u,f]),v=d3.behavior.zoom(),y=0,C=0,b=0,w=0;function S(){if(c){var e=d3.mouse(d3.select("body").node()),t=e[0],n=e[1],i=b-(t-y),o=w-(n-C);p.scrollLeft(i),p.scrollTop(o),d3.event.sourceEvent.stopPropagation()}}function x(){C=y=0,b=p.scrollLeft(),w=p.scrollTop(),d3.event.sourceEvent.stopPropagation()}function T(){var e=d3.mouse(d3.select("body").node());y=e[0],C=e[1],b=p.scrollLeft(),w=p.scrollTop(),d3.event.sourceEvent.stopPropagation()}function I(){d3.event&&(g=d3.event.scale);var e=m(g),t=h(g);s.attr("width",e),s.attr("height",t);var n=E.GetPan(i.GraphId);n.attr("width",e),n.attr("height",t),r.attr("transform","scale("+g+")"),$("#workflow-context-menu").css("transform","scale("+g+")"),a.ShowGrid&&O.AddGrid(i.GraphId,g)}this.GetScaledPosition=function(e,t){return{x:e/g,y:t/g}},this.ZoomIn=function(){g<n&&(g+=.1,v.scale(g),I())},this.ZoomReset=function(){g=1,v.scale(g),I()},this.ZoomFit=function(e){if(0<e.Cells.length){p.scrollLeft(0),p.scrollTop(0);for(var t=E.GetGraphContainerDimensions(e.GraphId),n=(Math.max(t[0],t[1]),function(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];t<i.X+i.Width&&(t=i.X+i.Width)}return t}(e.Cells)+10),i=function(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];t<i.Y+i.Height&&(t=i.Y+i.Height)}return t}(e.Cells)+10,o=k.zoomMin,a=k.zoomMax,r=n*o,s=n*a,c=d3.scale.linear().domain([o,a]).range([r,s]),l=i*o,d=i*a,m=d3.scale.linear().domain([o,a]).range([l,d]),u=o;c(u)<t[0]&&m(u)<t[1];)u+=.001;g=u,v.scale(g),I()}},this.ZoomOut=function(){t<g&&(g-=.1,v.scale(g),I())},this.GetScale=function(){return g},this.AddPan=function(e){var t=E.GetSVG(e),n=t.append("rect").attr({id:P.pan+o.graphId,width:t.attr("width"),height:t.attr("height"),fill:"transparent",style:"cursor:default"}),i=d3.behavior.drag();i.on("drag",S).on("dragend",x).on("dragstart",T),n.call(i),n.on("click",function(){d3.event.stopPropagation()}),n.on("mouseover",function(){c=!0}),n.on("mouseout",function(){c=!1})},this.RemovePan=function(e){E.GetPan(e).remove()}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.PluginService",["$log","siemens.simaticit.common.widgets.flowEditor.DefaultScenarioService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService",function(c,l,n,i){this.LoadFlow=function(e,t,n){try{this.scenario.LoadFlow?this.scenario.LoadFlow(e,t,n):c.info("The scenario "+this.scenario.Name+" does not implement a [LoadFlow] method")}catch(e){c.error(e.message)}},this.CanEdit=function(e,t){try{return this.scenario.CanEdit?this.scenario.CanEdit(e,t):l.CanEdit(e,t)}catch(e){c.error(e.message)}},this.CanBringToFront=function(e,t){try{return this.scenario.CanBringToFront?this.scenario.CanBringToFront(e,t):l.CanBringToFront(e,t)}catch(e){c.error(e.message)}},this.CanBringForward=function(e,t){try{return this.scenario.CanBringForward?this.scenario.CanBringForward(e,t):l.CanBringForward(e,t)}catch(e){c.error(e.message)}},this.CanSendToBack=function(e,t){try{return this.scenario.CanSendToBack?this.scenario.CanSendToBack(e,t):l.CanSendToBack(e,t)}catch(e){c.error(e.message)}},this.CanSendBackward=function(e,t){try{return this.scenario.CanSendBackward?this.scenario.CanSendBackward(e,t):l.CanSendBackward(e,t)}catch(e){c.error(e.message)}},this.CanRemove=function(e,t){try{return this.scenario.CanRemove?this.scenario.CanRemove(e,t):l.CanRemove(e,t)}catch(e){c.error(e.message)}},this.CanRename=function(e,t){try{return this.scenario.CanRename?this.scenario.CanRename(e,t):l.CanRename(e,t)}catch(e){c.error(e.message)}},this.InitSvg=function(e,t){try{this.scenario.InitSvg?this.scenario.InitSvg(e,t):c.info("The scenario "+this.scenario.Name+" does not implement a [InitSvg] method")}catch(e){c.error(e.message)}},this.GetVertexes=function(){try{if(this.scenario.GetVertexes)return this.scenario.GetVertexes();c.info("The scenario "+this.scenario.Name+" does not implement a [GetVertexes] method")}catch(e){c.error(e.message)}},this.OnContextAction=function(e,t,n){try{if(this.scenario.OnContextAction)return this.scenario.OnContextAction(e,t,n);c.info("The scenario "+this.scenario.Name+" does not implement a [OnContextAction] method")}catch(e){c.error(e.message)}},this.ContextAction=function(e,t){try{if(this.scenario.ContextAction)return this.scenario.ContextAction(e,t);c.info("The scenario "+this.scenario.Name+" does not implement a [ContextAction] method")}catch(e){c.error(e.message)}},this.GetEdges=function(){try{if(this.scenario.GetEdges)return this.scenario.GetEdges();c.info("The scenario "+this.scenario.Name+" does not implement a [GetEdges] method")}catch(e){c.error(e.message)}},this.CopyVertex=function(e,t){try{this.scenario.CopyVertex?this.scenario.CopyVertex(e,t):l.CopyVertex(e,t)}catch(e){c.error(e.message)}},this.AddVertex=function(e,t,n,i,o,a){try{this.scenario.AddVertex?this.scenario.AddVertex(e,t,n,i,o,a):l.AddVertex(e,t,n,i,o,a)}catch(e){c.error(e.message)}},this.TransformVertex=function(e,t,n){try{this.scenario.TransformVertex?this.scenario.TransformVertex(e,t,n):l.TransformVertex(e,t,n)}catch(e){c.error(e.message)}},this.AddEdge=function(e,t,n){try{this.scenario.AddEdge?this.scenario.AddEdge(e,t,n):c.info("The scenario "+this.scenario.Name+" does not implement a [AddEdge] method")}catch(e){c.error(e.message)}},this.Save=function(e){try{this.scenario.Save?this.scenario.Save(e):c.info("The scenario "+this.scenario.Name+" does not implement a [Save] method")}catch(e){c.error(e.message)}},this.Refresh=function(e){try{this.scenario.Refresh?this.scenario.Refresh(e):c.info("The scenario "+this.scenario.Name+" does not implement a [Refresh] method")}catch(e){c.error(e.message)}},this.AutoGenerate=function(e){try{this.scenario.AutoGenerate?this.scenario.AutoGenerate(e):c.info("The scenario "+this.scenario.Name+" does not implement a [AutoGenerate] method")}catch(e){c.error(e.message)}},this.AutoGenerateAll=function(e){try{this.scenario.AutoGenerateAll?this.scenario.AutoGenerateAll(e):c.info("The scenario "+this.scenario.Name+" does not implement a [AutoGenerateAll] method")}catch(e){c.error(e.message)}},this.MoveMultipleVertex=function(e,t){try{this.scenario.MoveMultipleVertex?this.scenario.MoveMultipleVertex(e,t):l.MoveMultipleVertex(e,t)}catch(e){c.error(e.message)}},this.RemoveMultipleVertex=function(e,t){try{this.scenario.RemoveMultipleVertex?this.scenario.RemoveMultipleVertex(e,t):l.RemoveMultipleVertex(e,t)}catch(e){c.error(e.message)}},this.EditMultipleVertex=function(e,t){try{this.scenario.EditMultipleVertex?this.scenario.EditMultipleVertex(e,t):c.info("The scenario "+this.scenario.Name+" does not implement a [EditVertex] method")}catch(e){c.error(e.message)}},this.MoveVertex=function(e,t,n,i,o,a,r,s){try{this.scenario.MoveVertex?this.scenario.MoveVertex(e,t,n,i,o,a,r,s):l.MoveVertex(e,t,n,i,o,a,r)}catch(e){c.error(e.message)}},this.MoveEdge=function(e,t,n,i,o,a,r,s){try{this.scenario.MoveEdge(e,t,n,i,o,a,r,s)}catch(e){c.error(e.message)}},this.ResizeVertex=function(e,t,n,i,o,a,r){try{this.scenario.ResizeVertex?this.scenario.ResizeVertex(e,t,n,i,o,a,r):l.ResizeVertex(e,t,n,i)}catch(e){c.error(e.message)}},this.RemoveVertex=function(e,t){try{this.scenario.RemoveVertex?this.scenario.RemoveVertex(e,t):l.RemoveVertex(e,t)}catch(e){c.error(e.message)}},this.RemoveEdge=function(e,t){try{this.scenario.RemoveEdge?this.scenario.RemoveEdge(e,t):l.RemoveEdge(e,t)}catch(e){c.error(e.message)}},this.EditVertex=function(e,t){try{this.scenario.EditVertex?this.scenario.EditVertex(e,t):c.info("The scenario "+this.scenario.Name+" does not implement a [EditVertex] method")}catch(e){c.error(e.message)}},this.EditEdge=function(e,t){try{this.scenario.EditEdge?this.scenario.EditEdge(e,t):c.info("The scenario "+this.scenario.Name+" does not implement a [EditEdge] method")}catch(e){c.error(e.message)}},this.EditSettings=function(e){try{this.scenario.EditSettings?this.scenario.EditSettings(e):c.info("The scenario "+this.scenario.Name+" does not implement a [EditSettings] method")}catch(e){c.error(e.message)}},this.RenameCell=function(e,t,n){try{this.scenario.RenameCell?this.scenario.RenameCell(e,t,n):l.RenameCell(e,t,n)}catch(e){c.error(e.message)}},this.CanLink=function(e,t,n){try{return this.scenario.CanLink?this.scenario.CanLink(e,t,n):l.CanLink(e,t,n)}catch(e){c.error(e.message)}},this.setScenario=function(e){try{this.scenario=e||l,c.info("["+this.scenario.Name+"] scenario loaded")}catch(e){c.error(e.message)}},this.getScenario=function(){return this.scenario},this.DrawVertex=function(e){var t=n.GetVertexInnerPh(e.Id);null!=e.Draw?e.Draw(t):c.error("The vertex "+e.Label+"has no [Draw] function defined")},this.DrawEdge=function(e,t){if(null!=e.Draw)return e.Draw(t);c.error("The edge "+e.Label+"has no [Draw] function defined")},this.CustomMouseOver=function(e,t){if(null!=e.MouseOver)return e.MouseOver(t)},this.CustomMouseOut=function(e){if(null!=e.MouseOut)return e.MouseOut()},this.LinkMouseOver=function(e,t){if(null!=e.LinkMouseOver)return e.LinkMouseOver(t);i.DrawCanLinkFeedback(e,t)},this.LinkMouseOut=function(e){if(null!=e.LinkMouseOut)return e.LinkMouseOut()},this.ConnectAndClone=function(e,t,n){try{this.scenario.ConnectAndClone?this.scenario.ConnectAndClone(e,t,n):c.info("The scenario "+this.scenario.Name+" does not implement a [ConnectAndClone] method")}catch(e){c.error(e.message)}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.ResizeService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGPlaceholderService","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGGhostService","siemens.simaticit.common.widgets.flowEditor.services.SharingService",function(e,b,w,S,x,T,I){return function(u,p,g){var f,h,v,y,C,s=!1;function t(e){if(!u.IsReadOnly){var t=d3.behavior.drag();t.on("dragstart",n).on("drag",i).on("dragend",o),e.call(t)}}function n(){f=x.GetMainCanvasMousePosition(p),s=!0;var e=x.GetVertexIdFromNode(this),t=u.GetCellById(e);h=t.Width,v=t.Height,y=t.X,C=t.Y,"ghost"==I.ResizeMode&&T.AddVertexGhost(t.X,t.Y,t.Width,t.Height,u.GraphId),g.ClearSelection()}function i(){var e=x.GetResizeMode(this),t=x.GetVertexIdFromNode(this),n=u.GetCellById(t),i=x.GetMainCanvasMousePosition(p),o=f[0]-i[0],a=f[1]-i[1],r=h,s=v,c=y,l=C;if(e.startsWith(S.lb_corner)&&(c=y-o,r=h+o,s=v-a,n.PreserveRatio&&(s=v+o),document.body.style.cursor="ne-resize",e=S.lb_corner),e.startsWith(S.rt_corner)&&(l=C-a,r=h-o,s=v+a,n.PreserveRatio&&(r=h+a),document.body.style.cursor="ne-resize",e=S.rt_corner),e.startsWith(S.top)&&(l=C-a,s=v+a,n.PreserveRatio&&(r=h+a),document.body.style.cursor="n-resize",e=S.top),e.startsWith(S.left)){if(4==n.BigBlockType)return;c=y-o,r=h+o,n.PreserveRatio&&(s=v+o,l=C-o),document.body.style.cursor="e-resize",e=S.left}e.startsWith(S.rb_corner)&&(r=h-o,s=v-a,n.PreserveRatio&&(s=v-o),document.body.style.cursor="nw-resize",e=S.rb_corner),e.startsWith(S.lt_corner)&&(c=y-o,l=C-a,r=h+o,s=v+a,n.PreserveRatio&&(s=v+o,l=C-o),document.body.style.cursor="nw-resize",e=S.lt_corner),e.startsWith(S.bottom)&&(s=v-a,n.PreserveRatio&&(r=h-a),document.body.style.cursor="n-resize",e=S.bottom),e.startsWith(S.right)&&(r=h-o,n.PreserveRatio&&(s=v-o),document.body.style.cursor="e-resize",e=S.right);var d=g.SnapOnResize(r,s);if(r=d[0],s=d[1],c=(d=g.SnapOnMove(c,l))[0],l=d[1],!(c<0||l<0))if(r>=n.MinWidth?(n.Width=r,n.X=c):n.Width=n.MinWidth,s>=n.MinHeight?(n.Height=s,n.Y=l):n.Height=n.MinHeight,"full"==I.ResizeMode){var m=x.GetVertexInnerPh(n.Id);m.html(""),w.DrawVertex(n,m),b.UpdatePlaceholder(n),g.UpdateEdges(n)}else T.UpdateVertexGhost(n.X,n.Y,n.Width,n.Height)}function o(){var e=x.GetVertexIdFromNode(this),t=u.GetCellById(e),n=x.GetCandidateChildrenFromCell(u,t);if(t.parent=x.GetCandidateParentFromCell(u,t),w.ResizeVertex(u,t,h,v,y,C,n),document.body.style.cursor="auto",s=!1,T.RemoveVertexGhost(),b.UpdatePlaceholder(t),0==t.BigBlockType){var i=u.Cells.filter(function(e){return 4==e.BigBlockType})[0],o=u.Cells.filter(function(e){return 3==e.BigBlockType})[0],a=u.Cells.filter(function(e){return 1==e.BigBlockType})[0];a.Width=t.Width,b.UpdatePlaceholder(a),a.GraphService.UpdateCell(a),o.X=t.Width+60,o.GraphService.UpdateCell(o);var r=o.X+o.Width+30-i.X;b.UpdatePlaceholder(o),b.UpdatePlaceholder(i),i.GraphService.UpdateSolutionArea(i,r,!0)}}this.IsResizing=function(){return s},this.AttachResizeEvent=function(e){t(x.GetBottomResizeRect(e.Id)),t(x.GetRightResizeRect(e.Id)),t(x.GetLeftResizeRect(e.Id)),t(x.GetTopResizeRect(e.Id)),t(x.GetRBCornerResizeRect(e.Id)),t(x.GetRTCornerResizeRect(e.Id)),t(x.GetLTCornerResizeRect(e.Id)),t(x.GetLBCornerResizeRect(e.Id))}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGAlignService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.services.SharingService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGDebugService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectionService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService",function(e,t,d,n,i,o,a,r){this.AlignmentType={STARTX:0,MIDDLEX:1,ENDX:2,STARTENDX:3,ENDSTARTX:4,STARTY:5,MIDDLEY:6,ENDY:7,STARTENDY:8,ENDSTARTY:9},this.DrawAlign=function(e,t,n){var i,o,a,r,s,c;switch(n==this.AlignmentType.STARTENDX||n==this.AlignmentType.ENDSTARTX||n==this.AlignmentType.STARTENDY||n==this.AlignmentType.ENDSTARTY?(i=e,o=t):n<this.AlignmentType.STARTENDX?e.Y>t.Y?(i=t,o=e):(i=e,o=t):e.X>t.X?(i=t,o=e):(i=e,o=t),n){case this.AlignmentType.STARTX:a=i.X,r=o.X,s=i.Y-15,c=o.Y+o.Height+15;break;case this.AlignmentType.MIDDLEX:a=i.X+i.Width/2,r=i.X+i.Width/2,s=i.Y-15,c=o.Y+o.Height+15;break;case this.AlignmentType.ENDX:a=i.X+i.Width,r=o.X+o.Width,s=i.Y-15,c=o.Y+o.Height+15;break;case this.AlignmentType.STARTENDX:e.Y<t.Y?(a=i.X,r=o.X+o.Width,s=i.Y-15,c=o.Y+o.Height+15):(a=o.X+o.Width,r=i.X,s=o.Y-15,c=i.Y+i.Height+15);break;case this.AlignmentType.ENDSTARTX:e.Y<t.Y?(a=i.X+i.Width,r=o.X,s=i.Y-15,c=o.Y+o.Height+15):(a=o.X,r=i.X+i.Width,s=o.Y-15,c=i.Y+i.Height+15);break;case this.AlignmentType.STARTENDY:e.X<t.X?(a=i.X-15,r=o.X+o.Width+15,s=i.Y,c=o.Y+o.Height):(a=o.X-15,r=i.X+i.Width+15,s=o.Y+o.Height,c=i.Y);break;case this.AlignmentType.ENDSTARTY:e.X<t.X?(a=i.X-15,r=o.X+o.Width+15,s=i.Y+i.Height,c=o.Y):(a=o.X-15,r=i.X+i.Width+15,s=o.Y,c=i.Y+i.Height);break;case this.AlignmentType.STARTY:a=i.X-15,r=o.X+o.Width+15,s=i.Y,c=o.Y;break;case this.AlignmentType.MIDDLEY:a=i.X-15,r=o.X+o.Width+15,s=i.Y+i.Height/2,c=o.Y+o.Height/2;break;case this.AlignmentType.ENDY:a=i.X-15,r=o.X+o.Width+15,s=i.Y+i.Height,c=o.Y+o.Height}var l=i.GraphService.MainCanvas;l.append("line"),l.attr("id",d.aligner+e.Id),l.attr("x1",a),l.attr("x2",r),l.attr("y1",s),l.attr("y2",c),l.style("stroke-dasharray","4,2"),l.attr("stroke-width",1),l.attr("stroke","orange")},this.CleanAligner=function(e){var t=i.GetAligner(e.Id);t&&t.remove()}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,h,v,s){var t=function(e){e.transition().duration(200).style({opacity:0,display:"none"})},n=function(e){e.transition().duration(200).style({opacity:.5,display:"block"})},i=function(e){return e.Width+2*s.linkRectGap},o=function(e){return e.Height+2*s.linkRectGap},a=function(e){return s.innerPlaceholderGap-s.linkRectGap},y=function(e,t,n,i){var o=h.GetVertexOuterPh(t.Id),a=e.map(function(e){return e.x+","+e.y}).join(","),r=o.append("polygon").attr("class","sit-flow-anchor").style({opacity:0,display:"none"}).style("cursor","alias").attr("id",n+t.Id).attr("points",a).append("title");i?r.html("Drag to create edge, ctrl + click to clone and connect"):r.html("Drag to create edge")},C=function(e){var t=e.Height+2*s.innerPlaceholderGap,n=e.Width+2*s.innerPlaceholderGap,i=(h.GetVertexOuterPh(e.Id),parseInt(n,10)),o=parseInt(t,10),a=s.anchorWidth,r=s.anchorHeight;return[{x:i-a,y:o/2-r/2},{x:i,y:o/2},{x:i-a,y:o/2+r/2}]},b=function(e){var t=e.Height+2*s.innerPlaceholderGap,n=e.Width+2*s.innerPlaceholderGap,i=(h.GetVertexOuterPh(e.Id),parseInt(n,10)),o=parseInt(t,10),a=s.anchorWidth,r=s.anchorHeight;return[{x:i/2-r/2,y:o-a},{x:i/2,y:o},{x:i/2+r/2,y:o-a}]},w=function(e){var t=e.Height+2*s.innerPlaceholderGap,n=e.Width+2*s.innerPlaceholderGap,i=(h.GetVertexOuterPh(e.Id),parseInt(n,10),parseInt(t,10)),o=s.anchorWidth,a=s.anchorHeight;return[{x:o,y:i/2-a/2},{x:0,y:i/2},{x:o,y:i/2+a/2}]},S=function(e){var t=e.Height+2*s.innerPlaceholderGap,n=e.Width+2*s.innerPlaceholderGap,i=(h.GetVertexOuterPh(e.Id),parseInt(n,10)),o=(parseInt(t,10),s.anchorWidth),a=s.anchorHeight;return[{x:i/2-a/2,y:o},{x:i/2,y:0},{x:i/2+a/2,y:o}]};this.AppendAnchor=function(e,t){if(null==e.Connectable||e.Connectable)if(e.DrawAnchor){var n=h.GetVertexOuterPh(e.Id),i=e.DrawAnchor(n);i.attr("id",v.customAnchor+e.Id),i.style({opacity:0,display:"none"})}else g=t,f=C(p=e),y(f,p,v.right_anchor,g),u=b(d=e),y(u,d,v.bottom_anchor,m),c=t,l=w(s=e),y(l,s,v.left_anchor,c),a=t,r=S(o=e),y(r,o,v.top_anchor,a);var o,a,r,s,c,l,d,m,u,p,g,f},this.AppendLinkRect=function(e,t){e.append("rect"),e.attr("id",v.linkrect+t.Id),e.attr("width",i(t)),e.attr("height",o(t)),e.attr("x",a()),e.attr("y",a()),e.style({opacity:0,display:"none"})},this.UpdateLinkRect=function(e){var t=h.GetLinkRect(e.Id);t.attr("width",i(e)),t.attr("height",o(e))},this.UpdateAnchor=function(e){var t=h.GetRightAnchor(e.Id),n=C(e).map(function(e){return e.x+","+e.y}).join(",");t.attr("points",n);var i=h.GetBottomAnchor(e.Id),o=b(e).map(function(e){return e.x+","+e.y}).join(",");i.attr("points",o);var a=h.GetLeftAnchor(e.Id),r=w(e).map(function(e){return e.x+","+e.y}).join(",");a.attr("points",r);var s=h.GetTopAnchor(e.Id),c=S(e).map(function(e){return e.x+","+e.y}).join(",");s.attr("points",c)},this.RemoveGhost=function(){var e=d3.select(v.hash+v.ghost);e.remove(e),document.body.style.cursor="auto"},this.AddGhost=function(e,t,n,i,o,a){e.insert("line",v.hash+v.ghost),e.attr("id","ghostLine"),e.attr("x1",t),e.attr("y1",n),e.attr("x2",i),e.attr("y2",o),e.attr("marker-end","url(#ghostmarker)"),e.attr("stroke-width",2),e.attr("stroke","black")},this.DrawCanLinkFeedback=function(e,t){var n=h.GetLinkRect(e.Id);t?n.attr("class","sit-flow-link-ok-rect"):n.attr("class","sit-flow-link-no-rect "),n.transition().duration(200).style({opacity:1,display:"block"})},this.HideAnchors=function(e){t(h.GetLinkRect(e.Id)),t(h.GetRightAnchor(e.Id)),t(h.GetBottomAnchor(e.Id)),t(h.GetLeftAnchor(e.Id)),t(h.GetTopAnchor(e.Id)),t(h.GetCustomAnchor(e.Id))},this.ShowAnchors=function(e){n(h.GetRightAnchor(e.Id)),n(h.GetBottomAnchor(e.Id)),n(h.GetLeftAnchor(e.Id)),n(h.GetTopAnchor(e.Id)),n(h.GetCustomAnchor(e.Id))},this.RemoveGhost=function(){h.GetGhost().remove(),document.body.style.cursor="auto"},this.AddGhost=function(e,t,n,i,o,a){e.append("line").attr({id:v.ghost,x1:t,y1:n,x2:i,y2:o,"marker-end":"url(#ghostmarker)","stroke-width":2,stroke:"black"})},this.AddLinkRect=function(e){h.GetVertexOuterPh(e.Id).append("rect").attr({id:v.linkrect+e.Id,width:h.GetLinkRectWidth(e),height:h.GetLinkRectHeight(e),x:h.GetLinkRectPos(e),y:h.GetLinkRectPos(e),style:"opacity:0",display:"none"})}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGContextMenuService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,o,a,r){this.addContextMenuButtons=function(e){var t,n,i=o.GetVertexOuterPh(e.Id);null===i[0][0]&&(i=o.GetSelRect(e.Id)),n=e,a.contextMenuButtons.forEach(function(e){d3.select("#"+e+n.Id).remove()}),e.ContextMenu&&e.ContextMenu[0]&&((t=i.append("g").attr("id",a.contextMenuButtons[0]+e.Id).style({opacity:0,display:"none"})).append("circle").attr("id",a.anchor+e.Id).attr("cx",2*r.contextMenuButtonWidth-7).attr("cy",2*r.contextMenuButtonWidth-7).attr("r",r.contextMenuButtonWidth+1).attr("class","sit-flow-context-button-circle"),"svg"===e.ContextMenu[0].icon.toLowerCase().split(".").pop()?t.append("image").attr("xlink:href",e.ContextMenu[0].icon).attr("height",16).attr("width",16).attr("x",r.contextMenuButtonWidth-5).attr("y",r.contextMenuButtonWidth-5):t.append("text").attr("class","sit-flow-context-button-icon").style("text-anchor","middle").attr("x",2*r.contextMenuButtonWidth-7).attr("y",2*r.contextMenuButtonWidth-2).text(e.ContextMenu[0].icon),t.append("title").text(e.ContextMenu[0].tooltip)),e.ContextMenu&&e.ContextMenu[1]&&((t=i.append("g").attr("id",a.contextMenuButtons[1]+e.Id).style({opacity:0,display:"none"})).append("circle").attr("id",a.anchor+e.Id).attr("cx",4*r.contextMenuButtonWidth-2).attr("cy",r.contextMenuButtonWidth+3).attr("r",r.contextMenuButtonWidth+1).attr("class","sit-flow-context-button-circle"),"svg"===e.ContextMenu[1].icon.toLowerCase().split(".").pop()?t.append("image").attr("xlink:href",e.ContextMenu[1].icon).attr("height",16).attr("width",16).attr("x",3*r.contextMenuButtonWidth).attr("y",r.contextMenuButtonWidth-5):t.append("text").attr("class","sit-flow-context-button-icon").style("text-anchor","middle").attr("x",4*r.contextMenuButtonWidth-2).attr("y",2*r.contextMenuButtonWidth-3).text(e.ContextMenu[1].icon),t.append("title").text(e.ContextMenu[1].tooltip)),e.ContextMenu&&e.ContextMenu[2]&&((t=i.append("g").attr("id",a.contextMenuButtons[2]+e.Id).style({opacity:0,display:"none"})).append("circle").attr("id",a.anchor+e.Id).attr("cx",r.contextMenuButtonWidth+3).attr("cy",4*r.contextMenuButtonWidth-2).attr("r",r.contextMenuButtonWidth+1).attr("class","sit-flow-context-button-circle"),"svg"===e.ContextMenu[2].icon.toLowerCase().split(".").pop()?t.append("image").attr("xlink:href",e.ContextMenu[2].icon).attr("height",16).attr("width",16).attr("x",r.contextMenuButtonWidth-5).attr("y",3*r.contextMenuButtonWidth):t.append("text").attr("class","sit-flow-context-button-icon").style("text-anchor","middle").attr("x",r.contextMenuButtonWidth+3).attr("y",5*r.contextMenuButtonWidth-5).text(e.ContextMenu[2].icon),t.append("title").text(e.ContextMenu[2].tooltip)),e.ContextMenu&&e.ContextMenu[3]&&((t=i.append("g").attr("id",a.contextMenuButtons[3]+e.Id).style({opacity:0,display:"none"})).append("circle").attr("id",a.anchor+e.Id).attr("cx",6*r.contextMenuButtonWidth+2).attr("cy",r.contextMenuButtonWidth+3).attr("r",r.contextMenuButtonWidth+1).attr("class","sit-flow-context-button-circle"),"svg"===e.ContextMenu[3].icon.toLowerCase().split(".").pop()?t.append("image").attr("xlink:href",e.ContextMenu[3].icon).attr("height",16).attr("width",16).attr("x",5*r.contextMenuButtonWidth+4).attr("y",r.contextMenuButtonWidth-5):t.append("text").attr("class","sit-flow-context-button-icon").style("text-anchor","middle").attr("x",6*r.contextMenuButtonWidth+2).attr("y",2*r.contextMenuButtonWidth-2).text(e.ContextMenu[3].icon),t.append("title").text(e.ContextMenu[3].tooltip)),e.ContextMenu&&e.ContextMenu[4]&&((t=i.append("g").attr("id",a.contextMenuButtons[4]+e.Id).style({opacity:0,display:"none"})).append("circle").attr("id",a.anchor+e.Id).attr("cx",r.contextMenuButtonWidth+3).attr("cy",6*r.contextMenuButtonWidth+2).attr("r",r.contextMenuButtonWidth+1).attr("class","sit-flow-context-button-circle"),"svg"===e.ContextMenu[4].icon.toLowerCase().split(".").pop()?t.append("image").attr("xlink:href",e.ContextMenu[4].icon).attr("height",16).attr("width",16).attr("x",r.contextMenuButtonWidth-5).attr("y",5*r.contextMenuButtonWidth+4):t.append("text").attr("class","sit-flow-context-button-icon").style("text-anchor","middle").attr("x",r.contextMenuButtonWidth+3).attr("y",7*r.contextMenuButtonWidth-3).text(e.ContextMenu[4].icon),t.append("title").text(e.ContextMenu[4].tooltip)),e.IsSelected?this.showContextMenuButtons(e):this.hideContextMenuButtons(e)},this.hideContextMenuButtons=function(e){o.getContextMenuButtons(e.Id).forEach(function(e){e.transition().duration(300).style({opacity:0,display:"none"})})},this.showContextMenuButtons=function(e){o.getContextMenuButtons(e.Id).forEach(function(e){e.transition().duration(300).style({opacity:1,display:"block"})})}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGDebugService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,o,i,a){function r(e){return"x:"+e.X+", y:"+e.Y}function s(e){return"w:"+e.Width+", h:"+e.Height}function c(e){return e.X}function l(e){return e.Y+o.GetOPHHeight(e)}function d(e){return e.X}function m(e){return e.Y+o.GetOPHHeight(e)-17}this.AddDebugElements=function(e,t,n){t.append("rect").attr("id",i.debugOPH+n.Id).attr("width",o.GetOPHWidth(n)).attr("height",o.GetOPHHeight(n)).attr("cx",n.X-a.innerPlaceholderGap).attr("cy",n.Y-a.innerPlaceholderGap).attr("style","stroke:black;stroke-width:1;opacity:0.5").attr("fill","yellow"),t.append("rect").attr("id",i.debugIPH+n.Id).attr("width",n.Width).attr("height",n.Height).attr("x",a.innerPlaceholderGap).attr("y",a.innerPlaceholderGap).attr("style","stroke:black;stroke-width:1;opacity:0.5").attr("fill","pink"),e.append("text").attr("id",i.debugXY+n.Id).attr("x",c(n)).attr("y",l(n)).text(r(n)),e.append("text").attr("id",i.debugWH+n.Id).attr("x",d(n)).attr("y",m(n)).text(s(n))},this.UpdateDebugElements=function(e){var t=o.GetDebugOPH(e.Id);t.attr("width",o.GetOPHWidth(e)),t.attr("height",o.GetOPHHeight(e));var n=o.GetDebugIPH(e.Id);n.attr("width",e.Width),n.attr("height",e.Height);var i=o.GetDebugXY(e.Id);i.attr("x",c(e)),i.attr("y",l(e)),i.text(r(e)),(i=o.GetDebugWH(e.Id)).attr("x",d(e)),i.attr("y",m(e)),i.text(s(e))},this.RemoveDebugElements=function(e){o.GetDebugOPH(e.Id).remove(),o.GetDebugIPH(e.Id).remove(),o.GetDebugXY(e.Id).remove(),o.GetDebugWH(e.Id).remove()}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGGhostService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,a,r,t){this.RemoveVertexGhost=function(){a.GetMoveGhost().remove(),document.body.style.cursor="auto"},this.AddVertexGhost=function(e,t,n,i,o){a.GetMainCanvas(o).append("rect").attr({id:r.moveGhost,x:e,y:t,width:n,height:i,class:"sit-flow-selection-ghost-rect"})},this.UpdateVertexGhost=function(e,t,n,i){a.GetMoveGhost().attr({x:e,y:t,width:n,height:i})}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGGridService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.services.SharingService","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,d,m,u,p){this.AddGrid=function(e,t){null==t&&(t=1);var n=p.zoomMin,i=p.zoomMax,o=u.GridSize*n,a=u.GridSize*i,r=d3.scale.linear().domain([n,i]).range([o,a]),s=d.GetGrid(e),c=d.GetSVG(e),l=r(t);d.GetXAxis(e).remove(),d.GetYAxis(e).remove(),s.insert("g",":first-child").attr("id",m.xAxis+e).attr("class","sit-flow-graph-axis").selectAll("line").data(d3.range(0,c.attr("width"),l)).enter().append("line").attr("x1",function(e){return e}).attr("y1",0).attr("x2",function(e){return e}).attr("y2",c.attr("height")),s.insert("g",":first-child").attr("id",m.yAxis+e).attr("class","sit-flow-graph-axis").selectAll("line").data(d3.range(0,c.attr("height"),l)).enter().append("line").attr("x1",0).attr("y1",function(e){return e}).attr("x2",c.attr("width")).attr("y2",function(e){return e})},this.RemoveGrid=function(e){d.GetXAxis(e).remove(),d.GetYAxis(e).remove()}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGIconService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,r,s,t){this.addIconButtons=function(e){var t,n,i=r.GetVertexOuterPh(e.Id);null===i[0][0]&&(i=r.GetSelRect(e.Id)),n=e,s.iconButtons.forEach(function(e){d3.select("#"+e+n.Id).remove()}),e.IconMenu&&e.IconMenu[0]&&((t=i.append("g").attr("id",s.iconButtons[0]+e.Id).style({opacity:0,display:"none"})).append("text").attr("class","sit-flow-context-button-icon").style("text-anchor","middle").style("font-size","18pt").attr("x",e.IconMenu[0].x||222).attr("y",e.IconMenu[0].y||28).attr("fill",e.IconMenu[0].bgcolor||"red").text(e.IconMenu[0].icon),t.append("title").text(e.IconMenu[0].tooltip)),e.IconMenu&&e.IconMenu[1]&&((t=i.append("g").attr("id",s.iconButtons[1]+e.Id).style({opacity:0,display:"none"})).append("text").attr("class","sit-flow-context-button-icon").style("text-anchor","middle").style("font-size","18pt").attr("x",e.IconMenu[1].x||222).attr("y",e.IconMenu[1].y||28).attr("fill",e.IconMenu[1].bgcolor||"red").text(e.IconMenu[1].icon),t.append("title").text(e.IconMenu[1].tooltip));var o=r.getIconButtonList(e.Id);if(e.IconMenu&&e.IconMenu.length)for(var a=0;a<e.IconMenu.length;a++)e.IconMenu[a].showIcon?this.showIconButtons(o[a]):this.hideIconButtons(o[a])},this.hideIconButtons=function(e){e.transition().duration(300).style({opacity:0,display:"none"})},this.showIconButtons=function(e){e.transition().duration(300).style({opacity:1,display:"block"})}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGLabelService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,o,a,t){this.addLabel=function(e){var t,n,i=o.GetVertexOuterPh(e.Id);null===i[0][0]&&(i=o.GetSelRect(e.Id)),n=e,a.labelList.forEach(function(e){d3.select("#"+e+n.Id).remove()}),e.LabelList&&e.LabelList[0]&&(e.LabelList[0].labels=e.LabelList[0].labels||[],(t=i.append("g").attr("id",a.labelList[0]+e.Id).style({opacity:e.LabelList[0].showLabel?1:0}).on("mousedown",function(){e.MouseDown&&e.MouseDown()}).on("mouseup",function(){e.MouseUp&&e.MouseUp()}).on("mouseleave",function(){e.MouseUp&&e.MouseUp()})).append("rect").attr("x",e.LabelList[0].x).attr("y",e.LabelList[0].y).attr("width",e.LabelList[0].width).attr("height",e.LabelList[0].height).attr("fill",e.LabelList[0].fillColor).attr("stroke-width",e.LabelList[0].strokeWidth||0).attr("stroke",e.LabelList[0].strokeColor||""),t.append("text").attr("fill","white").attr("x",e.LabelList[0].data[0].x?e.LabelList[0].data[0].x:175).attr("y",e.LabelList[0].data[0].y?e.LabelList[0].data[0].y:80).attr("word-spacing",2).style("text-anchor","middle").style("font-size","x-small").text(e.LabelList[0].translationData.waitUntil+e.LabelList[0].data[0].value),t.append("text").attr("fill","white").attr("x",95).attr("y",120).style("font-size","x-small").text(e.LabelList[0].translationData.Days),t.append("text").attr("fill","white").attr("x",140).attr("y",120).style("font-size","x-small").text(e.LabelList[0].translationData.Hours),t.append("text").attr("fill","white").attr("x",183).attr("y",120).style("font-size","x-small").text(e.LabelList[0].translationData.Minutes),t.append("text").attr("fill","white").attr("x",232).attr("y",120).style("font-size","x-small").text(e.LabelList[0].translationData.Seconds),e.LabelList[0].labels[0]=t.append("text").attr("fill","white").attr("x",e.LabelList[0].data[1].x?e.LabelList[0].data[1].x:75).attr("y",e.LabelList[0].data[1].y?e.LabelList[0].data[1].y:103).style("font-size","18px"),e.LabelList[0].labels[1]=t.append("text").attr("fill","white").attr("x",142).attr("y",103).style("font-size","18px"),e.LabelList[0].labels[2]=t.append("text").attr("fill","white").attr("x",190).attr("y",103).style("font-size","18px"),e.LabelList[0].labels[3]=t.append("text").attr("fill","white").attr("x",240).attr("y",103).style("font-size","18px"),t.append("title").text(e.LabelList[0].tooltip)),e.LabelList&&e.LabelList[0]&&e.LabelList[0].update&&e.LabelList[0].update(e.LabelList[0].labels)},this.hideLabel=function(e){e.transition().duration(300).style({opacity:0,display:"none"})},this.showLabel=function(e){e.transition().duration(300).style({opacity:1,display:"block"})}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGPanService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes",function(e,n,i){this.AddPan=function(e){var t=n.GetSVG(e);return t.append("rect").attr({id:i.pan+e,width:t.attr("width",10),height:t.attr("height",10),fill:"transparent",style:"cursor:pointer;display:none"})},this.ShowPan=function(e){n.GetPan(e).style("display","block")},this.HidePan=function(e){n.GetPan(e).style("display","none")}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGPlaceholderService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.services.SharingService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SVGResizeService","siemens.simaticit.common.widgets.flowEditor.services.SVGDebugService","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectionService","siemens.simaticit.common.widgets.flowEditor.services.SVGAnchorService",function(e,i,o,a,r,s,c,l,d){this.CreatePlaceholder=function(e,t){var n=e.append("svg").attr({id:o.oph+t.Id,width:t.OuterWidth||r.GetOPHWidth(t),height:t.OuterHeight||r.GetOPHHeight(t),x:r.GetOPHX(t),y:r.GetOPHY(t)});a.Debug&&c.AddDebugElements(e,n,t),l.AddSelectors(t),d.AddLinkRect(t),s.AddResizers(t),n.append("svg").attr("id",o.iph+t.Id).attr("width",t.Width).attr("height",t.Height).attr("x",i.innerPlaceholderGap).attr("y",i.innerPlaceholderGap)},this.CleanPlaceholder=function(e){r.GetVertexInnerPh(e.Id).each(function(e,t){d3.selectAll(this.childNodes).remove()})},this.UpdatePlaceholder=function(e){var t=r.GetVertexOuterPh(e.Id);t.attr("width",e.OuterWidth||r.GetOPHWidth(e)),t.attr("height",e.OuterHeight||r.GetOPHHeight(e)),t.attr("x",r.GetOPHX(e)),t.attr("y",r.GetOPHY(e));var n=r.GetVertexInnerPh(e.Id);n.attr("width",e.Width),n.attr("height",e.Height),l.UpdateSelectors(e),s.UpdateResizers(e),d.UpdateAnchor(e),d.UpdateLinkRect(e),a.Debug&&c.UpdateDebugElements(e)}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGResizeService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,o,n,a){function r(){return a.innerPlaceholderGap-a.resizeRectGap}function i(e,t,n,i,o,a,r,s){e.append("rect").attr({id:t,width:n,height:i,x:o,y:a,style:"stroke:transparent;stroke-width:3;fill:"+r+"; cursor:"+s+"; opacity:0"}).append("title").html("Resize vertex")}this.AddResizers=function(e){if(e.HResizable||e.VResizable){var t=o.GetVertexOuterPh(e.Id);e.VResizable&&(i(t,n.bottom+e.Id,e.Width-a.resizeRectDimension,a.resizeRectDimension,r()+a.resizeRectDimension,r()+e.Height-a.resizeRectDimension+2*+a.resizeRectGap,"green","n-resize"),i(t,n.top+e.Id,e.Width-2*a.resizeRectDimension+2*a.resizeRectGap,a.resizeRectDimension,r()+a.resizeRectDimension,r(),"pink","n-resize")),e.HResizable&&(i(t,n.right+e.Id,a.resizeRectDimension,e.Height-a.resizeRectDimension,r()+e.Width-a.resizeRectDimension+2*a.resizeRectGap,r()+a.resizeRectDimension,"red","e-resize"),4!=e.BigBlockType&&i(t,n.left+e.Id,a.resizeRectDimension,e.Height-2*a.resizeRectDimension+2*a.resizeRectGap,r(),r()+a.resizeRectDimension,"azure","e-resize")),e.VResizable&&e.HResizable&&(i(t,n.rb_corner+e.Id,a.resizeRectDimension,a.resizeRectDimension,r()+e.Width-a.resizeRectDimension+2*+a.resizeRectGap,r()+e.Height-a.resizeRectDimension+2*+a.resizeRectGap,"cyan","nw-resize"),i(t,n.lb_corner+e.Id,a.resizeRectDimension,a.resizeRectDimension,r(),r()+e.Height-a.resizeRectDimension+2*+a.resizeRectGap,"orange","ne-resize"),i(t,n.lt_corner+e.Id,a.resizeRectDimension,a.resizeRectDimension,r(),r(),"lime","nw-resize"),i(t,n.rt_corner+e.Id,a.resizeRectDimension,a.resizeRectDimension,r()+e.Width-a.resizeRectDimension+2*+a.resizeRectGap,r(),"gold","ne-resize"))}},this.UpdateResizers=function(e){var t=o.GetRightResizeRect(e.Id);t.attr("height",e.Height-a.resizeRectDimension),t.attr("x",r()+e.Width-a.resizeRectDimension+2*a.resizeRectGap);var n=o.GetBottomResizeRect(e.Id);n.attr("width",e.Width-2*a.resizeRectDimension+2*a.resizeRectGap),n.attr("y",r()+e.Height-a.resizeRectDimension+2*a.resizeRectGap),(n=o.GetTopResizeRect(e.Id)).attr("width",e.Width-2*a.resizeRectDimension+2*a.resizeRectGap),n.attr("y",r());var i=o.GetRBCornerResizeRect(e.Id);i.attr("x",r()+e.Width-a.resizeRectDimension+2*a.resizeRectGap),i.attr("y",r()+e.Height-a.resizeRectDimension+2*a.resizeRectGap),(i=o.GetRTCornerResizeRect(e.Id)).attr("x",r()+e.Width-a.resizeRectDimension+2*a.resizeRectGap),(i=o.GetLBCornerResizeRect(e.Id)).attr("y",r()+e.Height-a.resizeRectDimension+2*a.resizeRectGap),(t=o.GetLeftResizeRect(e.Id)).attr("height",e.Height-2*a.resizeRectDimension+2*a.resizeRectGap)}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGSelectionService",["$log","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.model.Vertex","siemens.simaticit.common.widgets.flowEditor.model.Edge","siemens.simaticit.common.widgets.flowEditor.services.SVGContextMenuService",function(e,a,t,n,r,s,c){this.AddSelectors=function(e){a.GetVertexOuterPh(e.Id).append("rect").attr({id:t.selrect+e.Id,width:a.GetSelRectWidth(e),height:a.GetSelRectHeight(e),x:a.GetSelRectPos(e),y:a.GetSelRectPos(e),class:"sit-flow-selection-rect"}).style("opacity",0)},this.UpdateSelectors=function(e){var t=a.GetSelRect(e.Id);t.attr("width",a.GetSelRectWidth(e)),t.attr("height",a.GetSelRectHeight(e))},this.ToggleSelection=function(e){var t,n;if(e instanceof r&&(t=a.GetSelRect(e.Id),e.IsSelected?(e.ContextMenu&&c.showContextMenuButtons(e),t.style("opacity",1)):(t.style("opacity",0),c.hideContextMenuButtons(e),$("#workflow-context-menu").css("display","none"))),e instanceof s){var i=a.GetEdge(e.Id);t=a.GetSelRect(e.Id),n=a.GetEdgeWaypoints(e.Id);var o=a.GetEdgeRoutePoints(e.Id);e.IsSelected?(o.style("opacity","1"),t.style("opacity",1),i.classed("sit-flow-selected-edge",!0),n.style("opacity",1),n.style("zIndex",1e3),c.showContextMenuButtons(e)):(i.classed("sit-flow-selected-edge",!1),o.style("opacity","0.01"),n.style("opacity",0),t.style("opacity",0),c.hideContextMenuButtons(e))}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").service("siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService",["$log","siemens.simaticit.common.widgets.flowEditor.constants.FlowIdPrefixes","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants",function(e,p,g){function t(e){var t=[];return e.forEach(function(e){t.push(n(e))}),0<t.length?t:null}function n(e){var t=d3.select(p.hash+e);return 0<t.length?t:null}function f(e){var t=d3.select(e);return 0<t.length?t:null}function s(e,c,l,d,m,u){for(var t,n=e.selectAll("svg").filter(function(){var e=f(this),t=c+d,n=l+m,i=parseInt(e.attr("x"),10)+g.innerPlaceholderGap,o=parseInt(e.attr("y"),10)+g.innerPlaceholderGap,a=parseInt(e.attr("width"),10)-2*g.innerPlaceholderGap,r=parseInt(e.attr("height"),10)-2*g.innerPlaceholderGap,s=e.attr("id");return u?i<=c&&o<=l&&c<=i+a&&l<=o+r&&i<=t&&o<=n&&t<=i+a&&n<=o+r&&s.startsWith(p.oph)&&s.replace(p.oph,"")!==u:i<=c&&o<=l&&c<=i+a&&l<=o+r&&i<=t&&o<=n&&t<=i+a&&n<=o+r&&s.startsWith(p.oph)}),i=0;i<n[0].length;i++){var o=n[0][i];null==t?t=o:$(o).index()>$(t).index()&&(t=o)}return f(t)}function l(e,r,s,c,l,d){for(var t=e.selectAll("svg").filter(function(){var e=f(this),t=(g.innerPlaceholderGap,g.innerPlaceholderGap,parseInt(e.attr("x"),10)+g.innerPlaceholderGap),n=parseInt(e.attr("y"),10)+g.innerPlaceholderGap,i=parseInt(e.attr("width"),10)-2*g.innerPlaceholderGap,o=parseInt(e.attr("height"),10)-2*g.innerPlaceholderGap,a=e.attr("id");return d?r<t&&s<n&&r<t+i&&t+i<r+c&&s<n+o&&n+o<s+l&&a.startsWith(p.oph)&&a.replace(p.oph,"")!==d:r<t&&s<n&&r<t+i&&t+i<r+c&&s<n+o&&n+o<s+l&&a.startsWith(p.oph)}),n=[],i=0;i<t[0].length;i++){var o=t[0][i];n.push(f(o))}return n}function i(e,t){return t==e.substring(0,t.length)}this.GetCandidateChildrenFromCell=function(e,t){for(var n=[],i=this.GetCandidateChildrenIdFromCell(e.MainCanvas,t),o=0;o<i.length;o++){var a=e.GetCellById(i[o]);n.push(a)}return n},this.GetCandidateParentFromCell=function(e,t){var n=null,i=this.GetCandidateParentIdFromCell(e.MainCanvas,t);if(i){var o=e.GetCellById(i);o.CanHaveChildren&&(n=o)}return n},this.GetCandidateParent=function(e,t,n,i,o){var a=null,r=this.GetCandidateParentId(e.MainCanvas,t,n,i,o);if(r){var s=e.GetCellById(r);s.CanHaveChildren&&(a=s)}return a},this.GetCandidateChildren=function(e,t,n,i,o){for(var a=[],r=this.GetCandidateChildrenId(e.MainCanvas,t,n,i,o),s=0;s<r.length;s++){var c=e.GetCellById(r[s]);a.push(c)}return a},this.MoveOnTop=function(e,t){var n=this.GetVertexOuterPh(e.Id);n[0]&&null!=n[0][0]&&(n.remove(),t.append(function(){return n.node()}),this.MoveEdgesOnTop(e.Incoming,t),this.MoveEdgesOnTop(e.Outgoing,t))},this.MoveEdgesOnTop=function(e,t){for(var n=0;n<e.length;n++){var i=this.GetEdge(e[n].Id);i.remove(),t.append(function(){return i.node()});var o=this.GetEdgeWrapper(e[n].Id);null!=o[0][0]&&(o.remove(),t.append(function(){return o.node()}))}},this.GetCandidateParentIdFromCell=function(e,t){var n=s(e,t.X,t.Y,t.Width,t.Height,t.Id);if(null!=n.node()){var i=this.GetId(n);if(null!=i)return i}},this.GetCandidateChildrenIdFromCell=function(e,t){for(var n=[],i=l(e,t.X,t.Y,t.Width,t.Height,t.Id),o=0;o<i.length;o++)if(null!=i[o].node()){var a=this.GetId(i[o]);null!=a&&n.push(a)}return n},this.GetCandidateParentId=function(e,t,n,i,o){var a=s(e,t,n,i,o);if(null!=a.node()){var r=this.GetId(a);if(null!=r)return r}},this.GetCandidateChildrenId=function(e,t,n,i,o){for(var a=l(e,t,n,i,o),r=[],s=0;s<a.length;s++)if(null!=a[s].node()){var c=this.GetId(a[s]);null!=c&&r.push(c)}return r},this.GetVertexFromPoint=function(e,r,s){for(var t,n=e.selectAll("svg").filter(function(){var e=f(this),t=parseInt(e.attr("x"),10),n=parseInt(e.attr("y"),10),i=parseInt(e.attr("width"),10),o=parseInt(e.attr("height"),10),a=e.attr("id");return t<r&&n<s&&r<t+i&&s<n+o&&a.startsWith(p.oph)}),i=0;i<n[0].length;i++){var o=n[0][i];null==t?t=o:$(o).index()>$(t).index()&&(t=o)}return f(t)},this.GetFirstEdgeId=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=(n=f(n)).attr("id");if(null!=i&&i.startsWith(p.edge))return this.GetId(n)}},this.GetOPHWidth=function(e){return e.Width+2*g.innerPlaceholderGap},this.GetOPHHeight=function(e){return e.Height+2*g.innerPlaceholderGap},this.GetOPHX=function(e){return e.X-g.innerPlaceholderGap},this.GetOPHY=function(e){return e.Y-g.innerPlaceholderGap},this.GetSelRectWidth=function(e){return e.Width+2*g.selectionRectGap},this.GetSelRectHeight=function(e){return e.Height+2*g.selectionRectGap},this.GetSelRectPos=function(e){return g.innerPlaceholderGap-g.selectionRectGap},this.GetLinkRectWidth=function(e){return e.Width+2*g.linkRectGap},this.GetLinkRectHeight=function(e){return e.Height+2*g.linkRectGap},this.GetLinkRectPos=function(e){return g.innerPlaceholderGap-g.linkRectGap},this.GetXAxis=function(e){return n(p.xAxis+e)},this.GetYAxis=function(e){return n(p.yAxis+e)},this.GetGhost=function(){return n(p.ghost)},this.GetMoveGhost=function(){return n(p.moveGhost)},this.GetResizeMode=function(e){return f(e).attr("id")},this.GetVertexIdFromNode=function(e){var t=f(e);return this.GetId(t)},this.GetMainCanvasMousePosition=function(e){return d3.mouse(e.node())},this.GetMainCanvas=function(e){return n(p.canvas+e)},this.GetSVG=function(e){return n(p.svg+e)},this.GetPan=function(e){return n(p.pan+e)},this.GetGrid=function(e){return n(p.grid+e)},this.GetGraph=function(e){return n(e)},this.GetGraphContainerDimensions=function(e){return function e(t){return t&&0!=t.clientWidth?[t.clientWidth,t.clientHeight]:e(t.parentNode)}(this.GetGraph(e).node().parentNode)},this.GetPZOverlay=function(e){return n(p.overlay+e)},this.GetLinkRect=function(e){return n(p.linkrect+e)},this.GetVertexOuterPh=function(e){return n(p.oph+e)},this.GetVertexInnerPh=function(e){return n(p.iph+e)},this.GetBottomResizeRect=function(e){return n(p.bottom+e)},this.GetRightResizeRect=function(e){return n(p.right+e)},this.GetLeftResizeRect=function(e){return n(p.left+e)},this.GetTopResizeRect=function(e){return n(p.top+e)},this.GetRBCornerResizeRect=function(e){return n(p.rb_corner+e)},this.GetRTCornerResizeRect=function(e){return n(p.rt_corner+e)},this.GetLTCornerResizeRect=function(e){return n(p.lt_corner+e)},this.GetLBCornerResizeRect=function(e){return n(p.lb_corner+e)},this.getContextMenuButtons=function(e){return t((p.contextMenuButtons.join(e+",")+e).split(","))},this.getIconButtonList=function(e){return t((p.iconButtons.join(e+",")+e).split(","))},this.GetCustomAnchor=function(e){return f(p.hash+p.customAnchor+e)},this.GetRightAnchor=function(e){return f(p.hash+p.right_anchor+e)},this.GetBottomAnchor=function(e){return f(p.hash+p.bottom_anchor+e)},this.GetLeftAnchor=function(e){return f(p.hash+p.left_anchor+e)},this.GetTopAnchor=function(e){return f(p.hash+p.top_anchor+e)},this.GetRenameButton=function(e){return n(p.renamebutton+e)},this.GetConfigButton=function(e){return n(p.configbutton+e)},this.GetDeleteButton=function(e){return n(p.deletebutton+e)},this.GetEdge=function(e){return n(p.edge+e)},this.GetEdgeWrapper=function(e){return n(p.edgewrap+e)},this.GetEdgeRoutePoints=function(e,t){return t?n(p.edgeRoute+e+"_"+t):d3.selectAll("[id^="+p.edgeRoute+e+"_]")},this.GetEdgeLabel=function(e){return n(p.edgeLabel+e)},this.GetPlaceholder=function(e){return n(p.iph+e)},this.GetAllInsidePlaceholder=function(e){return d3.selectAll(p.iph+e+"> * ")},this.GetDebugOPH=function(e){return n(p.debugOPH+e)},this.GetMovingWayPoint=function(){return n("movingWayPoint")},this.GetEdgeWaypoints=function(e){return n("_wayPoints"+e)},this.GetSelRect=function(e){return n(p.selrect+e)},this.GetSelEdgeLabel=function(e){return n(p.edgeLabel+e)},this.GetSelEdgeToken=function(e){return n("edge_token_"+e)},this.GetAligner=function(e){return d3.selectAll(p.hash+p.aligner+e)},this.GetDebugIPH=function(e){return n(p.debugIPH+e)},this.GetDebugXY=function(e){return n(p.debugXY+e)},this.GetDebugWH=function(e){return n(p.debugWH+e)},this.GetId=function(e){var t=e.attr("id");return null==t?null:i(t,p.oph)?t.replace(p.oph,""):i(t,p.iph)?t.replace(p.iph,""):i(t,p.edgeRoute)?t.replace(p.edgeRoute,""):i(t,p.edge)?t.replace(p.edge,""):i(t,p.edgewrap)?t.replace(p.edgewrap,""):i(t,p.right_anchor)?t.replace(p.right_anchor,""):i(t,p.left_anchor)?t.replace(p.left_anchor,""):i(t,p.top_anchor)?t.replace(p.top_anchor,""):i(t,p.bottom_anchor)?t.replace(p.bottom_anchor,""):i(t,p.right)?t.replace(p.right,""):i(t,p.bottom)?t.replace(p.bottom,""):i(t,p.left)?t.replace(p.left,""):i(t,p.top)?t.replace(p.top,""):i(t,p.rb_corner)?t.replace(p.rb_corner,""):i(t,p.lt_corner)?t.replace(p.lt_corner,""):i(t,p.lb_corner)?t.replace(p.lb_corner,""):i(t,p.rt_corner)?t.replace(p.rt_corner,""):i(t,p.renamebutton)?t.replace(p.renamebutton,""):i(t,p.contextMenuButtons[0])?t.replace(p.contextMenuButtons[0],""):i(t,p.contextMenuButtons[1])?t.replace(p.contextMenuButtons[1],""):i(t,p.contextMenuButtons[2])?t.replace(p.contextMenuButtons[2],""):i(t,p.contextMenuButtons[3])?t.replace(p.contextMenuButtons[3],""):i(t,p.contextMenuButtons[4])?t.replace(p.contextMenuButtons[4],""):i(t,p.customAnchor)?t.replace(p.customAnchor,""):void 0}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.SelectionService",["$log","$interval","$timeout","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectionService",function(i,e,a,r){return function(e,t){var n=this;n.onSelectionChanged=t,this.SelectedCells=new Array;var o=function(){a(function(){n.onSelectionChanged&&n.onSelectionChanged(n.SelectedCells),i.debug("[SetSelected] executed")},100)};this.SetSelected=function(e){if(e&&0<e.length){for(var t=0;t<e.length;t++){var n=e[t];if(n.IsSelected)return;(null==n.Selectable||n.Selectable)&&(n.IsSelected=!0,-1===this.SelectedCells.indexOf(n)&&this.SelectedCells.push(n),r.ToggleSelection(n))}o()}},this.SetUnSelected=function(e){if(e&&0<e.length){for(var t=0;t<e.length;t++)for(var n=e[t],i=0;i<this.SelectedCells.length;i++)if(this.SelectedCells[i].Id==n.Id&&(null==n.Selectable||n.Selectable)&&n.IsSelected){n.IsSelected=!1,this.SelectedCells.splice(i,1),r.ToggleSelection(n);break}o()}},this.ClearSelection=function(){if(0<this.SelectedCells.length){for(var e=0;e<this.SelectedCells.length;e++){var t=this.SelectedCells[e];null!=t&&(t.IsSelected=!1,r.ToggleSelection(t))}this.SelectedCells=new Array}}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.SharingService",["$log",function(e){return function(){this.Id,this.Label,this.Arguments,this.Debug=!1,this.MoveMode="full",this.ResizeMode="full",this.GridSize=10}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.ToolsService",["$log","siemens.simaticit.common.widgets.flowEditor.services.PluginService","siemens.simaticit.common.widgets.flowEditor.constants.FlowConstants","siemens.simaticit.common.widgets.flowEditor.services.SVGSelectorService","siemens.simaticit.common.widgets.flowEditor.services.SharingService",function(e,m,t,u,o){return function(n,i,d,e){t.initialHeight,t.initialWidth;var a=new o;this.ShowGrid=e.isShowGrid(),this.SnapToGrid=!0,this.ShowPan=!1,this.SnapOnResize=function(e,t){if(this.SnapToGrid){var n=a.GridSize/2,i=e/n,o=parseFloat("0."+(i+"").split(".")[1]);.5<o?e+=n*(1-o):e-=n*o,i=t/n,.5<(o=parseFloat("0."+(i+"").split(".")[1]))?t+=n*(1-o):t-=n*o}return[e,t]},this.SnapOnMove=function(e,t){if(this.SnapToGrid){var n=a.GridSize/2,i=e/n,o=parseFloat("0."+(i+"").split(".")[1]);.5<=o?e+=n*(1-o):e-=n*o,i=t/n,.5<=(o=parseFloat("0."+(i+"").split(".")[1]))?t+=n*(1-o):t-=n*o}return[e,t]},this.GetSelectedCells=function(){return i.SelectedCells[0]},this.GetAllSelectedCells=function(){return i.SelectedCells},this.UpdateEdges=function(e){for(var t,n,i,o,a,r,s,c,l=0;l<e.Outgoing.length;l++)(t=e.Outgoing[l]).Source=e,(n=u.GetEdge(t.Id)).remove(n),(i=u.GetEdgeWrapper(t.Id)).remove(i),(c=u.GetEdgeWaypoints(t.Id)).remove(c),(o=u.GetEdgeRoutePoints(t.Id)).remove(o),(a=u.GetSelRect(t.Id)).remove(a),(r=u.GetSelEdgeLabel(t.Id)).remove(r),(s=u.GetSelEdgeToken(t.Id)).remove(s),m.DrawEdge(t,d);for(l=0;l<e.Incoming.length;l++)(t=e.Incoming[l]).Target=e,(n=u.GetEdge(t.Id)).remove(n),(i=u.GetEdgeWrapper(t.Id)).remove(),(o=u.GetEdgeRoutePoints(t.Id)).remove(o),(a=u.GetSelRect(t.Id)).remove(a),(r=u.GetSelEdgeLabel(t.Id)).remove(r),(s=u.GetSelEdgeToken(t.Id)).remove(s),(c=u.GetEdgeWaypoints(t.Id)).remove(c),m.DrawEdge(t,d)},this.Select=function(e){null!=e&&i.SetSelected([e])},this.UnSelect=function(e){null!=e&&i.SetUnSelected([e])},this.ClearSelection=function(){for(var e=i.SelectedCells,t=0;t<e.length;t++)e[t]?e[t]=n.GetCellById(e[t].Id):e.splice(t,1);i.ClearSelection(),e&&e.length&&n.UpdateCells(e)}}}]),angular.module("siemens.simaticit.common.widgets.flowEditor").factory("siemens.simaticit.common.widgets.flowEditor.services.UndoRedoService",["$log",function(n){var t=function(e,t){this.PreviousAction=e,this.NextAction,this.PreviousNode=t,this.NextNode},i=function(e){this.CurrentState=new t,this.Head=this.CurrentState,this.Length,this.CanRedo=function(){return null!=this.CurrentState.NextAction&&null!=this.CurrentState.NextNode},this.CanUndo=function(){return null!=this.CurrentState.PreviousAction&&null!=this.CurrentState.PreviousNode},this.GetUndoableActions=function(){for(var e=this.Head,t=new Array;null!=e&&e!=this.CurrentState&&null!=e.NextAction;)t.push(e.NextAction),e=e.NextNode;return t},this.GetRedoableActions=function(){for(var e=this.CurrentState,t=new Array;null!=e&&null!=e.NextAction;)t.push(e.NextAction),e=e.NextNode;return t},this.AddAction=function(e){return this.CurrentState.NextAction=e,this.CurrentState.NextNode=new t(e,this.CurrentState),!0},this.Clear=function(){this.Head=this.CurrentState=new t},this.Undo=function(){this.CurrentState&&this.CurrentState.PreviousAction&&angular.forEach(this.CurrentState.PreviousAction.siblings,function(e){e.UnExecute()}),this.CanUndo||n.error("History.MoveBack() cannot execute"),this.CurrentState.PreviousAction&&this.CurrentState.PreviousAction.CanUnExecute()&&this.CurrentState.PreviousAction.UnExecute(),this.CurrentState=this.CurrentState.PreviousNode,this.Length-=1,e&&e()},this.Redo=function(){this.CurrentState&&this.CurrentState.NextAction&&angular.forEach(this.CurrentState.NextAction.siblings,function(e){e.Execute()}),this.CanRedo||n.error("History.MoveForward() cannot execute"),this.CurrentState.NextAction&&this.CurrentState.NextAction.CanExecute()&&this.CurrentState.NextAction.Execute(),this.CurrentState=this.CurrentState.NextNode,this.Length+=1,e&&e()}};return function(e,t){this.History=new i(t),this.Record=function(e){null!=e&&this.RunAction(e)},this.Redo=function(){this.CanUndo&&(this.IsWorking?n.error("UndoRedoManager is currently busy executing a transaction"):(this.ExecutingAction=this.History.CurrentState.PreviousAction,this.History.Redo(),this.ExecutingAction=null))},this.Undo=function(){this.CanRedo&&(this.IsWorking?n.error("UndoRedoManager is currently busy executing a transaction"):(this.ExecutingAction=this.History.CurrentState.NextAction,this.History.Undo(),this.ExecutingAction=null))},this.CanUndo=function(){return this.History.CanUndo()},this.CanRedo=function(){return this.History.CanRedo()},this.GetUndoableActions=function(){return this.History.GetUndoableActions()},this.GetRedoableActions=function(){return this.History.GetRedoableActions()},this.GetCurrentState=function(){return this.History.CurrentState},this.ExecutingAction,this.Clear=function(){this.History.Clear(),this.ExecutingAction=null},this.CheckIfImWorking=function(e){var t=null!=e?e.toString():"";null!=this.ExecutingAction&&n.error("UndoRedoService.Record: the UndoRedoService is currently running or undoing an action ({0})",t)},this.RunAction=function(e){this.CheckIfImWorking(e),this.ExecutingAction=e,this.History.AddAction(e)&&this.History.Redo(),this.ExecutingAction=null}}}]),function(){function e(e,t,n){var i=this;function o(e){e.onClick?e.onClick(e):i.options.onClick&&i.options.onClick(e)}(function(){if(i.displayIcon=null,i.options.svgIcon?i.displayIcon={path:i.options.svgIcon,size:"16px"}:i.options.cmdIcon&&(i.displayIcon={prefix:"cmd",name:i.options.cmdIcon,suffix:"24",size:"16px"}),i.options.menuItems)for(var e=0;e<i.options.menuItems.length;e++)i.options.menuItems[e].displayIcon=null,i.options.menuItems[e].svgIcon?i.options.menuItems[e].displayIcon={path:i.options.menuItems[e].svgIcon,size:"16px"}:i.options.menuItems[e].cmdIcon&&(i.options.menuItems[e].displayIcon={prefix:"cmd",name:i.options.menuItems[e].cmdIcon,suffix:"24",size:"16px"})})(),e.addClass("dropdown"),e.append(n('<span id="{{vm.options.id}}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="{{vm.options.icon}}" sit-mom-icon="vm.displayIcon" ng-class="{momIcon: vm.displayIcon !== null }"></i>&nbsp; {{vm.options.title}}</span><div class="header-color header-popover dropdown-menu" aria-labelledby="{{vm.options.id}}"><div class="popover-content header-popover" ng-repeat="menuItem in vm.options.menuItems" id="{{menuItem.id}}" ng-click="vm.onMenuItemClick(menuItem)"><span ng-if="menuItem.icon" class="{{menuItem.icon}}" sit-mom-icon="menuItem.displayIcon" ng-class="{momIcon: menuItem.displayIcon !== null }"></span>&nbsp;<span>{{menuItem.title|translate}}</span></div></div>')(t)),t.$on("$destroy",function(){}),i.onMenuItemClick=o}angular.module("siemens.simaticit.common").directive("sitFlymenu",function(){return{restrict:"EA",scope:!0,bindToController:{options:"=sitFlymenu"},controller:e,controllerAs:"vm"}}),e.$inject=["$element","$scope","$compile"]}(),angular.module("siemens.simaticit.common.widgets.flyout",[]),function(){function e(){var t=this;function e(e){t.isVisible=e}function n(){return t.isVisible}function i(){$("[data-original-title]").popover("hide"),$("body").on("hidden.bs.popover",function(e){$(e.target).data("bs.popover").inState.click=!1})}t.isVisible=!1,t.setVisibility=e,t.getVisibility=n,t.closeFlyout=i,t.closeIcon={path:"common/icons/cmdClosePanel24.svg",size:"16px"}}angular.module("siemens.simaticit.common.widgets.flyout").directive("sitFlyout",["$compile","common.widgets.flyout.service",function(d,m){return{restrict:"A",bindToController:{sitPlacement:"@",sitTemplateuri:"@",sitTemplatedata:"="},scope:{},controller:e,controllerAs:"Flyout",link:function(t,n,e,l){var i=27;function o(e){$("[data-original-title]").each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".popover").has(e.target).length||$(this).popover("hide")})}function a(e){e.which===i&&$("[data-original-title]").popover("hide")}function r(){l.getVisibility()&&$(n).popover("show")}function s(){l.setVisibility(!0)}function c(){l.setVisibility(!1)}m.getTemplate(l.sitTemplateuri).then(function(e){$(n).popover({trigger:"click",html:!0,template:'<div class="sit-flyout-menu popover"><div class="arrow"></div><div class="flyout" role="tooltip"><div><h3 class="popover-title"></h3><div><span class="flyout-header">Links</span><img ng-click="Flyout.closeFlyout()" class="close-icon" data-ng-src="{{Flyout.closeIcon.path}}"height="{{Flyout.closeIcon.size}}" width="{{Flyout.closeIcon.size}}" /></div></div><div class="popover-content"></div></div></div>',content:d(e)(t),placement:function(e,t){var n=l.sitPlacement;if("auto"===n){var i=$(t).offset(),o=$(window.document).outerHeight(),a=$(window.document).outerWidth(),r=.5*o-i.top,s=0<r?"bottom":"top",c=0<.5*a-i.left?"right":"left";n=130<Math.abs(r)?s:c}return n}}).click(function(){d($(".popover.in").contents())(t)})}),$("html").on("click",o),$(window.document).on("keyup",a),$(window).on("resize",r),$(n).on("shown.bs.popover",s),$(n).on("hidden.bs.popover",c),t.$on("$destroy",function(){$("html").off("click",o),$(window).off("resize",r),$(window.document).off("keyup",a),$(n).off("shown.bs.popover",s),$(n).off("hidden.bs.popover",c)})}}}])}(),function(){function e(n,i){this.hideFlyout=function(){$("[data-original-title]").popover("hide")},this.getTemplate=function(e){var t=n.defer();return i.get(e).then(function(e){t.resolve(e.data)}),t.promise}}angular.module("siemens.simaticit.common.widgets.flyout").service("common.widgets.flyout.service",e),e.$inject=["$q","$http"]}(),angular.module("siemens.simaticit.common.widgets.fullscreenDialog",[]),function(){function e(e,c,l,t){var d,m,u,p,g,f,n=this;function i(e){var t,n,i,o,a,r,s;f=!1,(d=!d)&&(f=!0,m.css("display","block"),t=u.offset().left,n=c.find("div[data-internal-type=menuDropdownIcon]").offset().left,i=m.find("div[data-internal-type=contextMenuPopup]").width(),o=t+p-g-n,s=(a=-i/2)<-(r=t+p-g)?-r:a,m.css("left",o),m.find("div[data-internal-type=contextMenuPopup]").css("left",s),m.find("div[data-internal-type=contextMenuPopup]").on("click",h),l.on("click",v))}function h(e){e.stopPropagation()}function v(e){f?f=!1:(d=!1,m.css({display:"none",left:0}),l.off("click",v),m.off("click",h))}e.$on("$destroy",function(){l.off("click",v),m.off("click",h)}),n.contextConfig.svgIcon&&(n.svgIcon={path:n.contextConfig.svgIcon,size:"16px"}),n.contextConfig.icon||n.contextConfig.svgIcon||(n.svgIcon={path:"common/icons/cmdParts24.svg",size:"16px"}),n.menuIcon=n.contextConfig.icon?n.contextConfig.icon:"fa fa-cube",n.tooltip=n.contextConfig.tooltip?n.contextConfig.tooltip:t.instant("contextInfo.title"),f=!(d=!1),m=c.find("div[data-internal-type=contextMenu]"),u=c.find("button[data-internal-type=menuButton]"),p=31,g=9,n.toggleContextMenu=i}angular.module("siemens.simaticit.common.widgets.fullscreenDialog").directive("sitContextInfo",function(){return{restrict:"E",scope:{},bindToController:{contextConfig:"=sitConfig"},controller:e,controllerAs:"contextCtrl",templateUrl:"common/widgets/fullscreenDialog/fullscreen-context.html"}}),e.$inject=["$scope","$element","$document","$translate"]}(),function(){function e(e){e.$on("$destroy",function(){})}angular.module("siemens.simaticit.common.widgets.fullscreenDialog").directive("sitFullscreenDialog",function(){return{bindToController:{sitCloseCallback:"&"},scope:{},restrict:"E",transclude:!0,templateUrl:"common/widgets/fullscreenDialog/fullscreen-dialog.html",controller:e,controllerAs:"dialogCtrl"}}),e.$inject=["$scope"]}(),function(){function e(e){e.$on("$destroy",function(){})}angular.module("siemens.simaticit.common.widgets.fullscreenDialog").directive("sitFullscreenHeader",function(){return{bindToController:{},scope:{},restrict:"E",transclude:!0,require:["sitFullscreenHeader","^sitFullscreenDialog"],templateUrl:"common/widgets/fullscreenDialog/fullscreen-header.html",controller:e,controllerAs:"headerCtrl",link:function(e,t,n,i){i[0].sitCloseCallback=i[1].sitCloseCallback;var o=t.find("div[ng-transclude]").children();o.each(function(e,t){var n=t.tagName.toLocaleLowerCase().split("sit-")[1];$(t).wrap('<div class="fullscreen-'+n+'-container"></div>')})}}}),e.$inject=["$scope"]}(),function(){function e(){}angular.module("siemens.simaticit.common.widgets.fullscreenDialog").directive("sitTitle",function(){return{bindToController:{},scope:{},restrict:"E",transclude:!0,templateUrl:"common/widgets/fullscreenDialog/fullscreen-title.html",controller:e,controllerAs:"titleCtrl",link:function(e,t,n,i){function o(){var e=this.parentElement,t=this.children[0].innerText;e.offsetWidth<e.scrollWidth?e.setAttribute("title",t):e.removeAttribute("title")}t.on("mouseenter",o),e.$on("$destroy",function(){t.off("mouseenter",o)})}}})}(),angular.module("siemens.simaticit.common.widgets.graph",[]),angular.module("siemens.simaticit.common.widgets.graph").constant("d3",window.d3),angular.module("siemens.simaticit.common.widgets.graph").value("common.graph.fontAwesomIconData",{fontAwesomIcon:[{icon:"fa-500px",charCode:""},{icon:"fa-adjust",charCode:""},{icon:"fa-adn",charCode:""},{icon:"fa-align-center",charCode:""},{icon:"fa-align-justify",charCode:""},{icon:"fa-align-left",charCode:""},{icon:"fa-align-right",charCode:""},{icon:"fa-amazon",charCode:""},{icon:"fa-ambulance",charCode:""},{icon:"fa-anchor",charCode:""},{icon:"fa-android",charCode:""},{icon:"fa-angellist",charCode:""},{icon:"fa-angle-double-down",charCode:""},{icon:"fa-angle-double-left",charCode:""},{icon:"fa-angle-double-right",charCode:""},{icon:"fa-angle-double-up",charCode:""},{icon:"fa-angle-down",charCode:""},{icon:"fa-angle-left",charCode:""},{icon:"fa-angle-right",charCode:""},{icon:"fa-angle-up",charCode:""},{icon:"fa-apple",charCode:""},{icon:"fa-archive",charCode:""},{icon:"fa-area-chart",charCode:""},{icon:"fa-arrow-circle-down",charCode:""},{icon:"fa-arrow-circle-left",charCode:""},{icon:"fa-arrow-circle-o-down",charCode:""},{icon:"fa-arrow-circle-o-left",charCode:""},{icon:"fa-arrow-circle-o-right",charCode:""},{icon:"fa-arrow-circle-o-up",charCode:""},{icon:"fa-arrow-circle-right",charCode:""},{icon:"fa-arrow-circle-up",charCode:""},{icon:"fa-arrow-down",charCode:""},{icon:"fa-arrow-left",charCode:""},{icon:"fa-arrow-right",charCode:""},{icon:"fa-arrow-up",charCode:""},{icon:"fa-arrows",charCode:""},{icon:"fa-arrows-alt",charCode:""},{icon:"fa-arrows-h",charCode:""},{icon:"fa-arrows-v",charCode:""},{icon:"fa-asterisk",charCode:""},{icon:"fa-at",charCode:""},{icon:"fa-automobile ",charCode:""},{icon:"fa-backward",charCode:""},{icon:"fa-balance-scale",charCode:""},{icon:"fa-ban",charCode:""},{icon:"fa-bank ",charCode:""},{icon:"fa-bar-chart",charCode:""},{icon:"fa-bar-chart-o ",charCode:""},{icon:"fa-barcode",charCode:""},{icon:"fa-bars",charCode:""},{icon:"fa-battery-0 ",charCode:""},{icon:"fa-battery-1 ",charCode:""},{icon:"fa-battery-2 ",charCode:""},{icon:"fa-battery-3 ",charCode:""},{icon:"fa-battery-4 ",charCode:""},{icon:"fa-battery-empty",charCode:""},{icon:"fa-battery-full",charCode:""},{icon:"fa-battery-half",charCode:""},{icon:"fa-battery-quarter",charCode:""},{icon:"fa-battery-three-quarters",charCode:""},{icon:"fa-bed",charCode:""},{icon:"fa-beer",charCode:""},{icon:"fa-behance",charCode:""},{icon:"fa-behance-square",charCode:""},{icon:"fa-bell",charCode:""},{icon:"fa-bell-o",charCode:""},{icon:"fa-bell-slash",charCode:""},{icon:"fa-bell-slash-o",charCode:""},{icon:"fa-bicycle",charCode:""},{icon:"fa-binoculars",charCode:""},{icon:"fa-birthday-cake",charCode:""},{icon:"fa-bitbucket",charCode:""},{icon:"fa-bitbucket-square",charCode:""},{icon:"fa-bitcoin ",charCode:""},{icon:"fa-black-tie",charCode:""},{icon:"fa-bluetooth",charCode:""},{icon:"fa-bluetooth-b",charCode:""},{icon:"fa-bold",charCode:""},{icon:"fa-bolt",charCode:""},{icon:"fa-bomb",charCode:""},{icon:"fa-book",charCode:""},{icon:"fa-bookmark",charCode:""},{icon:"fa-bookmark-o",charCode:""},{icon:"fa-briefcase",charCode:""},{icon:"fa-btc",charCode:""},{icon:"fa-bug",charCode:""},{icon:"fa-building",charCode:""},{icon:"fa-building-o",charCode:""},{icon:"fa-bullhorn",charCode:""},{icon:"fa-bullseye",charCode:""},{icon:"fa-bus",charCode:""},{icon:"fa-buysellads",charCode:""},{icon:"fa-cab ",charCode:""},{icon:"fa-calculator",charCode:""},{icon:"fa-calendar",charCode:""},{icon:"fa-calendar-check-o",charCode:""},{icon:"fa-calendar-minus-o",charCode:""},{icon:"fa-calendar-o",charCode:""},{icon:"fa-calendar-plus-o",charCode:""},{icon:"fa-calendar-times-o",charCode:""},{icon:"fa-camera",charCode:""},{icon:"fa-camera-retro",charCode:""},{icon:"fa-car",charCode:""},{icon:"fa-caret-down",charCode:""},{icon:"fa-caret-left",charCode:""},{icon:"fa-caret-right",charCode:""},{icon:"fa-caret-square-o-down",charCode:""},{icon:"fa-caret-square-o-left",charCode:""},{icon:"fa-caret-square-o-right",charCode:""},{icon:"fa-caret-square-o-up",charCode:""},{icon:"fa-caret-up",charCode:""},{icon:"fa-cart-arrow-down",charCode:""},{icon:"fa-cart-plus",charCode:""},{icon:"fa-cc",charCode:""},{icon:"fa-cc-amex",charCode:""},{icon:"fa-cc-diners-club",charCode:""},{icon:"fa-cc-discover",charCode:""},{icon:"fa-cc-jcb",charCode:""},{icon:"fa-cc-mastercard",charCode:""},{icon:"fa-cc-paypal",charCode:""},{icon:"fa-cc-stripe",charCode:""},{icon:"fa-cc-visa",charCode:""},{icon:"fa-certificate",charCode:""},{icon:"fa-chain ",charCode:""},{icon:"fa-chain-broken",charCode:""},{icon:"fa-check",charCode:""},{icon:"fa-check-circle",charCode:""},{icon:"fa-check-circle-o",charCode:""},{icon:"fa-check-square",charCode:""},{icon:"fa-check-square-o",charCode:""},{icon:"fa-chevron-circle-down",charCode:""},{icon:"fa-chevron-circle-left",charCode:""},{icon:"fa-chevron-circle-right",charCode:""},{icon:"fa-chevron-circle-up",charCode:""},{icon:"fa-chevron-down",charCode:""},{icon:"fa-chevron-left",charCode:""},{icon:"fa-chevron-right",charCode:""},{icon:"fa-chevron-up",charCode:""},{icon:"fa-child",charCode:""},{icon:"fa-chrome",charCode:""},{icon:"fa-circle",charCode:""},{icon:"fa-circle-o",charCode:""},{icon:"fa-circle-o-notch",charCode:""},{icon:"fa-circle-thin",charCode:""},{icon:"fa-clipboard",charCode:""},{icon:"fa-clock-o",charCode:""},{icon:"fa-clone",charCode:""},{icon:"fa-close ",charCode:""},{icon:"fa-cloud",charCode:""},{icon:"fa-cloud-download",charCode:""},{icon:"fa-cloud-upload",charCode:""},{icon:"fa-cny ",charCode:""},{icon:"fa-code",charCode:""},{icon:"fa-code-fork",charCode:""},{icon:"fa-codepen",charCode:""},{icon:"fa-codiepie",charCode:""},{icon:"fa-coffee",charCode:""},{icon:"fa-cog",charCode:""},{icon:"fa-cogs",charCode:""},{icon:"fa-columns",charCode:""},{icon:"fa-comment",charCode:""},{icon:"fa-comment-o",charCode:""},{icon:"fa-commenting",charCode:""},{icon:"fa-commenting-o",charCode:""},{icon:"fa-comments",charCode:""},{icon:"fa-comments-o",charCode:""},{icon:"fa-compass",charCode:""},{icon:"fa-compress",charCode:""},{icon:"fa-connectdevelop",charCode:""},{icon:"fa-contao",charCode:""},{icon:"fa-copy ",charCode:""},{icon:"fa-copyright",charCode:""},{icon:"fa-creative-commons",charCode:""},{icon:"fa-credit-card",charCode:""},{icon:"fa-credit-card-alt",charCode:""},{icon:"fa-crop",charCode:""},{icon:"fa-crosshairs",charCode:""},{icon:"fa-css3",charCode:""},{icon:"fa-cube",charCode:""},{icon:"fa-cubes",charCode:""},{icon:"fa-cut ",charCode:""},{icon:"fa-cutlery",charCode:""},{icon:"fa-dashboard ",charCode:""},{icon:"fa-dashcube",charCode:""},{icon:"fa-database",charCode:""},{icon:"fa-dedent ",charCode:""},{icon:"fa-delicious",charCode:""},{icon:"fa-desktop",charCode:""},{icon:"fa-deviantart",charCode:""},{icon:"fa-diamond",charCode:""},{icon:"fa-digg",charCode:""},{icon:"fa-dollar ",charCode:""},{icon:"fa-dot-circle-o",charCode:""},{icon:"fa-download",charCode:""},{icon:"fa-dribbble",charCode:""},{icon:"fa-dropbox",charCode:""},{icon:"fa-drupal",charCode:""},{icon:"fa-edge",charCode:""},{icon:"fa-edit ",charCode:""},{icon:"fa-eject",charCode:""},{icon:"fa-ellipsis-h",charCode:""},{icon:"fa-ellipsis-v",charCode:""},{icon:"fa-empire",charCode:""},{icon:"fa-envelope",charCode:""},{icon:"fa-envelope-o",charCode:""},{icon:"fa-envelope-square",charCode:""},{icon:"fa-eraser",charCode:""},{icon:"fa-eur",charCode:""},{icon:"fa-euro ",charCode:""},{icon:"fa-exchange",charCode:""},{icon:"fa-exclamation",charCode:""},{icon:"fa-exclamation-circle",charCode:""},{icon:"fa-exclamation-triangle",charCode:""},{icon:"fa-expand",charCode:""},{icon:"fa-expeditedssl",charCode:""},{icon:"fa-external-link",charCode:""},{icon:"fa-external-link-square",charCode:""},{icon:"fa-eye",charCode:""},{icon:"fa-eye-slash",charCode:""},{icon:"fa-eyedropper",charCode:""},{icon:"fa-facebook",charCode:""},{icon:"fa-facebook-f ",charCode:""},{icon:"fa-facebook-official",charCode:""},{icon:"fa-facebook-square",charCode:""},{icon:"fa-fast-backward",charCode:""},{icon:"fa-fast-forward",charCode:""},{icon:"fa-fax",charCode:""},{icon:"fa-feed ",charCode:""},{icon:"fa-female",charCode:""},{icon:"fa-fighter-jet",charCode:""},{icon:"fa-file",charCode:""},{icon:"fa-file-archive-o",charCode:""},{icon:"fa-file-audio-o",charCode:""},{icon:"fa-file-code-o",charCode:""},{icon:"fa-file-excel-o",charCode:""},{icon:"fa-file-image-o",charCode:""},{icon:"fa-file-movie-o ",charCode:""},{icon:"fa-file-o",charCode:""},{icon:"fa-file-pdf-o",charCode:""},{icon:"fa-file-photo-o ",charCode:""},{icon:"fa-file-picture-o ",charCode:""},{icon:"fa-file-powerpoint-o",charCode:""},{icon:"fa-file-sound-o ",charCode:""},{icon:"fa-file-text",charCode:""},{icon:"fa-file-text-o",charCode:""},{icon:"fa-file-video-o",charCode:""},{icon:"fa-file-word-o",charCode:""},{icon:"fa-file-zip-o ",charCode:""},{icon:"fa-files-o",charCode:""},{icon:"fa-film",charCode:""},{icon:"fa-filter",charCode:""},{icon:"fa-fire",charCode:""},{icon:"fa-fire-extinguisher",charCode:""},{icon:"fa-firefox",charCode:""},{icon:"fa-flag",charCode:""},{icon:"fa-flag-checkered",charCode:""},{icon:"fa-flag-o",charCode:""},{icon:"fa-flash ",charCode:""},{icon:"fa-flask",charCode:""},{icon:"fa-flickr",charCode:""},{icon:"fa-floppy-o",charCode:""},{icon:"fa-folder",charCode:""},{icon:"fa-folder-o",charCode:""},{icon:"fa-folder-open",charCode:""},{icon:"fa-folder-open-o",charCode:""},{icon:"fa-font",charCode:""},{icon:"fa-fonticons",charCode:""},{icon:"fa-fort-awesome",charCode:""},{icon:"fa-forumbee",charCode:""},{icon:"fa-forward",charCode:""},{icon:"fa-foursquare",charCode:""},{icon:"fa-frown-o",charCode:""},{icon:"fa-futbol-o",charCode:""},{icon:"fa-gamepad",charCode:""},{icon:"fa-gavel",charCode:""},{icon:"fa-gbp",charCode:""},{icon:"fa-ge ",charCode:""},{icon:"fa-gear ",charCode:""},{icon:"fa-gears ",charCode:""},{icon:"fa-genderless",charCode:""},{icon:"fa-get-pocket",charCode:""},{icon:"fa-gg",charCode:""},{icon:"fa-gg-circle",charCode:""},{icon:"fa-gift",charCode:""},{icon:"fa-git",charCode:""},{icon:"fa-git-square",charCode:""},{icon:"fa-github",charCode:""},{icon:"fa-github-alt",charCode:""},{icon:"fa-github-square",charCode:""},{icon:"fa-gittip ",charCode:""},{icon:"fa-glass",charCode:""},{icon:"fa-globe",charCode:""},{icon:"fa-google",charCode:""},{icon:"fa-google-plus",charCode:""},{icon:"fa-google-plus-square",charCode:""},{icon:"fa-google-wallet",charCode:""},{icon:"fa-graduation-cap",charCode:""},{icon:"fa-gratipay",charCode:""},{icon:"fa-group ",charCode:""},{icon:"fa-h-square",charCode:""},{icon:"fa-hacker-news",charCode:""},{icon:"fa-hand-grab-o ",charCode:""},{icon:"fa-hand-lizard-o",charCode:""},{icon:"fa-hand-o-down",charCode:""},{icon:"fa-hand-o-left",charCode:""},{icon:"fa-hand-o-right",charCode:""},{icon:"fa-hand-o-up",charCode:""},{icon:"fa-hand-paper-o",charCode:""},{icon:"fa-hand-peace-o",charCode:""},{icon:"fa-hand-pointer-o",charCode:""},{icon:"fa-hand-rock-o",charCode:""},{icon:"fa-hand-scissors-o",charCode:""},{icon:"fa-hand-spock-o",charCode:""},{icon:"fa-hand-stop-o ",charCode:""},{icon:"fa-hashtag",charCode:""},{icon:"fa-hdd-o",charCode:""},{icon:"fa-header",charCode:""},{icon:"fa-headphones",charCode:""},{icon:"fa-heart",charCode:""},{icon:"fa-heart-o",charCode:""},{icon:"fa-heartbeat",charCode:""},{icon:"fa-history",charCode:""},{icon:"fa-home",charCode:""},{icon:"fa-hospital-o",charCode:""},{icon:"fa-hotel ",charCode:""},{icon:"fa-hourglass",charCode:""},{icon:"fa-hourglass-1 ",charCode:""},{icon:"fa-hourglass-2 ",charCode:""},{icon:"fa-hourglass-3 ",charCode:""},{icon:"fa-hourglass-end",charCode:""},{icon:"fa-hourglass-half",charCode:""},{icon:"fa-hourglass-o",charCode:""},{icon:"fa-hourglass-start",charCode:""},{icon:"fa-houzz",charCode:""},{icon:"fa-html5",charCode:""},{icon:"fa-i-cursor",charCode:""},{icon:"fa-ils",charCode:""},{icon:"fa-image ",charCode:""},{icon:"fa-inbox",charCode:""},{icon:"fa-indent",charCode:""},{icon:"fa-industry",charCode:""},{icon:"fa-info",charCode:""},{icon:"fa-info-circle",charCode:""},{icon:"fa-inr",charCode:""},{icon:"fa-instagram",charCode:""},{icon:"fa-institution ",charCode:""},{icon:"fa-internet-explorer",charCode:""},{icon:"fa-intersex ",charCode:""},{icon:"fa-ioxhost",charCode:""},{icon:"fa-italic",charCode:""},{icon:"fa-joomla",charCode:""},{icon:"fa-jpy",charCode:""},{icon:"fa-jsfiddle",charCode:""},{icon:"fa-key",charCode:""},{icon:"fa-keyboard-o",charCode:""},{icon:"fa-krw",charCode:""},{icon:"fa-language",charCode:""},{icon:"fa-laptop",charCode:""},{icon:"fa-lastfm",charCode:""},{icon:"fa-lastfm-square",charCode:""},{icon:"fa-leaf",charCode:""},{icon:"fa-leanpub",charCode:""},{icon:"fa-legal ",charCode:""},{icon:"fa-lemon-o",charCode:""},{icon:"fa-level-down",charCode:""},{icon:"fa-level-up",charCode:""},{icon:"fa-life-bouy ",charCode:""},{icon:"fa-life-buoy ",charCode:""},{icon:"fa-life-ring",charCode:""},{icon:"fa-life-saver ",charCode:""},{icon:"fa-lightbulb-o",charCode:""},{icon:"fa-line-chart",charCode:""},{icon:"fa-link",charCode:""},{icon:"fa-linkedin",charCode:""},{icon:"fa-linkedin-square",charCode:""},{icon:"fa-linux",charCode:""},{icon:"fa-list",charCode:""},{icon:"fa-list-alt",charCode:""},{icon:"fa-list-ol",charCode:""},{icon:"fa-list-ul",charCode:""},{icon:"fa-location-arrow",charCode:""},{icon:"fa-lock",charCode:""},{icon:"fa-long-arrow-down",charCode:""},{icon:"fa-long-arrow-left",charCode:""},{icon:"fa-long-arrow-right",charCode:""},{icon:"fa-long-arrow-up",charCode:""},{icon:"fa-magic",charCode:""},{icon:"fa-magnet",charCode:""},{icon:"fa-mail-forward ",charCode:""},{icon:"fa-mail-reply ",charCode:""},{icon:"fa-mail-reply-all ",charCode:""},{icon:"fa-male",charCode:""},{icon:"fa-map",charCode:""},{icon:"fa-map-marker",charCode:""},{icon:"fa-map-o",charCode:""},{icon:"fa-map-pin",charCode:""},{icon:"fa-map-signs",charCode:""},{icon:"fa-mars",charCode:""},{icon:"fa-mars-double",charCode:""},{icon:"fa-mars-stroke",charCode:""},{icon:"fa-mars-stroke-h",charCode:""},{icon:"fa-mars-stroke-v",charCode:""},{icon:"fa-maxcdn",charCode:""},{icon:"fa-meanpath",charCode:""},{icon:"fa-medium",charCode:""},{icon:"fa-medkit",charCode:""},{icon:"fa-meh-o",charCode:""},{icon:"fa-mercury",charCode:""},{icon:"fa-microphone",charCode:""},{icon:"fa-microphone-slash",charCode:""},{icon:"fa-minus",charCode:""},{icon:"fa-minus-circle",charCode:""},{icon:"fa-minus-square",charCode:""},{icon:"fa-minus-square-o",charCode:""},{icon:"fa-mixcloud",charCode:""},{icon:"fa-mobile",charCode:""},{icon:"fa-mobile-phone ",charCode:""},{icon:"fa-modx",charCode:""},{icon:"fa-money",charCode:""},{icon:"fa-moon-o",charCode:""},{icon:"fa-mortar-board ",charCode:""},{icon:"fa-motorcycle",charCode:""},{icon:"fa-mouse-pointer",charCode:""},{icon:"fa-music",charCode:""},{icon:"fa-navicon ",charCode:""},{icon:"fa-neuter",charCode:""},{icon:"fa-newspaper-o",charCode:""},{icon:"fa-object-group",charCode:""},{icon:"fa-object-ungroup",charCode:""},{icon:"fa-odnoklassniki",charCode:""},{icon:"fa-odnoklassniki-square",charCode:""},{icon:"fa-opencart",charCode:""},{icon:"fa-openid",charCode:""},{icon:"fa-opera",charCode:""},{icon:"fa-optin-monster",charCode:""},{icon:"fa-outdent",charCode:""},{icon:"fa-pagelines",charCode:""},{icon:"fa-paint-brush",charCode:""},{icon:"fa-paper-plane",charCode:""},{icon:"fa-paper-plane-o",charCode:""},{icon:"fa-paperclip",charCode:""},{icon:"fa-paragraph",charCode:""},{icon:"fa-paste ",charCode:""},{icon:"fa-pause",charCode:""},{icon:"fa-pause-circle",charCode:""},{icon:"fa-pause-circle-o",charCode:""},{icon:"fa-paw",charCode:""},{icon:"fa-paypal",charCode:""},{icon:"fa-pencil",charCode:""},{icon:"fa-pencil-square",charCode:""},{icon:"fa-pencil-square-o",charCode:""},{icon:"fa-percent",charCode:""},{icon:"fa-phone",charCode:""},{icon:"fa-phone-square",charCode:""},{icon:"fa-photo ",charCode:""},{icon:"fa-picture-o",charCode:""},{icon:"fa-pie-chart",charCode:""},{icon:"fa-pied-piper",charCode:""},{icon:"fa-pied-piper-alt",charCode:""},{icon:"fa-pinterest",charCode:""},{icon:"fa-pinterest-p",charCode:""},{icon:"fa-pinterest-square",charCode:""},{icon:"fa-plane",charCode:""},{icon:"fa-play",charCode:""},{icon:"fa-play-circle",charCode:""},{icon:"fa-play-circle-o",charCode:""},{icon:"fa-plug",charCode:""},{icon:"fa-plus",charCode:""},{icon:"fa-plus-circle",charCode:""},{icon:"fa-plus-square",charCode:""},{icon:"fa-plus-square-o",charCode:""},{icon:"fa-power-off",charCode:""},{icon:"fa-print",charCode:""},{icon:"fa-product-hunt",charCode:""},{icon:"fa-puzzle-piece",charCode:""},{icon:"fa-qq",charCode:""},{icon:"fa-qrcode",charCode:""},{icon:"fa-question",charCode:""},{icon:"fa-question-circle",charCode:""},{icon:"fa-quote-left",charCode:""},{icon:"fa-quote-right",charCode:""},{icon:"fa-ra ",charCode:""},{icon:"fa-random",charCode:""},{icon:"fa-rebel",charCode:""},{icon:"fa-recycle",charCode:""},{icon:"fa-reddit",charCode:""},{icon:"fa-reddit-alien",charCode:""},{icon:"fa-reddit-square",charCode:""},{icon:"fa-refresh",charCode:""},{icon:"fa-registered",charCode:""},{icon:"fa-remove ",charCode:""},{icon:"fa-renren",charCode:""},{icon:"fa-reorder ",charCode:""},{icon:"fa-repeat",charCode:""},{icon:"fa-reply",charCode:""},{icon:"fa-reply-all",charCode:""},{icon:"fa-retweet",charCode:""},{icon:"fa-rmb ",charCode:""},{icon:"fa-road",charCode:""},{icon:"fa-rocket",charCode:""},{icon:"fa-rotate-left ",charCode:""},{icon:"fa-rotate-right ",charCode:""},{icon:"fa-rouble ",charCode:""},{icon:"fa-rss",charCode:""},{icon:"fa-rss-square",charCode:""},{icon:"fa-rub",charCode:""},{icon:"fa-ruble ",charCode:""},{icon:"fa-rupee ",charCode:""},{icon:"fa-safari",charCode:""},{icon:"fa-save ",charCode:""},{icon:"fa-scissors",charCode:""},{icon:"fa-scribd",charCode:""},{icon:"fa-search",charCode:""},{icon:"fa-search-minus",charCode:""},{icon:"fa-search-plus",charCode:""},{icon:"fa-sellsy",charCode:""},{icon:"fa-send ",charCode:""},{icon:"fa-send-o ",charCode:""},{icon:"fa-server",charCode:""},{icon:"fa-share",charCode:""},{icon:"fa-share-alt",charCode:""},{icon:"fa-share-alt-square",charCode:""},{icon:"fa-share-square",charCode:""},{icon:"fa-share-square-o",charCode:""},{icon:"fa-shekel ",charCode:""},{icon:"fa-sheqel ",charCode:""},{icon:"fa-shield",charCode:""},{icon:"fa-ship",charCode:""},{icon:"fa-shirtsinbulk",charCode:""},{icon:"fa-shopping-bag",charCode:""},{icon:"fa-shopping-basket",charCode:""},{icon:"fa-shopping-cart",charCode:""},{icon:"fa-sign-in",charCode:""},{icon:"fa-sign-out",charCode:""},{icon:"fa-signal",charCode:""},{icon:"fa-simplybuilt",charCode:""},{icon:"fa-sitemap",charCode:""},{icon:"fa-skyatlas",charCode:""},{icon:"fa-skype",charCode:""},{icon:"fa-slack",charCode:""},{icon:"fa-sliders",charCode:""},{icon:"fa-slideshare",charCode:""},{icon:"fa-smile-o",charCode:""},{icon:"fa-soccer-ball-o ",charCode:""},{icon:"fa-sort",charCode:""},{icon:"fa-sort-alpha-asc",charCode:""},{icon:"fa-sort-alpha-desc",charCode:""},{icon:"fa-sort-amount-asc",charCode:""},{icon:"fa-sort-amount-desc",charCode:""},{icon:"fa-sort-asc",charCode:""},{icon:"fa-sort-desc",charCode:""},{icon:"fa-sort-down ",charCode:""},{icon:"fa-sort-numeric-asc",charCode:""},{icon:"fa-sort-numeric-desc",charCode:""},{icon:"fa-sort-up ",charCode:""},{icon:"fa-soundcloud",charCode:""},{icon:"fa-space-shuttle",charCode:""},{icon:"fa-spinner",charCode:""},{icon:"fa-spoon",charCode:""},{icon:"fa-spotify",charCode:""},{icon:"fa-square",charCode:""},{icon:"fa-square-o",charCode:""},{icon:"fa-stack-exchange",charCode:""},{icon:"fa-stack-overflow",charCode:""},{icon:"fa-star",charCode:""},{icon:"fa-star-half",charCode:""},{icon:"fa-star-half-empty ",charCode:""},{icon:"fa-star-half-full ",charCode:""},{icon:"fa-star-half-o",charCode:""},{icon:"fa-star-o",charCode:""},{icon:"fa-steam",charCode:""},{icon:"fa-steam-square",charCode:""},{icon:"fa-step-backward",charCode:""},{icon:"fa-step-forward",charCode:""},{icon:"fa-stethoscope",charCode:""},{icon:"fa-sticky-note",charCode:""},{icon:"fa-sticky-note-o",charCode:""},{icon:"fa-stop",charCode:""},{icon:"fa-stop-circle",charCode:""},{icon:"fa-stop-circle-o",charCode:""},{icon:"fa-street-view",charCode:""},{icon:"fa-strikethrough",charCode:""},{icon:"fa-stumbleupon",charCode:""},{icon:"fa-stumbleupon-circle",charCode:""},{icon:"fa-subscript",charCode:""},{icon:"fa-subway",charCode:""},{icon:"fa-suitcase",charCode:""},{icon:"fa-sun-o",charCode:""},{icon:"fa-superscript",charCode:""},{icon:"fa-support ",charCode:""},{icon:"fa-table",charCode:""},{icon:"fa-tablet",charCode:""},{icon:"fa-tachometer",charCode:""},{icon:"fa-tag",charCode:""},{icon:"fa-tags",charCode:""},{icon:"fa-tasks",charCode:""},{icon:"fa-taxi",charCode:""},{icon:"fa-television",charCode:""},{icon:"fa-tencent-weibo",charCode:""},{icon:"fa-terminal",charCode:""},{icon:"fa-text-height",charCode:""},{icon:"fa-text-width",charCode:""},{icon:"fa-th",charCode:""},{icon:"fa-th-large",charCode:""},{icon:"fa-th-list",charCode:""},{icon:"fa-thumb-tack",charCode:""},{icon:"fa-thumbs-down",charCode:""},{icon:"fa-thumbs-o-down",charCode:""},{icon:"fa-thumbs-o-up",charCode:""},{icon:"fa-thumbs-up",charCode:""},{icon:"fa-ticket",charCode:""},{icon:"fa-times",charCode:""},{icon:"fa-times-circle",charCode:""},{icon:"fa-times-circle-o",charCode:""},{icon:"fa-tint",charCode:""},{icon:"fa-toggle-down ",charCode:""},{icon:"fa-toggle-left ",charCode:""},{icon:"fa-toggle-off",charCode:""},{icon:"fa-toggle-on",charCode:""},{icon:"fa-toggle-right ",charCode:""},{icon:"fa-toggle-up ",charCode:""},{icon:"fa-trademark",charCode:""},{icon:"fa-train",charCode:""},{icon:"fa-transgender",charCode:""},{icon:"fa-transgender-alt",charCode:""},{icon:"fa-trash",charCode:""},{icon:"fa-trash-o",charCode:""},{icon:"fa-tree",charCode:""},{icon:"fa-trello",charCode:""},{icon:"fa-tripadvisor",charCode:""},{icon:"fa-trophy",charCode:""},{icon:"fa-truck",charCode:""},{icon:"fa-try",charCode:""},{icon:"fa-tty",charCode:""},{icon:"fa-tumblr",charCode:""},{icon:"fa-tumblr-square",charCode:""},{icon:"fa-turkish-lira ",charCode:""},{icon:"fa-tv ",charCode:""},{icon:"fa-twitch",charCode:""},{icon:"fa-twitter",charCode:""},{icon:"fa-twitter-square",charCode:""},{icon:"fa-umbrella",charCode:""},{icon:"fa-underline",charCode:""},{icon:"fa-undo",charCode:""},{icon:"fa-university",charCode:""},{icon:"fa-unlink ",charCode:""},{icon:"fa-unlock",charCode:""},{icon:"fa-unlock-alt",charCode:""},{icon:"fa-unsorted ",charCode:""},{icon:"fa-upload",charCode:""},{icon:"fa-usb",charCode:""},{icon:"fa-usd",charCode:""},{icon:"fa-user",charCode:""},{icon:"fa-user-md",charCode:""},{icon:"fa-user-plus",charCode:""},{icon:"fa-user-secret",charCode:""},{icon:"fa-user-times",charCode:""},{icon:"fa-users",charCode:""},{icon:"fa-venus",charCode:""},{icon:"fa-venus-double",charCode:""},{icon:"fa-venus-mars",charCode:""},{icon:"fa-viacoin",charCode:""},{icon:"fa-video-camera",charCode:""},{icon:"fa-vimeo",charCode:""},{icon:"fa-vimeo-square",charCode:""},{icon:"fa-vine",charCode:""},{icon:"fa-vk",charCode:""},{icon:"fa-volume-down",charCode:""},{icon:"fa-volume-off",charCode:""},{icon:"fa-volume-up",charCode:""},{icon:"fa-warning ",charCode:""},{icon:"fa-wechat ",charCode:""},{icon:"fa-weibo",charCode:""},{icon:"fa-weixin",charCode:""},{icon:"fa-whatsapp",charCode:""},{icon:"fa-wheelchair",charCode:""},{icon:"fa-wifi",charCode:""},{icon:"fa-wikipedia-w",charCode:""},{icon:"fa-windows",charCode:""},{icon:"fa-won ",charCode:""},{icon:"fa-wordpress",charCode:""},{icon:"fa-wrench",charCode:""},{icon:"fa-xing",charCode:""},{icon:"fa-xing-square",charCode:""},{icon:"fa-y-combinator",charCode:""},{icon:"fa-y-combinator-square",charCode:""},{icon:"fa-yahoo",charCode:""},{icon:"fa-yc ",charCode:""},{icon:"fa-yc-square ",charCode:""},{icon:"fa-yelp",charCode:""},{icon:"fa-yen ",charCode:""},{icon:"fa-youtube",charCode:""},{icon:"fa-youtube-play",charCode:""},{icon:"fa-youtube-square",charCode:""}]}),function(){function e(x,l,t,H,d){function e(n,e,t,i){var r=this;function o(){return r.isGraphValid}function a(){return r.showPan}function s(e){r.showPan=e}function c(e){r.panRect=e}function l(e,t){r.graphdata.nodes=e,r.graphdata.edges=t,S()&&(n.graphUtil.drawInteractiveGraph(),n.graphUtil.calcPanWinSize(),n.graphUtil.generatePanAndZoom(),r.getShowPanVal()&&n.graphUtil.drawPanGraph(),n.setWatch())}function d(t){var n;return void 0!==r.graphdata&&void 0!==r.graphdata.nodes&&0<r.graphdata.nodes.length&&r.graphdata.nodes.forEach(function(e){e.id===parseInt(t,10)&&(n=e)}),n}function m(n){var i=[];return void 0!==r.graphdata&&void 0!==r.graphdata.nodes&&0<r.graphdata.nodes.length&&void 0!==r.graphdata&&void 0!==r.graphdata.edges&&0<r.graphdata.edges.length&&r.graphdata.edges.forEach(function(e){var t;if(e.from===n.id)t=e.to;else{if(e.to!==n.id)return;t=e.from}i.push(r.sitOptions.getNode(t))}),_.uniq(i)}function u(){var e=[];return e.push(r.graphdata.nodes),e.push(r.graphdata.edges),e}function p(e){var t,n=Number(e.v),i=Number(e.w);return r.graphdata.edges.forEach(function(e){void 0!==e&&void 0!==e.from&&void 0!==e.to&&e.from===n&&e.to===i&&(t=e)}),t}function g(){r.sitOptions.zooming=!0}function f(){r.sitOptions.zooming=!1}function h(){n.zoomLevel<8?n.zoomLevel=Number(n.zoomLevel)+.1:n.zoomLevel=n.zoomLevel,n.graphUtil.handleZoom()}function v(){1<n.zoomLevel?n.zoomLevel=Number(n.zoomLevel)-.1:n.zoomLevel=n.zoomLevel,n.graphUtil.handleZoom()}function y(){n.graphUtil.autoFit()}function C(e){return{style:"fill:"+e["background-color"]+";stroke-width:"+e["stroke-width"]+"px;stroke:"+e.stroke,lableStyle:"color:"+e.color}}function b(e){return"stroke:"+e.color+";stroke-width:"+e.width+"px"}function w(){return i.fontAwesomIcon}function S(){return r.graphdata?_.uniq(r.graphdata.nodes,!1,function(e){return e.id}).length!==r.graphdata.nodes.length?(r.graphError=x.instant("Graph.error.uniqueNodeId"),r.isGraphValid=!1):(r.graphdata.nodes=_.reject(r.graphdata.nodes,function(e){if(!e.id)return!0}),_.uniq(r.graphdata.edges,!1,function(e){return e.id}).length!==r.graphdata.edges.length?(r.graphError=x.instant("Graph.error.uniqueEdgeId"),r.isGraphValid=!1):(r.graphdata.edges=_.reject(r.graphdata.edges,function(e){if(!e.id)return!0}),r.graphdata.edges=_.reject(r.graphdata.edges,function(t){var e=_.find(r.graphdata.nodes,function(e){return e.id===t.from||!(!e.originalNodeId||e.originalNodeId!==t.from)||void 0});return!e||!(e=_.find(r.graphdata.nodes,function(e){return e.id===t.to||!(!e.originalNodeId||e.originalNodeId!==t.to)||void 0}))||void 0}),function(){var e,t,n,i=r.graphdata.nodes.length,o=r.graphdata.edges.length;for(e=0;e<i;e++)n=e+1,r.graphdata.nodes[e].originalNodeId=r.graphdata.nodes[e].originalNodeId?r.graphdata.nodes[e].originalNodeId:r.graphdata.nodes[e].id,r.graphdata.nodes[e].id=n;for(e=0;e<o;e++)n=e+1,r.graphdata.edges[e].originalEdgeId=r.graphdata.edges[e].originalEdgeId?r.graphdata.edges[e].originalEdgeId:r.graphdata.edges[e].id,r.graphdata.edges[e].id=n,r.graphdata.edges[e].originalFrom=r.graphdata.edges[e].originalFrom?r.graphdata.edges[e].originalFrom:r.graphdata.edges[e].from,r.graphdata.edges[e].originalTo=r.graphdata.edges[e].originalTo?r.graphdata.edges[e].originalTo:r.graphdata.edges[e].to;for(e=0;e<o;e++){var a=0;for(t=0;t<i&&(r.graphdata.edges[e].originalFrom===r.graphdata.nodes[t].originalNodeId&&(r.graphdata.edges[e].from=r.graphdata.nodes[t].id,a++),r.graphdata.edges[e].originalTo===r.graphdata.nodes[t].originalNodeId&&(r.graphdata.edges[e].to=r.graphdata.nodes[t].id,a++),2!==a);t++);}}(),!0)):(r.graphError=x.instant("Graph.error.graphUndefined"),r.isGraphValid=!1)}window.SVGElement.prototype.getTransformToElement=window.SVGElement.prototype.getTransformToElement||function(e){return e.getScreenCTM().inverse().multiply(this.getScreenCTM())},r.sitData&&(r.graphdata=r.sitData),r.sitOptions?r.graphstyle=r.sitOptions:r.sitOptions=r.graphstyle,n.ctrl=r,n.zoomLevel=4,r.showPan=0,r.isGraphValid=!0,r.graphError="",r.isValidGraph=o,r.getShowPanVal=a,r.setShowPanVal=s,r.setPanRectValues=c,r.getNodeStyle=C,r.getEdgeStyle=b,r.getFontAwesomeIconData=w,r.validateGraph=S,r.sitOptions||(r.sitOptions={}),void 0!==r.sitOptions.autoRefresh&&null!==r.sitOptions.autoRefresh||(r.sitOptions.autoRefresh=!1),void 0!==r.sitOptions.zooming&&null!==r.sitOptions.zooming||(r.sitOptions.zooming=!0),r.sitOptions.iconVisibility="boolean"!=typeof r.sitOptions.iconVisibility||r.sitOptions.iconVisibility,r.sitOptions.drawGraph=l,r.sitOptions.getNode=d,r.sitOptions.getNeighbors=m,r.sitOptions.getNodes=u,r.sitOptions.getEdge=p,r.sitOptions.showZoomingControls=g,r.sitOptions.hideZoomingControls=f,r.sitOptions.zoomIn=h,r.sitOptions.zoomOut=v,r.sitOptions.autoFit=y,S()}function m(s,r,c,l){this.graphHeight=null,this.graphWidth=null,this.g=null,this.rectRatio=null,this.panWindowWidth=null,this.panWindowHeight=null,this.panZoomLevel=null,this.panRect=null,this.dispatch=null,this.isRectAdded=!1,this.autoFitZoom=1,this.parentWidth=$(c).parent().width()-40,this.parentHeight=$(c).parent().height()-68;var d,m,a=0,u=!1,p=l.sitOptions,g=l.graphdata,f=this,h=320,v=48,y=220,C=44,b=120,w=40,S=20,x=20,T=100;function I(e){var t=c.find(e)[0];return H.select(t)}function e(){this.parentWidth=$(c).parent().width()-40,this.parentHeight=$(c).parent().height()-68}function t(){var e,t,n;e=void 0!==p.layout&&"horizontal"===p.layout?"LR":"TB",this.g=(new dagreD3.graphlib.Graph).setGraph({rankdir:e}).setDefaultEdgeLabel(function(){return{}});var i=p.nodeSize?p.nodeSize.toLowerCase():"small";switch(i){case"medium":t=y-S,n=C-S;break;case"large":t=h-S,n=v-S;break;default:t=b-S,n=w-S}this.createNodes(t,n,i),this.createEdges(T);var o=I("svg");o.html("");o.append("g");(new dagreD3.render)(o.select("svg g"),this.g),p.iconVisibility&&this.setFontIconsForNode(o,i),o.select("g").selectAll(".node")[0].forEach(function(e){e.childNodes[0].getAttribute("style")&&e.childNodes[0].setAttribute("data-style",e.childNodes[0].getAttribute("style"))}),o.select("g").selectAll("path")[0].forEach(function(e){e.getAttribute("style")&&e.setAttribute("data-style",e.getAttribute("style"))}),this.registerDispatchers(),o.select("g").selectAll("path").on("click",this.handlePathClickCallBack),o.select("g").selectAll(".node").on("click",this.handleNodeClickCallBack),this.attachToolTipForNodes(o),this.attachToolTipForEdges(o),this.graphHeight=this.g.graph().height+40,this.graphWidth=this.g.graph().width+40,o.attr("height",this.graphHeight+40),o.attr("width",this.graphWidth+40);var a=this.parentWidth,r=this.parentHeight,s=a/this.graphWidth,c=r/this.graphWidth,l=s<c?s:c;l=2<l?2:l,this.autoFitZoom=Math.floor(l/.25)}function n(o,a,r){g.nodes.forEach(function(e){var t,n;switch(void 0!==p.onBeforeRenderCallback&&(p.onBeforeRenderCallback(e),s.$broadcast("sit-graph.before-rendering",e)),void 0!==e.style?t=l.getNodeStyle(e.style):void 0!==p.nodeStyle&&(t=l.getNodeStyle(p.nodeStyle)),r){case"medium":n=y;break;case"large":n=h;break;default:n=b}n-=S,!0===p.iconVisibility&&(n-=x);var i=R(e.name,n);f.g.setNode(e.id,{style:void 0!==t?t.style:"",lableStyle:void 0!==t?t.lableStyle:"",label:i,width:o,height:a,rx:5,ry:5,type:"node",isIconVisible:p.iconVisibility})})}function i(a){g.edges.forEach(function(t){var n,i,e;if(void 0!==t.from&&null!==t.from&&void 0!==t.to&&null!==t.to){g.nodes.forEach(function(e){e.id===t.from&&(n=e.id),e.id===t.to&&(i=e.id)}),void 0!==t.style?e=l.getEdgeStyle(t.style):void 0!==p.edgeStyle&&(e=l.getEdgeStyle(p.edgeStyle));var o=R(t.name,a);f.g.setEdge(n,i,{style:void 0!==e?e:"",label:o})}})}function o(e){e.select("g").selectAll("g.node").append("svg:title").text(function(t){var n;return g.nodes.forEach(function(e){e.id===parseInt(t,10)&&(n=e.description&&e.description.trim()?e.name?e.name+"\n"+e.description:e.description:e.name||"")}),n})}function k(e){var t=e.select("g").selectAll("g.edgePath");_.each(t[0],function(e){$(e).find("title").remove()}),t.append("svg:title").text(function(t){var n;return g.edges.forEach(function(e){e.from.toString()===t.v&&e.to.toString()===t.w&&(n=e.description&&e.description.trim()?e.name?e.name+"\n"+e.description:e.description:e.name||"")}),n})}function E(e){return"fill:"+e["background-color"]+";stroke-width:"+e["stroke-width"]+"px;stroke:"+e.stroke}function O(){this.dispatch=H.dispatch("unhighlightAll","toggleNode","toggleEdge").on("unhighlightAll",function(){var e=c.find("rect");l.sitOptions.selectedNodeStyle?H.selectAll(e)[0].forEach(function(e){e.removeAttribute("style"),e.getAttribute("data-style")&&e.setAttribute("style",e.getAttribute("data-style"))}):H.selectAll(e).classed("highlightNode",!1);var t=c.find("path");l.sitOptions.selectedEdgeStyle?H.selectAll(t)[0].forEach(function(e){e.removeAttribute("style"),e.getAttribute("data-style")&&e.setAttribute("style",e.getAttribute("data-style"))}):H.selectAll(t).classed("highlightlink",!1);var n=c.find("text")[0];H.selectAll(n).classed("textBold",!1)}).on("toggleNode",function(e){f.dispatch.unhighlightAll(),l.sitOptions.selectedNodeStyle?e.setAttribute("style",E(l.sitOptions.selectedNodeStyle)):e.setAttribute("class","highlightNode")}).on("toggleEdge",function(e){f.dispatch.unhighlightAll(),l.sitOptions.selectedEdgeStyle?e.setAttribute("style",E(l.sitOptions.selectedEdgeStyle)):H.select(e).classed("highlightlink",!0)})}function P(e){if(void 0!==p.onEdgeSelectCallback){var t=p.getEdge(e);p.onEdgeSelectCallback(t),s.$broadcast("sit-graph.edge-selected",t)}f.dispatch.toggleEdge(this)}function D(e){if(void 0!==p.onNodeSelectCallback){var t=p.getNode(parseInt(e,10));p.onNodeSelectCallback(t),s.$broadcast("sit-graph.node-selected",t)}f.dispatch.toggleNode(this.firstChild)}function R(e,t){var n=$("<div></div>").css({"font-family":'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',"font-size":"9.5pt",display:"inline-block"}).appendTo($(".graphbackground")),i=e||"";n.html(i);var o=n.width();t=t||100;var a=i.length;if(t<=o){n.html(i+"..."),a+=3;for(var r=Math.floor(a*t/o)+1;++r<a&&!(t<n.html(i.substring(0,r)+"...").width()););for(;3<--r&&!(n.html(i.substring(0,r)+"...").width()<t););i=n.html()}return n.remove(),i}function A(e,t){var n,o=l.getFontAwesomeIconData();switch(t){case"medium":n=y;break;case"large":n=h;break;default:n=b}e.select("g").selectAll("g.node").append("text").attr("x",-n/2+10).attr("y",4).attr("width",50).attr("height",50).attr("class","fa").attr("font-family","FontAwesome").text(function(e){var n,i=p.getNode(parseInt(e,10));return void 0!==i.icon&&""!==i.icon&&o.forEach(function(e,t){e.icon===i.icon&&(n=e.charCode)}),void 0!==i.icon&&""!==i.icon||void 0===i.charCode||""===i.charCode||(n=i.charCode),void 0===n&&o.forEach(function(e,t){"fa-chevron-circle-right"===e.icon&&(n=e.charCode)}),n})}function M(){var e,t,n=this.graphHeight+40,i=this.graphWidth+40;t=n>=this.parentHeight?n:this.parentHeight;var o=(e=i>=this.parentWidth?i:this.parentWidth)/t;this.panWindowWidth=this.panWindowWidth||e/10,this.panWindowWidth<200&&(this.panWindowWidth=200),this.panWindowHeight=this.panWindowHeight||this.panWindowWidth/o,this.panWindowHeight-=a,this.panWindowHeight<100&&(this.panWindowHeight=100,this.panWindowWidth=o*this.panWindowHeight,this.panWindowHeight+=a),I("div.graphbackground svg[data-internal-type='panWindow']").attr("width",this.panWindowWidth).attr("height",this.panWindowHeight),d=50,m=this.panWindowWidth,this.rectRatio=this.parentWidth/this.parentHeight}function F(){var e=this.parentWidth,t=this.parentHeight,n=I("div.graphbackground svg[data-internal-type='graphsvg']"),i=n.attr("height"),o=e/n.attr("width"),a=t/i,r=o<a?o:a;r=2<r?2:r;var s=this.panWindowWidth*r,c=this.panWindowHeight;s<d&&(s=d),m<s&&(s=m),c=(s-4)/this.rectRatio,this.panRect.w=s,this.panRect.h=c-2,this.panRect.maxXPosition=this.panWindowWidth-this.panRect.w,this.panRect.maxYPosition=this.panWindowHeight-this.panRect.h,l.setPanRectValues(this.panRect)}function N(){var t,n,e=I("div.graphbackground svg[data-internal-type='graphsvg']");try{t=e.attr("height"),n=e.attr("width")}catch(e){t=this.graphWidth,n=this.graphWidth}var i=this.panWindowWidth/n,o=this.panWindowHeight/t,a=i<o?i:o;a=2<a?2:a,this.panZoomLevel=a}function B(){if(l.getShowPanVal())return l.setShowPanVal(0),void f.graphRefresh();G(),l.setShowPanVal(1)}function G(){var e=c.find("div svg[data-internal-type='panWindow']");if(e){e.find("g.output").length&&e.find("g.output").remove();for(var t=I("div.graphbackground svg[data-internal-type='graphsvg']")[0][0].cloneNode(!0);t.hasChildNodes();)e[0].appendChild(t.childNodes[0]);e.find("g.output").attr("transform","scale("+f.panZoomLevel+") translate(6 ,14) ")}}function V(){var e=I("div.graphbackground svg[data-internal-type='graphsvg']");"inline"===e.attr("display")?e.attr("display","block"):e.attr("display","inline")}function L(){var e=Math.floor(1/f.panZoomLevel);f.panRect.x=c.find("div.graphbackground div[data-internal-type='graphwrapper']")[0].scrollLeft/e,f.panRect.y=c.find("div.graphbackground div[data-internal-type='graphwrapper']")[0].scrollTop/e,l.setPanRectValues(f.panRect),"$apply"!==s.$root.$$phase&&"$digest"!==s.$root.$$phase&&s.$apply()}function z(){this.calcPanScale(),this.panRect={w:this.parentWidth*this.panZoomLevel+4,h:this.parentWidth*this.panZoomLevel/this.rectRatio,x:0,y:0,maxXPosition:this.panWindowWidth,maxYPosition:this.panWindowHeight};var a=this.panWindowWidth/2;this.panRect.maxXPosition=this.panWindowWidth-this.panRect.w,this.panRect.maxYPosition=this.panWindowHeight-this.panRect.h;var e=H.behavior.drag().origin(Object).on("drag",function(){var e=this.x.baseVal.value,t=this.y.baseVal.value;e+=H.event.dx,t+=H.event.dy,e<0&&(e=0),e>f.panRect.maxXPosition&&(e=f.panRect.maxXPosition),t<0&&(t=0),t>f.panRect.maxYPosition&&(t=f.panRect.maxYPosition),this.x.baseVal.value=e,this.y.baseVal.value=t,f.panRect.x=e,f.panRect.y=t;var n=Math.floor(1/f.panZoomLevel);$(c).find("div.graphbackground div[data-internal-type='graphwrapper']")[0].scrollLeft+=H.event.dx*n,$(c).find("div.graphbackground div[data-internal-type='graphwrapper']")[0].scrollTop+=H.event.dy*n,l.setPanRectValues(f.panRect),s.$apply()}),t=H.behavior.drag().origin(Object).on("dragstart",function(e){H.event.sourceEvent.stopPropagation()}).on("drag",function(e){H.event.sourceEvent.stopPropagation(),s.$apply(function(){var e=f.panRect.w+H.event.dx;e<a&&(e=a),m<e&&(e=m);var t=(e-4)/f.rectRatio;f.panRect.w=e,f.panRect.h=t,f.panRect.maxXPosition=f.panWindowWidth-f.panRect.w,f.panRect.maxYPosition=f.panWindowHeight-f.panRect.h;var n=f.panWindowWidth/e,i=f.panWindowHeight/t,o=n<i?n:i;o=2<o?2:o,s.zoomLevel=o/.25,u=!0,l.setPanRectValues(f.panRect)})});l.setPanRectValues(this.panRect);var n=I("div.graphbackground svg[data-internal-type='panWindow'] g");if(!this.isRectAdded){var i=n.append("rect").attr("ng-attr-width","{{GraphCtrl.panRect.w}}").attr("ng-attr-height","{{GraphCtrl.panRect.h}}").attr("ng-attr-x","{{GraphCtrl.panRect.x}}").attr("ng-attr-y","{{GraphCtrl.panRect.y}}").attr("class","panRectPan").call(e);r(i.node())(s);var o=n.append("rect").attr("width",5).attr("height",5).attr("ng-attr-x","{{GraphCtrl.panRect.x+GraphCtrl.panRect.w-2.5}}").attr("ng-attr-y","{{GraphCtrl.panRect.y+GraphCtrl.panRect.h-2.5}}").attr("class","panRectZoom").call(t);r(o.node())(s),this.isRectAdded=!0}}function U(){}function j(){var e=f.graphWidth,t=f.graphHeight,n=I("div.graphbackground svg[data-internal-type='graphsvg']");I("g").attr("transform","scale("+.25*s.zoomLevel+")"),n.attr("width",e*(.25*s.zoomLevel)),n.attr("height",t*(.25*s.zoomLevel)+20),f.calcPanScale(),u?u=!1:f.calcPanRectSize()}function q(){f.autoFitZoom>s.zoomLevel?$(".panRect",c).hide():$(".panRect",c).show();var e=Math.floor(1/f.panZoomLevel);f.panRect.x=c.find("div.graphbackground div[data-internal-type='graphwrapper']")[0].scrollLeft/e,f.panRect.y=c.find("div.graphbackground div[data-internal-type='graphwrapper']")[0].scrollTop/e,l.setPanRectValues(f.panRect),f.translateGraph(),f.slided()}function W(){var e=f.parentWidth,t=f.parentHeight,n=(I("div.graphbackground svg[data-internal-type='graphsvg']"),e/f.graphWidth),i=t/f.graphHeight,o=n<i?n:i;o=2<o?2:o,s.zoomLevel=Math.floor(o/.25),f.slided()}f.drawInteractiveGraph=t,f.createNodes=n,f.createEdges=i,f.attachToolTipForNodes=o,f.attachToolTipForEdges=k,f.registerDispatchers=O,f.calcEllipsis=R,f.setFontIconsForNode=A,f.handlePathClickCallBack=P,f.handleNodeClickCallBack=D,f.calcPanWinSize=M,f.calcPanRectSize=F,f.calcPanScale=N,f.showPanWindow=B,f.graphRefresh=V,f.moveOnScroll=L,f.generatePanAndZoom=z,f.translateGraph=U,f.slided=j,f.handleZoom=q,f.autoFit=W,f.drawPanGraph=G,f.recalculateDimentions=e}return e.$inject=["$scope","$element","$compile","common.graph.fontAwesomIconData"],{restrict:"E",scope:!0,bindToController:{graphdata:"=?sitGraphdata",graphstyle:"=?sitGraphstyle",sitData:"=?sitData",sitOptions:"=?sitOptions"},templateUrl:"common/widgets/graph/graph.html",controller:e,controllerAs:"GraphCtrl",link:function(o,a,e,r){var s;function c(){null!=s&&s.recalculateDimentions()}t(function(){if(r.isValidGraph()){(s=new m(o,l,a,r)).drawInteractiveGraph(),s.calcPanWinSize(),s.generatePanAndZoom(),o.graphUtil=s,o.setWatch=t,a.find("button.graphAutoFit").click(s.autoFit),a.find("button.panAndZoom").click(s.showPanWindow),a.find("div.graphbackground div[data-internal-type='graphwrapper']").bind("scroll",s.moveOnScroll),a.find("div.graphbackground svg[data-internal-type='graphsvg'] g.edgePath").hover(s.graphRefresh);var e=o.$watch("zoomLevel",s.handleZoom);t(),o.$on("$destroy",function(){e(),a.find("div.graphbackground div[data-internal-type='graphwrapper']").unbind("scroll",s.moveOnScroll),angular.element(d).unbind("resize",c)})}function t(){r.watches||(r.watches={}),r.watches.nodesWatch&&r.watches.nodesWatch(),r.watches.edgesWatch&&r.watches.edgesWatch(),r.watches.optionsWatch&&r.watches.optionsWatch(),r.watches.graphstyleWatch&&r.watches.graphstyleWatch(),!0===r.sitOptions.autoRefresh&&(r.watches.nodesWatch=o.$watchCollection(function(){return r.graphdata.nodes},n),r.watches.edgesWatch=o.$watchCollection(function(){return r.graphdata.edges},n),r.watches.optionsWatch=o.$watchCollection(function(){return r.sitOptions},i),r.watches.graphstyleWatch=o.$watchCollection(function(){return r.graphstyle},i))}function n(){r.validateGraph(),i()}function i(){s.drawInteractiveGraph(),s.calcPanWinSize(),s.generatePanAndZoom(),r.getShowPanVal()&&(s.drawPanGraph(),s.moveOnScroll())}},100),angular.element(d).bind("resize",c)}}}e.$inject=["$translate","$compile","$timeout","d3","$window"],angular.module("siemens.simaticit.common.widgets.graph").directive("sitInteractiveGraph",e)}(),angular.module("siemens.simaticit.common.widgets.grid",["ngGrid","ngGrid.services","siemens.simaticit.common.widgets.pager"]),function(){function e(A,M,F){return{restrict:"E",scope:{},bindToController:{sitGridData:"=sitGridData",sitGridOptions:"=sitGridOptions",sitFormat:"=?sitFormat"},controller:t,controllerAs:"gridCtrl",link:function(o,e,t,r){var a,n,i,s=[];function c(){r.gridOptions.pagingOptions.currentPage=r.pageManager?r.pageManager.getCurrentPage():1}function l(){r.isFilterPanelOpen=!0,o.$broadcast("sit-layout-change",{eventSource:"layout"})}function d(){o.$broadcast("sit-layout-change",{eventSource:"layout"})}function m(e,t){"layout"!==t.eventSource&&"nonModal"!==t.eventSource||($(window).trigger("resize.nggrid"),I())}function u(){return r.gridOptions.pagingOptions.currentPage?n=r.gridOptions.pagingOptions.currentPage:r.gridOptions.pagingOptions.currentPage=n-1,r.gridOptions.pagingOptions.currentPage}function p(e){r.sitGridData=e,r.setPageManager(),v(e)}function g(t,e){t===e||t.fields[0]===e.fields[0]&&t.directions[0]===e.directions[0]||(r.isSorted=!0,r.serverItemsLoadCount=r.initialDataItemsCount,r.totalServerItemsLoadedCount=0,r.pageManager.setSortInfo(t.fields[0],t.directions[0]),(r.sitGridOptions.enablePaging&&!r.grouping?r.pageManager.goToPage(1):r.pageManager.getAllData()).then(function(e){r.setSlicedData(e.data),r.updateSelectedItems(),r.gridOptions.pagingOptions.currentPage=1,$("#data-container").scrollTop(0),!r.apiSorting&&0<t.fields.length&&r.emitSortInfoChanged(t),a.log("watch: gridOptions.sortInfo","sort changed success")},function(e){r.handleError(e),a.error("watch: gridOptions.sortInfo","sort changed error")}).finally(function(){r.apiSorting=!1}))}function f(i,t){i===t||isNaN(i)||(r.sitConfig.pagingOptions.currentPage=i,r.sitConfig.pageManager&&r.sitConfig.pageManager.setCurrentPage(i),r.pageManager.goToPage(i).then(function(e){r.setSlicedData(e.data),r.updateSelectedItems(),!0===r.sitGridOptions.noScroll&&F(function(){$(window).trigger("resize")},100),$("#data-container").scrollTop(0);var n=o.$on("ngGridEventData",function(e,t){r.emitPageChanged(i),n()});a.log("watch: pagingOptions.currentPage","page changed sucess.  Old: "+t+", New: "+i)},function(e){r.handleError(e),a.error("watch: pagingOptions.currentPage","page changed error.  Old: "+t+", New: "+i)}))}function h(t,n){t!==n&&(r.sitConfig.pagingOptions.pageSize=t,r.sitConfig.pageManager&&r.sitConfig.pageManager.setPageSize(t),r.pageManager.setPageSize(t),r.pageManager.getPageData().then(function(e){!0===r.sitGridOptions.noScroll&&F(function(){$(window).trigger("resize")},100),r.gridOptions.pagingOptions.currentPage=e.currentPage,r.preventCurrentPageWatch(e.currentPage),r.setSlicedData(e.data),r.updateSelectedItems(),$("#data-container").scrollTop(0),r.emitPageSizeChanged(t),a.log("watch: pagingOptions.pageSize","page size changed success.  Old: "+n+", New: "+t)},function(e){r.handleError(e),a.log("watch: pagingOptions.pageSize","page size changed error.  Old: "+n+", New: "+t)}))}function v(e,t){var n=e?e.length:"undefined",i=t?t.length:"undefined";a.info("watch: sitGridData (grid) new len: "+n+", old len: "+i+", new===old: "+(e===t).toString()),e===t||r.pageManager&&r.pageManager.isServerData()||(a.info("watch: sitGridData","data changed, length = "+r.sitGridData.length),r.sitConfig.pagingOptions.currentPage=r.pageManager?r.pageManager.getCurrentPage():1,r.buildSelectedList(),r.resetGrid(!0,!1).then(function(){D(),R()},function(){D(),R()}))}function y(e,t){e!==t&&(a.info("watch: sitGridOptions","grid options changed"),r.resetGrid(!1,!1))}function C(e,t){e!==t&&(a.info("watch: sitGridOptions.columnDefs","column definitions changed, length = "+r.sitGridOptions.columnDefs.length),P(),r.resetGrid(!1,!1))}function b(e,t){e!==t&&r.resetGrid(!0,!1)}function w(e,t){e!==t&&(r.serverItemsLoadCount=r.initialDataItemsCount,r.totalServerItemsLoadedCount=0,r.pageManager.setSearchText(e),r.updateDataOnFilterChange())}function S(e,t){e!==t&&(r.isGroupedBy=!0,r.grouping=r.sitGridOptions.groups&&0<r.sitGridOptions.groups.length,0===e.length&&(r.serverItemsLoadCount=r.initialDataItemsCount),r.totalServerItemsLoadedCount=0,a.log("watch: sitGridOptions.groups","grouping: "+r.grouping),r.sitConfig.pagingOptions.currentPage=r.pageManager.getCurrentPage(),r.gridOptions.pagingOptions.currentPage=r.pageManager.getCurrentPage(),r.resetGrid(!1,!1))}function x(){F(function(){r.initializeHeight(),r.handleResize&&angular.element(M).bind("resize",I),r.setServerSideItemCount(),r.bindScroll()})}function T(){r.handleResize&&angular.element(M).unbind("resize",I),!r.gridOptions.enablePaging&&r.pageManager.isServerData()&&e.find("div[id=data-container]").unbind("scroll",k),angular.forEach(s,function(e){e()})}function I(){r.setHeight(),r.gridResizeEvent(e.parent().width())}function k(e){r.serverItemsLoadCount=10,r.isScrollUpdate=!1;var t=$(this).prop("scrollHeight"),n=$(this).height(),i=t-n,o=$(this).scrollTop(),a=Math.floor(o/i*100);!(95<=a&&r.totalServerItemsLoadedCount!==r.totalDataItems)||r.grouping||r.isQuickSearched||r.isSorted||r.isFilterPanelOpen||(r.isScrollUpdate=!0,r.resetGrid(!1,!1))}function E(){r.pageManager.isServerData()&&!r.sitGridOptions.enablePaging&&F(function(){e.find("div[id=data-container]").unbind("scroll",k),e.find("div[id=data-container]").bind("scroll",k)},1e3)}function O(){i=o.$watchCollection("gridCtrl.sitGridData",v)}function P(){r.gridVisibleCols=[],angular.forEach(r.sitGridOptions.columnDefs,function(e){(e.visible||void 0===e.visible)&&r.gridVisibleCols.push($.extend(!0,{},e))})}function D(){void 0===r.sitGridData||null===r.sitGridData||r.sitGridData.length<=1||("ICV"!==r.sitGridOptions.parent&&(i(),i=null),r.pageManager.setSortInfo(r.gridOptions.sortInfo.fields[0],r.gridOptions.sortInfo.directions[0]),(r.sitGridOptions.enablePaging&&!r.grouping?r.pageManager.getPageData():r.pageManager.getAllData()).then(function(e){r.setSlicedData(e.data),r.updateSelectedItems()},function(){}),"ICV"!==r.sitGridOptions.parent&&O())}function R(){!0===r.sitGridOptions.noScroll&&F(function(){$(window).trigger("resize")},100)}a=new N(A,r.sitGridOptions.debug,"siemens.simaticit.common.widgets.grid.link"),r.apiSorting=!1,P(),r.gridResizeEvent(e.parent().width()),r.getCurrentPage=u,r.bindScroll=E,o.$on("$destroy",T),s[s.length]=o.$on("grid.refreshList",c),s[s.length]=o.$on("sit-layout-change",m),s[s.length]=o.$on("sit-filter-panel-opened",l),s[s.length]=o.$on("sit-filter-panel-closed",d),o.$watch("gridCtrl.getCurrentPage()",f),o.$watch("gridCtrl.gridOptions.sortInfo",g,!0),o.$watch("gridCtrl.gridOptions.pagingOptions.pageSize",h),o.$watch("gridCtrl.sitGridOptions",y),o.$watch("gridCtrl.sitGridOptions.columnDefs",C),o.$watch("gridCtrl.sitGridOptions.serverConnectionParams",b),o.$watch("gridCtrl.sitGridOptions.quickSearchOptions.filterText",w),o.$watch("gridCtrl.sitGridOptions.groups",S),o.$evalAsync(x),"ICV"===r.sitGridOptions.parent?r.sitGridOptions.onDataChange=p:O()},templateUrl:"common/widgets/grid/grid.html"}}function t(d,t,i,n,o,a,r,e,s,c,l,m){var u,p,g,f,h,v=this;function y(e){if(v.sitGridOptions.onErrorCallback)v.sitGridOptions.onErrorCallback(e);else{var t=e.data.error,n=": "+o.instant("common.error-code-message",{code:t.errorCode,message:t.errorMessage});v.gridOptions.noDataMessage+=n,v.setSlicedData([])}}function C(){var e=$.extend({},u);e.sortInfo={field:0<u.sortInfo.fields.length?u.sortInfo.fields[0]:"",direction:0<u.sortInfo.directions.length?u.sortInfo.directions[0]:""},v.pageManager=u.pageManager?u.pageManager:n.getPageManager(e,v.sitGridData)}function b(t){var e=[];if(Array.isArray(t)){var n,i=t.length;for(n=0;n<i;n++)t[n].entity.selected=t[n].selected,e.push(t[n].entity)}else t.entity.selected=t.selected,e=t.entity;if(e&&e.stateTransition){var o=e.stateTransition;r.go(o.to,o.params,o.options)}else"single"===v.sitGridOptions.selectionMode&&angular.forEach(v.sitGridData,function(e){e!==t.entity&&e.selected&&(e.selected=!1)}),v.notifySelectionChanged(e)}function w(e){v.blockSelectionNotifications||(v.emitItemSelectionChanged(v.selectedItems,e),v.sitGridOptions.onSelectionChangeCallback&&v.sitGridOptions.onSelectionChangeCallback(v.selectedItems,e))}function S(e){if(v.sitGridOptions.enableResponsiveBehaviour&&!(e<=0))if(e<=768)for(var t=0,n=0;n<v.sitGridOptions.columnDefs.length;n++)(v.sitGridOptions.columnDefs[n].visible||void 0===v.sitGridOptions.columnDefs[n].visible)&&2<++t&&(v.sitGridOptions.columnDefs[n].visible=!1);else for(var i=0;i<v.sitGridOptions.columnDefs.length;i++){var o=_.findIndex(v.gridVisibleCols,{field:v.sitGridOptions.columnDefs[i].field});-1===o||v.sitGridOptions.columnDefs[i].visible||(v.sitGridOptions.columnDefs[i].visible=v.gridVisibleCols[o].visible),v.sitGridOptions.columnDefs[i].visible="boolean"!=typeof v.sitGridOptions.columnDefs[i].visible||v.sitGridOptions.columnDefs[i].visible}}function x(n,i,o){if(v.gridResetting)var a=d.$on("ngGridEventData",function(e,t){T(n,i,o),a()});else T(n,i,o)}function T(e,t,n){if(e&&e.constructor===Array){var i,o,a,r;v.blockSelectionNotifications=!0;var s=v.gridOptions.uniqueID,c=d.slicedGridData;if(t&&n){for(i=0;i<v.selectedItems.length;i++)(a=v.selectedItems[i]).selected=!1;v.gridOptions.selectAll(!1)}if(0<e.length)if("number"==typeof e[0])for(i=0;i<e.length;i++)(a=c[o=e[i]])&&(a.selected=t,v.gridOptions.selectRow(o,t));else{var l=[];for(o=0;c[o];o++){for(r=c[o],i=0;e[i];){if(a=e[i],"string"==typeof s&&s){if(a[s]===r[s]){r.selected=t,l.push(o),e.splice(i,1);break}}else if("function"==typeof s){if(s(a,r)){r.selected=t,l.push(o),e.splice(i,1);break}}else if(a===r){r.selected=t,l.push(o),e.splice(i,1);break}i++}if(0===e.length)break}for(i=0;i<l.length;i++)v.gridOptions.selectRow(l[i],t)}v.blockSelectionNotifications=!1,v.notifySelectionChanged(null)}}function I(n){if(v.gridResetting)var i=d.$on("ngGridEventData",function(e,t){k(n),i()});else k(n)}function k(e){e&&0<v.selectedItems.length&&(v.blockSelectionNotifications=!0,v.gridOptions.selectAll(!1),v.blockSelectionNotifications=!1),v.gridOptions.selectAll&&v.gridOptions.selectAll(e)}function E(){return v.gridOptions.selectedItems}function O(){var e=u.culture;if(!e){var t=o.preferredLanguage();e=t?t.substring(0,2):"en"}return e}function P(e){if(null!==v.sitGridOptions&&void 0!==v.sitGridOptions||g("vm.sitGridOptions can't be null or undefined"),u=i.setGridConfigurationDefaults(v.sitGridOptions),v.sitConfig=u,p("[updateGridOptions] firstUpdate: "+e),"none"===v.sitGridOptions.selectionMode)d.slicedGridData&&0<v.selectedItems.length&&(angular.forEach(d.slicedGridData,function(e){e.selected&&(e.selected=!e.selected)}),v.selectedItems.splice(0,v.selectedItems.length));else if("single"===v.sitGridOptions.selectionMode&&d.slicedGridData&&0<v.selectedItems.length){var t=v.selectedItems.slice(v.selectedItems.length-1);angular.forEach(v.selectedItems,function(e){e.selected&&e!==t[0]&&(e.selected=!e.selected)}),v.selectedItems.splice(0,v.selectedItems.length),v.selectedItems.push(t[0])}var n={afterSelectionChange:v.afterSelectionChange,data:"slicedGridData",columnDefs:"colDefs",customRowClasses:u.customRowClasses,enableColumnResize:u.enableColumnResize,enablePaging:u.enablePaging,enableRowSelection:"multi"===u.selectionMode||"single"===u.selectionMode,rowHeight:u.rowHeight<30||!u.rowHeight?30:u.rowHeight,enableSorting:u.enableSorting,groups:u.groups?u.groups:[],groupsCollapsedByDefault:u.groupsCollapsedByDefault,i18n:v.get2LetterCultureCode(),keepLastSelected:!1,multiSelect:"multi"===u.selectionMode,noDataMessage:u.noDataMessage?u.noDataMessage:o.instant("common.no-data"),pagingOptions:{pageSizes:u.pagingOptions.pageSizes,pageSize:e?u.pagingOptions.pageSize:v.gridOptions.pagingOptions.pageSize,currentPage:e?u.pagingOptions.currentPage:v.gridOptions.pagingOptions.currentPage},selectAggregateCallback:v.selectItems,selectedItems:v.selectedItems,showFooter:u.enablePaging&&(u.alwaysShowPager||(!u.groups||0===u.groups.length)&&(1<v.initialPageCount||v.pageManager.getTotalItemCount()>v.initialPageSize)||v.pageManager.isServerData()&&u.quickSearchOptions.enabled&&u.quickSearchOptions.field&&u.quickSearchOptions.filterText),showGroupPanel:!1,sortInfo:u.sortInfo,totalServerItems:"totalDataItems",showSelectionCheckbox:u.showSelectionCheckbox,showRowHighlight:u.showRowHighlight,useExternalSorting:!0,enableResponsiveBehaviour:u.enableResponsiveBehaviour,uniqueID:u.uniqueID?u.uniqueID:""};v.gridOptions=n}function D(e){if(!0===v.sitGridOptions.noScroll){var o;v.pageManager.getAllData().then(function(e){var t=e.data.length,n=v.pageManager.getPageSize(),i=d.slicedGridData.length;o=i<n?i*(v.gridOptions.rowHeight+1):t<n?t*(v.gridOptions.rowHeight+1):n*(v.gridOptions.rowHeight+1),v.gridHeight={height:o+55+30+"px"},$(".ngViewport").css({overflow:"hidden",height:o})},function(e){v.handleError(e)})}else{if(e||(e=M(u.containerID)),e<=0)return;v.gridContainerHeight=e,v.gridHeight={height:e+"px"},t.logger.log("sitGrid.vm.setHeight","height: "+e)}}function R(){v.pageManager.isServerData()&&!v.sitGridOptions.enablePaging&&(v.serverItemsLoadCount=Math.ceil(v.gridContainerHeight/(v.gridOptions.rowHeight+1)),v.initialDataItemsCount=angular.copy(v.serverItemsLoadCount),v.serverItemsLoadCount>v.totalServerItemsLoadedCount&&v.totalServerItemsLoadedCount!==v.totalDataItems&&v.resetGrid(!0,!1))}function A(){var e=0;u.height?e=u.height:u.containerID&&(e=M(u.containerID)),v.handleResize=u.containerID&&(u.handleResize||0<=e),e<=0&&(e=Math.ceil($(window).height()/2)),v.setHeight(e)}function M(e){var t=-1,n=$("#"+e,l.parents("div#itemCollectionCanvas")[0]);return 0===n.length?t:t=n.is(":visible")?n.height():-1===n.css("height").indexOf("%")?n.height():0}function F(e){d.slicedGridData=e}function N(){var t=[];if(angular.forEach(v.sitGridData,function(e){e.selected&&t.push(e)}),0<t.length)v.selectedItems=t;else if(0<v.selectedItems.length&&0<v.sitGridData.length){var e,n,i=[],o=v.sitGridData,a=v.selectedItems,r=a.length,s=o.length,c=v.gridOptions.uniqueID;for(e=0;e<r;e++){for(n=0;n<s;n++)if(c){if("string"==typeof c){if(o[n][c]===a[e][c])break}else if("function"==typeof c&&v.gridOptions.uniqueID(o[n],a[e]))break}else if(G(o[n],a[e]))break;n===s&&i.unshift(e)}i.forEach(function(e){v.selectedItems.splice(e,1)})}}function B(){var e=v.gridOptions.uniqueID;if(f=[],v.selectedItems)for(var t=0;t<v.selectedItems.length;t++)for(var n=v.selectedItems[t],i=0;i<d.slicedGridData.length;i++){var o=d.slicedGridData[i];if(!o.selected){if(o.selected=!0,"string"==typeof e&&e){if(o[e]!==n[e]){o.selected=!1;continue}}else if("function"==typeof e){if(o.selected=v.gridOptions.uniqueID(o,n),!o.selected)continue}else if(!G(o,n)){o.selected=!1;continue}f.push(o),v.selectedItems[t]=o;break}}}function G(e,t){for(var n=!0,i=Object.keys(e),o=0;o<i.length;o++)if("object"!==(typeof e[i[o]]||typeof t[i[o]])&&"function"!==(typeof e[i[o]]||typeof t[i[o]])&&"[object Array]"!==(Object.prototype.toString.call(e[i[o]])||Object.prototype.toString.call(e[i[o]]))&&e[i[o]]!==t[i[o]]){n=!1;break}return n}function V(e,t){var n=m.defer();return v.setPageManager(),v.gridResetting?(p("[reset grid] reset already in progress"),n.reject({})):(v.gridResetting=!0,v.isScrollUpdate?(v.showGrid=!0,v.isScrollUpdate=!1):v.showGrid=!1,a(function(){(function(n,i){var o=m.defer();v.filterClauses&&(v.filterClauses=v.filterClauses.length?v.filterClauses:void 0,v.pageManager.setFilter(v.filterClauses));return(v.sitGridOptions.enablePaging||!v.pageManager.isServerData()||v.grouping?v.grouping||!v.sitGridOptions.enablePaging?v.pageManager.getAllData():v.pageManager.getPageData():v.pageManager.getServerData(v.serverItemsLoadCount,v.totalServerItemsLoadedCount)).then(function(e){n&&(v.initialPageCount=v.pageManager.getPageCount()),(v.gridOptions.enablePaging||!v.pageManager.isServerData()||v.isGroupedBy||v.isQuickSearched||v.isSorted||h||v.isFilterPanelOpen)&&(d.slicedGridData=[]),d.totalDataItems=e.totalDataSize,v.totalDataItems=e.totalDataSize;for(var t=0;t<e.data.length;t++)d.slicedGridData.push(e.data[t]);!v.gridOptions.enablePaging&&v.pageManager.isServerData()&&(v.totalServerItemsLoadedCount=e.data.length+v.totalServerItemsLoadedCount,(v.isQuickSearched||v.isSorted||v.isGroupedBy||h||v.isFilterPanelOpen)&&(v.isQuickSearched=!1,v.isSorted=!1,v.isGroupedBy=!1,h=!1,v.isFilterPanelOpen=!1,v.bindScroll())),v.sitGridOptions.noData=!e.data.length,v.updateGridOptions(),v.gridOptions.pagingOptions.currentPage=v.pageManager?v.pageManager.getCurrentPage():1,v.setOptionsAPIMethods(),d.colDefs=u.columnDefs,v.updateSelectedItems(),i&&(v.selectedItems.splice(0,v.selectedItems.length),f.forEach(function(e){v.selectedItems.push(e)})),v.gridResetting=!1,v.showGrid=!0,o.resolve({})},function(e){v.updateGridOptions(),v.setOptionsAPIMethods(),d.colDefs=u.columnDefs,v.gridResetting=!1,v.showGrid=!0,v.handleError(e),g("[reset grid] error resetting grid: "+e.data.error.errorMessage),o.reject({reason:e})}),o.promise})(e,t).then(function(){n.resolve({})},function(e){n.reject({reason:e})})},100)),n.promise}function L(e,t){t||(t="asc"),v.gridOptions.sortBy?v.gridOptions.sortBy(e,t):p("[sitGridOptions.sortBy] attempt to sort grid when sortBy not defined"),p("[sitGridOptions.sortBy] sorting by field: "+e+" sort direction: "+t)}function z(){var e=!1;v.pageManager.isServerData()&&"multi"===v.sitGridOptions.selectionMode&&(e=!0),!v.sitGridOptions.enablePaging&&v.pageManager.isServerData()&&(h=!0,v.totalServerItemsLoadedCount=0,v.serverItemsLoadCount=v.initialDataItemsCount),v.resetGrid(!0,e)}function U(){v.isQuickSearched=!0,v.serverItemsLoadCount=v.initialDataItemsCount,v.totalServerItemsLoadedCount=0,v.resetGrid(!1,!1).then(function(){$("#data-container").scrollTop(0),d.$emit("sit-grid.data-filtered")},function(){$("#data-container").scrollTop(0),d.$emit("sit-grid.data-filtered")})}function j(e){v.filterClauses=e.length?e:void 0,v.pageManager.setFilter(e),v.pageManager.setCurrentPage(1),v.updateDataOnFilterChange()}function q(){return d.slicedGridData}function W(){v.sitGridOptions.selectItems=v.selectItems,v.sitGridOptions.selectAll=v.selectAll,v.sitGridOptions.sortBy=v.sortBy,v.sitGridOptions.dataUpdated=v.dataUpdated,v.sitGridOptions.getSelectedItems=v.getSelectedItems,v.sitGridOptions.setFilter=v.setFilter,v.sitGridOptions.getCurrentData=v.getCurrentData}function H(e){d.$emit("sit-grid.page-changed",e),d.$broadcast("sit-grid.page-changed"),v.sitGridOptions.onPageChangedCallback&&v.sitGridOptions.onPageChangedCallback(e)}function X(e){d.$emit("sit-grid.page-size-changed",e)}function Y(e){d.$emit("sit-grid.sort-changed",e),d.$broadcast("sit-grid.page-changed"),v.sitGridOptions.onSortingChangedCallback&&v.sitGridOptions.onSortingChangedCallback({field:e.fields[0],direction:e.directions[0]})}function Q(e,t){d.$emit("sit-item-selection-changed",e,t)}function K(e){var t=_.findWhere(d.$$watchers,{exp:"function () { return ctrl.gridOptions.pagingOptions.currentPage; }"});t&&(t.last!==e&&v.emitPageChanged(e),t.last=e)}v.serverItemsLoadCount=0,v.initialDataItemsCount=0,v.totalServerItemsLoadedCount=0,v.isQuickSearched=!1,v.isSorted=!1,v.isGroupedBy=!1,v.isFilterPanelOpen=!1,function(){v.sitGridOptions&&v.sitGridOptions.svgIcon&&v.sitGridOptions.columnDefs.length&&!v.sitGridOptions.columnDefs[0].isImageCol?v.sitGridOptions.columnDefs.unshift({cellTemplate:'<img src="'+v.sitGridOptions.svgIcon+'" height="100%" width="100%" />',width:"20px",resizable:!1,isImageCol:!0}):v.sitGridOptions&&v.sitGridOptions.typeIcon&&v.sitGridOptions.columnDefs.length&&!v.sitGridOptions.columnDefs[0].isImageCol&&v.sitGridOptions.columnDefs.unshift({cellTemplate:'<img src="common/icons/type'+v.sitGridOptions.typeIcon+'48.svg" height="100%" width="100%" />',width:"20px",resizable:!1,isImageCol:!0});if(p=t.logger.getLogFn("siemens.simaticit.common.widgets.grid.controller",e.LOG_INFO),g=t.logger.getLogFn("siemens.simaticit.common.widgets.grid.controller",e.LOG_ERROR),u=i.setGridConfigurationDefaults(v.sitGridOptions),v.sitConfig=u,v.sitGridOptions.enablePaging=!1!==v.sitGridOptions.enablePaging,v.handleError=y,v.setPageManager=C,v.setPageManager(),v.selectedItems=[],v.sitGridOptions.selectedItems&&angular.forEach(v.sitGridOptions.selectedItems,function(e){e.selected&&v.selectedItems.push(e)}),v.currentPage,v.initialPageCount=1,v.initialPageSize=u.pagingOptions.initialPageSize,v.afterSelectionChange=b,v.notifySelectionChanged=w,v.selectItems=x,v.selectAll=I,v.sortBy=L,v.dataUpdated=z,v.getSelectedItems=E,v.setFilter=j,v.getCurrentData=q,v.setServerSideItemCount=R,v.get2LetterCultureCode=O,v.updateGridOptions=P,v.updateGridOptions(!0),v.grouping=v.sitGridOptions.groups&&0<v.sitGridOptions.groups.length,v.setHeight=D,v.initializeHeight=A,v.setSlicedData=F,v.setSlicedData([]),v.colDefs=u.columnDefs,v.updateSelectedItems=B,v.resetGrid=V,(!v.pageManager.isServerData()||v.gridOptions.enablePaging)&&v.resetGrid(!0,!1),v.updateDataOnFilterChange=U,v.setOptionsAPIMethods=W,v.setOptionsAPIMethods(),v.gridOptions.selectAggregateCallback=v.selectItems,v.gridResizeEvent=S,v.buildSelectedList=N,v.sitGridOptions.noData=!0,v.emitPageChanged=H,v.emitPageSizeChanged=X,v.emitSortInfoChanged=Y,v.emitItemSelectionChanged=Q,v.preventCurrentPageWatch=K,a(function(){$(window).trigger("resize"),L(v.gridOptions.sortInfo.fields[0],v.gridOptions.sortInfo.directions[0])},100),v.pageManager.setSortInfo(v.gridOptions.sortInfo.fields[0],v.gridOptions.sortInfo.directions[0]),v.sitGridOptions&&v.sitGridOptions.tagField&&function(){var e,t;if("string"==typeof v.sitGridOptions.tagField?e=t=v.sitGridOptions.tagField:(t=v.sitGridOptions.tagField.field,e=v.sitGridOptions.tagField.displayName?v.sitGridOptions.tagField.displayName:t),!_.some(v.sitGridOptions.columnDefs,function(e){if(e.field===t)return!0})){var n={field:t,displayName:e,cellTemplate:"<div  id='data-cell-container' class='ngCellText' ng-class='col.colIndex()'><sit-tag-list ng-if='row[\"entity\"][\""+t+'"].length > 0\' sit-data=\'row["entity"]["'+t+"\"]'></sit-tag-list></div>"};v.sitGridOptions.columnDefs&&Array.isArray(v.sitGridOptions.columnDefs)&&v.sitGridOptions.columnDefs.push(n)}}(),void 0===v.sitGridData||null===v.sitGridData||0===v.sitGridData.length)return;N()}()}function N(n,i,o){function a(e,t){return function(){var e,t=new Date,n=t.getSeconds(),i=n<10?"0"+n:n.toString(),o=t.getMinutes(),a=o<10?"0"+o:o.toString(),r=t.getHours(),s=r<10?"0"+r:r.toString(),c=t.getMilliseconds();e=c<10?"00"+c:c<100?"0"+c:c;return s+":"+a+":"+i+"."+e}()+" ["+o+"] ["+e+"] "+t}this.log=function(e,t){i&&n.log(a(e,t))},this.info=function(e,t){n.info(a(e,t))},this.warn=function(e,t){n.warn(a(e,t))},this.error=function(e,t){n.error(a(e,t))}}angular.module("siemens.simaticit.common.widgets.grid").directive("sitGrid",e),e.$inject=["$log","$window","$timeout"],t.$inject=["$scope","common","common.widgets.grid.service","common.widgets.pager.pageService","$translate","$timeout","$state","LOG_TYPES","$window","$filter","$element","$q"]}(),angular.module("siemens.simaticit.common.widgets.grid").service("common.widgets.grid.service",function(){this.gridConfigurationDefaults={enableColumnResize:!0,enablePaging:!0,enableSorting:!0,groupsCollapsedByDefault:!0,pageManager:null,pagingOptions:{pageSizes:[10,25,50,100,250],pageSize:10,currentPage:1},quickSearchOptions:{enabled:!0,field:"",filterText:""},selectionMode:"multi",showSelectionCheckbox:!1,showRowHighlight:!0,useExternalSorting:!0,debug:!1,enableResponsiveBehaviour:!1},this.defaultColumn={cellFilter:void 0,displayName:void 0,field:void 0,groupable:!0,resizeable:!0,sortable:!0},this.setGridConfigurationDefaults=function(e){var t=$.extend({},this.gridConfigurationDefaults,e);return e&&(e.sortInfo?e.sortInfo.columns||(t.sortInfo.columns=[]):t.sortInfo={fields:[],columns:[],directions:[]}),$.extend(e,t),e}}),angular.module("siemens.simaticit.common.widgets.headerButton",[]),function(){function e(t){var n=this;function e(){"function"==typeof n.onClick&&n.onClick()}function i(e){e&&(e.templateuri&&"string"==typeof e.templateuri&&(n.showDropdown=!0,n.templateuri=e.templateuri),e.sticky&&(t.find("span[data-internal-type='headerButton']").removeAttr("data-toggle"),t.find("div[data-internal-type='headerButtonContainer']").addClass("open")))}function o(){t.find("div[data-internal-type='headerButtonContainer']").removeClass("open")}n.showDropdown=!1,n.templateuri="",n.displayIcon=null,n.onButtonClick=e,n.api||(n.api={}),n.api.closeMenu=o,n.api.openMenu=i,n.svgIcon?n.displayIcon={path:n.svgIcon,size:"16px"}:n.cmdIcon&&(n.displayIcon={prefix:"cmd",name:n.cmdIcon,suffix:"24",size:"16px"})}angular.module("siemens.simaticit.common.widgets.headerButton",[]).directive("sitHeaderButton",function(){return{restrict:"E",scope:{},bindToController:{id:"=sitId",icon:"=sitIcon",title:"=?sitTitle",onClick:"=?sitOnClick",api:"=?sitApi",svgIcon:"=?sitSvgIcon",cmdIcon:"=?sitCmdIcon"},controller:e,controllerAs:"vm",templateUrl:"common/widgets/headerButton/headerButton.html"}}),e.$inject=["$element"]}(),angular.module("siemens.simaticit.common.widgets.homeCard",[]).component("sitHomeCard",{templateUrl:"common/widgets/homeCard/sit-home-card.html",controller:function(){},controllerAs:"homeCardCtrl",bindings:{options:"=?"}}),angular.module("siemens.simaticit.common.widgets.homeTile",[]).controller("HomeTileController",[function(){this.$onInit=function(){var e;(e=this).options&&"string"==typeof e.options.icon?e.isSvgIcon=!1:e.isSvgIcon=!0}}]).component("sitHomeTile",{templateUrl:"common/widgets/homeTile/sit-home-tile.html",controller:"HomeTileController",controllerAs:"homeTileCtrl",bindings:{options:"=?"}}),angular.module("siemens.simaticit.common.widgets.iconPicker",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.iconPicker");function t(n,e,t,i,o,a){var r=this;r.editable=!0,r.valueChanged=function(e,t){r.value=t,n.$emit("sit-icon-picker-icon-selected",{icon:r.value})},r.limit=r.limit===parseInt(r.limit,10)?r.limit:50,r.templateUrl="common/widgets/iconPicker/icon-selection-template.html";var s=[];if(String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),r.restrict){var c=r.restrict.split(" "),l=c.indexOf("fa");-1!==l&&(s=s.concat(u())),-1!==(l=c.indexOf("sit"))&&(s=s.concat(p()));var d=_.find(c,function(e){if(e.startsWith("svg"))return e});if(d){var m=d.split(".");s=s.concat(g(1<m.length?m:void 0))}}else s=(s=(s=s.concat(u())).concat(p())).concat(g());function u(){var e=t.fontAwesomIcon;return _.map(t.fontAwesomIcon,function(e){e.type="fa",e.text=e.icon}),e}function p(){var e=i.sitIcon;return _.map(i.sitIcon,function(e){e.type="sit",e.text=e.icon}),e}function g(t){var e;return t&&1<t.length?(t.shift(),e=_.filter(o.sitIcons,function(e){return _.contains(t,e.iconType)})):(e=o.sitIcons,_.map(o.sitIcons,function(e){e.type="svg"})),e}r.datasource=s,r.selectedAttributeToDisplay="text",r.placeholder=e.instant("iconPicker.defaultPlaceHolder"),r.selectedObject&&r.selectedObject.icon&&(r.value=r.selectedObject.icon),n.$watch(function(){return r.value},function(e,t){e&&t&&e===t&&(r.selectedObject=_.find(r.datasource,function(e){return e.text===t}))}),n.$on("sit-entity-picker.entity-selected",function(e,t){a(function(){r.value=t.model.text},50)})}t.$inject=["$scope","$translate","common.graph.fontAwesomIconData","common.iconPicker.sitIconData","common.iconPicker.sitIconSvgData","$timeout"],e.directive("sitIconPicker",[function(){return{restrict:"E",scope:{},bindToController:{id:"=?sitId",restrict:"=?sitRestrict",readOnly:"=?sitReadOnly",selectedObject:"=?sitSelectedObject",value:"=?sitValue",limit:"=?sitLimit",validation:"=?sitValidation",ngBlur:"&?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",required:"=?sitRequired"},controller:t,controllerAs:"iconPickerCtrl",templateUrl:"common/widgets/iconPicker/iconPicker.html"}}])}(),function(){angular.module("siemens.simaticit.common.widgets.iconPicker").value("common.iconPicker.sitIconData",{sitIcon:[{icon:"sit sit-active"},{icon:"sit sit-active-circle"},{icon:"sit sit-anchor-up"},{icon:"sit sit-application"},{icon:"sit sit-assign"},{icon:"sit sit-associate"},{icon:"sit sit-available"},{icon:"sit sit-batch"},{icon:"sit sit-robot"},{icon:"sit sit-bi-solution"},{icon:"sit sit-bom"},{icon:"sit sit-business-logic-distribution"},{icon:"sit sit-calendar"},{icon:"sit sit-certification"},{icon:"sit sit-cnc-program"},{icon:"sit sit-component"},{icon:"sit sit-custom-time-aggregation"},{icon:"sit sit-data-gateway"},{icon:"sit sit-data-warehouse-project"},{icon:"sit sit-deploy"},{icon:"sit sit-disable"},{icon:"sit sit-doc-center"},{icon:"sit sit-document"},{icon:"sit sit-drag"},{icon:"sit sit-engineering"},{icon:"sit sit-enterprise"},{icon:"sit sit-event-subscription"},{icon:"sit sit-ewi"},{icon:"sit sit-ewi-document"},{icon:"sit sit-export"},{icon:"sit sit-field"},{icon:"sit sit-flow"},{icon:"sit sit-flows"},{icon:"sit sit-form"},{icon:"sit sit-freeze"},{icon:"sit sit-functionality"},{icon:"sit sit-grid"},{icon:"sit sit-hold"},{icon:"sit sit-holiday"},{icon:"sit sit-holiday-set"},{icon:"sit sit-identifier-format"},{icon:"sit sit-import"},{icon:"sit sit-in-progress"},{icon:"sit sit-items"},{icon:"sit sit-kpi"},{icon:"sit sit-layout"},{icon:"sit sit-log"},{icon:"sit sit-machine"},{icon:"sit sit-management"},{icon:"sit sit-measure"},{icon:"sit sit-model"},{icon:"sit sit-monitoring"},{icon:"sit sit-obsolete"},{icon:"sit sit-ontology"},{icon:"sit sit-ontology-alt"},{icon:"sit sit-package-administration"},{icon:"sit sit-parts-and-products"},{icon:"sit sit-push"},{icon:"sit sit-push-alt"},{icon:"sit sit-release"},{icon:"sit sit-resize"},{icon:"sit sit-routing-alt"},{icon:"sit sit-routing"},{icon:"sit sit-scrap"},{icon:"sit sit-section"},{icon:"sit sit-set"},{icon:"sit sit-site"},{icon:"sit sit-skills"},{icon:"sit sit-smart-navigation"},{icon:"sit sit-sn"},{icon:"sit sit-sn-change"},{icon:"sit sit-solution"},{icon:"sit sit-solution-repository"},{icon:"sit sit-source"},{icon:"sit sit-stackable-access"},{icon:"sit sit-stackable-add"},{icon:"sit sit-stackable-bkg"},{icon:"sit sit-stackable-config"},{icon:"sit sit-stackable-deploy"},{icon:"sit sit-stackable-edit"},{icon:"sit sit-stackable-enable"},{icon:"sit sit-stackable-intelligence"},{icon:"sit sit-stackable-machine"},{icon:"sit sit-stackable-management"},{icon:"sit sit-stackable-ok"},{icon:"sit sit-stackable-operation"},{icon:"sit sit-stackable-order"},{icon:"sit sit-stackable-reason"},{icon:"sit sit-stackable-remove"},{icon:"sit sit-stackable-set"},{icon:"sit sit-stackable-setting"},{icon:"sit sit-stackable-show"},{icon:"sit sit-stackable-activate"},{icon:"sit sit-stackable-time"},{icon:"sit sit-stackable-source"},{icon:"sit sit-system-configuration"},{icon:"sit sit-tasklist"},{icon:"sit sit-time-period"},{icon:"sit sit-time-slice"},{icon:"sit sit-time-slice-category"},{icon:"sit sit-tools"},{icon:"sit sit-ui"},{icon:"sit sit-ui-application"},{icon:"sit sit-ui-component"},{icon:"sit sit-ui-module"},{icon:"sit sit-ui-module-mashup"},{icon:"sit sit-ui-screen"},{icon:"sit sit-unassign"},{icon:"sit sit-unset"},{icon:"sit sit-update"},{icon:"sit sit-user"},{icon:"sit sit-user-group"},{icon:"sit sit-user-id"},{icon:"sit sit-user-role"},{icon:"sit sit-work"},{icon:"sit sit-worker-role"},{icon:"sit sit-working-aggregation-type"},{icon:"sit sit-working-pattern"},{icon:"sit sit-work-order"},{icon:"sit sit-work-schedule-rule"},{icon:"sit sit-pi-boop-item-material-create-from-bom"},{icon:"sit sit-pi-boop-item-material-list"},{icon:"sit sit-pi-boop-item-param-association"},{icon:"sit sit-pi-boop-item-param-list"},{icon:"sit sit-pi-boop-items-list"},{icon:"sit sit-pi-material-behavior-set"},{icon:"sit sit-pi-material-bom-set"},{icon:"sit sit-pi-material-contribution"},{icon:"sit sit-pi-material-requirement-create-from-bom"},{icon:"sit sit-pi-mtu-create"},{icon:"sit sit-pi-mtu-details"},{icon:"sit sit-pi-mtu-filtered-list"},{icon:"sit sit-pi-mtu-history"},{icon:"sit sit-pi-mtu-move"},{icon:"sit sit-pi-work-master-content"},{icon:"sit sit-pi-work-master-create"},{icon:"sit sit-pi-work-master-details"},{icon:"sit sit-pi-work-master-filtered-list"},{icon:"sit sit-pi-work-master-header-parameter-list"},{icon:"sit sit-pi-work-order-context"},{icon:"sit sit-pi-work-order-create"},{icon:"sit sit-pi-work-order-details"},{icon:"sit sit-pi-work-order-filtered-list"},{icon:"sit sit-pi-work-order-header-parameters"},{icon:"sit sit-pi-work-order-operation"},{icon:"sit sit-pi-work-order-operation-material-list"},{icon:"sit sit-pi-work-order-operation-param-list"},{icon:"sit sit-workflow-alt"},{icon:"sit sit-workflow-template"}]});angular.module("siemens.simaticit.common.widgets.iconPicker").value("common.iconPicker.sitIconSvgData",{sitIcons:[{iconType:"cmd",text:"svg cmd3DView24",icon:"common/icons/cmd3DView24.svg"},{iconType:"cmd",text:"svg cmd5Why24",icon:"common/icons/cmd5Why24.svg"},{iconType:"cmd",text:"svg cmd8DReport24",icon:"common/icons/cmd8DReport24.svg"},{iconType:"cmd",text:"svg cmdAccount24",icon:"common/icons/cmdAccount24.svg"},{iconType:"cmd",text:"svg cmdAcknowledgment24",icon:"common/icons/cmdAcknowledgment24.svg"},{iconType:"cmd",text:"svg cmdActionAdd24",icon:"common/icons/cmdActionAdd24.svg"},{iconType:"cmd",text:"svg cmdActivate24",icon:"common/icons/cmdActivate24.svg"},{iconType:"cmd",text:"svg cmdAdd16",icon:"common/icons/cmdAdd16.svg"},{iconType:"cmd",text:"svg cmdAdd24",icon:"common/icons/cmdAdd24.svg"},{iconType:"cmd",text:"svg cmdAddAction24",icon:"common/icons/cmdAddAction24.svg"},{iconType:"cmd",text:"svg cmdAddDocument24",icon:"common/icons/cmdAddDocument24.svg"},{iconType:"cmd",text:"svg cmdAddFromEquipment24",icon:"common/icons/cmdAddFromEquipment24.svg"},{iconType:"cmd",text:"svg cmdAddFromEquipmentGroup24",icon:"common/icons/cmdAddFromEquipmentGroup24.svg"},{iconType:"cmd",text:"svg cmdAddFromOrder24",icon:"common/icons/cmdAddFromOrder24.svg"},{iconType:"cmd",text:"svg cmdAddNewChild24",icon:"common/icons/cmdAddNewChild24.svg"},{iconType:"cmd",text:"svg cmdAddNewFirstLevel24",icon:"common/icons/cmdAddNewFirstLevel24.svg"},{iconType:"cmd",text:"svg cmdAdHoc24",icon:"common/icons/cmdAdHoc24.svg"},{iconType:"cmd",text:"svg cmdAdmin24",icon:"common/icons/cmdAdmin24.svg"},{iconType:"cmd",text:"svg cmdAlerts24",icon:"common/icons/cmdAlerts24.svg"},{iconType:"cmd",text:"svg cmdAlignTop24",icon:"common/icons/cmdAlignTop24.svg"},{iconType:"cmd",text:"svg cmdAppInstall24",icon:"common/icons/cmdAppInstall24.svg"},{iconType:"cmd",text:"svg cmdAppManagement24",icon:"common/icons/cmdAppManagement24.svg"},{iconType:"cmd",text:"svg cmdAppReload24",icon:"common/icons/cmdAppReload24.svg"},{iconType:"cmd",text:"svg cmdAppRemove24",icon:"common/icons/cmdAppRemove24.svg"},{iconType:"cmd",text:"svg cmdAppUpdate24",icon:"common/icons/cmdAppUpdate24.svg"},{iconType:"cmd",text:"svg cmdArchive24",icon:"common/icons/cmdArchive24.svg"},{iconType:"cmd",text:"svg cmdAsBuilt24",icon:"common/icons/cmdAsBuilt24.svg"},{iconType:"cmd",text:"svg cmdAssignGroupToRole24",icon:"common/icons/cmdAssignGroupToRole24.svg"},{iconType:"cmd",text:"svg cmdAssignLot24",icon:"common/icons/cmdAssignLot24.svg"},{iconType:"cmd",text:"svg cmdAssociateRole24",icon:"common/icons/cmdAssociateRole24.svg"},{iconType:"cmd",text:"svg cmdAuditTrail24",icon:"common/icons/cmdAuditTrail24.svg"},{iconType:"cmd",text:"svg cmdAutomationChannel24",icon:"common/icons/cmdAutomationChannel24.svg"},{iconType:"cmd",text:"svg cmdAutomationNodeTemplate24",icon:"common/icons/cmdAutomationNodeTemplate24.svg"},{iconType:"cmd",text:"svg cmdBack24",icon:"common/icons/cmdBack24.svg"},{iconType:"cmd",text:"svg cmdBackwards24",icon:"common/icons/cmdBackwards24.svg"},{iconType:"cmd",text:"svg cmdBarcode24",icon:"common/icons/cmdBarcode24.svg"},{iconType:"cmd",text:"svg cmdBarcodeSet24",icon:"common/icons/cmdBarcodeSet24.svg"},{iconType:"cmd",text:"svg cmdBarcodeUnset24",icon:"common/icons/cmdBarcodeUnset24.svg"},{iconType:"cmd",text:"svg cmdBoardDefect24",icon:"common/icons/cmdBoardDefect24.svg"},{iconType:"cmd",text:"svg cmdBrush24",icon:"common/icons/cmdBrush24.svg"},{iconType:"cmd",text:"svg cmdBuild24",icon:"common/icons/cmdBuild24.svg"},{iconType:"cmd",text:"svg cmdBuildForce24",icon:"common/icons/cmdBuildForce24.svg"},{iconType:"cmd",text:"svg cmdCalendar16",icon:"common/icons/cmdCalendar16.svg"},{iconType:"cmd",text:"svg cmdCalendar24",icon:"common/icons/cmdCalendar24.svg"},{iconType:"cmd",text:"svg cmdCancel24",icon:"common/icons/cmdCancel24.svg"},{iconType:"cmd",text:"svg cmdCardId24",icon:"common/icons/cmdCardId24.svg"},{iconType:"cmd",text:"svg cmdCertificate24",icon:"common/icons/cmdCertificate24.svg"},{iconType:"cmd",text:"svg cmdCertificateExecution24",icon:"common/icons/cmdCertificateExecution24.svg"},{iconType:"cmd",text:"svg cmdChangeCategory24",icon:"common/icons/cmdChangeCategory24.svg"},{iconType:"cmd",text:"svg cmdChangeManagement24",icon:"common/icons/cmdChangeManagement24.svg"},{iconType:"cmd",text:"svg cmdChangeSequence24",icon:"common/icons/cmdChangeSequence24.svg"},{iconType:"cmd",text:"svg cmdChangeSerialNumber24",icon:"common/icons/cmdChangeSerialNumber24.svg"},{iconType:"cmd",text:"svg cmdCheckConsistency24",icon:"common/icons/cmdCheckConsistency24.svg"},{iconType:"cmd",text:"svg cmdChecklist16",icon:"common/icons/cmdChecklist16.svg"},{iconType:"cmd",text:"svg cmdChecklist24",icon:"common/icons/cmdChecklist24.svg"},{iconType:"cmd",text:"svg cmdCheckmark16",icon:"common/icons/cmdCheckmark16.svg"},{iconType:"cmd",text:"svg cmdCheckmark24",icon:"common/icons/cmdCheckmark24.svg"},{iconType:"cmd",text:"svg cmdChildPartial24",icon:"common/icons/cmdChildPartial24.svg"},{iconType:"cmd",text:"svg cmdClauseGroup24",icon:"common/icons/cmdClauseGroup24.svg"},{iconType:"cmd",text:"svg cmdClauseUngroup24",icon:"common/icons/cmdClauseUngroup24.svg"},{iconType:"cmd",text:"svg cmdClosePanel24",icon:"common/icons/cmdClosePanel24.svg"},{iconType:"cmd",text:"svg cmdComponentIndexer24",icon:"common/icons/cmdComponentIndexer24.svg"},{iconType:"cmd",text:"svg cmdCompress24",icon:"common/icons/cmdCompress24.svg"},{iconType:"cmd",text:"svg cmdConnection24",icon:"common/icons/cmdConnection24.svg"},{iconType:"cmd",text:"svg cmdContainerAttribute24",icon:"common/icons/cmdContainerAttribute24.svg"},{iconType:"cmd",text:"svg cmdControlPlan16",icon:"common/icons/cmdControlPlan16.svg"},{iconType:"cmd",text:"svg cmdControlPlan24",icon:"common/icons/cmdControlPlan24.svg"},{iconType:"cmd",text:"svg cmdCopy24",icon:"common/icons/cmdCopy24.svg"},{iconType:"cmd",text:"svg cmdCriteria24",icon:"common/icons/cmdCriteria24.svg"},{iconType:"cmd",text:"svg cmdCurrentDate24",icon:"common/icons/cmdCurrentDate24.svg"},{iconType:"cmd",text:"svg cmdCurve24",icon:"common/icons/cmdCurve24.svg"},{iconType:"cmd",text:"svg cmdDatabase24",icon:"common/icons/cmdDatabase24.svg"},{iconType:"cmd",text:"svg cmdDatabaseUpdate24",icon:"common/icons/cmdDatabaseUpdate24.svg"},{iconType:"cmd",text:"svg cmdDataCollection24",icon:"common/icons/cmdDataCollection24.svg"},{iconType:"cmd",text:"svg cmdDataMigration24",icon:"common/icons/cmdDataMigration24.svg"},{iconType:"cmd",text:"svg cmdDataSourceEdit24",icon:"common/icons/cmdDataSourceEdit24.svg"},{iconType:"cmd",text:"svg cmdDelete16",icon:"common/icons/cmdDelete16.svg"},{iconType:"cmd",text:"svg cmdDelete24",icon:"common/icons/cmdDelete24.svg"},{iconType:"cmd",text:"svg cmdDependencyAdd24",icon:"common/icons/cmdDependencyAdd24.svg"},{iconType:"cmd",text:"svg cmdDeploy24",icon:"common/icons/cmdDeploy24.svg"},{iconType:"cmd",text:"svg cmdDiagram24",icon:"common/icons/cmdDiagram24.svg"},{iconType:"cmd",text:"svg cmdDiagramAdd24",icon:"common/icons/cmdDiagramAdd24.svg"},{iconType:"cmd",text:"svg cmdDiagramExport24",icon:"common/icons/cmdDiagramExport24.svg"},{iconType:"cmd",text:"svg cmdDiagramImport24",icon:"common/icons/cmdDiagramImport24.svg"},{iconType:"cmd",text:"svg cmdDisplayColor16",icon:"common/icons/cmdDisplayColor16.svg"},{iconType:"cmd",text:"svg cmdDisposition24",icon:"common/icons/cmdDisposition24.svg"},{iconType:"cmd",text:"svg cmdDocument24",icon:"common/icons/cmdDocument24.svg"},{iconType:"cmddomain",text:"svg cmddomain16",icon:"common/icons/cmddomain16.svg"},{iconType:"cmd",text:"svg cmdDownload24",icon:"common/icons/cmdDownload24.svg"},{iconType:"cmd",text:"svg cmdEdit24",icon:"common/icons/cmdEdit24.svg"},{iconType:"cmd",text:"svg cmdElectronics24",icon:"common/icons/cmdElectronics24.svg"},{iconType:"cmd",text:"svg cmdEllipse24",icon:"common/icons/cmdEllipse24.svg"},{iconType:"cmd",text:"svg cmdEmptyStar24",icon:"common/icons/cmdEmptyStar24.svg"},{iconType:"cmd",text:"svg cmdEquipment24",icon:"common/icons/cmdEquipment24.svg"},{iconType:"cmd",text:"svg cmdEquipmentExecution24",icon:"common/icons/cmdEquipmentExecution24.svg"},{iconType:"cmd",text:"svg cmdEquipmentRemove24",icon:"common/icons/cmdEquipmentRemove24.svg"},{iconType:"cmd",text:"svg cmdEquipmentRuntime24",icon:"common/icons/cmdEquipmentRuntime24.svg"},{iconType:"cmd",text:"svg cmdEquipmentSet24",icon:"common/icons/cmdEquipmentSet24.svg"},{iconType:"cmd",text:"svg cmdEventSignal24",icon:"common/icons/cmdEventSignal24.svg"},{iconType:"cmd",text:"svg cmdEwi24",icon:"common/icons/cmdEwi24.svg"},{iconType:"cmd",text:"svg cmdEwiExecution24",icon:"common/icons/cmdEwiExecution24.svg"},{iconType:"cmd",text:"svg cmdExecGroupLink24",icon:"common/icons/cmdExecGroupLink24.svg"},{iconType:"cmd",text:"svg cmdExecGroupUnlink24",icon:"common/icons/cmdExecGroupUnlink24.svg"},{iconType:"cmd",text:"svg cmdExitFullSizeVertical24",icon:"common/icons/cmdExitFullSizeVertical24.svg"},{iconType:"cmd",text:"svg cmdExpandAll24",icon:"common/icons/cmdExpandAll24.svg"},{iconType:"cmd",text:"svg cmdExport24",icon:"common/icons/cmdExport24.svg"},{iconType:"cmd",text:"svg cmdFile24",icon:"common/icons/cmdFile24.svg"},{iconType:"cmd",text:"svg cmdFileText24",icon:"common/icons/cmdFileText24.svg"},{iconType:"cmd",text:"svg cmdFilledStar24",icon:"common/icons/cmdFilledStar24.svg"},{iconType:"cmd",text:"svg cmdFilter24",icon:"common/icons/cmdFilter24.svg"},{iconType:"cmd",text:"svg cmdFilterGroup24",icon:"common/icons/cmdFilterGroup24.svg"},{iconType:"cmd",text:"svg cmdFilterRemove24",icon:"common/icons/cmdFilterRemove24.svg"},{iconType:"cmd",text:"svg cmdFitToWindow24",icon:"common/icons/cmdFitToWindow24.svg"},{iconType:"cmd",text:"svg cmdFlipVertical24",icon:"common/icons/cmdFlipVertical24.svg"},{iconType:"cmd",text:"svg cmdFlow24",icon:"common/icons/cmdFlow24.svg"},{iconType:"cmd",text:"svg cmdFMEASystemElementSpecificationLink24",icon:"common/icons/cmdFMEASystemElementSpecificationLink24.svg"},{iconType:"cmd",text:"svg cmdForwards24",icon:"common/icons/cmdForwards24.svg"},{iconType:"cmd",text:"svg cmdFreeze24",icon:"common/icons/cmdFreeze24.svg"},{iconType:"cmd",text:"svg cmdFullSizeVertical24",icon:"common/icons/cmdFullSizeVertical24.svg"},{iconType:"cmd",text:"svg cmdFunctionality24",icon:"common/icons/cmdFunctionality24.svg"},{iconType:"cmd",text:"svg cmdGageSelection24",icon:"common/icons/cmdGageSelection24.svg"},{iconType:"cmd",text:"svg cmdGenealogy24",icon:"common/icons/cmdGenealogy24.svg"},{iconType:"cmd",text:"svg cmdGeneral24",icon:"common/icons/cmdGeneral24.svg"},{iconType:"cmd",text:"svg cmdGenerateSchedules24",icon:"common/icons/cmdGenerateSchedules24.svg"},{iconType:"cmd",text:"svg cmdGenericComponent24",icon:"common/icons/cmdGenericComponent24.svg"},{iconType:"cmd",text:"svg cmdGoToElement24",icon:"common/icons/cmdGoToElement24.svg"},{iconType:"cmd",text:"svg cmdGraph24",icon:"common/icons/cmdGraph24.svg"},{iconType:"cmd",text:"svg cmdGripper16",icon:"common/icons/cmdGripper16.svg"},{iconType:"cmd",text:"svg cmdGroup24",icon:"common/icons/cmdGroup24.svg"},{iconType:"cmd",text:"svg cmdGroupBy24",icon:"common/icons/cmdGroupBy24.svg"},{iconType:"cmd",text:"svg cmdGroupFilter24",icon:"common/icons/cmdGroupFilter24.svg"},{iconType:"cmd",text:"svg cmdHelp24",icon:"common/icons/cmdHelp24.svg"},{iconType:"cmd",text:"svg cmdHide24",icon:"common/icons/cmdHide24.svg"},{iconType:"cmd",text:"svg cmdHistory24",icon:"common/icons/cmdHistory24.svg"},{iconType:"cmd",text:"svg cmdHome24",icon:"common/icons/cmdHome24.svg"},{iconType:"cmd",text:"svg cmdImport24",icon:"common/icons/cmdImport24.svg"},{iconType:"cmd",text:"svg cmdImportFromProcess24",icon:"common/icons/cmdImportFromProcess24.svg"},{iconType:"cmd",text:"svg cmdInfo24",icon:"common/icons/cmdInfo24.svg"},{iconType:"cmd",text:"svg cmdInsertAfter24",icon:"common/icons/cmdInsertAfter24.svg"},{iconType:"cmd",text:"svg cmdInsertBefore24",icon:"common/icons/cmdInsertBefore24.svg"},{iconType:"cmd",text:"svg cmdInsertPicture24",icon:"common/icons/cmdInsertPicture24.svg"},{iconType:"cmd",text:"svg cmdInterlockingCheckHistory24",icon:"common/icons/cmdInterlockingCheckHistory24.svg"},{iconType:"cmd",text:"svg cmdIshikawa24",icon:"common/icons/cmdIshikawa24.svg"},{iconType:"cmd",text:"svg cmdLabelPrinter24",icon:"common/icons/cmdLabelPrinter24.svg"},{iconType:"cmdlanguage",text:"svg cmdlanguage16",icon:"common/icons/cmdlanguage16.svg"},{iconType:"cmd",text:"svg cmdLanguage24",icon:"common/icons/cmdLanguage24.svg"},{iconType:"cmd",text:"svg cmdLeaveTeam24",icon:"common/icons/cmdLeaveTeam24.svg"},{iconType:"cmd",text:"svg cmdLine24",icon:"common/icons/cmdLine24.svg"},{iconType:"cmd",text:"svg cmdLink24",icon:"common/icons/cmdLink24.svg"},{iconType:"cmd",text:"svg cmdLinkNodeParameters24",icon:"common/icons/cmdLinkNodeParameters24.svg"},{iconType:"cmd",text:"svg cmdList16",icon:"common/icons/cmdList16.svg"},{iconType:"cmd",text:"svg cmdList24",icon:"common/icons/cmdList24.svg"},{iconType:"cmd",text:"svg cmdListBox16",icon:"common/icons/cmdListBox16.svg"},{iconType:"cmd",text:"svg cmdListBox24",icon:"common/icons/cmdListBox24.svg"},{iconType:"cmd",text:"svg cmdListBoxEdit24",icon:"common/icons/cmdListBoxEdit24.svg"},{iconType:"cmd",text:"svg cmdListView24",icon:"common/icons/cmdListView24.svg"},{iconType:"cmd",text:"svg cmdLock24",icon:"common/icons/cmdLock24.svg"},{iconType:"cmd",text:"svg cmdLogEntry24",icon:"common/icons/cmdLogEntry24.svg"},{iconType:"cmd",text:"svg cmdLoginCustom24",icon:"common/icons/cmdLoginCustom24.svg"},{iconType:"cmd",text:"svg cmdLoginWindows24",icon:"common/icons/cmdLoginWindows24.svg"},{iconType:"cmd",text:"svg cmdLot24",icon:"common/icons/cmdLot24.svg"},{iconType:"cmd",text:"svg cmdMachine24",icon:"common/icons/cmdMachine24.svg"},{iconType:"cmd",text:"svg cmdMachineBroken24",icon:"common/icons/cmdMachineBroken24.svg"},{iconType:"cmd",text:"svg cmdMachineBrokenLink24",icon:"common/icons/cmdMachineBrokenLink24.svg"},{iconType:"cmd",text:"svg cmdMachineRepair24",icon:"common/icons/cmdMachineRepair24.svg"},{iconType:"cmd",text:"svg cmdMachineRepairLink24",icon:"common/icons/cmdMachineRepairLink24.svg"},{iconType:"cmd",text:"svg cmdMachineSelect24",icon:"common/icons/cmdMachineSelect24.svg"},{iconType:"cmd",text:"svg cmdMachineState24",icon:"common/icons/cmdMachineState24.svg"},{iconType:"cmd",text:"svg cmdMaintenance24",icon:"common/icons/cmdMaintenance24.svg"},{iconType:"cmd",text:"svg cmdMashup24",icon:"common/icons/cmdMashup24.svg"},{iconType:"cmd",text:"svg cmdMashupModuleGenerate24",icon:"common/icons/cmdMashupModuleGenerate24.svg"},{iconType:"cmd",text:"svg cmdMaterialAddFromBom24",icon:"common/icons/cmdMaterialAddFromBom24.svg"},{iconType:"cmd",text:"svg cmdMaterialAddFromLot24",icon:"common/icons/cmdMaterialAddFromLot24.svg"},{iconType:"cmd",text:"svg cmdMaterialBehaviourSet24",icon:"common/icons/cmdMaterialBehaviourSet24.svg"},{iconType:"cmd",text:"svg cmdMaterialBom24",icon:"common/icons/cmdMaterialBom24.svg"},{iconType:"cmd",text:"svg cmdMaterialContribution24",icon:"common/icons/cmdMaterialContribution24.svg"},{iconType:"cmd",text:"svg cmdMaterialHistoryExecution24",icon:"common/icons/cmdMaterialHistoryExecution24.svg"},{iconType:"cmd",text:"svg cmdMaterialMigration24",icon:"common/icons/cmdMaterialMigration24.svg"},{iconType:"cmd",text:"svg cmdMaterialRequest24",icon:"common/icons/cmdMaterialRequest24.svg"},{iconType:"cmd",text:"svg cmdMaterialStorage24",icon:"common/icons/cmdMaterialStorage24.svg"},{iconType:"cmd",text:"svg cmdMaterialStorageDetails24",icon:"common/icons/cmdMaterialStorageDetails24.svg"},{iconType:"cmd",text:"svg cmdMaterialStorageHierarchy24",icon:"common/icons/cmdMaterialStorageHierarchy24.svg"},{iconType:"cmd",text:"svg cmdMaximiseVertically24",icon:"common/icons/cmdMaximiseVertically24.svg"},{iconType:"cmd",text:"svg cmdMeasurementManagement24",icon:"common/icons/cmdMeasurementManagement24.svg"},{iconType:"cmd",text:"svg cmdMenu24",icon:"common/icons/cmdMenu24.svg"},{iconType:"cmd",text:"svg cmdModelItem24",icon:"common/icons/cmdModelItem24.svg"},{iconType:"cmd",text:"svg cmdMore16",icon:"common/icons/cmdMore16.svg"},{iconType:"cmd",text:"svg cmdMore24",icon:"common/icons/cmdMore24.svg"},{iconType:"cmd",text:"svg cmdMoreVertical24",icon:"common/icons/cmdMoreVertical24.svg"},{iconType:"cmd",text:"svg cmdMousePointer24",icon:"common/icons/cmdMousePointer24.svg"},{iconType:"cmd",text:"svg cmdMove24",icon:"common/icons/cmdMove24.svg"},{iconType:"cmd",text:"svg cmdMoveFromEquipment24",icon:"common/icons/cmdMoveFromEquipment24.svg"},{iconType:"cmd",text:"svg cmdMoveRight24",icon:"common/icons/cmdMoveRight24.svg"},{iconType:"cmd",text:"svg cmdMoveToEquipment24",icon:"common/icons/cmdMoveToEquipment24.svg"},{iconType:"cmd",text:"svg cmdMoveToLocation24",icon:"common/icons/cmdMoveToLocation24.svg"},{iconType:"cmd",text:"svg cmdMoveToMTUAggregate24",icon:"common/icons/cmdMoveToMTUAggregate24.svg"},{iconType:"cmd",text:"svg cmdMoveToPartAggregate24",icon:"common/icons/cmdMoveToPartAggregate24.svg"},{iconType:"cmd",text:"svg cmdMoveX24",icon:"common/icons/cmdMoveX24.svg"},{iconType:"cmd",text:"svg cmdNestedOnOff24",icon:"common/icons/cmdNestedOnOff24.svg"},{iconType:"cmd",text:"svg cmdNonConformance24",icon:"common/icons/cmdNonConformance24.svg"},{iconType:"cmd",text:"svg cmdNonConformanceBuyOff24",icon:"common/icons/cmdNonConformanceBuyOff24.svg"},{iconType:"cmd",text:"svg cmdNonConformanceChangeManagement24",icon:"common/icons/cmdNonConformanceChangeManagement24.svg"},{iconType:"cmd",text:"svg cmdNonConformanceQuality24",icon:"common/icons/cmdNonConformanceQuality24.svg"},{iconType:"cmd",text:"svg cmdNonConformanceTravelling24",icon:"common/icons/cmdNonConformanceTravelling24.svg"},{iconType:"cmd",text:"svg cmdNoteProperties24",icon:"common/icons/cmdNoteProperties24.svg"},{iconType:"cmd",text:"svg cmdNotProductiveActivity24",icon:"common/icons/cmdNotProductiveActivity24.svg"},{iconType:"cmd",text:"svg cmdNumberingPattern24",icon:"common/icons/cmdNumberingPattern24.svg"},{iconType:"cmd",text:"svg cmdObsolete24",icon:"common/icons/cmdObsolete24.svg"},{iconType:"cmd",text:"svg cmdOpen24",icon:"common/icons/cmdOpen24.svg"},{iconType:"cmd",text:"svg cmdOperation24",icon:"common/icons/cmdOperation24.svg"},{iconType:"cmd",text:"svg cmdOperationCatalog24",icon:"common/icons/cmdOperationCatalog24.svg"},{iconType:"cmd",text:"svg cmdOperatorLanding24",icon:"common/icons/cmdOperatorLanding24.svg"},{iconType:"cmd",text:"svg cmdOrder24",icon:"common/icons/cmdOrder24.svg"},{iconType:"cmd",text:"svg cmdPack24",icon:"common/icons/cmdPack24.svg"},{iconType:"cmd",text:"svg cmdPackageAssociate24",icon:"common/icons/cmdPackageAssociate24.svg"},{iconType:"cmd",text:"svg cmdPackDetails24",icon:"common/icons/cmdPackDetails24.svg"},{iconType:"cmd",text:"svg cmdParameterAssign24",icon:"common/icons/cmdParameterAssign24.svg"},{iconType:"cmd",text:"svg cmdParametersAssign24",icon:"common/icons/cmdParametersAssign24.svg"},{iconType:"cmd",text:"svg cmdParametersImport24",icon:"common/icons/cmdParametersImport24.svg"},{iconType:"cmd",text:"svg cmdParameterUnassign24",icon:"common/icons/cmdParameterUnassign24.svg"},{iconType:"cmd",text:"svg cmdParentBatch24",icon:"common/icons/cmdParentBatch24.svg"},{iconType:"cmd",text:"svg cmdPartAddFromBom24",icon:"common/icons/cmdPartAddFromBom24.svg"},{iconType:"cmd",text:"svg cmdPartAggregate24",icon:"common/icons/cmdPartAggregate24.svg"},{iconType:"cmd",text:"svg cmdPartAssemble24",icon:"common/icons/cmdPartAssemble24.svg"},{iconType:"cmd",text:"svg cmdPartBom24",icon:"common/icons/cmdPartBom24.svg"},{iconType:"cmd",text:"svg cmdPartDefect24",icon:"common/icons/cmdPartDefect24.svg"},{iconType:"cmd",text:"svg cmdPartDisassemble24",icon:"common/icons/cmdPartDisassemble24.svg"},{iconType:"cmd",text:"svg cmdPartition24",icon:"common/icons/cmdPartition24.svg"},{iconType:"cmd",text:"svg cmdPartLot24",icon:"common/icons/cmdPartLot24.svg"},{iconType:"cmd",text:"svg cmdPartLotAssign24",icon:"common/icons/cmdPartLotAssign24.svg"},{iconType:"cmd",text:"svg cmdPartLotUnassign24",icon:"common/icons/cmdPartLotUnassign24.svg"},{iconType:"cmd",text:"svg cmdPartPhantom24",icon:"common/icons/cmdPartPhantom24.svg"},{iconType:"cmd",text:"svg cmdPartReplace24",icon:"common/icons/cmdPartReplace24.svg"},{iconType:"cmd",text:"svg cmdParts24",icon:"common/icons/cmdParts24.svg"},{iconType:"cmd",text:"svg cmdPartSet24",icon:"common/icons/cmdPartSet24.svg"},{iconType:"cmd",text:"svg cmdPartsExecution24",icon:"common/icons/cmdPartsExecution24.svg"},{iconType:"cmdpassword",text:"svg cmdpassword16",icon:"common/icons/cmdpassword16.svg"},{iconType:"cmd",text:"svg cmdPaste24",icon:"common/icons/cmdPaste24.svg"},{iconType:"cmd",text:"svg cmdPause24",icon:"common/icons/cmdPause24.svg"},{iconType:"cmd",text:"svg cmdPauseArchiving24",icon:"common/icons/cmdPauseArchiving24.svg"},{iconType:"cmd",text:"svg cmdPencilSquare24",icon:"common/icons/cmdPencilSquare24.svg"},{iconType:"cmd",text:"svg cmdPhysicalLocation24",icon:"common/icons/cmdPhysicalLocation24.svg"},{iconType:"cmd",text:"svg cmdPickEntity16",icon:"common/icons/cmdPickEntity16.svg"},{iconType:"cmd",text:"svg cmdPicker24",icon:"common/icons/cmdPicker24.svg"},{iconType:"cmd",text:"svg cmdPin24",icon:"common/icons/cmdPin24.svg"},{iconType:"cmd",text:"svg cmdPinDefect24",icon:"common/icons/cmdPinDefect24.svg"},{iconType:"cmd",text:"svg cmdPlugin24",icon:"common/icons/cmdPlugin24.svg"},{iconType:"cmd",text:"svg cmdProcess24",icon:"common/icons/cmdProcess24.svg"},{iconType:"cmd",text:"svg cmdProcessCatalog24",icon:"common/icons/cmdProcessCatalog24.svg"},{iconType:"cmd",text:"svg cmdProjectChecklist16",icon:"common/icons/cmdProjectChecklist16.svg"},{iconType:"cmd",text:"svg cmdProjectChecklist24",icon:"common/icons/cmdProjectChecklist24.svg"},{iconType:"cmd",text:"svg cmdPropagationSet24",icon:"common/icons/cmdPropagationSet24.svg"},{iconType:"cmd",text:"svg cmdPropagationUnset24",icon:"common/icons/cmdPropagationUnset24.svg"},{iconType:"cmd",text:"svg cmdPush24",icon:"common/icons/cmdPush24.svg"},{iconType:"cmd",text:"svg cmdQMS24",icon:"common/icons/cmdQMS24.svg"},{iconType:"cmd",text:"svg cmdQuantitySet24",icon:"common/icons/cmdQuantitySet24.svg"},{iconType:"cmd",text:"svg cmdQueryAdd24",icon:"common/icons/cmdQueryAdd24.svg"},{iconType:"cmd",text:"svg cmdQuestionMark24",icon:"common/icons/cmdQuestionMark24.svg"},{iconType:"cmd",text:"svg cmdReadyToDispatch24",icon:"common/icons/cmdReadyToDispatch24.svg"},{iconType:"cmd",text:"svg cmdRebuild24",icon:"common/icons/cmdRebuild24.svg"},{iconType:"cmd",text:"svg cmdRedo24",icon:"common/icons/cmdRedo24.svg"},{iconType:"cmd",text:"svg cmdRedoActivate24",icon:"common/icons/cmdRedoActivate24.svg"},{iconType:"cmd",text:"svg cmdRefresh24",icon:"common/icons/cmdRefresh24.svg"},{iconType:"cmd",text:"svg cmdRegistry24",icon:"common/icons/cmdRegistry24.svg"},{iconType:"cmd",text:"svg cmdRemove24",icon:"common/icons/cmdRemove24.svg"},{iconType:"cmd",text:"svg cmdRepeated24",icon:"common/icons/cmdRepeated24.svg"},{iconType:"cmd",text:"svg cmdReplace24",icon:"common/icons/cmdReplace24.svg"},{iconType:"cmd",text:"svg cmdReplaceFile24",icon:"common/icons/cmdReplaceFile24.svg"},{iconType:"cmd",text:"svg cmdReportEdit24",icon:"common/icons/cmdReportEdit24.svg"},{iconType:"cmd",text:"svg cmdRequirementsAdd24",icon:"common/icons/cmdRequirementsAdd24.svg"},{iconType:"cmd",text:"svg cmdResetCounter24",icon:"common/icons/cmdResetCounter24.svg"},{iconType:"cmd",text:"svg cmdResumeArchiving24",icon:"common/icons/cmdResumeArchiving24.svg"},{iconType:"cmd",text:"svg cmdRevertMaximiseVertically24",icon:"common/icons/cmdRevertMaximiseVertically24.svg"},{iconType:"cmd",text:"svg cmdRole24",icon:"common/icons/cmdRole24.svg"},{iconType:"cmd",text:"svg cmdRoleAssign24",icon:"common/icons/cmdRoleAssign24.svg"},{iconType:"cmd",text:"svg cmdRotate24",icon:"common/icons/cmdRotate24.svg"},{iconType:"cmd",text:"svg cmdSave24",icon:"common/icons/cmdSave24.svg"},{iconType:"cmd",text:"svg cmdSaveAs24",icon:"common/icons/cmdSaveAs24.svg"},{iconType:"cmd",text:"svg cmdSchedule24",icon:"common/icons/cmdSchedule24.svg"},{iconType:"cmd",text:"svg cmdScheduleSet24",icon:"common/icons/cmdScheduleSet24.svg"},{iconType:"cmd",text:"svg cmdSchematicAvailable24",icon:"common/icons/cmdSchematicAvailable24.svg"},{iconType:"cmd",text:"svg cmdSchematicDisabled24",icon:"common/icons/cmdSchematicDisabled24.svg"},{iconType:"cmd",text:"svg cmdScript24",icon:"common/icons/cmdScript24.svg"},{iconType:"cmd",text:"svg cmdSearch24",icon:"common/icons/cmdSearch24.svg"},{iconType:"cmd",text:"svg cmdSegmentDefect24",icon:"common/icons/cmdSegmentDefect24.svg"},{iconType:"cmd",text:"svg cmdSegregationTagsLog24",icon:"common/icons/cmdSegregationTagsLog24.svg"},{iconType:"cmd",text:"svg cmdSelectionRemove24",icon:"common/icons/cmdSelectionRemove24.svg"},{iconType:"cmd",text:"svg cmdSelectMachine24",icon:"common/icons/cmdSelectMachine24.svg"},{iconType:"cmd",text:"svg cmdServer24",icon:"common/icons/cmdServer24.svg"},{iconType:"cmd",text:"svg cmdServerNodeSwitch24",icon:"common/icons/cmdServerNodeSwitch24.svg"},{iconType:"cmd",text:"svg cmdSet24",icon:"common/icons/cmdSet24.svg"},{iconType:"cmd",text:"svg cmdSetDefault24",icon:"common/icons/cmdSetDefault24.svg"},{iconType:"cmd",text:"svg cmdSetMaterial24",icon:"common/icons/cmdSetMaterial24.svg"},{iconType:"cmd",text:"svg cmdSetStateMachine24",icon:"common/icons/cmdSetStateMachine24.svg"},{iconType:"cmd",text:"svg cmdShopfloorTransaction24",icon:"common/icons/cmdShopfloorTransaction24.svg"},{iconType:"cmd",text:"svg cmdShortDefect24",icon:"common/icons/cmdShortDefect24.svg"},{iconType:"cmd",text:"svg cmdShow24",icon:"common/icons/cmdShow24.svg"},{iconType:"cmd",text:"svg cmdShowGrid24",icon:"common/icons/cmdShowGrid24.svg"},{iconType:"cmd",text:"svg cmdSidebarConfiguration24",icon:"common/icons/cmdSidebarConfiguration24.svg"},{iconType:"cmd",text:"svg cmdSkip24",icon:"common/icons/cmdSkip24.svg"},{iconType:"cmd",text:"svg cmdSkipSquare24",icon:"common/icons/cmdSkipSquare24.svg"},{iconType:"cmd",text:"svg cmdSliders24",icon:"common/icons/cmdSliders24.svg"},{iconType:"cmd",text:"svg cmdSolutionAdministration24",icon:"common/icons/cmdSolutionAdministration24.svg"},{iconType:"cmd",text:"svg cmdSort24",icon:"common/icons/cmdSort24.svg"},{iconType:"cmd",text:"svg cmdSpecificDate24",icon:"common/icons/cmdSpecificDate24.svg"},{iconType:"cmd",text:"svg cmdSquare24",icon:"common/icons/cmdSquare24.svg"},{iconType:"cmd",text:"svg cmdSquareCheck24",icon:"common/icons/cmdSquareCheck24.svg"},{iconType:"cmd",text:"svg cmdStar24",icon:"common/icons/cmdStar24.svg"},{iconType:"cmd",text:"svg cmdStart24",icon:"common/icons/cmdStart24.svg"},{iconType:"cmd",text:"svg cmdStartArchiving24",icon:"common/icons/cmdStartArchiving24.svg"},{iconType:"cmd",text:"svg cmdStateMachineSet24",icon:"common/icons/cmdStateMachineSet24.svg"},{iconType:"cmd",text:"svg cmdStepCatalog24",icon:"common/icons/cmdStepCatalog24.svg"},{iconType:"cmd",text:"svg cmdStepComplete24",icon:"common/icons/cmdStepComplete24.svg"},{iconType:"cmd",text:"svg cmdStepMultiselect24",icon:"common/icons/cmdStepMultiselect24.svg"},{iconType:"cmd",text:"svg cmdStop24",icon:"common/icons/cmdStop24.svg"},{iconType:"cmd",text:"svg cmdStopArchiving24",icon:"common/icons/cmdStopArchiving24.svg"},{iconType:"cmd",text:"svg cmdSubmit24",icon:"common/icons/cmdSubmit24.svg"},{iconType:"cmd",text:"svg cmdSWACComponent24",icon:"common/icons/cmdSWACComponent24.svg"},{iconType:"cmd",text:"svg cmdSwitchOff24",icon:"common/icons/cmdSwitchOff24.svg"},{iconType:"cmd",text:"svg cmdSwitchOn24",icon:"common/icons/cmdSwitchOn24.svg"},{iconType:"cmd",text:"svg cmdSwitchOrder24",icon:"common/icons/cmdSwitchOrder24.svg"},{iconType:"cmd",text:"svg cmdSync24",icon:"common/icons/cmdSync24.svg"},{iconType:"cmd",text:"svg cmdSysConfiguration24",icon:"common/icons/cmdSysConfiguration24.svg"},{iconType:"cmd",text:"svg cmdTableView24",icon:"common/icons/cmdTableView24.svg"},{iconType:"cmd",text:"svg cmdTags24",icon:"common/icons/cmdTags24.svg"},{iconType:"cmd",text:"svg cmdTagsToGroups24",icon:"common/icons/cmdTagsToGroups24.svg"},{iconType:"cmd",text:"svg cmdTakeOwnership24",icon:"common/icons/cmdTakeOwnership24.svg"},{iconType:"cmd",text:"svg cmdTaskActivate24",icon:"common/icons/cmdTaskActivate24.svg"},{iconType:"cmd",text:"svg cmdTaskInstance24",icon:"common/icons/cmdTaskInstance24.svg"},{iconType:"cmd",text:"svg cmdTaskInstanceExecution24",icon:"common/icons/cmdTaskInstanceExecution24.svg"},{iconType:"cmd",text:"svg cmdTaskOperatorExecution24",icon:"common/icons/cmdTaskOperatorExecution24.svg"},{iconType:"cmd",text:"svg cmdTaskRecover24",icon:"common/icons/cmdTaskRecover24.svg"},{iconType:"cmd",text:"svg cmdTaskRepeat24",icon:"common/icons/cmdTaskRepeat24.svg"},{iconType:"cmd",text:"svg cmdTaskUnassign24",icon:"common/icons/cmdTaskUnassign24.svg"},{iconType:"cmd",text:"svg cmdTeam24",icon:"common/icons/cmdTeam24.svg"},{iconType:"cmd",text:"svg cmdTestRun24",icon:"common/icons/cmdTestRun24.svg"},{iconType:"cmd",text:"svg cmdThicknessDecrease24",icon:"common/icons/cmdThicknessDecrease24.svg"},{iconType:"cmd",text:"svg cmdTileCollection24",icon:"common/icons/cmdTileCollection24.svg"},{iconType:"cmd",text:"svg cmdTime24",icon:"common/icons/cmdTime24.svg"},{iconType:"cmd",text:"svg cmdTool24",icon:"common/icons/cmdTool24.svg"},{iconType:"cmd",text:"svg cmdToolbox24",icon:"common/icons/cmdToolbox24.svg"},{iconType:"cmd",text:"svg cmdToPartial24",icon:"common/icons/cmdToPartial24.svg"},{iconType:"cmd",text:"svg cmdTraining24",icon:"common/icons/cmdTraining24.svg"},{iconType:"cmd",text:"svg cmdTransport24",icon:"common/icons/cmdTransport24.svg"},{iconType:"cmd",text:"svg cmdTrash24",icon:"common/icons/cmdTrash24.svg"},{iconType:"cmd",text:"svg cmdTxt24",icon:"common/icons/cmdTxt24.svg"},{iconType:"cmd",text:"svg cmdUIApplication24",icon:"common/icons/cmdUIApplication24.svg"},{iconType:"cmd",text:"svg cmdUIApplicationRegenerate24",icon:"common/icons/cmdUIApplicationRegenerate24.svg"},{iconType:"cmd",text:"svg cmdUnassignLot24",icon:"common/icons/cmdUnassignLot24.svg"},{iconType:"cmd",text:"svg cmdUndeploy24",icon:"common/icons/cmdUndeploy24.svg"},{iconType:"cmd",text:"svg cmdUndo24",icon:"common/icons/cmdUndo24.svg"},{iconType:"cmd",text:"svg cmdUnfreeze24",icon:"common/icons/cmdUnfreeze24.svg"},{iconType:"cmd",text:"svg cmdUngroupBy24",icon:"common/icons/cmdUngroupBy24.svg"},{iconType:"cmd",text:"svg cmdUnlink24",icon:"common/icons/cmdUnlink24.svg"},{iconType:"cmd",text:"svg cmdUnloadHandlingUnit24",icon:"common/icons/cmdUnloadHandlingUnit24.svg"},{iconType:"cmd",text:"svg cmdUnlock24",icon:"common/icons/cmdUnlock24.svg"},{iconType:"cmd",text:"svg cmdUnpin24",icon:"common/icons/cmdUnpin24.svg"},{iconType:"cmd",text:"svg cmdUnsetDefault24",icon:"common/icons/cmdUnsetDefault24.svg"},{iconType:"cmd",text:"svg cmdUpdate24",icon:"common/icons/cmdUpdate24.svg"},{iconType:"cmduser",text:"svg cmduser16",icon:"common/icons/cmduser16.svg"},{iconType:"cmd",text:"svg cmdUser24",icon:"common/icons/cmdUser24.svg"},{iconType:"cmd",text:"svg cmdUserAdd24",icon:"common/icons/cmdUserAdd24.svg"},{iconType:"cmd",text:"svg cmdUserInterface24",icon:"common/icons/cmdUserInterface24.svg"},{iconType:"cmd",text:"svg cmdUserRole24",icon:"common/icons/cmdUserRole24.svg"},{iconType:"cmd",text:"svg cmdValidate24",icon:"common/icons/cmdValidate24.svg"},{iconType:"cmd",text:"svg cmdViewConvenience24",icon:"common/icons/cmdViewConvenience24.svg"},{iconType:"cmd",text:"svg cmdWarehouse24",icon:"common/icons/cmdWarehouse24.svg"},{iconType:"cmd",text:"svg cmdWarningLink24",icon:"common/icons/cmdWarningLink24.svg"},{iconType:"cmd",text:"svg cmdWarningLinkRed24",icon:"common/icons/cmdWarningLinkRed24.svg"},{iconType:"cmd",text:"svg cmdWhereUsed24",icon:"common/icons/cmdWhereUsed24.svg"},{iconType:"cmd",text:"svg cmdWOOP24",icon:"common/icons/cmdWOOP24.svg"},{iconType:"cmd",text:"svg cmdWorkInProgress24",icon:"common/icons/cmdWorkInProgress24.svg"},{iconType:"cmd",text:"svg cmdWorkMaster24",icon:"common/icons/cmdWorkMaster24.svg"},{iconType:"cmd",text:"svg cmdWorkOrder24",icon:"common/icons/cmdWorkOrder24.svg"},{iconType:"cmd",text:"svg cmdWorkOrderCreate24",icon:"common/icons/cmdWorkOrderCreate24.svg"},{iconType:"cmd",text:"svg cmdWorkOrderRule24",icon:"common/icons/cmdWorkOrderRule24.svg"},{iconType:"cmd",text:"svg cmdWorkProcess24",icon:"common/icons/cmdWorkProcess24.svg"},{iconType:"cmd",text:"svg cmdWorkProcessExecution24",icon:"common/icons/cmdWorkProcessExecution24.svg"},{iconType:"cmd",text:"svg cmdWorkProcessResume24",icon:"common/icons/cmdWorkProcessResume24.svg"},{iconType:"cmd",text:"svg cmdWorkProcessTemplate24",icon:"common/icons/cmdWorkProcessTemplate24.svg"},{iconType:"cmd",text:"svg cmdZoomIn24",icon:"common/icons/cmdZoomIn24.svg"},{iconType:"cmd",text:"svg cmdZoomOut24",icon:"common/icons/cmdZoomOut24.svg"},{iconType:"cmd",text:"svg cmdZoomTool24",icon:"common/icons/cmdZoomTool24.svg"},{iconType:"grah",text:"svg grahCircleLoader80R",icon:"common/icons/grahCircleLoader80R.SVG"},{iconType:"home",text:"svg homeChecklist64",icon:"common/icons/homeChecklist64.svg"},{iconType:"home",text:"svg homeControlPlan64",icon:"common/icons/homeControlPlan64.svg"},{iconType:"home",text:"svg homeFolder24",icon:"common/icons/homeFolder24.svg"},{iconType:"home",text:"svg homeFolderOpen24",icon:"common/icons/homeFolderOpen24.svg"},{iconType:"home",text:"svg homeProjectChecklist64",icon:"common/icons/homeProjectChecklist64.svg"},{iconType:"indicator",text:"svg indicatorActive16",icon:"common/icons/indicatorActive16.svg"},{iconType:"indicator",text:"svg indicatorAppInstalled16",icon:"common/icons/indicatorAppInstalled16.svg"},{iconType:"indicator",text:"svg indicatorAppUpdate16",icon:"common/icons/indicatorAppUpdate16.svg"},{iconType:"indicator",text:"svg indicatorCheckmarkGreen16",icon:"common/icons/indicatorCheckmarkGreen16.svg"},{iconType:"indicator",text:"svg indicatorCircleBlack16",icon:"common/icons/indicatorCircleBlack16.svg"},{iconType:"indicator",text:"svg indicatorCircleBlue16",icon:"common/icons/indicatorCircleBlue16.svg"},{iconType:"indicator",text:"svg indicatorCircleGreen16",icon:"common/icons/indicatorCircleGreen16.svg"},{iconType:"indicator",text:"svg indicatorCircleRed16",icon:"common/icons/indicatorCircleRed16.svg"},{iconType:"indicator",text:"svg indicatorCircleReleased16",icon:"common/icons/indicatorCircleReleased16.svg"},{iconType:"indicator",text:"svg indicatorCircleWhite16",icon:"common/icons/indicatorCircleWhite16.svg"},{iconType:"indicator",text:"svg indicatorCircleYellow16",icon:"common/icons/indicatorCircleYellow16.svg"},{iconType:"indicator",text:"svg indicatorClosed16",icon:"common/icons/indicatorClosed16.svg"},{iconType:"indicator",text:"svg indicatorCloseLiteRed16",icon:"common/icons/indicatorCloseLiteRed16.svg"},{iconType:"indicator",text:"svg indicatorCloseState16",icon:"common/icons/indicatorCloseState16.svg"},{iconType:"indicator",text:"svg indicatorCloud16",icon:"common/icons/indicatorCloud16.svg"},{iconType:"indicator",text:"svg indicatorComment16",icon:"common/icons/indicatorComment16.svg"},{iconType:"indicator",text:"svg indicatorComplete16",icon:"common/icons/indicatorComplete16.svg"},{iconType:"indicator",text:"svg indicatorContainsChange16",icon:"common/icons/indicatorContainsChange16.svg"},{iconType:"indicator",text:"svg indicatorContainsChange24",icon:"common/icons/indicatorContainsChange24.svg"},{iconType:"indicator",text:"svg indicatorDashed16",icon:"common/icons/indicatorDashed16.svg"},{iconType:"indicator",text:"svg indicatorDefaultSet16",icon:"common/icons/indicatorDefaultSet16.svg"},{iconType:"indicator",text:"svg indicatorDotted16",icon:"common/icons/indicatorDotted16.svg"},{iconType:"indicator",text:"svg indicatorExactlySatisfied16",icon:"common/icons/indicatorExactlySatisfied16.svg"},{iconType:"indicator",text:"svg indicatorFavorites16",icon:"common/icons/indicatorFavorites16.svg"},{iconType:"indicator",text:"svg indicatorFreeze16",icon:"common/icons/indicatorFreeze16.svg"},{iconType:"indicator",text:"svg indicatorFutureOld16",icon:"common/icons/indicatorFutureOld16.svg"},{iconType:"indicator",text:"svg indicatorGreenCircle16",icon:"common/icons/indicatorGreenCircle16.svg"},{iconType:"indicator",text:"svg indicatorGreenSquare16",icon:"common/icons/indicatorGreenSquare16.svg"},{iconType:"indicator",text:"svg indicatorHold16",icon:"common/icons/indicatorHold16.svg"},{iconType:"indicator",text:"svg indicatorHoldFuture16",icon:"common/icons/indicatorHoldFuture16.svg"},{iconType:"indicator",text:"svg indicatorIncomplete16",icon:"common/icons/indicatorIncomplete16.svg"},{iconType:"indicator",text:"svg indicatorLine16",icon:"common/icons/indicatorLine16.svg"},{iconType:"indicator",text:"svg indicatorLineDot16",icon:"common/icons/indicatorLineDot16.svg"},{iconType:"indicator",text:"svg indicatorLineDotDot16",icon:"common/icons/indicatorLineDotDot16.svg"},{iconType:"indicator",text:"svg indicatorNotExecuted16",icon:"common/icons/indicatorNotExecuted16.svg"},{iconType:"indicator",text:"svg indicatorNotSatisfied16",icon:"common/icons/indicatorNotSatisfied16.svg"},{iconType:"indicator",text:"svg indicatorOpen16",icon:"common/icons/indicatorOpen16.svg"},{iconType:"indicator",text:"svg indicatorOpenState16",icon:"common/icons/indicatorOpenState16.svg"},{iconType:"indicator",text:"svg indicatorOption16",icon:"common/icons/indicatorOption16.svg"},{iconType:"indicator",text:"svg indicatorOrangeTriangle16",icon:"common/icons/indicatorOrangeTriangle16.svg"},{iconType:"indicator",text:"svg indicatorOverSatisfied16",icon:"common/icons/indicatorOverSatisfied16.svg"},{iconType:"indicator",text:"svg indicatorPartial16",icon:"common/icons/indicatorPartial16.svg"},{iconType:"indicator",text:"svg indicatorPlay16",icon:"common/icons/indicatorPlay16.svg"},{iconType:"indicator",text:"svg indicatorPrivate16",icon:"common/icons/indicatorPrivate16.svg"},{iconType:"indicator",text:"svg indicatorReady16",icon:"common/icons/indicatorReady16.svg"},{iconType:"indicator",text:"svg indicatorRedCircle16",icon:"common/icons/indicatorRedCircle16.svg"},{iconType:"indicator",text:"svg indicatorRedTriangle16",icon:"common/icons/indicatorRedTriangle16.svg"},{iconType:"indicator",text:"svg indicatorReject16",icon:"common/icons/indicatorReject16.svg"},{iconType:"indicator",text:"svg indicatorRelevantCause16",icon:"common/icons/indicatorRelevantCause16.svg"},{iconType:"indicator",text:"svg indicatorRequirement16",icon:"common/icons/indicatorRequirement16.svg"},{iconType:"indicator",text:"svg indicatorStatusAborted16",icon:"common/icons/indicatorStatusAborted16.svg"},{iconType:"indicator",text:"svg indicatorStatusCancelled16",icon:"common/icons/indicatorStatusCancelled16.svg"},{iconType:"indicator",text:"svg indicatorStatusCompleted16",icon:"common/icons/indicatorStatusCompleted16.svg"},{iconType:"indicator",text:"svg indicatorStatusCreated16",icon:"common/icons/indicatorStatusCreated16.svg"},{iconType:"indicator",text:"svg indicatorStatusError16",icon:"common/icons/indicatorStatusError16.svg"},{iconType:"indicator",text:"svg indicatorStatusFailed16",icon:"common/icons/indicatorStatusFailed16.svg"},{iconType:"indicator",text:"svg indicatorStatusInProgress16",icon:"common/icons/indicatorStatusInProgress16.svg"},{iconType:"indicator",text:"svg indicatorStatusNotReady16",icon:"common/icons/indicatorStatusNotReady16.svg"},{iconType:"indicator",text:"svg indicatorStatusPaused16",icon:"common/icons/indicatorStatusPaused16.svg"},{iconType:"indicator",text:"svg indicatorStatusReady16",icon:"common/icons/indicatorStatusReady16.svg"},{iconType:"indicator",text:"svg indicatorStatusSkipped16",icon:"common/icons/indicatorStatusSkipped16.svg"},{iconType:"indicator",text:"svg indicatorStatusSuspended16",icon:"common/icons/indicatorStatusSuspended16.svg"},{iconType:"indicator",text:"svg indicatorStatusUnknown16",icon:"common/icons/indicatorStatusUnknown16.svg"},{iconType:"indicator",text:"svg indicatorUnlock16",icon:"common/icons/indicatorUnlock16.svg"},{iconType:"",text:"svg IndicatorUser16",icon:"common/icons/IndicatorUser16.svg"},{iconType:"indicator",text:"svg indicatorVoided16",icon:"common/icons/indicatorVoided16.svg"},{iconType:"indicator",text:"svg indicatorYellowSquare16",icon:"common/icons/indicatorYellowSquare16.svg"},{iconType:"misc",text:"svg miscBackward24",icon:"common/icons/miscBackward24.svg"},{iconType:"misc",text:"svg miscChevronLeft24",icon:"common/icons/miscChevronLeft24.svg"},{iconType:"misc",text:"svg miscChevronLeftDouble24",icon:"common/icons/miscChevronLeftDouble24.svg"},{iconType:"misc",text:"svg miscChevronRight16",icon:"common/icons/miscChevronRight16.svg"},{iconType:"misc",text:"svg miscChevronRight24",icon:"common/icons/miscChevronRight24.svg"},{iconType:"misc",text:"svg miscChevronRightDouble24",icon:"common/icons/miscChevronRightDouble24.svg"},{iconType:"misc",text:"svg miscCircularProgressIndicator80",icon:"common/icons/miscCircularProgressIndicator80.svg"},{iconType:"misc",text:"svg miscDown24",icon:"common/icons/miscDown24.svg"},{iconType:"misc",text:"svg miscDownArrow16",icon:"common/icons/miscDownArrow16.svg"},{iconType:"misc",text:"svg miscFilter16",icon:"common/icons/miscFilter16.svg"},{iconType:"misc",text:"svg miscForward24",icon:"common/icons/miscForward24.svg"},{iconType:"misc",text:"svg miscGoToFirst16",icon:"common/icons/miscGoToFirst16.svg"},{iconType:"misc",text:"svg miscGoToFirst24",icon:"common/icons/miscGoToFirst24.svg"},{iconType:"misc",text:"svg miscGoToLast16",icon:"common/icons/miscGoToLast16.svg"},{iconType:"misc",text:"svg miscGoToLast24",icon:"common/icons/miscGoToLast24.svg"},{iconType:"misc",text:"svg miscLeftArrow16",icon:"common/icons/miscLeftArrow16.svg"},{iconType:"misc",text:"svg miscRightArrow16",icon:"common/icons/miscRightArrow16.svg"},{iconType:"misc",text:"svg miscUp24",icon:"common/icons/miscUp24.svg"},{iconType:"misc",text:"svg miscUpArrow16",icon:"common/icons/miscUpArrow16.svg"},{iconType:"type",text:"svg type3D48",icon:"common/icons/type3D48.svg"},{iconType:"type",text:"svg type5Why48",icon:"common/icons/type5Why48.svg"},{iconType:"type",text:"svg typeAction48",icon:"common/icons/typeAction48.svg"},{iconType:"type",text:"svg typeActionConfirmationOfEffectiveness48",icon:"common/icons/typeActionConfirmationOfEffectiveness48.svg"},{iconType:"type",text:"svg typeActionCorrective48",icon:"common/icons/typeActionCorrective48.svg"},{iconType:"type",text:"svg typeActionDefectImmediate48",icon:"common/icons/typeActionDefectImmediate48.svg"},{iconType:"type",text:"svg typeActionExternalImmediate48",icon:"common/icons/typeActionExternalImmediate48.svg"},{iconType:"type",text:"svg typeActionGroup48",icon:"common/icons/typeActionGroup48.svg"},{iconType:"type",text:"svg typeActionInternalImmediate48",icon:"common/icons/typeActionInternalImmediate48.svg"},{iconType:"type",text:"svg typeActionLongTerm48",icon:"common/icons/typeActionLongTerm48.svg"},{iconType:"type",text:"svg typeAlternativeOperationGroup48",icon:"common/icons/typeAlternativeOperationGroup48.svg"},{iconType:"type",text:"svg typeAppExtension48",icon:"common/icons/typeAppExtension48.svg"},{iconType:"type",text:"svg typeAppManagement48",icon:"common/icons/typeAppManagement48.svg"},{iconType:"type",text:"svg typeAssignGroupToRole48",icon:"common/icons/typeAssignGroupToRole48.svg"},{iconType:"type",text:"svg typeAutomationChannel48",icon:"common/icons/typeAutomationChannel48.svg"},{iconType:"type",text:"svg typeAutomationNodeInstance48",icon:"common/icons/typeAutomationNodeInstance48.svg"},{iconType:"type",text:"svg typeAutomationNodeInstanceExecution48",icon:"common/icons/typeAutomationNodeInstanceExecution48.svg"},{iconType:"type",text:"svg typeAutomationNodeTemplate48",icon:"common/icons/typeAutomationNodeTemplate48.svg"},{iconType:"type",text:"svg typeAutomationNodeType48",icon:"common/icons/typeAutomationNodeType48.svg"},{iconType:"type",text:"svg typeBarcodeDigitalAsset48",icon:"common/icons/typeBarcodeDigitalAsset48.svg"},{iconType:"type",text:"svg typeBinding48",icon:"common/icons/typeBinding48.svg"},{iconType:"type",text:"svg typeBuffer48",icon:"common/icons/typeBuffer48.svg"},{iconType:"type",text:"svg typeBufferInstance48",icon:"common/icons/typeBufferInstance48.svg"},{iconType:"type",text:"svg typeBuild48",icon:"common/icons/typeBuild48.svg"},{iconType:"type",text:"svg typeCalendar48",icon:"common/icons/typeCalendar48.svg"},{iconType:"type",text:"svg typeCalendarHoliday48",icon:"common/icons/typeCalendarHoliday48.svg"},{iconType:"type",text:"svg typeCalendarHolidayGroup48",icon:"common/icons/typeCalendarHolidayGroup48.svg"},{iconType:"type",text:"svg typeCalendarModification48",icon:"common/icons/typeCalendarModification48.svg"},{iconType:"type",text:"svg typeCalendarRule48",icon:"common/icons/typeCalendarRule48.svg"},{iconType:"type",text:"svg typeCause48",icon:"common/icons/typeCause48.svg"},{iconType:"type",text:"svg typeCell48",icon:"common/icons/typeCell48.svg"},{iconType:"type",text:"svg typeCertificate48",icon:"common/icons/typeCertificate48.svg"},{iconType:"type",text:"svg typeCharacteristicGroupAttributive48",icon:"common/icons/typeCharacteristicGroupAttributive48.svg"},{iconType:"type",text:"svg typeCharacteristicGroupVariable48",icon:"common/icons/typeCharacteristicGroupVariable48.svg"},{iconType:"type",text:"svg typeCharacteristicGroupVisual48",icon:"common/icons/typeCharacteristicGroupVisual48.svg"},{iconType:"type",text:"svg typeCharacteristicRepresentation48",icon:"common/icons/typeCharacteristicRepresentation48.svg"},{iconType:"type",text:"svg typeCharacteristicSpecificationAttributive48",icon:"common/icons/typeCharacteristicSpecificationAttributive48.svg"},{iconType:"type",text:"svg typeCharacteristicSpecificationVariable48",icon:"common/icons/typeCharacteristicSpecificationVariable48.svg"},{iconType:"type",text:"svg typeCharacteristicSpecificationVariableSingle48",icon:"common/icons/typeCharacteristicSpecificationVariableSingle48.svg"},{iconType:"type",text:"svg typeCharacteristicSpecificationVisual48",icon:"common/icons/typeCharacteristicSpecificationVisual48.svg"},{iconType:"type",text:"svg typeCharacteristicSpecificationVisualDefect48",icon:"common/icons/typeCharacteristicSpecificationVisualDefect48.svg"},{iconType:"type",text:"svg typeChecklist48",icon:"common/icons/typeChecklist48.svg"},{iconType:"type",text:"svg typeChecklistQuestion48",icon:"common/icons/typeChecklistQuestion48.svg"},{iconType:"type",text:"svg typeClassificationElement48",icon:"common/icons/typeClassificationElement48.svg"},{iconType:"type",text:"svg typeCommands48",icon:"common/icons/typeCommands48.svg"},{iconType:"type",text:"svg typeCommandsGroup48",icon:"common/icons/typeCommandsGroup48.svg"},{iconType:"type",text:"svg typeComputer48",icon:"common/icons/typeComputer48.svg"},{iconType:"type",text:"svg typeConcept48",icon:"common/icons/typeConcept48.svg"},{iconType:"type",text:"svg typeConfiguratorContext48",icon:"common/icons/typeConfiguratorContext48.svg"},{iconType:"type",text:"svg typeControlInspectionPlan48",icon:"common/icons/typeControlInspectionPlan48.svg"},{iconType:"type",text:"svg typeControlPlan48",icon:"common/icons/typeControlPlan48.svg"},{iconType:"type",text:"svg typeDatabase48",icon:"common/icons/typeDatabase48.svg"},{iconType:"type",text:"svg typeDatabaseAdapter48",icon:"common/icons/typeDatabaseAdapter48.svg"},{iconType:"type",text:"svg typeDatabaseArchive48",icon:"common/icons/typeDatabaseArchive48.svg"},{iconType:"type",text:"svg typeDatabaseSearch48",icon:"common/icons/typeDatabaseSearch48.svg"},{iconType:"type",text:"svg typeDataCollection48",icon:"common/icons/typeDataCollection48.svg"},{iconType:"type",text:"svg typeDataHandler48",icon:"common/icons/typeDataHandler48.svg"},{iconType:"type",text:"svg typeDefectCosts48",icon:"common/icons/typeDefectCosts48.svg"},{iconType:"type",text:"svg typeDefectiveObject48",icon:"common/icons/typeDefectiveObject48.svg"},{iconType:"type",text:"svg typeDefectiveObjectGroup48",icon:"common/icons/typeDefectiveObjectGroup48.svg"},{iconType:"type",text:"svg typeDependency48",icon:"common/icons/typeDependency48.svg"},{iconType:"type",text:"svg typeDiagram48",icon:"common/icons/typeDiagram48.svg"},{iconType:"type",text:"svg typeDispatchRule48",icon:"common/icons/typeDispatchRule48.svg"},{iconType:"type",text:"svg typeDnc48",icon:"common/icons/typeDnc48.svg"},{iconType:"",text:"svg TypeDNCInvalid48",icon:"common/icons/TypeDNCInvalid48.svg"},{iconType:"type",text:"svg typeDocumentParameters48",icon:"common/icons/typeDocumentParameters48.svg"},{iconType:"type",text:"svg typeDocumentSection48",icon:"common/icons/typeDocumentSection48.svg"},{iconType:"type",text:"svg typeEnterprise48",icon:"common/icons/typeEnterprise48.svg"},{iconType:"type",text:"svg typeEntityExtention48",icon:"common/icons/typeEntityExtention48.svg"},{iconType:"type",text:"svg typeEntitySource48",icon:"common/icons/typeEntitySource48.svg"},{iconType:"type",text:"svg typeEnvironment48",icon:"common/icons/typeEnvironment48.svg"},{iconType:"type",text:"svg typeEquipmentExecution48",icon:"common/icons/typeEquipmentExecution48.svg"},{iconType:"type",text:"svg typeEquipmentLevel48",icon:"common/icons/typeEquipmentLevel48.svg"},{iconType:"type",text:"svg typeEquipmentRuntime48",icon:"common/icons/typeEquipmentRuntime48.svg"},{iconType:"type",text:"svg typeEvaluation48",icon:"common/icons/typeEvaluation48.svg"},{iconType:"type",text:"svg typeEventHandler48",icon:"common/icons/typeEventHandler48.svg"},{iconType:"type",text:"svg typeEventSignal48",icon:"common/icons/typeEventSignal48.svg"},{iconType:"type",text:"svg typeEWI48",icon:"common/icons/typeEWI48.svg"},{iconType:"type",text:"svg typeEwiExecution48",icon:"common/icons/typeEwiExecution48.svg"},{iconType:"type",text:"svg typeExe48",icon:"common/icons/typeExe48.svg"},{iconType:"type",text:"svg typeExecGroup48",icon:"common/icons/typeExecGroup48.svg"},{iconType:"type",text:"svg typeFile48",icon:"common/icons/typeFile48.svg"},{iconType:"type",text:"svg typeFileAdapter48",icon:"common/icons/typeFileAdapter48.svg"},{iconType:"type",text:"svg typeFilter48",icon:"common/icons/typeFilter48.svg"},{iconType:"type",text:"svg typeFlow48",icon:"common/icons/typeFlow48.svg"},{iconType:"type",text:"svg typeFMEAFailureRepresentation48",icon:"common/icons/typeFMEAFailureRepresentation48.svg"},{iconType:"type",text:"svg typeFMEAFailureSpecification48",icon:"common/icons/typeFMEAFailureSpecification48.svg"},{iconType:"type",text:"svg typeFMEAFunctionRepresentation48",icon:"common/icons/typeFMEAFunctionRepresentation48.svg"},{iconType:"type",text:"svg typeFMEAFunctionSpecification48",icon:"common/icons/typeFMEAFunctionSpecification48.svg"},{iconType:"type",text:"svg typeFMEARootObject48",icon:"common/icons/typeFMEARootObject48.svg"},{iconType:"type",text:"svg typeFMEASystemElementRepresentation48",icon:"common/icons/typeFMEASystemElementRepresentation48.svg"},{iconType:"type",text:"svg typeFMEASystemElementSpecification48",icon:"common/icons/typeFMEASystemElementSpecification48.svg"},{iconType:"type",text:"svg typeFunctionalArea48",icon:"common/icons/typeFunctionalArea48.svg"},{iconType:"type",text:"svg typeFunctionalityRevision48",icon:"common/icons/typeFunctionalityRevision48.svg"},{iconType:"type",text:"svg typeGageManagement48",icon:"common/icons/typeGageManagement48.svg"},{iconType:"type",text:"svg typeGenealogy48",icon:"common/icons/typeGenealogy48.svg"},{iconType:"type",text:"svg typeGeneral48",icon:"common/icons/typeGeneral48.svg"},{iconType:"type",text:"svg typeGenericSoftwareComponent48",icon:"common/icons/typeGenericSoftwareComponent48.svg"},{iconType:"type",text:"svg typeGif48",icon:"common/icons/typeGif48.svg"},{iconType:"type",text:"svg typeHandlingUnit48",icon:"common/icons/typeHandlingUnit48.svg"},{iconType:"type",text:"svg typeHighAutomation48",icon:"common/icons/typeHighAutomation48.svg"},{iconType:"type",text:"svg typeHighAvailabilityGroup48",icon:"common/icons/typeHighAvailabilityGroup48.svg"},{iconType:"type",text:"svg typeHold48",icon:"common/icons/typeHold48.svg"},{iconType:"type",text:"svg typeHoldFuture48",icon:"common/icons/typeHoldFuture48.svg"},{iconType:"type",text:"svg typeHtml48",icon:"common/icons/typeHtml48.svg"},{iconType:"type",text:"svg typeHumanHistory48",icon:"common/icons/typeHumanHistory48.svg"},{iconType:"type",text:"svg typeIdentifierFormat48",icon:"common/icons/typeIdentifierFormat48.svg"},{iconType:"type",text:"svg typeInbox48",icon:"common/icons/typeInbox48.svg"},{iconType:"type",text:"svg typeIncident48",icon:"common/icons/typeIncident48.svg"},{iconType:"type",text:"svg typeIncomingGoods48",icon:"common/icons/typeIncomingGoods48.svg"},{iconType:"type",text:"svg typeInfo48",icon:"common/icons/typeInfo48.svg"},{iconType:"type",text:"svg typeInstall48",icon:"common/icons/typeInstall48.svg"},{iconType:"type",text:"svg typeInterlockingCheck48",icon:"common/icons/typeInterlockingCheck48.svg"},{iconType:"type",text:"svg typeInterlockingCheckHistory48",icon:"common/icons/typeInterlockingCheckHistory48.svg"},{iconType:"type",text:"svg typeInterlockingCheckParameters48",icon:"common/icons/typeInterlockingCheckParameters48.svg"},{iconType:"type",text:"svg typeIshikawa48",icon:"common/icons/typeIshikawa48.svg"},{iconType:"type",text:"svg typeJpg48",icon:"common/icons/typeJpg48.svg"},{iconType:"type",text:"svg typeKitPreparation48",icon:"common/icons/typeKitPreparation48.svg"},{iconType:"type",text:"svg typeKitRequest48",icon:"common/icons/typeKitRequest48.svg"},{iconType:"type",text:"svg typeKPI48",icon:"common/icons/typeKPI48.svg"},{iconType:"type",text:"svg typeKPIAssociate48",icon:"common/icons/typeKPIAssociate48.svg"},{iconType:"type",text:"svg typeKPIEvent48",icon:"common/icons/typeKPIEvent48.svg"},{iconType:"type",text:"svg typeKPIFilter48",icon:"common/icons/typeKPIFilter48.svg"},{iconType:"type",text:"svg typeKPIGroup48",icon:"common/icons/typeKPIGroup48.svg"},{iconType:"type",text:"svg typeKPISchedule48",icon:"common/icons/typeKPISchedule48.svg"},{iconType:"type",text:"svg typeLabelPrinter48",icon:"common/icons/typeLabelPrinter48.svg"},{iconType:"type",text:"svg typeLanguage48",icon:"common/icons/typeLanguage48.svg"},{iconType:"type",text:"svg typeLibrary48",icon:"common/icons/typeLibrary48.svg"},{iconType:"type",text:"svg typeLineage48",icon:"common/icons/typeLineage48.svg"},{iconType:"type",text:"svg typeLinkNode48",icon:"common/icons/typeLinkNode48.svg"},{iconType:"type",text:"svg typeLogEntry48",icon:"common/icons/typeLogEntry48.svg"},{iconType:"type",text:"svg typeLogisticClasses48",icon:"common/icons/typeLogisticClasses48.svg"},{iconType:"type",text:"svg typeLogisticRequest48",icon:"common/icons/typeLogisticRequest48.svg"},{iconType:"type",text:"svg typeMachine48",icon:"common/icons/typeMachine48.svg"},{iconType:"type",text:"svg typeMachineChemical48",icon:"common/icons/typeMachineChemical48.svg"},{iconType:"type",text:"svg typeMachineLink48",icon:"common/icons/typeMachineLink48.svg"},{iconType:"type",text:"svg typeMachineState48",icon:"common/icons/typeMachineState48.svg"},{iconType:"type",text:"svg typeMainControl48",icon:"common/icons/typeMainControl48.svg"},{iconType:"type",text:"svg typeManagementCounter48",icon:"common/icons/typeManagementCounter48.svg"},{iconType:"type",text:"svg typeMaterial48",icon:"common/icons/typeMaterial48.svg"},{iconType:"type",text:"svg typeMaterialBom48",icon:"common/icons/typeMaterialBom48.svg"},{iconType:"type",text:"svg typeMaterialBomItem48",icon:"common/icons/typeMaterialBomItem48.svg"},{iconType:"type",text:"svg typeMaterialEngineering48",icon:"common/icons/typeMaterialEngineering48.svg"},{iconType:"type",text:"svg typeMaterialExecution48",icon:"common/icons/typeMaterialExecution48.svg"},{iconType:"type",text:"svg typeMaterialExecutionTemplate48",icon:"common/icons/typeMaterialExecutionTemplate48.svg"},{iconType:"type",text:"svg typeMaterialGroup48",icon:"common/icons/typeMaterialGroup48.svg"},{iconType:"type",text:"svg typeMaterialGroupEngineering48",icon:"common/icons/typeMaterialGroupEngineering48.svg"},{iconType:"type",text:"svg typeMaterialLot48",icon:"common/icons/typeMaterialLot48.svg"},{iconType:"type",text:"svg typeMaterialLotExecutionTemplate48",icon:"common/icons/typeMaterialLotExecutionTemplate48.svg"},{iconType:"type",text:"svg typeMaterialLotRuntime48",icon:"common/icons/typeMaterialLotRuntime48.svg"},{iconType:"type",text:"svg typeMaterialLotTemplateRuntime48",icon:"common/icons/typeMaterialLotTemplateRuntime48.svg"},{iconType:"type",text:"svg typeMaterialMigration48",icon:"common/icons/typeMaterialMigration48.svg"},{iconType:"type",text:"svg typeMaterialStorage48",icon:"common/icons/typeMaterialStorage48.svg"},{iconType:"type",text:"svg typeMaterialTemplate48",icon:"common/icons/typeMaterialTemplate48.svg"},{iconType:"type",text:"svg typeMaterialTemplateEngineering48",icon:"common/icons/typeMaterialTemplateEngineering48.svg"},{iconType:"type",text:"svg typeMeasurableAttribute48",icon:"common/icons/typeMeasurableAttribute48.svg"},{iconType:"type",text:"svg typeMeasurableAttributeGroup48",icon:"common/icons/typeMeasurableAttributeGroup48.svg"},{iconType:"type",text:"svg typeMeasure48",icon:"common/icons/typeMeasure48.svg"},{iconType:"type",text:"svg typeMessageBuffer48",icon:"common/icons/typeMessageBuffer48.svg"},{iconType:"type",text:"svg typeMessageChannel48",icon:"common/icons/typeMessageChannel48.svg"},{iconType:"type",text:"svg typeMessageType48",icon:"common/icons/typeMessageType48.svg"},{iconType:"type",text:"svg typeModelExtention48",icon:"common/icons/typeModelExtention48.svg"},{iconType:"type",text:"svg typeMOMAdapter48",icon:"common/icons/typeMOMAdapter48.svg"},{iconType:"type",text:"svg typeMoveFromEquipment48",icon:"common/icons/typeMoveFromEquipment48.svg"},{iconType:"type",text:"svg typeMp448",icon:"common/icons/typeMp448.svg"},{iconType:"type",text:"svg typeMsExcel48",icon:"common/icons/typeMsExcel48.svg"},{iconType:"type",text:"svg typeMSMQAdapter48",icon:"common/icons/typeMSMQAdapter48.svg"},{iconType:"type",text:"svg typeMsPowerpoint48",icon:"common/icons/typeMsPowerpoint48.svg"},{iconType:"type",text:"svg typeMsWord48",icon:"common/icons/typeMsWord48.svg"},{iconType:"type",text:"svg typeMTUAggregateRuntime48",icon:"common/icons/typeMTUAggregateRuntime48.svg"},{iconType:"type",text:"svg typeMTUAggregateTemplateRuntime48",icon:"common/icons/typeMTUAggregateTemplateRuntime48.svg"},{iconType:"type",text:"svg typeMTURuntime48",icon:"common/icons/typeMTURuntime48.svg"},{iconType:"type",text:"svg typeMTUTemplateRuntime48",icon:"common/icons/typeMTUTemplateRuntime48.svg"},{iconType:"type",text:"svg typeNonConformance48",icon:"common/icons/typeNonConformance48.svg"},{iconType:"",text:"svg TypeNonConformanceBuyOff48",icon:"common/icons/TypeNonConformanceBuyOff48.svg"},{iconType:"type",text:"svg typeNonConformanceChangeManagement48",icon:"common/icons/typeNonConformanceChangeManagement48.svg"},{iconType:"",text:"svg TypeNonConformanceLifecycle48",icon:"common/icons/TypeNonConformanceLifecycle48.svg"},{iconType:"",text:"svg TypeNonConformanceNotification48",icon:"common/icons/TypeNonConformanceNotification48.svg"},{iconType:"type",text:"svg typeNonConformanceQuality48",icon:"common/icons/typeNonConformanceQuality48.svg"},{iconType:"type",text:"svg typeNonConformanceTravelling48",icon:"common/icons/typeNonConformanceTravelling48.svg"},{iconType:"type",text:"svg typeNotProductiveActivity48",icon:"common/icons/typeNotProductiveActivity48.svg"},{iconType:"type",text:"svg typeNumberingPattern48",icon:"common/icons/typeNumberingPattern48.svg"},{iconType:"type",text:"svg typeNumberingPatternSection48",icon:"common/icons/typeNumberingPatternSection48.svg"},{iconType:"type",text:"svg typeOneAvailability48",icon:"common/icons/typeOneAvailability48.svg"},{iconType:"type",text:"svg typeOperation48",icon:"common/icons/typeOperation48.svg"},{iconType:"type",text:"svg typeOperationCatalog48",icon:"common/icons/typeOperationCatalog48.svg"},{iconType:"type",text:"svg typeOperationStepCategory48",icon:"common/icons/typeOperationStepCategory48.svg"},{iconType:"type",text:"svg typeOperatorLanding48",icon:"common/icons/typeOperatorLanding48.svg"},{iconType:"type",text:"svg typeOrder48",icon:"common/icons/typeOrder48.svg"},{iconType:"type",text:"svg typeOutgoingGoods48",icon:"common/icons/typeOutgoingGoods48.svg"},{iconType:"type",text:"svg typeParameter48",icon:"common/icons/typeParameter48.svg"},{iconType:"type",text:"svg typeParentBatch48",icon:"common/icons/typeParentBatch48.svg"},{iconType:"type",text:"svg typePartAggregate48",icon:"common/icons/typePartAggregate48.svg"},{iconType:"type",text:"svg typePartAggregateTemplate48",icon:"common/icons/typePartAggregateTemplate48.svg"},{iconType:"type",text:"svg typePartBom48",icon:"common/icons/typePartBom48.svg"},{iconType:"type",text:"svg typePartBomItem48",icon:"common/icons/typePartBomItem48.svg"},{iconType:"type",text:"svg typePartBomProductionRule48",icon:"common/icons/typePartBomProductionRule48.svg"},{iconType:"type",text:"svg typePartBomTemplate48",icon:"common/icons/typePartBomTemplate48.svg"},{iconType:"type",text:"svg typePartExecution48",icon:"common/icons/typePartExecution48.svg"},{iconType:"type",text:"svg typePartExecutionLink48",icon:"common/icons/typePartExecutionLink48.svg"},{iconType:"type",text:"svg typePartExecutionTemplate48",icon:"common/icons/typePartExecutionTemplate48.svg"},{iconType:"type",text:"svg typePartGroup48",icon:"common/icons/typePartGroup48.svg"},{iconType:"type",text:"svg typePartLot48",icon:"common/icons/typePartLot48.svg"},{iconType:"type",text:"svg typePartLotTemplate48",icon:"common/icons/typePartLotTemplate48.svg"},{iconType:"type",text:"svg typePartPhantom48",icon:"common/icons/typePartPhantom48.svg"},{iconType:"type",text:"svg typePartProductionRule48",icon:"common/icons/typePartProductionRule48.svg"},{iconType:"type",text:"svg typePartRevision48",icon:"common/icons/typePartRevision48.svg"},{iconType:"type",text:"svg typePartTemplate48",icon:"common/icons/typePartTemplate48.svg"},{iconType:"type",text:"svg typePauseReason48",icon:"common/icons/typePauseReason48.svg"},{iconType:"type",text:"svg typePdf48",icon:"common/icons/typePdf48.svg"},{iconType:"type",text:"svg typePencilSquare48",icon:"common/icons/typePencilSquare48.svg"},{iconType:"type",text:"svg typePeople48",icon:"common/icons/typePeople48.svg"},{iconType:"type",text:"svg typePerson48",icon:"common/icons/typePerson48.svg"},{iconType:"type",text:"svg typePieMenu48",icon:"common/icons/typePieMenu48.svg"},{iconType:"type",text:"svg typePlantRevision48",icon:"common/icons/typePlantRevision48.svg"},{iconType:"type",text:"svg typePlantRevisionFlow48",icon:"common/icons/typePlantRevisionFlow48.svg"},{iconType:"type",text:"svg typePlantRevisionGroup48",icon:"common/icons/typePlantRevisionGroup48.svg"},{iconType:"type",text:"svg typePlantRevisionTemplate48",icon:"common/icons/typePlantRevisionTemplate48.svg"},{iconType:"type",text:"svg typePlugin48",icon:"common/icons/typePlugin48.svg"},{iconType:"type",text:"svg typePng48",icon:"common/icons/typePng48.svg"},{iconType:"type",text:"svg typePostAction48",icon:"common/icons/typePostAction48.svg"},{iconType:"type",text:"svg typePowderMixing48",icon:"common/icons/typePowderMixing48.svg"},{iconType:"type",text:"svg typePowderRecycle48",icon:"common/icons/typePowderRecycle48.svg"},{iconType:"type",text:"svg typeProcess48",icon:"common/icons/typeProcess48.svg"},{iconType:"type",text:"svg typeProcessCatalog48",icon:"common/icons/typeProcessCatalog48.svg"},{iconType:"type",text:"svg typeProcessProductionRule48",icon:"common/icons/typeProcessProductionRule48.svg"},{iconType:"type",text:"svg typeProductionCoordinatorDashboard48",icon:"common/icons/typeProductionCoordinatorDashboard48.svg"},{iconType:"type",text:"svg typeProductionCoordinatorTimeUpdate48",icon:"common/icons/typeProductionCoordinatorTimeUpdate48.svg"},{iconType:"type",text:"svg typeProductLine48",icon:"common/icons/typeProductLine48.svg"},{iconType:"type",text:"svg typeProductLineCharacteristic48",icon:"common/icons/typeProductLineCharacteristic48.svg"},{iconType:"type",text:"svg typeProject48",icon:"common/icons/typeProject48.svg"},{iconType:"type",text:"svg typeQueryDataBase48",icon:"common/icons/typeQueryDataBase48.svg"},{iconType:"type",text:"svg typeQuestionMark48",icon:"common/icons/typeQuestionMark48.svg"},{iconType:"type",text:"svg typeQuestionMarkGroup48",icon:"common/icons/typeQuestionMarkGroup48.svg"},{iconType:"type",text:"svg typeRawMaterialGenealogy48",icon:"common/icons/typeRawMaterialGenealogy48.svg"},{iconType:"type",text:"svg typeReason48",icon:"common/icons/typeReason48.svg"},{iconType:"type",text:"svg typeReportDefinition48",icon:"common/icons/typeReportDefinition48.svg"},{iconType:"type",text:"svg typeReportingTool48",icon:"common/icons/typeReportingTool48.svg"},{iconType:"type",text:"svg typeReworkCode48",icon:"common/icons/typeReworkCode48.svg"},{iconType:"type",text:"svg typeRole48",icon:"common/icons/typeRole48.svg"},{iconType:"type",text:"svg typeRootCause48",icon:"common/icons/typeRootCause48.svg"},{iconType:"type",text:"svg typeSampleManagement48",icon:"common/icons/typeSampleManagement48.svg"},{iconType:"type",text:"svg typeSampleManagementInspection48",icon:"common/icons/typeSampleManagementInspection48.svg"},{iconType:"type",text:"svg typeSavedSearch48",icon:"common/icons/typeSavedSearch48.svg"},{iconType:"type",text:"svg typeScenario48",icon:"common/icons/typeScenario48.svg"},{iconType:"type",text:"svg typeScript48",icon:"common/icons/typeScript48.svg"},{iconType:"type",text:"svg typeSearch48",icon:"common/icons/typeSearch48.svg"},{iconType:"type",text:"svg typeSearchQueryGroup48",icon:"common/icons/typeSearchQueryGroup48.svg"},{iconType:"type",text:"svg typeSearchQueryRelevant48",icon:"common/icons/typeSearchQueryRelevant48.svg"},{iconType:"type",text:"svg typeSearchQuerySpecial48",icon:"common/icons/typeSearchQuerySpecial48.svg"},{iconType:"type",text:"svg typeSegregationTagsLog48",icon:"common/icons/typeSegregationTagsLog48.svg"},{iconType:"type",text:"svg typeServer48",icon:"common/icons/typeServer48.svg"},{iconType:"type",text:"svg typeSetPoint48",icon:"common/icons/typeSetPoint48.svg"},{iconType:"type",text:"svg typeSetPointItem48",icon:"common/icons/typeSetPointItem48.svg"},{iconType:"type",text:"svg typeSettings48",icon:"common/icons/typeSettings48.svg"},{iconType:"type",text:"svg typeShopfloorAdapter48",icon:"common/icons/typeShopfloorAdapter48.svg"},{iconType:"type",text:"svg typeSignalRuleConfiguration48",icon:"common/icons/typeSignalRuleConfiguration48.svg"},{iconType:"type",text:"svg typeSite48",icon:"common/icons/typeSite48.svg"},{iconType:"type",text:"svg typeSkill48",icon:"common/icons/typeSkill48.svg"},{iconType:"type",text:"svg typeSkipReason48",icon:"common/icons/typeSkipReason48.svg"},{iconType:"type",text:"svg typeSmartView48",icon:"common/icons/typeSmartView48.svg"},{iconType:"type",text:"svg typeSoftwareComponent48",icon:"common/icons/typeSoftwareComponent48.svg"},{iconType:"type",text:"svg typeSolution48",icon:"common/icons/typeSolution48.svg"},{iconType:"type",text:"svg typeSource48",icon:"common/icons/typeSource48.svg"},{iconType:"type",text:"svg typeSourceExtension48",icon:"common/icons/typeSourceExtension48.svg"},{iconType:"type",text:"svg typeStandardNoteRevision48",icon:"common/icons/typeStandardNoteRevision48.svg"},{iconType:"type",text:"svg typeStart48",icon:"common/icons/typeStart48.svg"},{iconType:"type",text:"svg typeStateMachine48",icon:"common/icons/typeStateMachine48.svg"},{iconType:"type",text:"svg typeStatisticalProcessControl48",icon:"common/icons/typeStatisticalProcessControl48.svg"},{iconType:"type",text:"svg typeStatusBehaviour48",icon:"common/icons/typeStatusBehaviour48.svg"},{iconType:"type",text:"svg typeStatusDefinition48",icon:"common/icons/typeStatusDefinition48.svg"},{iconType:"type",text:"svg typeStep48",icon:"common/icons/typeStep48.svg"},{iconType:"type",text:"svg typeStepCatalog48",icon:"common/icons/typeStepCatalog48.svg"},{iconType:"type",text:"svg typeStepExecution48",icon:"common/icons/typeStepExecution48.svg"},{iconType:"type",text:"svg typeSubtrate48",icon:"common/icons/typeSubtrate48.svg"},{iconType:"type",text:"svg typeSvg48",icon:"common/icons/typeSvg48.svg"},{iconType:"type",text:"svg typeSystemDispachRule48",icon:"common/icons/typeSystemDispachRule48.svg"},{iconType:"type",text:"svg typeTags48",icon:"common/icons/typeTags48.svg"},{iconType:"type",text:"svg typeTask48",icon:"common/icons/typeTask48.svg"},{iconType:"type",text:"svg typeTaskContext48",icon:"common/icons/typeTaskContext48.svg"},{iconType:"type",text:"svg typeTaskContext8",icon:"common/icons/typeTaskContext8.svg"},{iconType:"type",text:"svg typeTaskEwi48",icon:"common/icons/typeTaskEwi48.svg"},{iconType:"type",text:"svg typeTaskEwiExecution48",icon:"common/icons/typeTaskEwiExecution48.svg"},{iconType:"type",text:"svg typeTaskExecution48",icon:"common/icons/typeTaskExecution48.svg"},{iconType:"type",text:"svg typeTaskOperatorExecution48",icon:"common/icons/typeTaskOperatorExecution48.svg"},{iconType:"type",text:"svg typeTaskPart48",icon:"common/icons/typeTaskPart48.svg"},{iconType:"type",text:"svg typeTaskPartExecution48",icon:"common/icons/typeTaskPartExecution48.svg"},{iconType:"type",text:"svg typeTaskQuality48",icon:"common/icons/typeTaskQuality48.svg"},{iconType:"type",text:"svg typeTaskQualityExecution48",icon:"common/icons/typeTaskQualityExecution48.svg"},{iconType:"type",text:"svg typeTaskTool48",icon:"common/icons/typeTaskTool48.svg"},{iconType:"type",text:"svg typeTaskToolExecution48",icon:"common/icons/typeTaskToolExecution48.svg"},{iconType:"type",text:"svg typeTCAdapter48",icon:"common/icons/typeTCAdapter48.svg"},{iconType:"type",text:"svg typeTeam48",icon:"common/icons/typeTeam48.svg"},{iconType:"type",text:"svg typeTimeActivity48",icon:"common/icons/typeTimeActivity48.svg"},{iconType:"type",text:"svg typeTimeDefinitions48",icon:"common/icons/typeTimeDefinitions48.svg"},{iconType:"type",text:"svg typeTimeDiagram48",icon:"common/icons/typeTimeDiagram48.svg"},{iconType:"type",text:"svg typeTimeHierarchy48",icon:"common/icons/typeTimeHierarchy48.svg"},{iconType:"type",text:"svg typeTimePeriod48",icon:"common/icons/typeTimePeriod48.svg"},{iconType:"type",text:"svg typeTimeSlice48",icon:"common/icons/typeTimeSlice48.svg"},{iconType:"type",text:"svg typeTimeSliceGroup48",icon:"common/icons/typeTimeSliceGroup48.svg"},{iconType:"type",text:"svg typeTool48",icon:"common/icons/typeTool48.svg"},{iconType:"type",text:"svg typeToolBox48",icon:"common/icons/typeToolBox48.svg"},{iconType:"type",text:"svg typeToolBoxExecution48",icon:"common/icons/typeToolBoxExecution48.svg"},{iconType:"type",text:"svg typeToolBoxLink48",icon:"common/icons/typeToolBoxLink48.svg"},{iconType:"type",text:"svg typeToolExecution48",icon:"common/icons/typeToolExecution48.svg"},{iconType:"type",text:"svg typeToolLink48",icon:"common/icons/typeToolLink48.svg"},{iconType:"type",text:"svg typeTransport48",icon:"common/icons/typeTransport48.svg"},{iconType:"type",text:"svg typeTransportOperationLanding48",icon:"common/icons/typeTransportOperationLanding48.svg"},{iconType:"type",text:"svg typeTxt48",icon:"common/icons/typeTxt48.svg"},{iconType:"type",text:"svg typeUIApplication48",icon:"common/icons/typeUIApplication48.svg"},{iconType:"type",text:"svg typeUnknown48",icon:"common/icons/typeUnknown48.svg"},{iconType:"type",text:"svg typeWebAPIAdapter48",icon:"common/icons/typeWebAPIAdapter48.svg"},{iconType:"type",text:"svg typeWebAPIClientAdapter48",icon:"common/icons/typeWebAPIClientAdapter48.svg"},{iconType:"type",text:"svg typeWOOP48",icon:"common/icons/typeWOOP48.svg"},{iconType:"type",text:"svg typeWOOPExecGroup48",icon:"common/icons/typeWOOPExecGroup48.svg"},{iconType:"type",text:"svg typeWorkAreaRevision48",icon:"common/icons/typeWorkAreaRevision48.svg"},{iconType:"type",text:"svg typeWorkCenter48",icon:"common/icons/typeWorkCenter48.svg"},{iconType:"type",text:"svg typeWorkerRole48",icon:"common/icons/typeWorkerRole48.svg"},{iconType:"type",text:"svg typeWorkflowProcess48",icon:"common/icons/typeWorkflowProcess48.svg"},{iconType:"type",text:"svg typeWorkflowProcessExternal48",icon:"common/icons/typeWorkflowProcessExternal48.svg"},{iconType:"type",text:"svg typeWorkflowProcessStart48",icon:"common/icons/typeWorkflowProcessStart48.svg"},{iconType:"type",text:"svg typeWorkflowProcessStep48",icon:"common/icons/typeWorkflowProcessStep48.svg"},{iconType:"type",text:"svg typeWorkflowProcessStepStart48",icon:"common/icons/typeWorkflowProcessStepStart48.svg"},{iconType:"type",text:"svg typeWorkingPattern48",icon:"common/icons/typeWorkingPattern48.svg"},{iconType:"type",text:"svg typeWorkingPatternAggregation48",icon:"common/icons/typeWorkingPatternAggregation48.svg"},{iconType:"type",text:"svg typeWorkMaster48",icon:"common/icons/typeWorkMaster48.svg"},{iconType:"type",text:"svg typeWorkOrder48",icon:"common/icons/typeWorkOrder48.svg"},{iconType:"type",text:"svg typeWorkOrderERP48",icon:"common/icons/typeWorkOrderERP48.svg"},{iconType:"type",text:"svg typeWorkOrderInProgress48",icon:"common/icons/typeWorkOrderInProgress48.svg"},{iconType:"type",text:"svg typeWorkOrderTemplate48",icon:"common/icons/typeWorkOrderTemplate48.svg"},{iconType:"type",text:"svg typeWorkProcessContext48",icon:"common/icons/typeWorkProcessContext48.svg"},{iconType:"type",text:"svg typeWorkProcessExecution48",icon:"common/icons/typeWorkProcessExecution48.svg"},{iconType:"type",text:"svg typeWorkProcessTemplate48",icon:"common/icons/typeWorkProcessTemplate48.svg"},{iconType:"type",text:"svg typeXml48",icon:"common/icons/typeXml48.svg"}]})}(),angular.module("siemens.simaticit.common.widgets.icon",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.icon");e.controller("IconpreviewController",function(){}),e.directive("sitIcon",function(){return{scope:{},bindToController:{readOnly:"=?sitReadOnly",value:"=sitValue",validation:"=sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},restrict:"E",link:function(e,t,n,i){i.validation&&i.validation.pattern?i.validation.pattern=i.validation.pattern:i.validation&&(i.validation.pattern=/^([a-z0-9-_]+\s*)+$/i)},controller:"IconpreviewController",controllerAs:"iconpreviewCtrl",templateUrl:"common/widgets/iconPreview/iconPreview.html"}})}(),angular.module("siemens.simaticit.common.widgets.itemCollectionViewer",["siemens.simaticit.common.widgets.grid","siemens.simaticit.common.widgets.tiles","siemens.simaticit.common.widgets.viewBar","siemens.simaticit.common.widgets.filterBar","siemens.simaticit.common.widgets.pager","siemens.simaticit.common.widgets.tagsManager"]),function(){function t(a,s,n,e,t,i,c,o,l,r,d,m,u,p,g,f,h){var v,y,C,b,w,S,x,T,I,k,E,O,P,D=this,R=o,A=[];function M(){switch(D.sitTileConfig.tileConfig.propertyFields.length){case 0:case 1:case 2:F(!0,!1,!1),N(!0,!1,!1),B("s","small");break;case 3:F(!1,!0,!1),N(!1,!0,!1),B("m","wide");break;default:D.sitTileConfig.isCell?(F(!1,!0,!1),N(!1,!0,!1),B("m","wide")):(F(!1,!1,!0),N(!1,!1,!0),B("l","large"))}}function F(e,t,n){var i=D.viewBarOptions;i.smallTile.show=e,i.mediumTile.show=t,i.largeTile.show=n}function N(e,t,n){var i=D.viewBarOptions;i.smallTile.selected=e,i.mediumTile.selected=t,i.largeTile.selected=n}function B(e,t){D.tileViewOptions.tileViewMode=e,D.tileViewOptions.tileSize=t}function G(i){C||("grid"===D.viewMode?D.userPreferences.viewMode="g":D.userPreferences.viewMode="t"),"tile"===i?D.userPreferences.propertyFields=[]:D.userPreferences.columns={},d.setPersonalization("sitItemCollectionViewer",D.sitOptions.userPrefId,D.userPreferences).then(function(){if(void 0!==i&&"tile"!==i||(D.tileViewOptions.titleField=D.sitOptions.tileConfig.titleField,D.tileViewOptions.descriptionField=D.sitOptions.tileConfig.descriptionField,D.tileViewOptions.propertyFields=$.extend(!0,[],D.sitOptions.tileConfig.propertyFields),D.sitTileConfig.userPreferences.titleField=D.tileViewOptions.titleField,D.sitTileConfig.userPreferences.descriptionField=D.tileViewOptions.descriptionField,D.sitTileConfig.userPreferences.propertyFields=$.extend(!0,[],D.tileViewOptions.propertyFields),D.tileViewOptions.dataUpdated&&D.tileViewOptions.dataUpdated(),D.gridOptions.columnDefs=$.extend(!0,[],D.sitConfig.columnDefs.sort(function(e,t){return e.index-t.index}))),void 0===i||"grid"===i){if(D.gridOptions.columnDefs=$.extend(!0,[],D.sitOptions.gridConfig.columnDefs),U(),D.gridOptions.tagField&&D.gridOptions.columnDefs.push({field:O,displayName:E,sortable:!1,cellTemplate:"<div  id='data-cell-container' class='ngCellText' ng-class='col.colIndex()'><sit-tag-list ng-if='row[\"entity\"][\""+O+'"].length > 0\' sit-data=\'row["entity"]["'+O+"\"]'></sit-tag-list></div>"}),D.sitConfig.columnDefs.length>D.gridOptions.columnDefs.length)for(var e=[],t=0;t<D.sitConfig.columnDefs.length;t++)if(D.sitConfig.columnDefs[t].isImageCol){e[t]=D.sitConfig.columnDefs[t],D.gridOptions.columnDefs=$.merge(e,D.gridOptions.columnDefs);break}D.sitConfig.columnDefs=$.extend(!0,[],D.gridOptions.columnDefs.sort(function(e,t){return e.index-t.index}));var n=D.sitTileConfig.getTileSettings();D.tileViewOptions.titleField=n.titleField,D.tileViewOptions.descriptionField=n.descriptionField,D.tileViewOptions.propertyFields=$.extend(!0,[],n.propertyFields),D.sitTileConfig.userPreferences=n,D.tileViewOptions.dataUpdated&&D.tileViewOptions.dataUpdated()}C||("tile"===D.viewMode?te("tile",D.sitTileConfig.viewMode):te("grid"))})}function V(){D.userPreferences=d.getCurrentUserPreference("sitItemCollectionViewer",D.sitOptions.userPrefId);var e=[];if(D.userPreferences){for(var t in 0===D.gridColumnDefs.length&&(D.gridColumnDefs=D.userPreferences.columns),D.userPreferences.columns)if("undefined"!=t){var n=_.findIndex(D.gridColumnDefs,{field:t});-1!==n&&(D.gridColumnDefs[n].visible=D.userPreferences.columns[t].visible,e.push(D.gridColumnDefs[n]))}D.gridColumnDefs=$.extend(!0,[],e),D.tileOptions={},D.tileOptions.titleField=D.userPreferences.titleField?D.userPreferences.titleField:"",D.tileOptions.descriptionField=D.userPreferences.descriptionField?D.userPreferences.descriptionField:"",D.tileOptions.propertyFields=D.userPreferences.propertyFields&&0!==D.userPreferences.propertyFields.length?$.extend(!0,[],D.userPreferences.propertyFields):[]}}function L(e){var t;D.userPreferences=d.getCurrentUserPreference("sitItemCollectionViewer",D.sitOptions.userPrefId),null===D.userPreferences&&(D.userPreferences={columns:{}}),D.userPreferences&&("tile"===e&&(t=D.userPreferences.columns,D.userPreferences=D.sitTileConfig.getTileSettings(),D.userPreferences.columns=t,C||("grid"===D.viewMode?D.userPreferences.viewMode="g":D.userPreferences.viewMode="t"),d.setPersonalization("sitItemCollectionViewer",D.sitOptions.userPrefId,D.userPreferences)),"grid"===e&&(D.userPreferences.columns={},angular.forEach(D.sitConfig.columnDefs,function(e){D.userPreferences.columns[e.field]={visible:e.visible}}),C||("grid"===D.viewMode?D.userPreferences.viewMode="g":D.userPreferences.viewMode="t"),d.setPersonalization("sitItemCollectionViewer",D.sitOptions.userPrefId,D.userPreferences)),e||(t=D.userPreferences.columns,D.userPreferences=D.sitTileConfig.getTileSettings(),D.userPreferences.columns=t,D.userPreferences.columns={},angular.forEach(D.sitConfig.columnDefs,function(e){D.userPreferences.columns[e.field]={visible:e.visible}}),C||("grid"===D.viewMode?D.userPreferences.viewMode="g":D.userPreferences.viewMode="t"),d.setPersonalization("sitItemCollectionViewer",D.sitOptions.userPrefId,D.userPreferences)))}function z(e){var t={text:"",title:"",buttons:[{id:"okButton",displayName:c.instant("common.ok"),onClickCallback:function(){m.hide(),G(e)}},{id:"cancelButton",displayName:c.instant("common.cancel"),onClickCallback:function(){m.hide(),ie()}}]};t.title=c.instant("userPrefrences.overlayMessage.title"),t.text=c.instant("userPrefrences.overlayMessage.text"),m.set(t),m.show()}function U(){if(D.sitOptions&&D.sitOptions.sortInfo){var n=[];D.sitOptions.sortInfo.field&&(D.gridOptions.sortInfo.fields.push(D.sitOptions.sortInfo.field),D.gridOptions.sortInfo.directions.push(D.sitOptions.sortInfo.direction),n.push(D.sitOptions.sortInfo.field)),D.sitOptions.sortInfo.fields&&angular.forEach(D.sitOptions.sortInfo.fields,function(e){var t=e.hasOwnProperty("field")?e.field:e;n.push(t)}),angular.forEach(D.gridOptions.columnDefs,function(e){e.sortable=!1,-1<n.indexOf(e.field)&&(e.sortable=!0)})}}function j(){w=D.sitOptions?D.sitOptions.viewOptions.toLowerCase():"",D.viewBarOptions=C?{grid:{show:!1},smallTile:{show:!1},mediumTile:{show:!1},largeTile:{show:!1},check:{show:!1},details:{show:!1}}:{grid:{id:D.sitOptions?D.sitOptions.containerID:"",show:w&&-1!==w.indexOf("g"),selected:!!D.sitOptions&&"g"===D.sitOptions.viewMode,onClickCallback:function(){te("grid")}},smallTile:{id:D.sitOptions?D.sitOptions.containerID:"",show:w&&-1!==w.indexOf("s"),selected:!!D.sitOptions&&"s"===D.sitOptions.viewMode,onClickCallback:function(){te("tile","medium")}},mediumTile:{id:D.sitOptions?D.sitOptions.containerID:"",show:w&&-1!==w.indexOf("m"),selected:!!D.sitOptions&&"m"===D.sitOptions.viewMode,onClickCallback:function(){te("tile","wide")}},largeTile:{id:D.sitOptions?D.sitOptions.containerID:"",show:w&&-1!==w.indexOf("l"),selected:!!D.sitOptions&&"l"===D.sitOptions.viewMode,onClickCallback:function(){te("tile","large")}},check:{id:D.sitOptions?D.sitOptions.containerID:"",show:!!D.sitOptions&&("none"!==D.sitOptions.selectionMode&&w&&-1!==w.indexOf("x")),selected:!!D.sitOptions&&"multi"===D.sitOptions.selectionMode,onClickCallback:function(e){var t=e?"multi":"single";D.sitOptions.selectionMode=t,D.tileViewOptions.multiSelect=e,D.tileViewOptions.selectionMode=t,D.gridOptions.selectionMode=t,D.gridOptions=$.extend(!0,{},D.gridOptions),v.log("selection mode button callback","selection mode changed to "+t),D.viewBarOptions.check.show=!!D.sitOptions&&("none"!==D.sitOptions.selectionMode&&w&&-1!==w.indexOf("x")),D.viewBarOptions.check.selected=!!D.sitOptions&&"multi"===D.sitOptions.selectionMode}},details:{id:D.sitOptions?D.sitOptions.containerID:"",show:w&&-1!==w.indexOf("d"),selected:!1,onClickCallback:function(){}}}}function q(){return D.initializeHeight(),D.collectionStyle}function W(e){var t,n,i,o,a;(e||(e=D.sitOptions?Q(D.sitOptions.containerID):0),e<=0)||(t=e,n=54,i=D.sitOptions?D.sitOptions.filterBarOptions.toLowerCase():"",o=-1!==i.indexOf("s")&&D.sitOptions.sortInfo.fields&&0<D.sitOptions.sortInfo.fields.length,a=-1!==i.indexOf("q"),C&&o&&a&&(n=D.isCompactQuickSearchEnabled?94:n),D.collectionHeight=t-n,D.collectionStyle={height:D.collectionHeight+"px"},R.find("#itemCollectionViewerContainer").height(e),R.find("#itemCollectionCanvas").height(D.collectionHeight),R.find("#noDataDiv").height(D.collectionHeight),R.find("#gridViewDiv").height(D.collectionHeight),R.find("#tileViewDiv").height(D.collectionHeight),v.log("icvCtrl.setHeight","widgetHeight: "+e+"px, collectionHeight: "+D.collectionHeight+"px"))}function H(e){D.sitOptions.enableResponsiveBehaviour&&(e<500?"c"===D.sitOptions.viewMode||D.isCompactView||("grid"===D.viewMode?D.prevViewMode="g":"tile"===D.viewMode&&("medium"===D.tileViewOptions.tileSize?D.prevViewMode="s":"wide"===D.tileViewOptions.tileSize?D.prevViewMode="m":D.prevViewMode="l"),D.sitOptions.viewMode="c",Y(),D.isCompactView=!0,D.isCompactView&&"g"===D.prevViewMode&&l.hide()):"c"===D.sitOptions.viewMode&&D.isCompactView&&(D.sitOptions.viewMode=D.prevViewMode,Y(),D.isCompactView=!1,D.isCompactView||"g"!==D.prevViewMode||l.hide()))}function X(){var e=0;D.sitOptions&&(D.sitOptions.height?e=D.sitOptions.height:D.sitOptions.containerID&&0<(e=Q(D.sitOptions.containerID))&&(D.handleResize=!0)),e<=0&&(e=Math.ceil($(window).height()/2)),D.setHeight(e),D.tileViewOptions.handleResize=D.handleResize,D.tileViewOptions.viewHeight=D.collectionHeight,D.gridOptions.handleResize=D.handleResize,D.gridOptions.height=D.collectionHeight}function Y(){D.resetView=!1,y=D.sitOptions?D.sitOptions.viewMode.toLowerCase():"",C="c"===y,D.compactStyle=C?{width:"269px"}:"",K(!0),D.sitTileConfig.viewMode=y,S=D.sitOptions.getSearchText(),x=D.sitOptions.getGroupField(),T=D.sitOptions.getSortInfo(),"g"!==D.sitOptions.viewMode?(D.tileViewOptions.alwaysShowPager=(!D.sitOptions||!C)&&D.sitOptions.alwaysShowPager,D.tileViewOptions.enablePaging=(!D.sitOptions||!C)&&D.sitOptions.enablePaging,D.tileViewOptions.multiSelect=!C&&"multi"===D.sitOptions.selectionMode,D.tileViewOptions.selectStyle=D.sitOptions&&C?"alternate":D.sitOptions.selectStyle,D.tileViewOptions.isCompactMode=!1,C&&(D.tileViewOptions.isCompactMode=!0,D.tileViewOptions.tileSize="medium",D.tileViewOptions.tileTemplate=D.sitOptions?D.sitOptions.smallTileTemplate:"",D.sitTileConfig.tileTemplate=D.sitOptions?D.sitOptions.smallTileTemplate:""),D.tileViewOptions.quickSearchOptions.filterText=S,D.tileViewOptions.groupBy=x,D.tileViewOptions.sortInfo=T):(D.gridOptions.quickSearchOptions.filterText=S,D.gridOptions.groupBy=x,D.gridOptions.sortInfo={fields:[],directions:[],columns:[]},D.gridOptions.sortInfo.fields.push(T.field?T.field:D.sitOptions.sortInfo.field),D.gridOptions.sortInfo.directions.push(T.direction?T.direction:D.sitOptions.sortInfo.direction)),j(),D.filterOptions.quickSearchText=S,D.filterOptions.currentGroupField=x,D.filterOptions.currentSortDirection=T.direction?T.direction:D.sitOptions.sortInfo.direction,D.filterOptions.currentSortField=T.field?T.field:D.sitOptions.sortInfo.field,D.filterOptions.displayOptions=D.sitOptions?D.sitOptions.filterBarOptions+(C?"c":""):"",D.filterOptions.displayOptions=D.sitOptions.userPrefId?D.filterOptions.displayOptions+"p":D.filterOptions.displayOptions,D.filterOptions.viewBarOptions=D.viewBarOptions,n(function(){D.resetView=!0})}function Q(e){var t=0,n=$("#"+e);return 0===n.length?t:t=n.is(":visible")?n.height():-1===n.css("height").indexOf("%")?n.height():0}function K(e){void 0!==D.pageManager&&(D.sitOptions.pagingOptions.pageSize=D.pageManager.getPageSize(),D.sitOptions.pagingOptions.currentPage=D.pageManager.getCurrentPage()),D.pageManager=i.getPageManager(D.sitOptions?D.sitOptions:{},D.sitData),e&&(C?D.viewMode="compact":!D.sitOptions||"g"!==D.sitOptions.viewMode&&"G"!==D.sitOptions.viewMode?D.viewMode="tile":D.viewMode="grid")}function J(e){D.filterOptions.changeSort(e.field,e.direction),D.sitOptions&&D.sitOptions.onSortingChangedCallback&&D.sitOptions.onSortingChangedCallback(e)}function Z(e){D.filterOptions.setFilterSelected(!!e&&0<e.length),D.showFilter=!1,"grid"===D.viewMode?D.gridOptions.setFilter(e):D.tileViewOptions.setFilter(e)}function ee(){D.filterOptions.setFilterSelected(),"grid"===D.viewMode?D.gridOptions.setFilter([]):D.tileViewOptions.setFilter([])}function te(e,t){D.viewMode=e,D._viewMode=e;var n,i=D.sitOptions.getSearchText(),o=D.sitOptions.getGroupField(),a=D.sitOptions.getSortInfo();if("tile"!==D.viewMode&&D.tileViewOptions.getSelectedItems?n=D.tileViewOptions.getSelectedItems():D.gridOptions&&D.gridOptions.getSelectedItems&&(n=D.gridOptions.getSelectedItems()),"tile"===D.viewMode){var r="";D.gridMode=!1,D.sitOptions&&("medium"===t?(D.sitTileConfig.viewMode="s",r=D.sitOptions.smallTileTemplate):"wide"===t?(D.sitTileConfig.viewMode="m",r=D.sitOptions.mediumTileTemplate):(D.sitTileConfig.viewMode="l",r=D.sitOptions.largeTileTemplate),D.viewBarOptions.grid.selected=!1,D.viewBarOptions.grid.show=!1),V(),D.userPreferences&&(D.tileViewOptions.titleField=D.userPreferences.titleField?D.userPreferences.titleField:D.tileViewOptions.titleField,D.tileViewOptions.descriptionField=D.userPreferences.descriptionField?D.userPreferences.descriptionField:D.tileViewOptions.descriptionField,D.tileViewOptions.propertyFields=D.userPreferences.propertyFields&&0!==D.userPreferences.propertyFields.length?$.extend(!0,[],D.userPreferences.propertyFields):$.extend(!0,[],D.tileViewOptions.propertyFields)),D.tileViewOptions.tileTemplate=r,D.sitTileConfig.tileTemplate=r,D.tileViewOptions.tileSize=t,D.tileViewOptions.tileViewMode=t,D.tileViewOptions.viewHeight=D.collectionHeight,D.tileViewOptions.quickSearchOptions.filterText=i,D.tileViewOptions.groupBy=o,D.tileViewOptions.sortInfo=a,D.tileViewOptions.pagingOptions.pageSize=D.pageManager.getPageSize(),D.tileViewOptions.pagingOptions.currentPage=D.pageManager.getCurrentPage(),D.tileViewOptions.selectedItems=n,v.log("view button callback","view mode changed to "+t+" tile")}else D.gridMode=!0,D.gridOptions.height=D.collectionHeight,D.gridOptions.quickSearchOptions.filterText=i,D.gridOptions.groups.length=0,o&&D.gridOptions.groups.push(o),D.gridOptions.sortInfo={fields:[],directions:[],columns:[]},a.direction&&a.field&&(D.gridOptions.sortInfo.fields.push(a.field),D.gridOptions.sortInfo.directions.push(a.direction)),D.gridOptions.pagingOptions.pageSize=D.pageManager.getPageSize(),D.gridOptions.pagingOptions.currentPage=D.pageManager.getCurrentPage(),D.gridOptions.selectedItems=n,v.log("view button callback","view mode changed to grid")}function ne(){return D.sitOptions.tagsManagerOptions?{Name:D.sitOptions.tagsManagerOptions.appName,Entity:D.sitOptions.tagsManagerOptions.entityName}:D.sitOptions.serverDataOptions?{Name:D.sitOptions.serverDataOptions.appName,Entity:D.sitOptions.serverDataOptions.dataEntity}:{Name:null,Entity:null}}function ie(){var e=D.sitOptions.viewOptions,t=""===e||"g"===e,n=""!==e&&-1===e.indexOf("g"),i=""!==e&&2<e.length||-1!==e.indexOf("g");if("tile"!==D.viewMode&&"compact"!==D.viewMode||!n){if("grid"===D.viewMode&&t){var o={title:D.GridDialogTitle,templatedata:{data:D.sitConfig,reset:D.buttonsGridList[1],viewMode:"grid"},templateuri:"common/widgets/itemCollectionViewer/grid-personalization.html",buttons:D.buttonsGridList};l.set(o),l.show()}else if(i&&("grid"===D.viewMode||"tile"===D.viewMode||"compact"===D.viewMode)){var a={title:c.instant("userPrefrences.title.tileGrid",D.sitOptions),templatedata:{radio:{value:"grid"===D.defaultViewMode?"grid":"tile",options:[{label:c.instant("userPrefrences.table"),name:c.instant("userPrefrences.table"),value:"grid"},{label:c.instant("userPrefrences.list"),name:c.instant("userPrefrences.list"),value:"tile"}],onChange:function(e,t){e!==t&&(D._viewMode=t,D.defaultViewMode=t,D._oldViewMode=t)}},selectTab:function(e,t){"tile"===t?(e.tile.isTileActve=!0,e.tile.isGridActve=!1):(e.tile.isTileActve=!1,e.tile.isGridActve=!0)},grid:{isGridActive:"grid"===D.viewMode,data:D.sitConfig,reset:{onClickCallback:function(){l.hide(),D.sitOptions&&""!==D.sitOptions.viewOptions.toLowerCase()?z("grid"):G("grid")}}},tile:{isTileActve:"tile"===D.viewMode||"compact"===D.viewMode,data:D.sitTileConfig,reset:{onClickCallback:function(){l.hide(),D.sitOptions&&""!==D.sitOptions.viewOptions.toLowerCase()?z("tile"):G("tile")}}}},templateuri:"common/widgets/itemCollectionViewer/grid-tile-personalization.html",buttons:[{id:"SAVE ALL",displayName:c.instant("common.ok"),onClickCallback:function(){D._viewMode&&(D.viewMode=D._viewMode),D.viewMode&&s.$broadcast("sit-item-collection-viewer.change-view-mode-completed."+D.sitOptions.containerID,{view:D.viewMode}),L(),l.hide();var e=D.sitTileConfig.getTileSettings();D.tileViewOptions.titleField=e.titleField,D.tileViewOptions.descriptionField=e.descriptionField,D.tileViewOptions.propertyFields=$.extend(!0,[],e.propertyFields),D.sitTileConfig.userPreferences=e,D.tileViewOptions.dataUpdated&&D.tileViewOptions.dataUpdated(),0===D.sitConfig.columnDefs.length?D.sitConfig.columnDefs=$.extend(!0,[],D.gridOptions.columnDefs.sort(function(e,t){return e.index-t.index})):D.gridOptions.columnDefs=$.extend(!0,[],D.sitConfig.columnDefs.sort(function(e,t){return e.index-t.index})),te(D.viewMode,D.sitTileConfig.viewMode)}},{id:"cancelButton",displayName:c.instant("common.cancel"),onClickCallback:function(){l.hide(),D.defaultViewMode=D.oldViewMode,D._viewMode=D._oldViewMode,D.sitTileConfig.userPreferences.titleField=D.tileViewOptions.titleField,D.sitTileConfig.userPreferences.descriptionField=D.tileViewOptions.descriptionField,D.sitTileConfig.userPreferences.propertyFields=$.extend(!0,[],D.tileViewOptions.propertyFields),angular.forEach(D.gridOptions.columnDefs,function(e){e.visible="boolean"!=typeof e.visible||e.visible}),D.sitConfig.columnDefs=$.extend(!0,[],D.gridOptions.columnDefs)}}]};l.set(a),l.show()}}else{var r={title:D.TileDialogTitle,templatedata:{data:D.sitTileConfig,reset:D.buttonsTileList[1],viewMode:"tile"},templateuri:"common/widgets/itemCollectionViewer/tile-personalization.html",buttons:D.buttonsTileList};l.set(r),l.show()}}function oe(){(D.filterOptions={noData:!0,tagsManagerButton:D.TagsManagerVisibility,quickSearchText:D.sitOptions&&D.sitOptions.quickSearchOptions&&D.sitOptions.quickSearchOptions.filterText?D.sitOptions.quickSearchOptions.filterText:"",currentGroupField:D.sitOptions?D.sitOptions.groupField:"",currentSortDirection:D.sitOptions?D.sitOptions.sortInfo.direction:"",currentSortField:D.sitOptions?D.sitOptions.sortInfo.field:"",displayOptions:D.sitOptions?D.sitOptions.filterBarOptions+(C?"c":""):"",onFilterClickCallback:function(){(D.showFilter=!D.showFilter,D.showFilter)&&(D.sitOptions.filterFields&&!D.sitOptions.filterFields.type&&$("#"+D.sitOptions.containerID).find("#filter").css("max-height",.3*D.collectionHeight))},groupByFields:D.sitOptions?D.sitOptions.groupFields:"",onGroupChangeCallback:function(e){v.log("onGroupChangeCallback","selected group field: "+e),"grid"===D.viewMode?D.gridOptions.groups=e?[e]:[]:D.tileViewOptions.groupBy=e||""},quickSearchField:D.sitOptions?D.sitOptions.quickSearchOptions.field:"",onSearchChangeCallback:function(e){var t="quick search: text: ["+e+"].";v.log("onSearchChangeCallback",t),"grid"===D.viewMode?D.gridOptions.quickSearchOptions.filterText=e:D.tileViewOptions.quickSearchOptions.filterText=e,s.$on("sit-grid.data-filtered",function(){s.$broadcast("sit-item-collection-viewer.data-search-completed")})},sortByFields:D.sitOptions?D.sitOptions.sortInfo.fields:"",onSortChangeCallback:function(e,t){var n="sort changed: field: ["+e+"], direction: ["+t+"].";if(v.log("onSortChangeCallback",n),"grid"===D.viewMode)D.gridOptions.sortBy&&D.gridOptions.sortBy(e,t);else{var i={field:e,direction:t};D.tileViewOptions.sortInfo=i}},onPreferenceButtonClicked:function(){ie()},onSegregationTagsButtonClicked:function(){!function(){var e=u.current.name,t=a.$id,n=[];if(n="grid"===D.viewMode?D.gridOptions.selectedItems:D.tileViewOptions.selectedItem,D.isTagsMgtUserAuthorized&&0!=n.length&&(D.sitOptions.tagsManagerOptions||D.sitOptions.serverDataOptions)){var i=ne();if(i.Name&&i.Entity){if(0<=u.current.name.lastIndexOf("TagsMgt")){var o=e.split(".");o.splice(o.length-1,1),e=o.join(".")}u.go(e+"."+t+"TagsMgt",{objId:n[0].Id,objIdType:typeof n[0].Id,entity:i.Entity,app:i.Name},{reload:!1})}else v.error("Tags Manager","Missing Entity Name or Application Name")}}()},filterFields:D.sitOptions?D.sitOptions.filterFields:""},D.filterOptions.displayOptions)&&(-1===D.filterOptions.displayOptions.toLowerCase().indexOf("q")||D.filterOptions.quickSearchField&&0!==D.filterOptions.quickSearchField.length||(D.sitOptions&&(D.filterOptions.displayOptions=D.filterOptions.displayOptions.replace("q","")),v.warn("setFilterOptions","Quick Search control configured to display but no search field specified. Not showing control.")),D.filterOptions.displayOptions=D.filterOptions.displayOptions+"p",D.sitOptions&&!D.sitOptions.userPrefId&&(D.filterOptions.displayOptions=D.filterOptions.displayOptions.replace("p","")))}function ae(e){re(e)}function re(e){e&&(D.resetData(),D.pageManager.setCurrentPage(1),s.$broadcast("grid.refreshList")),D.gridOptions.dataUpdated&&"grid"===D.viewMode?D.gridOptions.dataUpdated():D.tileViewOptions.dataUpdated&&D.tileViewOptions.dataUpdated()}function se(){if(K(!1),D.tileViewOptions.pageManager=D.gridOptions.pageManager=D.pageManager,D.sitOptions){if(D.sitOptions.gridConfig){var e=$.extend(!0,[],D.sitOptions.gridConfig.columnDefs),t=$.extend(!0,[],D.gridOptions.columnDefs);D.gridOptions.columnDefs=(i=e,(n=t).concat(i.filter(function(e){return-1===_.findIndex(n,{field:e.field})})))}D.sitOptions.tileConfig&&(V(),D.userPreferences&&D.resetDataFlag?(D.tileViewOptions.descriptionField=D.userPreferences.descriptionField?D.userPreferences.descriptionField:D.tileViewOptions.descriptionField,D.tileViewOptions.titleField=D.userPreferences.titleField?D.userPreferences.titleField:D.tileViewOptions.titleField,D.tileViewOptions.propertyFields=D.userPreferences.propertyFields&&0!==D.userPreferences.propertyFields.length?$.extend(!0,[],D.userPreferences.propertyFields):$.extend(!0,[],D.tileViewOptions.propertyFields),D.resetDataFlag=!1):(D.tileViewOptions.descriptionField=D.sitOptions.tileConfig.descriptionField,D.tileViewOptions.titleField=D.sitOptions.tileConfig.titleField,D.tileViewOptions.propertyFields=$.extend(!0,[],D.sitOptions.tileConfig.propertyFields)))}var n,i;D.gridOptions.onDataChange&&D.gridOptions.onDataChange(D.sitData),D.sitData&&D.sitData.length?D.noData=!1:D.noData=!0}function ce(e,t,n){e&&e.constructor===Array&&("grid"===D.viewMode?D.gridOptions&&D.gridOptions.selectItems&&D.gridOptions.selectItems(e,t,n):D.tileViewOptions&&D.tileViewOptions.selectItems&&D.tileViewOptions.selectItems(e,t,n))}function le(e){"grid"===D.viewMode?D.gridOptions&&D.gridOptions.selectAll&&D.gridOptions.selectAll(e):D.tileViewOptions&&D.tileViewOptions.selectAll&&D.tileViewOptions.selectAll(e)}function de(e,t){"grid"===D.viewMode&&D.gridOptions.expandGroup(e,t)}function me(e){"grid"===D.viewMode?D.gridOptions.setFilter(e):D.tileViewOptions.setFilter(e)}function ue(){var e="";return D.filterOptions.hasOwnProperty("getSearchText")&&(e=D.filterOptions.getSearchText()),e}function pe(){var e=null;return D.filterOptions.hasOwnProperty("getGroupField")&&(e=D.filterOptions.getGroupField()),e}function ge(){var e={};return D.filterOptions.hasOwnProperty("getSortInfo")&&(e=D.filterOptions.getSortInfo()),e}function fe(){var e={};return D.pageManager&&(e={currentPage:D.pageManager.getCurrentPage(),pageCount:D.pageManager.getPageCount(),pageSize:D.pageManager.getPageSize()}),e}function he(){var e=[];return D.sitFilterOptions.hasOwnProperty("getFilterClauses")&&(e=D.sitFilterOptions.getFilterClauses()),e}function ve(){var e=[];return"grid"===D.viewMode?D.gridOptions.hasOwnProperty("getCurrentData")&&(e=D.gridOptions.getCurrentData()):D.tileViewOptions.hasOwnProperty("getCurrentData")&&(e=D.tileViewOptions.getCurrentData()),e}function ye(e){"single"!==e&&"multi"!==e&&"none"!==e||(D.sitOptions.selectionMode=e,D.tileViewOptions.multiSelect="multi"===e,D.tileViewOptions.selectionMode=e,D.gridOptions.selectionMode=e,D.gridOptions=$.extend(!0,{},D.gridOptions),D.viewBarOptions&&D.viewBarOptions.check&&(D.viewBarOptions.check.selected=!!D.sitOptions&&"multi"===D.sitOptions.selectionMode,D.viewBarOptions.check.show=!!D.sitOptions&&("none"!==D.sitOptions.selectionMode&&w&&-1!==w.indexOf("x"))))}D.isCompactQuickSearchEnabled=!1,D.isTagsMgtUserAuthorized=!1,t.setConfigurationDefaults(D.sitOptions),v=new Ce(e,!!D.sitOptions&&D.sitOptions.debug,"ItemCollectionViewer.controller"),D.resetView=!0,D.noData=!0,D.noDataMessage=D.sitOptions?D.sitOptions.noDataMessage?D.sitOptions.noDataMessage:c.instant("common.no-data"):"",D.showFilter=!1,D.sitFilterOptions=D.sitOptions&&D.sitOptions.filterOptions?D.sitOptions.filterOptions:{},y=D.sitOptions?D.sitOptions.viewMode.toLowerCase():"",D.gridMode="g"===y,C="c"===y,D.compactStyle=C?{width:"269px"}:"",D.handleResize=!0,D.collectionStyle={},(b=$.extend(!0,{},D.sitOptions?D.sitOptions.pagingOptions:{})).initialPageSize=b.pageSize,D.userCustomizedJson={columns:{}},D.TagsManagerVisibility=!1,D.IsEntitySegregable=!1,D.setCollectionStyle=q,D.setHeight=W,D.checkResponsiveness=H,D.initializeHeight=X,D.sortingChangedCallback=J,D.applyFilter=Z,D.resetFilter=ee,D.resetData=se,D.sitOptions.filterFields&&"filterPanel"===D.sitOptions.filterFields.type&&(D.sitOptions.filterFields.parentWidget="sit-item-collection-viewer",D.sitOptions.filterFields.defaultApplyCallback=me),K(!0),a.$id||(a.$id=Math.random()),(P=D.sitOptions?D.sitOptions.tagField:null)&&("string"==typeof P?E=O=P:(O=P.field,E=P.displayName?P.displayName:O)),D.gridOptions=$.extend(!0,{},D.sitOptions?D.sitOptions.gridConfig:{}),D.gridOptions.noData=!0,D.gridOptions.gridContainerClass=D.sitOptions?D.sitOptions.gridContainerClass:"",D.gridOptions.alwaysShowPager=!!D.sitOptions&&D.sitOptions.alwaysShowPager,D.gridOptions.containerID="gridViewDiv",D.gridOptions.enablePaging=!!D.sitOptions&&D.sitOptions.enablePaging,D.gridOptions.handleResize=D.handleResize,D.gridOptions.height=D.collectionHeight,D.gridOptions.rowHeight=D.sitOptions.rowHeight,D.gridOptions.groups=D.sitOptions&&""!==D.sitOptions.groupField?[D.sitOptions.groupField]:[],D.gridOptions.tagsManager=!!D.sitOptions.tagsManager||D.sitOptions.tagsManager,D.gridOptions.tagsManagerOptions=D.sitOptions.tagsManagerOptions?{entityName:"",appName:""}:D.sitOptions.tagsManagerOptions,D.gridOptions.serverDataOptions=D.sitOptions.serverDataOptions?{dataEntity:"",appName:""}:D.sitOptions.serverDataOptions,D.gridOptions.pageManager=D.pageManager,D.gridOptions.pagingOptions=b,D.gridOptions.quickSearchOptions=D.sitOptions?D.sitOptions.quickSearchOptions:[],D.gridOptions.quickSearchType=D.sitOptions&&D.sitOptions.quickSearchType?D.sitOptions.quickSearchType:"",D.gridOptions.noDataMessage=D.sitOptions?D.sitOptions.noDataMessage:"",D.gridOptions.onPageChangedCallback=D.sitOptions?D.sitOptions.onPageChangedCallback:null,D.gridOptions.onSelectionChangeCallback=D.sitOptions?D.sitOptions.onSelectionChangeCallback:null,D.gridOptions.onSortingChangedCallback=D.sortingChangedCallback,D.gridOptions.selectionMode=D.sitOptions?D.sitOptions.selectionMode:"",D.gridOptions.noScroll=!!D.sitOptions&&D.sitOptions.noScroll,D.gridOptions.debug=!!D.sitOptions&&D.sitOptions.debug,D.gridOptions.enableResponsiveBehaviour=!!D.sitOptions&&D.sitOptions.enableResponsiveBehaviour,D.gridOptions.uniqueID=D.sitOptions.uniqueID?D.sitOptions.uniqueID:"",D.gridOptions.parent="ICV",D.gridOptions.svgIcon=D.sitOptions.svgIcon?D.sitOptions.svgIcon:"",D.gridOptions.typeIcon=D.sitOptions.typeIcon?D.sitOptions.typeIcon:"",D.gridOptions.sortInfo={fields:[],directions:[],columns:[]},U(),D.gridOptions.tagField=D.sitOptions?D.sitOptions.tagField:null,D.gridOptions.tagField&&D.gridOptions.columnDefs.push({field:O,displayName:E,sortable:!1,cellTemplate:"<div  id='data-cell-container' class='ngCellText' ng-class='col.colIndex()'><sit-tag-list ng-if='row[\"entity\"][\""+O+'"].length > 0\' sit-data=\'row["entity"]["'+O+"\"]'></sit-tag-list></div>"}),angular.forEach(D.gridOptions.columnDefs,function(e){e.visible="boolean"!=typeof e.visible||e.visible}),D.gridColumnDefs=$.extend(!0,[],D.gridOptions.columnDefs),j(),oe(),D.sitOptions.dataUpdated=re,D.sitOptions.refresh=ae,D.sitOptions.selectItems=ce,D.sitOptions.selectAll=le,D.sitOptions.updateFilterBar=oe,D.sitOptions.expandGroup=de,D.sitOptions.getSearchText=ue,D.sitOptions.getGroupField=pe,D.sitOptions.getSortInfo=ge,D.sitOptions.getFilterClauses=he,D.sitOptions.getCurrentData=ve,D.sitOptions.getPageInfo=fe,D.sitOptions.resetPager=D.pageManager.resetPager,D.sitOptions.applyFilter=me,D.sitOptions.setSelectionMode=ye,V(),C||"s"===y?(I="medium",k=D.sitOptions?D.sitOptions.smallTileTemplate:""):"l"===y?(I="large",k=D.sitOptions?D.sitOptions.largeTileTemplate:""):(I="wide",k=D.sitOptions?D.sitOptions.mediumTileTemplate:""),D.tileViewOptions={noData:!0,alwaysShowPager:(!D.sitOptions||!C)&&D.sitOptions.alwaysShowPager,bgColor:D.sitOptions?D.sitOptions.bgColor:"",bgColorSelected:D.sitOptions?D.sitOptions.bgColorSelected:"",color:D.sitOptions?D.sitOptions.color:"",colorSelected:D.sitOptions?D.sitOptions.colorSelected:"",containerID:"tileViewDiv",descriptionField:D.tileOptions&&D.tileOptions.descriptionField?D.tileOptions.descriptionField:D.sitOptions?D.sitOptions.tileConfig.descriptionField:"",noDataMessage:D.sitOptions?D.sitOptions.noDataMessage:"",enablePaging:(!D.sitOptions||!C)&&D.sitOptions.enablePaging,tagsManager:!!D.sitOptions.tagsManager||D.sitOptions.tagsManager,tagsManagerOptions:D.sitOptions.tagsManagerOptions?{entityName:"",appName:""}:D.sitOptions.tagsManagerOptions,serverDataOptions:D.sitOptions.serverDataOptions?{dataEntity:"",appName:""}:D.sitOptions.serverDataOptions,groupBy:D.sitOptions?D.sitOptions.groupField:"",handleResize:D.handleResize,image:D.sitOptions.image?D.sitOptions.image:D.sitOptions.tileConfig.image,svgIcon:D.sitOptions.svgIcon?D.sitOptions.svgIcon:"",typeIcon:D.sitOptions.typeIcon?D.sitOptions.typeIcon:"",multiSelect:!C&&"multi"===D.sitOptions.selectionMode,selectionMode:D.sitOptions.selectionMode?D.sitOptions.selectionMode:"single",pageManager:D.pageManager,pagingOptions:b,propertyFields:D.tileOptions&&D.tileOptions.propertyFields&&0!==D.tileOptions.propertyFields.length?$.extend(!0,[],D.tileOptions.propertyFields):D.sitOptions.tileConfig.propertyFields?$.extend(!0,[],D.sitOptions.tileConfig.propertyFields):[],quickSearchOptions:D.sitOptions.quickSearchOptions?D.sitOptions.quickSearchOptions:{},quickSearchType:D.sitOptions.quickSearchType?D.sitOptions.quickSearchType:"",onPageChangedCallback:D.sitOptions?D.sitOptions.onPageChangedCallback:null,onSelectionChangeCallback:D.sitOptions?D.sitOptions.onSelectionChangeCallback:null,onSortingChangedCallback:D.sitOptions?D.sitOptions.onSortingChangedCallback:null,selectStyle:D.sitOptions&&C?"alternate":D.sitOptions.selectStyle,sortInfo:D.sitOptions.sortInfo?D.sitOptions.sortInfo:{},tileSize:I,tileType:"item",titleField:D.tileOptions&&D.tileOptions.titleField?D.tileOptions.titleField:D.sitOptions.tileConfig.titleField?D.sitOptions.tileConfig.titleField:"",uniqueID:D.sitOptions.uniqueID?D.sitOptions.uniqueID:"",useCustomColors:!!D.sitOptions.useCustomColors&&D.sitOptions.useCustomColors,viewHeight:D.collectionHeight,debug:!!D.sitOptions.debug&&D.sitOptions.debug,tagField:O,tileTemplate:k,enableResponsiveBehaviour:!!D.sitOptions.enableResponsiveBehaviour&&D.sitOptions.enableResponsiveBehaviour,tileViewMode:y,noScroll:!!D.sitOptions.noScroll&&D.sitOptions.noScroll,tileContainerClass:D.sitOptions.tileContainerClass?D.sitOptions.tileContainerClass:"",isCompactMode:D.sitOptions&&C,commands:D.sitOptions.tileConfig.commands,indicators:D.sitOptions.tileConfig.indicators,isCell:!!D.sitOptions.tileConfig.isCell&&D.sitOptions.tileConfig.isCell},D.tileOptions||(D.tileOptions={}),D.tileOptions.titleField=D.tileOptions&&D.tileOptions.titleField?D.tileOptions.titleField:D.tileViewOptions.titleField,D.tileOptions.descriptionField=D.tileOptions&&D.tileOptions.descriptionField?D.tileOptions.descriptionField:D.tileViewOptions.descriptionField,D.tileOptions.propertyFields=D.tileOptions&&D.tileOptions.propertyFields&&0!==D.tileOptions.propertyFields.length?$.extend(!0,[],D.tileOptions.propertyFields):$.extend(!0,[],D.tileViewOptions.propertyFields),D.tileModalId=a.$id+"Tile"+D.sitOptions.userPrefId,D.TileDialogTitle=c.instant("userPrefrences.title.tile"),D.sitTileConfig={tileConfig:{},userPreferences:{}},D.sitTileConfig.tileConfig.titleField=D.sitOptions.tileConfig.titleField,D.sitTileConfig.tileConfig.descriptionField=D.sitOptions.tileConfig.descriptionField,D.sitTileConfig.tileConfig.propertyFields=$.extend(!0,[],D.sitOptions.tileConfig.propertyFields),D.sitTileConfig.userPreferences.propertyFields=$.extend(!0,[],D.tileOptions.propertyFields),D.sitTileConfig.userPreferences.titleField=D.tileOptions.titleField,D.sitTileConfig.userPreferences.descriptionField=D.tileOptions.descriptionField,D.sitTileConfig.viewMode=D.tileViewOptions.tileViewMode,D.sitTileConfig.tileTemplate=D.tileViewOptions.tileTemplate,D.sitTileConfig.isCell=D.sitOptions.tileConfig.isCell,D.buttonsTileList=[{id:"SAVE ALL",displayName:c.instant("common.ok"),onClickCallback:function(){l.hide(),L("tile");var e=D.sitTileConfig.getTileSettings();D.tileViewOptions.titleField=e.titleField,D.tileViewOptions.descriptionField=e.descriptionField,D.tileViewOptions.propertyFields=$.extend(!0,[],e.propertyFields),D.sitTileConfig.userPreferences=e,D.tileViewOptions.dataUpdated()}},{id:"RESET",onClickCallback:function(){l.hide(),D.sitOptions&&""!==D.sitOptions.viewOptions.toLowerCase()?z():G("tile")}},{id:"cancelButton",displayName:c.instant("common.cancel"),onClickCallback:function(){D._viewMode=null,D.defaultViewMode=null,D._oldViewMode=null,l.hide(),D.sitTileConfig.userPreferences.titleField=D.tileViewOptions.titleField,D.sitTileConfig.userPreferences.descriptionField=D.tileViewOptions.descriptionField,D.sitTileConfig.userPreferences.propertyFields=$.extend(!0,[],D.tileViewOptions.propertyFields)}}],function(){if(D.userPreferences&&!C)if(D.userPreferences.viewMode){var e="t"===D.userPreferences.viewMode||"T"===D.userPreferences.viewMode;D.viewMode=!C&&e?"tile":"grid"}else D.viewMode="grid";if(!C||"compact"!==D.viewMode)if("tile"===D.viewMode)-1!==["s","m","l"].indexOf(y)&&M()||(F(!1,!0,!1),N(!1,!0,!1),B("m","wide")),D.viewBarOptions.grid.selected=!1;else{var t=D.sitOptions.viewOptions;N(!(D.viewBarOptions.grid.selected=!0),!1,!1),-1===t.indexOf("s")&&-1===t.indexOf("m")&&-1===t.indexOf("l")||(M(),N(!1,!1,!1))}D.defaultViewMode=D.viewMode,D.filterOptions.viewBarOptions=D.viewBarOptions}(),D.modalid=a.$id+"grid"+D.sitOptions.userPrefId,D.GridDialogTitle=c.instant("userPrefrences.title.grid"),D.sitConfig={},D.gridOptions.columnDefs=$.extend(!0,[],D.gridColumnDefs),D.sitConfig.columnDefs=$.extend(!0,[],D.gridColumnDefs),D.dialogcentered=!0,D.buttonsGridList=[{id:"SAVE ALL",displayName:c.instant("common.ok"),onClickCallback:function(){l.hide(),L("grid"),D.gridOptions.columnDefs=$.extend(!0,[],D.sitConfig.columnDefs.sort(function(e,t){return e.index-t.index}))}},{id:"RESET",onClickCallback:function(){l.hide(),D.sitOptions&&""!==D.sitOptions.viewOptions.toLowerCase()?z():G("grid")}},{id:"cancelButton",displayName:c.instant("common.cancel"),onClickCallback:function(){D._viewMode=null,D.defaultViewMode=null,D._oldViewMode=null,l.hide(),angular.forEach(D.gridOptions.columnDefs,function(e){e.visible="boolean"!=typeof e.visible||e.visible}),D.sitConfig.columnDefs=$.extend(!0,[],D.gridOptions.columnDefs)}}],function(){if(void 0!==D.gridOptions.tagsManager&&null!==D.gridOptions.tagsManager||(D.gridOptions.tagsManager=!0),D.gridOptions.tagsManager&&g.isDataSegregationEnabled()){!function(){if(!g.isDataSegregationEnabled())return D.IsEntitySegregable=!1;var e=ne();e.Name&&e.Entity&&g.getCompositionInfo(e.Name,e.Entity).then(function(e){D.IsEntitySegregable=e.value[0].EntityInfo.IsSegregable&&!e.value[0].EntityInfo.IsCompositionMandatory},function(e){v.log(e)})}(),D.functionRightsItems=[];var e=new h("business_command","Siemens.SimaticIT.DataSegregation.DataSegregation.DSPOMModel.Commands.Published.ReplaceSegregationTagAssociation","invoke");D.funRightListModel=[e],f.canPerformOp(D.funRightListModel).then(function(e){e&&0<e.length&&(D.isTagsMgtUserAuthorized=e[0].isAccessible)},function(e){D.isTagsMgtUserAuthorized=!1});var t=u.current.name;p.addState(a.$id,t)}}(),D.sitOptions&&(D.sitOptions.getSelectedItems=function(){return"grid"===D.viewMode?D.gridOptions.getSelectedItems?D.gridOptions.getSelectedItems():[]:D.tileViewOptions.getSelectedItems?D.tileViewOptions.getSelectedItems():[]}),A[A.length]=a.$on("sit-layout-change",function(e,t){D.setHeight(),D.tileViewOptions.viewHeight=D.collectionHeight,D.gridOptions.height=D.collectionHeight,"tabset"===t.eventSource&&D.tileViewOptions.setTileViewHeight&&D.tileViewOptions.setTileViewHeight(),n(function(){D.checkResponsiveness(R.parent().width())})}),a.$on("$destroy",function(){A.forEach(function(e){e()})}),a.$on("sit-item-selection-changed",function(e,t,n){if(D.isTagsMgtUserAuthorized&&D.gridOptions.tagsManager&&g.isDataSegregationEnabled()&&D.IsEntitySegregable){var i=t?t.length:0;if("grid"===D.viewMode?D.gridOptions.selectedItems=t:D.tileViewOptions.selectedItem=t,1===i?(D.filterOptions.tagsManagerButton=!0,D.filterOptions.selectedItemId=t[0].Id):D.filterOptions.tagsManagerButton=!1,a.$broadcast("sit-item-collection-viewer.rows-selection-changed",D.filterOptions),1===t.length&&t[0].Id&&0<=u.current.name.lastIndexOf("."+a.$id+"TagsMgt")){var o=ne();o.Entity&&o.Name&&u.go(u.current.name,{objId:t[0].Id,entity:o.Entity,app:o.Name},{reload:!1})}0===t.length&&0<=u.current.name.lastIndexOf("."+a.$id+"TagsMgt")&&u.go("^")}}),a.$on("sit-filter-panel-closed",function(){D.showFilter=!D.showFilter}),A[A.length]=a.$on("compact-quick-search-enabled",function(){D.isCompactQuickSearchEnabled=!D.isCompactQuickSearchEnabled,W(),D.tileViewOptions.viewHeight=D.collectionHeight,D.tileViewOptions.setTileViewHeight()})}function e(e,r,s){return{restrict:"E",scope:{},bindToController:{sitData:"=sitData",sitOptions:"=sitOptions",sitFormat:"=?sitFormat"},controller:t,controllerAs:"ICVController",link:function(n,e,t,i){i.resetDataFlag=!1,n.$watch(function(){return i.sitData},function(){i.resetDataFlag=!0,i.pageManager.isServerData()||(i.filterOptions.noData=!i.sitData||!i.sitData.length),i.resetData()}),n.$watch(function(){return i.gridOptions.columnDefs},function(e,t){if(e!==t&&(i.sitConfig.columnDefs=$.extend(!0,[],i.gridOptions.columnDefs),1===i.sitConfig.columnDefs.filter(function(e){if(e.visible||void 0===e.visible)return e}).length)){var n=_.findIndex(i.sitConfig.columnDefs,{visible:!0});i.sitConfig.columnDefs[n]&&(i.sitConfig.columnDefs[n].columnDisabled=!0)}},!0),n.$watch(function(){return i.gridOptions.noData},function(e,t){e!==t&&i.pageManager.isServerData()&&"grid"==i.viewMode&&(i.filterOptions.noData=e)},!0),n.$watch(function(){return i.tileViewOptions},function(e,t){e!==t&&(i.sitTileConfig.userPreferences.titleField=i.tileViewOptions.titleField,i.sitTileConfig.userPreferences.descriptionField=i.tileViewOptions.descriptionField,i.sitTileConfig.userPreferences.propertyFields=$.extend(!0,[],i.tileViewOptions.propertyFields),i.pageManager.isServerData()&&"grid"!=i.viewMode&&(i.filterOptions.noData=e.noData))},!0),i.sitOptions.quickSearchOptions&&n.$watch(function(){return i.sitOptions.quickSearchOptions},function(e,t){e.filterText!==t.filterText&&(i.filterOptions.quickSearchText=e.filterText,n.$broadcast("sit-item-collection-viewer.quicksearch-text-changed",e.filterText))},!0);function o(){i.setHeight(),a()}function a(){r(function(){i.checkResponsiveness(e.parent().width())})}n.$on("$destroy",function(){i.handleResize&&angular.element(s).unbind("resize",o)}),n.$evalAsync(function(){i.initializeHeight(),i.handleResize&&angular.element(s).bind("resize",o)}),a()},templateUrl:"common/widgets/itemCollectionViewer/item-collection-viewer.html"}}t.$inject=["$scope","$rootScope","$timeout","$log","common.widgets.itemCollectionViewer.service","common.widgets.pager.pageService","$translate","$element","common.widgets.globalDialog.service","$document","common.services.personalization.personalizationService","common.widgets.messageOverlay.service","$state","siemens.simaticit.common.widgets.tagsManager.tagMgtProvider","common.services.tagsManager.tagsManagementService","common.services.security.securityService","common.services.security.functionRightModel"],e.$inject=["$log","$timeout","$window"],angular.module("siemens.simaticit.common.widgets.itemCollectionViewer").directive("sitItemCollectionViewer",e);function Ce(n,i){function o(e,t){return function(){var e,t=new Date,n=t.getSeconds(),i=n<10?"0"+n:n.toString(),o=t.getMinutes(),a=o<10?"0"+o:o.toString(),r=t.getHours(),s=r<10?"0"+r:r.toString(),c=t.getMilliseconds();e=c<10?"00"+c:c<100?"0"+c:c;return s+":"+a+":"+i+"."+e}()+" ["+e+"] "+t}this.log=function(e,t){i&&n.log(o(e,t))},this.info=function(e,t){n.info(o(e,t))},this.warn=function(e,t){n.warn(o(e,t))},this.error=function(e,t){n.error(o(e,t))}}}(),function(){function e(){this.icvConfigurationDefaults={alwaysShowPager:!1,enablePaging:!0,filterBarOptions:"sqg",groupField:"",groupFields:[],pagingOptions:{pageSizes:[10,25,50,100,250],pageSize:10,currentPage:1},quickSearchOptions:{enabled:!0,field:"",filterText:""},selectionMode:"multi",sortInfo:{field:"",direction:"none",fields:[]},tileConfig:{titleField:"",descriptionField:""},viewMode:"g",viewOptions:"gsmlx",debug:!1,enableResponsiveBehaviour:!1}}angular.module("siemens.simaticit.common.widgets.itemCollectionViewer").service("common.widgets.itemCollectionViewer.service",e),e.prototype={setConfigurationDefaults:function(e){var t=!0;e&&(t=!e.sortInfo);var n=$.extend({},this.icvConfigurationDefaults,e);(t&&(n.sortInfo.field=n.sortField?n.sortField:"",n.sortInfo.direction=n.sortDirection?n.sortDirection:"",n.sortInfo.fields=n.sortFields?n.sortFields:[]),$.extend(e,n),e)&&(-1===e.filterBarOptions.toLowerCase().indexOf("q")&&(e.quickSearchOptions.enabled=!1));return e}}}(),angular.module("siemens.simaticit.common.widgets.label",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.label");e.controller("LabelController",function(){}),e.directive("sitLabel",function(){return{scope:{},restrict:"E",bindToController:{value:"=sitValue"},controller:"LabelController",controllerAs:"labelCtrl",templateUrl:"common/widgets/label/label.html"}})}(),angular.module("siemens.simaticit.common.widgets.momIcon",[]),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e){this.$q=e}return e.prototype.getMomIcon=function(e,t,n){return void 0===e&&(e="cmd"),"common/icons/"+e+t+n+".svg"},e.$inject=["$q"],e}(),t.MomIconService=n,angular.module("siemens.simaticit.common.widgets.momIcon").service("momIcon.service",n)}(sit||(sit={})),function(){var e=angular.module("siemens.simaticit.common.widgets.momIcon");e.service("common.widgets.momIcon.momIconDataService",["$http","$q",function(n,i){var o=this;this.iconCache={},this.httpQueue={},this.get=function(e){var t=i.defer();return o.iconCache.hasOwnProperty(e)?t.resolve(o.iconCache[e]):(o.httpQueue[e]=o.httpQueue[e]||[],o.httpQueue[e].push(t),1<o.httpQueue[e].length?o.httpQueue[e].push(t):n.get(e).then(function(t){t.data=t.data.replace("<svg",'<svg icon-name="'+e.split("/").pop().split(".").shift()+'"'),o.iconCache[e]=t.data,_.each(o.httpQueue[e],function(e){e.resolve(t.data)}),delete o.httpQueue[e]},function(){_.each(o.httpQueue[e],function(e){e.resolve(null)}),delete o.httpQueue[e]})),t.promise}}]),e.controller("momIconController",["momIcon.service",function(o){var e,a=this;function t(e){var t,n,i;a.iconPath="",a.iconSize=e.size||"24px",e.path?a.iconPath=e.path:e.name&&(t=e.prefix||"cmd",n=e.name,i=e.suffix||"24",a.iconPath=o.getMomIcon(t,n,i))}function n(e){t(e)}(e=a).momIcon&&(t(e.momIcon),e.momIcon.refresh=n)}]),e.directive("sitMomIcon",["$compile","$timeout","common.widgets.momIcon.momIconDataService",function(r,e,s){return{scope:{},bindToController:{momIcon:"=?sitMomIcon"},restrict:"AE",controller:"momIconController",controllerAs:"momIconCtrl",link:function(t,n,i,o){if(o.momIcon&&o.momIcon.path){var e=t.$watch(function(){return!!o.momIcon&&o.momIcon.path},function(){o.momIcon&&(o.iconPath=o.momIcon.path,a())},!0);t.$on("$destroy",function(){e()})}function a(){var e=['<img ng-if="momIconCtrl.iconPath" class="momIcon" ng-src="{{momIconCtrl.iconPath}}"',' height="{{momIconCtrl.iconSize}}" width="{{momIconCtrl.iconSize}}" />'].join();i.hasOwnProperty("sitClass")?s.get(o.iconPath).then(function(e){e&&n.first().empty().append(r(e)(t).addClass(i.sitClass))}):n.first().empty().append(r(e)(t))}a()}}}])}(),angular.module("siemens.simaticit.common.widgets.multiSelect",["ui.bootstrap"]),function(){function e(e){return{restrict:"E",scope:{},bindToController:{readOnly:"=sitReadOnly",sitOptions:"=sitOptions",sitSelectedString:"=",sitSplitList:"=",sitPlaceholder:"=sitPlaceholder",sitDoneCallback:"&",validation:"=sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},templateUrl:"common/widgets/multiSelect/sit-multi-select.html",controllerAs:"ctrl",controller:t,link:function(e,t,n,i){}}}function t(e,t,n,i){this.multiselection=!0}angular.module("siemens.simaticit.common.widgets.multiSelect").directive("sitMultiSelect",e),e.$inject=["$timeout"],t.$inject=["$translate","$scope","$element","$timeout"]}(),angular.module("siemens.simaticit.common.widgets.navigation-link",[]),angular.module("siemens.simaticit.common.widgets.navigation-link").config(["$provide",function(e){function t(e){var t=e[0],n=0===t.name.indexOf("sit")?"sit-":"";return t.templateUrl="common/widgets/navigationLink/"+n+"tabset.html",e}function n(e){var t=e[0],n=0===t.name.indexOf("sit")?"sit-":"";return t.templateUrl="common/widgets/navigationLink/"+n+"tab.html",e}e.decorator("tabsetDirective",["$delegate",t]),e.decorator("tabDirective",["$delegate",n]),e.decorator("sitTabsetDirective",["$delegate",t]),e.decorator("sitTabDirective",["$delegate",n])}]),angular.module("siemens.simaticit.common.widgets.navigation-link").directive("sitNavigationSlide",["$timeout","$window",function(t,a){return{restrict:"A",link:function(c,l){var e=t(function(){var e=$("ul.nav li",l.parent()),n=l.next(".slider");n.width($(l).children().first().width()),$(".slider",l.parent())[0].style.left=$(".slider",l.parent())[0].style.left+"px";for(var t=0;t<e.length;t++)i(e[t]);function i(n){$(n).children().bind("click",s),c.$watch(function(){return $(n).width()},function(e,t){e!==t&&o(n)})}function o(e){var t=$(e).parents(".sit-navigation-tabs")[0];t&&$("li.navbar-nav-tab.active",l).length&&$(e).offset().left!==$("li.navbar-nav-tab.active",l).position().left&&(n.width($("li.navbar-nav-tab.active",l).width()),n.offset({left:$("li.navbar-nav-tab.active",l).offset().left}),n.css("position","absolute"))}function s(e){var t=$(e.currentTarget).parent();if(!$(t).children("button").length&&!$(t).hasClass("disabled"))if($(t).parent("ul.dropdown-menu.dropdown-menu-right").length){var n;c.currentTarget=$(t)[0],n=0<$(t).parents(".navbar-nav-dropdown.open").prev().length?$(t).parents(".navbar-nav-dropdown.open").prev().position().left:$(t).parents(".navbar-nav-dropdown.open").children("button.dropdown-toggle").position().left,$(t).parents("ul.nav.navbar-nav.tabset").next(".slider")[0]&&($(t).parents("ul.nav.navbar-nav.tabset").next(".slider")[0].style.left=n+"px");var i=$(e.target).closest("a")[0].firstElementChild.offsetWidth;250<i?$(t).parents("ul.nav.navbar-nav.tabset").next(".slider").width(258):$(t).parents("ul.nav.navbar-nav.tabset").next(".slider").width(i)}else{c.currentTarget=$(t)[0],$(t).parent().next().width($(t).width());var o=$(t).position();$(t).parent().next()[0].style.left=o.left+"px"}}angular.element(a).bind("resize",o),c.$on("sit-layout-change",function(e,t){_.each($(l.parents(".sit-navigation-tabs")).find("ul.nav.navbar-nav.tabset li.navbar-nav-tab a"),function(e){$(e).bind("click",s)});var n=l.find("li.navbar-nav-tab.active a"),i=_.findIndex(e.currentScope.tabs,{active:!0});if($(e.currentScope.currentTarget).index()===i){if(e.currentScope.currentTarget&&e.currentScope.currentTarget.clientWidth&&$(c.currentTarget).parent("ul.tabset").length){$(e.currentScope.currentTarget).parent().next().width($(e.currentScope.currentTarget).width());var o=$(e.currentScope.currentTarget).position();$(e.currentScope.currentTarget).parent().next()[0].style.left=o.left+"px"}else if(n.length){var a=n.offset().left,r=l.next(".slider");$(r).offset({left:a}),r.width(n.width())}}else n.length&&(a=n.offset().left,r=l.next(".slider"),$(r).offset({left:a}),r.width(n.width()))})});c.$on("$destroy",function(){t.cancel(e)})}}}]),angular.module("siemens.simaticit.common.widgets.nervebox",[]),angular.module("siemens.simaticit.common.services.nervebox",[]),function(){function e(c,l,p,g){return{restrict:"E",scope:!0,controller:["$translate","common.services.nerveBoxDataService",function(e,t){var n;this.DEFAULT_OPTIONS={position:"RIGHT_BOTTOM",title:"",message:"",pollingInterval:6e5,displayInterval:3e5,boundaryPadding:{x:16,y:32},height:112,width:480},this.close=function(){g.close()},(n=this).options=angular.extend(n.options||{},n.DEFAULT_OPTIONS)}],controllerAs:"nerveBoxCtrl",replace:!0,bindToController:{options:"=?"},template:' <div id="nerve-box" class="nerve-box" style="display:none" ng-style="{height: nerveBoxCtrl.options.height, width: nerveBoxCtrl.options.width}">     <div class="header">         <div class="title">             {{nerveBoxCtrl.options.title}}         </div>         <div class="close-btn" ng-click="nerveBoxCtrl.close()">             <span><img src="common/icons/cmdClosePanel24.svg" / height="16px"></span>         </div>     </div>     <div class="body">     {{ nerveBoxCtrl.options.message }}     </div> </div>',link:function(e,t,n,i){var o=t.get(0),a=o.querySelector(".header .title"),d=i.options.boundaryPadding,r=angular.element(c);function m(e,t){return{left:window.innerWidth-e.offsetWidth-t.x,top:window.innerHeight-e.offsetHeight-t.y}}function u(e){return{left:e.x,top:e.y}}function s(e,t,n){var i=m(e,n),o=u(n);switch(t){case"LEFT_TOP":e.style.top=o.top+"px",e.style.left=o.left+"px";break;case"RIGHT_TOP":e.style.top=o.top+"px",e.style.left=i.left+"px";break;case"LEFT_BOTTOM":e.style.top=i.top+"px",e.style.left=o.left+"px";break;case"RIGHT_BOTTOM":e.style.top=i.top+"px",e.style.left=i.left+"px";break;default:t&&t.left&&t.top&&(e.style.top=t.top+"px",e.style.left=t.left+"px")}}p.$on("siemens.simaticit.common.services.nervebox.startup.start",function(){g.start(i.options)}),p.$on("siemens.simaticit.common.services.nervebox.startup.stop",function(){g.stop(),i.options.title="",i.options.message=""}),p.$on("siemens.simaticit.common.services.nervebox.update",function(e,t){i.options.title=t.title,i.options.message=t.message,s(o,i.options.position,d)}),l(function(){!function(e,a){var r=0,s=0,c=0,l=0;function t(e){(e=e||window.event).preventDefault(),r=c-e.clientX,s=l-e.clientY,c=e.clientX,l=e.clientY;var t=a.offsetTop-s,n=a.offsetLeft-r,i=m(a,d),o=u(d);t=t<=o.top?o.top:t,n=n<=o.left?o.left:n,t=t>=i.top?i.top:t,n=n>=i.left?i.left:n,a.style.top=t+"px",a.style.left=n+"px"}function n(){document.onmouseup=null,document.onmousemove=null}e.onmousedown=function(e){(e=e||window.event).preventDefault(),c=e.clientX,l=e.clientY,document.onmouseup=n,document.onmousemove=t}}(a,o)}),r.bind("resize",function(){var e=m(o,d),t=o.getBoundingClientRect(),n={left:t.left,top:t.top};n.left>=e.left&&(n.left=e.left),n.top>=e.top&&(n.top=e.top),s(o,n,d)})}}}angular.module("siemens.simaticit.common.widgets.nervebox").directive("sitNervebox",e),e.$inject=["$window","$timeout","$rootScope","common.services.nerveBoxService"]}(),function(){function e(e,n){this.getLicenseStatus=function(){var t=e.defer();return function(){var t=e.defer();try{n.invokeAdministrationCommand("GetLicenseStatusCommand",{}).then(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(e){t.reject(e)}return t.promise}().then(function(e){e&&e.licenseStatusInfo&&e.licenseStatusInfo.length?t.resolve(e.licenseStatusInfo[0]):t.reject()},function(){t.reject()}),t.promise}}function t(a,n,i,e,r,o){var s=this;function t(){var t;r.log("[Polling Interval Object #Ellapsed]",{id:s.pollingIntervalInstance.get().$$intervalId,time:new Date}),l(),(t=e.defer(),o.getLicenseStatus().then(function(e){e.IsLicenseInvalid?(t.resolve({title:e.Title,message:e.Body}),r.log("[License] Not Available")):(r.log("[License] Available"),t.reject())},function(){r.log("[License] Error"),t.resolve({title:"common.nerveBox.generic.title",message:"common.nerveBox.generic.body"})}).catch(function(){r.log("[License] Error"),t.resolve({title:"common.nerveBox.generic.title",message:"common.nerveBox.generic.body"})}),t.promise).then(function(e){l(e.title,e.message),s.lisenceCheckStatus=!0,i.$broadcast("siemens.simaticit.common.services.nervebox.update",{title:s.title,message:s.message})},function(){l(),s.lisenceCheckStatus=!1,i.$broadcast("siemens.simaticit.common.services.nervebox.update",{title:"",message:""})})}function c(){r.log("[Display Interval Object #Ellapsed]",{id:s.displayIntervalInstance.get().$$intervalId,time:new Date}),s.lisenceCheckStatus?s.show(s.title,s.message):s.hide()}function l(e,t){s.title=n.instant(e)||"",s.message=n.instant(t)||""}this.title="",this.message="",this.displayStatus=!1,this.displayIntervalInstance=null,this.pollingIntervalInstance=null,Object.defineProperty(this,"lisenceCheckStatus",{set:function(e){(this._lisenceCheckStatus=e)?s.displayIntervalInstance.get()||s.displayIntervalInstance.start(!0):e||(s.displayIntervalInstance.get()&&s.displayIntervalInstance.stop(),s.hide())},get:function(){return this._lisenceCheckStatus}}),this.show=function(){document.getElementById("nerve-box").style.display="block",s.displayStatus=!0},this.hide=function(){document.getElementById("nerve-box").style.display="none",s.displayStatus=!1},this.close=function(){this.hide(),this.restartDisplayTimer()},this.interval=function(t,n,i){var o;return{stop:function(){r.log("["+i+" Interval Object #Stop]",{id:o.$$intervalId,time:new Date}),a.cancel(o),o=null},start:function(e){o||(o=a(t,n),e&&t()),r.log("["+i+" Interval Object #Start]",{id:o.$$intervalId,time:new Date})},get:function(){return o}}},this.start=function(e){this.pollingIntervalInstance=this.interval(t,e.pollingInterval,"Polling"),this.displayIntervalInstance=this.interval(c,e.displayInterval,"Display"),this.pollingIntervalInstance.start(!0)},this.restartDisplayTimer=function(){this.displayIntervalInstance.stop(),this.displayIntervalInstance.start()},this.stop=function(){this.pollingIntervalInstance.stop(),this.displayIntervalInstance.stop(),this.hide(),this.defer=null}}function n(e){this.start=function(){e.$broadcast("siemens.simaticit.common.services.nervebox.startup.start")},this.stop=function(){e.$broadcast("siemens.simaticit.common.services.nervebox.startup.stop")}}angular.module("siemens.simaticit.common.services.nervebox").service("common.services.nerveBoxDataService",e).service("common.services.nerveBoxService",t).service("common.services.nerveBoxStartupService",n),e.$inject=["$q","common.services.administration.data.service"],t.$inject=["$interval","$translate","$rootScope","$q","$log","common.services.nerveBoxDataService"],n.$inject=["$rootScope"]}(),angular.module("siemens.simaticit.common.widgets.notificationTile",["ui.router.state"]),function(){var e=angular.module("siemens.simaticit.common.widgets.notificationTile");function t(n,i,o,e,t,a,r,s,c){var l,d=8,m=t.logger.getLogFn("NotificationTile Widget",r.LOG_WARNING),u=null,p=this;function g(e){var t=!!e.title&&22<e.title.length,n=!!e.content&&e.content.length>l,i=t&&e.title?e.title.substring(0,22)+"...":e.title,o=n&&e.content?e.content.substring(0,l)+"...":e.content;p.cropedContent=o,p.cropedTitle=i,p.tileType=e.type,p.tileCounter=e.counter,p.tileClick=e.clickCallback}!function(){p.tileIsVisible=!1,p.position=void 0===p.position?"topRight":p.position,l="wide"===p.format?96:144,p.isToCropTitle=!!p.tileTitle&&22<p.tileTitle.length,p.isToCropMessage=!!p.tileContent&&p.tileContent.length>l,p.cropedTitle=p.isToCropTitle&&p.tileTitle?p.tileTitle.substring(0,22)+"...":p.tileTitle,p.cropedContent=p.isToCropMessage&&p.tileContent?p.tileContent.substring(0,l)+"...":p.tileContent,p.popUpCount=0,p.tileTop=d,(void 0===i.notificationTilePopUpCount||null===i.notificationTilePopUpCount)&&(i.notificationTilePopUpCount=[]);p.tileGlobal&&c.setConfigFunction(g)}(),p.thisTileClick=function(){p.tileClick(),p.notificationTileHide(),n.$emit("sit-notification-tile-clicked",this)},p.notificationTileToggle=function(){p.tileIsVisible?p.notificationTileHide():p.notificationTileShow()},p.notificationTileShow=function(){if(p.setNotificationPosition=function(){var e=0;if($(".canvas-ui-view").length&&(e=$(".canvas-ui-view").offset().left),$(".side-panel-container").length&&(e=$(".side-panel-container").offset().left),0<e){var t=o.parent().parent().children()[0].offsetWidth+(o.parent().parent().children().offset().left-e),n=o.parent().parent().children("div.btn.property-grid-addon-icon"),i=o.parent().parent().children("button");if(t<248)return n.length?(o.css("right",0),void o.css("left",224)):i.length?(o.css("right",0),void o.css("left",234)):(o.css("right",0),void o.css("left",248));if(n.length)return o.css("left",0),void o.css("right",-10);if(i.length)return o.css("left",0),void o.css("right",-5);o.css("left",0),o.css("right",-10)}}(),null===p.tileContent){var e=a.instant("Notification.tileNull"),t={tileContent:p.tileContent};m(e,t)}p.tileIsVisible||(n.$evalAsync(function(){p.tileIsVisible=!0}),p.startInterval(),p.tilePopup?(p.popUpCount=function(){var e=0;for(e=0;e<i.notificationTilePopUpCount.length;e++)if(null===i.notificationTilePopUpCount[e])return i.notificationTilePopUpCount[e]=e;return i.notificationTilePopUpCount.push(e),e}(),p.tileTop=p.isPropertyContainer?d:d+128*p.popUpCount):p.tileTop=0,o.fadeIn(700))},p.notificationTileHide=function(){p.tileIsVisible&&(p.tilePopup&&function(e){i.notificationTilePopUpCount[e]=null;var t=0;for(t=0;t<i.notificationTilePopUpCount.length;t++)if(null!==i.notificationTilePopUpCount[t])return;i.notificationTilePopUpCount=[]}(p.popUpCount),o.fadeOut(700,function(){p.tileIsVisible=!1,"$apply"!==n.$root.$$phase&&"$digest"!==n.$root.$$phase&&n.$apply()}))},p.startInterval=function(){p.tilePopup&&(u=e(function(){p.notificationTileHide()},4e3,1))},p.stpoInterval=function(){p.tilePopup&&e.cancel(u)},n.$watch(function(){return p.tileContent},function(){var e;if(p.tileContent&&(e=p.tileContent.length>l),p.isToCropMessage!==e&&e){var t=a.instant("Notification.tileContentGt120"),n={tileContent:p.tileContent};m(t,n)}p.isToCropMessage=e,p.cropedContent=p.isToCropMessage?p.tileContent.substring(0,l)+"...":p.tileContent}),n.$watch(function(){return p.tileTitle},function(){var e;if(p.tileTitle&&(e=22<p.tileTitle.length),p.isToCropTitle!==e&&e){var t=a.instant("Notification.tileTitleGt120"),n={tileTitle:p.tileTitle};m(t,n)}p.isToCropTitle=e,p.cropedTitle=p.isToCropTitle?p.tileTitle.substring(0,22)+"...":p.tileTitle})}t.$inject=["$scope","$rootScope","$element","$interval","common","$translate","LOG_TYPES","LOG_LEVELS","common.widgets.notificationTile.globalService"],e.directive("sitNotificationTile",function(){return{restrict:"AE",transclude:!0,scope:{},controller:t,controllerAs:"notificationCtrl",bindToController:{tileTitle:"=sitTileTitle",tileContent:"=sitTileContent",tileType:"=sitTileType",tileCounter:"=sitTileCounter",tileClick:"&sitTileClick",tilePopup:"=sitTilePopup",tileGlobal:"=sitTileGlobal",position:"=?sitTilePosition",format:"=?sitTileFormat",shadow:"=?sitTileShadow"},templateUrl:"common/widgets/notificationTile/notification-tile.html",link:function(e,t,n,i){e.isPropertyContainer=n.tilePropertygrid,t.data("notificationTileToggle",i.notificationTileToggle),t.data("notificationTileShow",i.notificationTileShow),t.data("notificationTileHide",i.notificationTileHide)}}})}(),function(e){var t,n,i,o,a;t=e.simaticit||(e.simaticit={}),n=t.common||(t.common={}),i=n.widgets||(n.widgets={}),o=i.notificationTile||(i.notificationTile={}),a=function(){function e(e,t){this.notificationTileService=e,this.swacUiModuleManager=t,this.configCallback=[],this.defaults={type:"info",title:"",content:"",clickCallback:function(){},popup:"true",counter:""},this.tileOptions=this.defaults}return e.prototype.setConfigFunction=function(e){this.configCallback.push(e)},e.prototype.setTileOptions=function(e){this.tileOptions=this.validateTileOptions(e)},e.prototype.getTileOptions=function(){return this.tileOptions},e.prototype.info=function(e){var t=this;this.tileOptions.content=e||this.tileOptions.content,this.tileOptions.type="info",this.tileOptions.title=this.tileOptions.title?this.tileOptions.title:"Info",this.swacUiModuleManager.enabled?this.swacUiModuleManager.notificationServicePromise.promise.then(function(e){e.show(t.tileOptions.title,t.tileOptions.content,{notifyType:t.tileOptions.type})}):this.showNotification()},e.prototype.warning=function(e){var t=this;this.tileOptions.content=e||this.tileOptions.content,this.tileOptions.type="warning",this.tileOptions.title=this.tileOptions.title?this.tileOptions.title:"Warning",this.swacUiModuleManager.enabled?this.swacUiModuleManager.notificationServicePromise.promise.then(function(e){e.show(t.tileOptions.title,t.tileOptions.content,{notifyType:t.tileOptions.type})}):this.showNotification()},e.prototype.showNotification=function(){var t=this;this.configCallback.forEach(function(e){e(t.tileOptions)}),this.notificationTileService.shownotificationTile("appLevelNotificationTile")},e.prototype.validateTileOptions=function(e){return e?(e.type=e.type?e.type:this.defaults.type,e.title=e.title?e.title:this.defaults.title,e.clickCallback=e.clickCallback?e.clickCallback:this.defaults.clickCallback,e.counter=e.counter?e.counter:this.defaults.counter,e.popup=this.defaults.popup,e):e=this.defaults},e.$inject=["common.widgets.notificationTile.service","common.services.swac.SwacUiModuleManager"],e}(),o.GlobalNotificationService=a,angular.module("siemens.simaticit.common.widgets.notificationTile").service("common.widgets.notificationTile.globalService",a)}(siemens||(siemens={})),function(){function e(){}angular.module("siemens.simaticit.common.widgets.notificationTile").service("common.widgets.notificationTile.service",function(){return new e}),e.prototype={shownotificationTile:function(e){$("#"+e).data("notificationTileShow")()},hidenotificationTile:function(e){$("#"+e).data("notificationTileHide")()},toggeNotificationTile:function(e){$("#"+e).data("notificationTileToggle")()},toggleNotificationTile:function(e){$("#"+e).data("notificationTileToggle")()}}}(),angular.module("siemens.simaticit.common.widgets.numeric",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.numeric");function t(){}e.controller("NumericController",t),e.directive("sitNumeric",["common.overlay.overlayService",function(e){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",validation:"=sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:t,controllerAs:"numericCtrl",templateUrl:"common/widgets/numeric/numeric.html"}}])}(),angular.module("siemens.simaticit.common.widgets.overlay",["siemens.simaticit.common.widgets.dialog-button",function(){}]),angular.module("siemens.simaticit.common.widgets.overlay").directive("sitOverlay",["common.overlay.overlayService","common","LOG_TYPES","$timeout",function(m,u,p,g){return{bindToController:{title:"=sitTitle",modaltext:"=sitModaltext",modalid:"@sitModalid",buttons:"=sitButtons"},scope:!0,restrict:"E",templateUrl:"common/widgets/overlay/overlay.html",controller:["$scope","$state",function(e,s){var c,l,d=this;e.overlay=d,function(){var e=u.logger.getLogFn("overlay Widget",p.LOG_ERROR),t="The dialog button function is not a valid javascript function \n",n=null;function i(){e(t,n)}function o(t){null===t.stateTransition||angular.isUndefined(t.stateTransition)?null!==t.stateTransition||t.onClickCallback&&angular.isFunction(t.onClickCallback)||(n=angular.copy(t),i(),t.onClickCallback=i):t.onClickCallback=function(){var e;e=t,m.hideOverlayModal(c),g(function(){s.go(e.stateTransition.to,e.stateTransition.params,e.stateTransition.options)},200)}}for(var a=0,r=d.buttons.length;a<r;a++)l=d.buttons[a],c=d.modalid,o(l)}(),e.$on("$destroy",function(){})}],controllerAs:"overlayCtrl"}}]),angular.module("siemens.simaticit.common.widgets.overlay").service("common.overlay.overlayService",function(){var e=this;function t(e){var t=Math.max(0,Math.max.apply(null,$.map($("*"),function(e){var t=parseFloat($(e).css("z-index"))||0;return 2147483638<=t&&(t=0),t})));$("#"+e).css({zIndex:t+1}),setTimeout(function(){$("#"+e).modal("show")},500)}function n(e){$("#"+e).modal("hide")}e.showOverlayModal=t,e.hideOverlayModal=n}),angular.module("siemens.simaticit.common.widgets.pager",[]),function(){function e(i,o,a,r,s,c){var l;function e(e,t){var n;return(n=e).quickSearchOptions||(n.quickSearchOptions=l.quickSearchOptions),n.sortInfo||(n.sortInfo=l.sortInfo),n.filterClauses||(n.filterClauses=l.filterClauses),n.pagingOptions?(n.pagingOptions.currentPage||(n.pagingOptions.currentPage=l.pagingOptions.currentPage),n.pagingOptions.pageSize||(n.pagingOptions.pageSize=l.pagingOptions.pageSize)):n.pagingOptions=l.pagingOptions,new d(e,t,i,o,a,r,s,c)}l={pagingOptions:{currentPage:1,pageSize:25},quickSearchOptions:{enabled:!1,field:"",filterText:""},sortInfo:{field:"",direction:""},filterClauses:[]},this.getDataManager=e}function d(t,e,n,i,o,a,r,s){var c,l,d,m,u,p,g,f,h,v,y=this;function C(){delete y.close,delete y.isServerData,delete y.getAllData,delete y.getPageData,delete y.goToPage,delete y.nextPage,delete y.prevPage,delete y.getTotalItemCount,delete y.getPageCount,delete y.getData,delete y.setData,delete y.getSortInfo,delete y.setSortInfo,delete y.getCurrentPage,delete y.setCurrentPage,delete y.getPageSize,delete y.setPageSize,delete y.getFilter,delete y.setFilter,delete y.getSearchText,delete y.setSearchText,delete y.getSearchField,delete y.setSearchField,d=h=c=l=p=g=m=u=f=v=y=void 0}function b(){return!1}function w(){return A(1),X({data:h.slice(0),currentPage:c,totalDataSize:h.length})}function S(){if(0===h.length)return X({data:[],currentPage:1,totalDataSize:0});var e=(c-1)*l,t=c*l;return X({data:h.slice(e,t),currentPage:c,totalDataSize:h.length})}function x(e){return e&&A(e),S()}function T(){return x(c+1)}function I(){return x(c-1)}function k(){return h.length}function E(){return Math.ceil(k()/M())}function O(){return d}function P(e){d=e||[],_()}function D(){return{field:p,direction:g}}function $(e,t){p=e,j(t),H()}function R(){return c}function A(e){c=e,W()}function M(){return l}function F(e){var t=(c-1)*l+1;l=e,A(Math.ceil(t/l))}function N(){return v}function B(e){v=e,_()}function G(){return m}function V(e){m=e,_()}function L(){return u}function z(e){return/(\w*skip=\w*[0-9]+)/.test(e)&&(e=e.replace(/(\w*skip=\w*[0-9]+)/,"skip=0")),e}function U(e){u=e,q(),_()}function j(e){g=e&&"desc"===e.toLowerCase()?"desc":"asc"}function q(){f=t.quickSearchOptions.enabled&&u?a.getQuickSearchFilter(u):null}function W(){if(c<=0)c=1;else{var e=E();e&&e<c&&(c=e)}}function _(){!function(){if(t.quickSearchType&&"contains"===t.quickSearchType.toLowerCase()&&"*"!==m[0]){var e={};r(u).assign(e,m),h=s("filter")(d,e)}else h=f?f.getFilteredData(d,m):d.slice(0);v&&v.length&&(h=a.filterArray(v,h));W()}(),H()}function H(){if(p){var e=[{field:p,direction:g}];n.sort(e,h)}}function X(e){var t=i.defer();return t.resolve(e),t.promise}h=d=e||[],c=t.pagingOptions.currentPage,l=t.pagingOptions.pageSize,p=t.sortInfo.field,u=t.quickSearchOptions.field,m=t.quickSearchOptions.filterText,v=t.filterClauses,j(t.sortInfo.direction),q(),y.close=C,y.isServerData=b,y.getAllData=w,y.getPageData=S,y.goToPage=x,y.nextPage=T,y.prevPage=I,y.getTotalItemCount=k,y.getPageCount=E,y.getData=O,y.setData=P,y.getSortInfo=D,y.setSortInfo=$,y.getCurrentPage=R,y.setCurrentPage=A,y.getPageSize=M,y.setPageSize=F,y.getFilter=N,y.setFilter=B,y.getSearchText=G,y.setSearchText=V,y.getSearchField=L,y.setSearchField=U,y.resetPager=z,_()}angular.module("siemens.simaticit.common.widgets.pager").service("common.widgets.pager.localDataService",e),e.$inject=["common.services.filterSort.service","$q","common.services.logger.service","common.widgets.filter.service","$parse","$filter"]}(),function(){function e(e){var t=this;function n(){t.currentPage=1}function i(){1<t.currentPage&&(t.currentPage-=1)}function o(){t.currentPage<t.maxPage&&(t.currentPage+=1)}function a(){t.currentPage=t.maxPage}function r(){return{width:"100%",height:"55px"}}function s(){t.maxPage=Math.ceil(t.pagingOptions.totalItems/t.pagingOptions.pageSize)}function c(){return t.currentPage===t.maxPage}function l(){return t.currentPage===t.maxPage}function d(){return t.currentPage<=1}t.maxPage=1e3,t.currentPage=t.pagingOptions.currentPage,t.pageToFirst=n,t.pageBackward=i,t.pageForward=o,t.pageToLast=a,t.footerStyle=r,t.setMaxPage=s,t.cantPageBackward=d,t.cantPageForward=c,t.cantPageToLast=l,e.setConfigurationDefaults(t.pagingOptions),e.setConfigurationDefaults(t.pagingOptions)}angular.module("siemens.simaticit.common.widgets.pager").directive("sitPager",function(){return{restrict:"E",bindToController:{pagingOptions:"=sitPagingOptions"},scope:{},link:function(e,t,n,o){e.$watch(function(){return o.pagingOptions.totalItems},function(e,t){o.setMaxPage()}),e.$watch(function(){return o.pagingOptions.pageSize},function(e,t){t!==e&&o.pagingOptions.pageSizeChangeCallback&&(o.pagingOptions.pageSizeChangeCallback(e),o.setMaxPage())}),e.$watch(function(){return o.pagingOptions.currentPage},function(e,t){t!==e&&(o.userUpdate?o.userUpdate=!1:(o.apiUpdate=!0,o.currentPage=e))}),e.$watch(function(){return o.currentPage},function(e,t){var n,i;(n=e,i=parseInt(n,10),isNaN(i)||n!==i||n.toString()!==i.toString()||void 0===t)||t!==e&&(o.apiUpdate?(o.apiUpdate=!1,o.pagingOptions.pageChangeCallback(e)):(o.userUpdate=!0,o.pagingOptions.currentPage=e,o.pagingOptions.pageChangeCallback&&o.pagingOptions.pageChangeCallback(e)))})},templateUrl:"common/widgets/pager/pager.html",controller:e,controllerAs:"pagerCtrl"}}),e.$inject=["common.widgets.pager.pageService"]}(),function(){function e(n,i){var o,e=this;function t(e){var t=$.extend({},o,e);return $.extend(e,t),e}function a(e,t){return e.serverDataOptions?i.getDataManager(e):n.getDataManager(e,t)}o={pageSizes:[10,25,50,100,250],pageSize:10,currentPage:1,serverDataOptions:!1,totalItems:0,filterItems:0,selectedItems:0,pageChangeCallback:null,pageSizeChangeCallback:null},e.setConfigurationDefaults=t,e.getPageManager=a}angular.module("siemens.simaticit.common.widgets.pager").service("common.widgets.pager.pageService",e),e.$inject=["common.widgets.pager.localDataService","common.widgets.pager.serverDataService"]}(),function(){function e(n,i,o){var a;function e(e){var t;return(t=e).quickSearchOptions||(t.quickSearchOptions=a.quickSearchOptions),t.sortInfo||(t.sortInfo=a.sortInfo),t.filterClauses||(t.filterClauses=a.filterClauses),t.pagingOptions?(t.pagingOptions.currentPage||(t.pagingOptions.currentPage=a.pagingOptions.currentPage),t.pagingOptions.pageSize||(t.pagingOptions.pageSize=a.pagingOptions.pageSize)):t.pagingOptions=a.pagingOptions,new r(e,n,i,o)}a={pagingOptions:{currentPage:1,pageSize:25},quickSearchOptions:{enabled:!1,field:"",filterText:""},sortInfo:{field:"",direction:""},filterClauses:[]},this.getDataManager=e}function r(e,i,t,o){var c,a,r,l,d,m,u,p,s,g,f,n,h,v,y,C=this;function b(){delete C.close,delete C.isServerData,delete C.getAllData,delete C.getPageData,delete C.goToPage,delete C.nextPage,delete C.prevPage,delete C.getTotalItemCount,delete C.getPageCount,delete C.getSortInfo,delete C.setSortInfo,delete C.getCurrentPage,delete C.setCurrentPage,delete C.getPageSize,delete C.setPageSize,delete C.getFilter,delete C.setFilter,delete C.getSearchText,delete C.setSearchText,delete C.getSearchField,delete C.setSearchField,c=a=r=l=d=m=u=p=s=g=f=void 0,y=n=v=h=C=void 0}function w(){return!0}function S(e,t){var n=i.defer();return function(e,t){if("function"!=typeof y.dataService.getAll&&!y.appName)throw c.logErr("The given service does not have a getAll function."),new Error("The given service does not have a getAll function.");if("function"!=typeof y.dataService.findAll&&y.appName)throw c.logErr("The given service does not have a findAll function.If you defined in serverData appName the service must contain a findAll function"),new Error("The given service does not have a findAll function.");if(!y.dataEntity)throw c.logErr(y.dataEntity+" is not a valid value for data entity name."),new Error(y.dataEntity+" is not a valid value for data entity name.");var n=Q(),i="";e&&(i+=n?"&":"",i+="$top="+e+"&$skip="+t);n+=i;var o="";if(u){o=n?"&":"";var a=u.replace?u.replace(/\./g,"/"):u;o+="$orderby="+a+" "+p}var r=(n+=o)?"&":"";n+=r+="$count=true";var s="";y.optionsString&&(s=n?"&":"",s+=y.optionsString);return W(n+=s)}(e,t).then(function(e){var t;t=e,n.resolve({data:t.pageData,isCompactServerData:!0,totalDataSize:t.totalDataCount})},function(e){n.reject(e)}),n.promise}function x(){var t=i.defer();return q(0,0).then(function(e){Y(e,1,t)},function(e){t.reject(e)}),t.promise}function T(){var e=a*r-r;if(s&&s<e)throw new Error("Invalid arguments. page: ["+a+"],  pageSize: ["+r+"], start row: ["+e+"], data length: ["+s+"]");var t=i.defer();return q(a,r).then(function(e){Y(e,a,t)},function(e){t.reject(e)}),t.promise}function I(e){var t=(e=e||a)*r-r;if(s&&s<t)throw new Error("Invalid arguments. page: ["+e+"],  pageSize: ["+r+"], start row: ["+t+"], data length: ["+s+"]");return P(e),T()}function k(){return I(a+1)}function E(){return I(a-1)}function O(){return a}function P(e){a=e}function D(){return r}function $(e){var t=parseInt(e,10),n=(a-1)*r+1;r=t;var i=Math.ceil(n/r);P(0===i?1:i)}function R(){return s}function A(){return Math.ceil(s/r)}function M(){return l}function F(e){l=e,P(1)}function N(){return f}function B(e){f=e,g=o.getODataFilterString(e)}function G(){return d}function V(e){d=e,P(1)}function L(e){return/(\w*skip=\w*[0-9]+)/.test(e)&&(e=e.replace(/(\w*skip=\w*[0-9]+)/,"skip=0")),e}function z(e,t){u=e,j(t)}function U(){return{field:u,direction:p}}function j(e){p=e&&"desc"===e.toLowerCase()?"desc":"asc"}function q(e,t){if("function"!=typeof y.dataService.getAll&&!y.appName)throw c.logErr("The given service does not have a getAll function."),new Error("The given service does not have a getAll function.");if("function"!=typeof y.dataService.findAll&&y.appName)throw c.logErr("The given service does not have a findAll function.If you defined in serverData appName the service must contain a findAll function"),new Error("The given service does not have a findAll function.");if(!y.dataEntity)throw c.logErr(y.dataEntity+" is not a valid value for data entity name."),new Error(y.dataEntity+" is not a valid value for data entity name.");if(y.onBeforeDataLoadCallBack&&y.onBeforeDataLoadCallBack instanceof Function){var n={currentPage:e,pageSize:t,searchText:l,searchField:d,quickSearchEnabled:m,sortField:u,sortDirection:p,filterClauses:f};return W(y.onBeforeDataLoadCallBack(n))}var i=Q(),o="";t&&e&&(o+=i?"&":"",o+="$top="+t+"&$skip="+t*(e-1)),i+=o;var a="";u&&(a=i?"&":"",a+="$orderby="+J(u)+" "+p);var r=(i+=a)?"&":"";i+=r+="$count=true";var s="";return y.optionsString&&(s=i?"&":"",s+=y.optionsString),W(i+=s)}function W(e){if(n||h)return v?(c.logInfo("Dropping waiting request. New request: "+e),v=e,h.promise):(v=e,(h=i.defer()).promise);n=!0;return(y.appName?y.dataService.findAll({appName:y.appName,entityName:y.dataEntity,options:e}):y.dataService.getAll(y.dataEntity,e)).then(_,H).finally(X)}function _(e){return c.logInfo("Loaded "+e.value.length+" "+y.dataEntity+" records from data service.  Total records: "+e.count),{pageData:e.value,currentPage:0,totalDataCount:e.count}}function H(e){return c.logErr("Error loading server data",e),i.reject(e)}function X(){if(n=!1,v){var e=v,t=h;v="",h=null,W(e).then(function(e){t.resolve(e)},function(e){t.reject(e)})}}function Y(e,t,n){s=e.totalDataCount,n.resolve({data:e.pageData,currentPage:t,totalDataSize:e.totalDataCount})}function Q(){var e,t,n="";return m&&d&&null!=l&&0<l.length&&("*"===l[0]?"*"===l[l.length-1]?(e=l.substr(1,l.length-2),e=o.escapeODataValue(e),t="[object Array]"===Object.prototype.toString.call(d)?K("contains",d,e):"contains("+J(d)+",'"+e+"')"):(e=l.substr(1),e=o.escapeODataValue(e),t="[object Array]"===Object.prototype.toString.call(d)?K("endswith",d,e):"endswith("+J(d)+",'"+e+"')"):(e=l.substr(0,l.length),e=o.escapeODataValue(e),t="[object Array]"===Object.prototype.toString.call(d)?K("startswith",d,e):"startswith("+J(d)+",'"+e+"')")),t?(n="$filter="+t,g&&(n+=" and ("+g+")")):g&&(n="$filter="+g),n}function K(e,t,n){for(var i,o=0,a=t.length;o<a;o++)i=i?i+" or ":"",i+=e+"("+J(t[o])+",'"+n+"')";return i}function J(e){return e.replace?e.replace(/\./g,"/"):e}c=t.getModuleLogger("siemens.simaticit.common.widgets.pager"),a=e.pagingOptions.currentPage,r=e.pagingOptions.pageSize,l=e.quickSearchOptions.filterText,d=e.quickSearchOptions.field,m=e.quickSearchOptions.enabled,u=e.sortInfo.field,j(e.sortInfo.direction),s=0,g="",B(e.filterClauses),y=e.serverDataOptions,n=!1,h=v=null,C.close=b,C.isServerData=w,C.getServerData=S,C.getAllData=x,C.getPageData=T,C.goToPage=I,C.nextPage=k,C.prevPage=E,C.getTotalItemCount=R,C.getPageCount=A,C.getSortInfo=U,C.setSortInfo=z,C.getCurrentPage=O,C.setCurrentPage=P,C.getPageSize=D,C.setPageSize=$,C.getFilter=N,C.setFilter=B,C.getSearchText=M,C.setSearchText=F,C.getSearchField=G,C.setSearchField=V,C.resetPager=L}angular.module("siemens.simaticit.common.widgets.pager").service("common.widgets.pager.serverDataService",e),e.$inject=["$q","common.services.logger.service","common.widgets.filter.service"]}(),angular.module("siemens.simaticit.common.widgets.password",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.password");function t(){this.value&&1<=this.value.length?this.name=this.value[0]+"Password":this.name="Password"}e.controller("PasswordController",t),e.directive("sitPassword",function(){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",validation:"=sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:t,controllerAs:"passwordCtrl",templateUrl:"common/widgets/password/password.html"}})}(),angular.module("siemens.simaticit.common.widgets.popUpPanel",[]),function(){function e(e){var t=this;t.closePanel={path:"common/icons/cmdClosePanel24.svg",size:"16px"},t.closePopUpPanel=function(){t.sitPopUpContent.onClick&&"function"==typeof t.sitPopUpContent.onClick?t.sitPopUpContent.onClick():t.sitPopUpContent.showContent=!1}}angular.module("siemens.simaticit.common.widgets.popUpPanel").directive("sitPopUpPanel",function(){return{scope:{},restrict:"E",bindToController:{sitPopUpContent:"=sitPopUpContent"},controller:e,controllerAs:"popUpPanel",templateUrl:"common/widgets/popUpPanel/pop-up-panel.html",transclude:!0}}),e.$inject=["$scope"]}(),angular.module("siemens.simaticit.common.widgets.propertyGrid",[function(){}]),function(){function e(e,t){var n=this;function i(e){var t=angular.copy(n.value);void 0!==n.maxItems&&n.maxItems>n.value.length&&n.value.splice(e+1,0,""),a(),void 0!==n.sitMultiChange&&n.sitMultiChange(t,n.value,e)}function o(e){var t=angular.copy(n.value);void 0!==n.minItems&&n.minItems<n.value.length&&n.value.splice(e,1),a(),void 0!==n.sitMultiChange&&n.sitMultiChange(t,n.value,e)}function a(){n.addBtnTitle=n.value.length===n.maxItems?e("translate")("propertyGrid.property.canNotAdd"):e("translate")("propertyGrid.property.addNew"),n.removeBtnTitle=n.value.length<=n.minItems?e("translate")("propertyGrid.property.canNotRemove"):e("translate")("propertyGrid.property.remove")}function r(e){return t.parseValue(e)}n.addWidgetInstance=i,n.removeWidgetInstance=o,n.listValue=r,n.addBtnTitle=e("translate")("propertyGrid.property.addNew"),n.removeBtnTitle=e("translate")("propertyGrid.property.remove"),angular.isArray(n.value)&&(n.minItems=Number(n.minItems)||0,n.maxItems=Number(n.maxItems)||99,0===n.value.length&&(n.readOnly||n.ngReadonly)&&n.value.push(""),a())}angular.module("siemens.simaticit.common.widgets.propertyGrid").directive("sitProperty",["$parse",function(u){return{scope:{},transclude:!0,require:["sitProperty","^sitPropertyGrid","^?sitPropertyGroup"],controller:e,controllerAs:"propertyCtrl",bindToController:{sitWidget:"@",value:"=?sitValue",validation:"=?sitValidation",readOnly:"=?sitReadOnly",ngRequired:"@?",name:"=?sitName",placeholder:"=?sitPlaceholder",limit:"=?sitLimit",templateUrl:"=?sitTemplateUrl",selectedAttributeToDisplay:"=?sitSelectedAttributeToDisplay",attributeToSearch:"=?sitAttributeToSearch",options:"=?sitOptions",toDisplay:"=?sitToDisplay",toKeep:"=?sitToKeep",sitDatasource:"=?",sitSelectedObject:"=?",sitEditable:"=?",accept:"=?accept",minSize:"=?sitMinSize",maxSize:"=?sitMaxSize",sitSelectedString:"=?",sitSplitList:"=?",sitDoneCallback:"=?",minItems:"=?sitMinItems",maxItems:"=?sitMaxItems",format:"=?sitFormat",appendToBody:"=?sitAppendToBody",showButtonBar:"=?sitShowButtonBar",showMeridian:"=?sitShowMeridian",showWeeks:"=?sitShowWeeks",widgetAttributes:"=?sitWidgetAttributes",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",sitRequired:"=?",sitId:"@?",autofocus:"=?sitAutofocus",sitAllowReset:"=?",sitMultiChange:"=?"},link:function(n,e,t,i,o){var a,r=i[0],s=i[1],c=i[2];if(r.isMultiValueWidget=!1,r.parentScope={layout:s.layout.toUpperCase(),type:s.type.toUpperCase(),mode:s.mode,columns:s.columns},r.isWithinGroup=!!c,r.value&&angular.isArray(r.value)&&"sit-checkbox"!==r.sitWidget&&"sit-tristate-checkbox"!==r.sitWidget&&"sit-multi-select"!==r.sitWidget&&(r.isMultiValueWidget=!0),"view"===s.mode&&(r.readOnly=!0),"HORIZONTAL"===i[1].layout.toUpperCase()&&"FLUID"===i[1].type.toUpperCase()){var l=e.parent().width(),d=function(e){{if(1366<=e)return"25%";if(768<=e)return"33%";if(320<=e)return"50%"}return"100%"}(l);e.parent().css("flex-basis",d)}function m(){var e=a.text().replace(/\{\{(.+?)\}\}/g,function(e,t){return u(t)(n)});e.lastIndexOf(":")===e.length&&(e=e.substring(0,e.length)),a[0].offsetWidth<a[0].scrollWidth?a.attr("title",e):a.removeAttr("title")}o(n,function(){(a=e.find("[ng-transclude]"))&&a.html()&&(a.addClass("property-label-ellipsis"),a.on("mouseenter",m))}),t.hasOwnProperty("sitAutofocus")&&!0===r.autofocus&&!0!==r.ngReadonly&&!0!==r.ngDisabled&&"edit"===s.mode.toLowerCase()&&s.setElementFocus(t.sitWidget),n.$on("$destroy",function(){a.off("mouseenter",m)})},templateUrl:"common/widgets/propertyGrid/property.html"}}]),e.$inject=["$filter","common.widgets.propertyGrid.listService"]}(),function(){function c(){return{scope:{type:"@sitType",layout:"@sitLayout",columns:"=?sitColumns",mode:"@sitMode",validation:"=?",data:"=?sitData",id:"@sitId",showGroups:"=?sitShowGroups",groups:"=?sitGroups",singleSelectionInGroup:"@?sitSingleGroupExpand"},restrict:"E",templateUrl:"common/widgets/propertyGrid/property-grid.html",controller:e,controllerAs:"propertyGridCtrl",transclude:!0,link:function(e,t,n,i){void 0===i.showGroups&&(i.showGroups=!1)},bindToController:{type:"@sitType",layout:"@sitLayout",columns:"=?sitColumns",mode:"@sitMode",validation:"=?",data:"=?sitData",id:"@sitId",onStateChange:"=?sitStateChange",form:"=?sitForm",showGroups:"=?sitShowGroups",groups:"=?sitGroups",singleSelectionInGroup:"@?sitSingleGroupExpand"}}}function e(n,o,e,t,a){var i=this,r=[];function s(){c.isPropertyFocused=!1,o.off("keypress",s),t.off("click",s)}i.setValidity=function(e){this.isFormValid=e,n.$emit("sit-property-grid.validity-changed",{id:n.id,validity:e}),this.isFormValid&&0<r.length?n.$emit("sit-property-grid.validity-changed",{id:n.id,validity:i.isFormValid,dirty:!1}):!1===this.isFormValid&&n.$emit("sit-property-grid.validity-changed",{id:n.id,validity:i.isFormValid,dirty:!0})},i.onFormStatusChange=function(e){if("function"!=typeof i.onStateChange)return;t=e,n={id:i.id,isDirty:t.$dirty,isPristine:t.$pristine,isValid:t.$valid},i.onStateChange(n);var t,n},i.setElementFocus=function(i){c.isPropertyFocused||(a(function(){var e,t,n=o.find(i);0<n.length&&(e=n,"sit-select"===(t=i)?angular.element(e[0]).find("select").focus():"sit-file-uploader"===t?angular.element(e[0]).find("div.textboxHolder div.uploadSection").focus():"sit-multi-select"===t?angular.element(e[0]).find("button").focus():"sit-checkbox"===t||"sit-radio"===t||"sit-rich-radio"===t?angular.element(e[0]).find("input")[0].focus():"sit-textarea"===t?angular.element(e[0]).find("textarea").focus():angular.element(e[0]).find("input").focus())},150),c.isPropertyFocused=!0,o.on("keypress",s),t.on("click",s))},i.transclusionIsSet=function(){if(e.sitData)return!1;return!0}(),n.$on("sit-property-validator.buttonEnableDisable",function(e,t){t.originalValue===t.value&&-1!==r.indexOf(t.guid)?r.splice(r.indexOf(t.guid),1):t.originalValue!==t.value&&-1===r.indexOf(t.guid)&&r.push(t.guid),0===r.length?n.$emit("sit-property-grid.validity-changed",{id:n.id,validity:i.isFormValid,dirty:!0}):0<r.length&&i.isFormValid&&n.$emit("sit-property-grid.validity-changed",{id:n.id,validity:i.isFormValid,dirty:!1})}),n.$on("$destroy",function(){c.isPropertyFocused=!1,o.off("keypress",s),t.off("click",s)})}angular.module("siemens.simaticit.common.widgets.propertyGrid").directive("sitPropertyGrid",c),c.isPropertyFocused=!1,e.$inject=["$scope","$element","$attrs","$document","$timeout"]}(),function(){function e(f,h,v,y){return{scope:{data:"=?sitData",mode:"@sitMode",id:"@sitId"},bindToController:{data:"=?sitData",mode:"@sitMode",id:"@sitId"},controllerAs:"sitPropertyGridLayoutCtrl",controller:t,require:"^sitPropertyGrid",restrict:"E",link:function(l,n,e,i){var d,m="",t={validity:!1,dirty:!1},u=[];function p(){return void 0!==d&&(t.validity=d.$valid,t.dirty=d.$dirty),t}function o(e,t,n,i){if("edit"===e.mode){if(!0===i.transclusionIsSet)m="<div></div>",n.html(h(m)(e)),d=e.$parent["Form"+e.id];else{m=v.createPropertyGridLayoutHtml(e.data,i.layout,i.type,!1,i.showGroups,i.groups,f),m="<form name='Form"+e.id+"'>"+m+"</form>",n.html(""),e["Form"+e.id]=void 0,n.html(h(m)(e)),d=e["Form"+e.id];var o=v.getFocusElement();v.clearFocusElement(),o&&i.setElementFocus(o)}i.setValidity(p().validity),i.onFormStatusChange(d),a=i,u[u.length]=l.$watch(p,function(e,t){e!==t&&(e.validity!==t.validity&&a.setValidity(e.validity),a.onFormStatusChange(d))},!0),i.hasOwnProperty("form")&&d&&y(function(){var n;g(i),n=i,u[u.length]=l.$watchCollection(function(){return d.$$controls},function(e,t){e!==t&&g(n)})},100)}else m=!0===i.transclusionIsSet?"<div></div>":v.createPropertyGridLayoutHtml(e.data,i.layout,i.type,!0,i.showGroups,i.groups,f,i.mode||e.mode),n.html(h(m)(e));var a,r;if("HORIZONTAL"===i.layout.toUpperCase()&&"FLUID"===i.type.toUpperCase()){var s=n.width(),c=1366<=(r=s)?"25%":768<=r?"33%":320<=r?"50%":"100%";n.find("div.property-fluid").css("flex-basis",c)}}o(l,0,n,i);var a=n.find('span[class="property-label-ellipsis"]');function r(){var e=$(this);this.offsetWidth<this.scrollWidth?e.attr("title",e.html()):e.removeAttr("title")}function g(e){var n,i={};d.$$controls.forEach(function(e){if(e.$$controls&&e.$name){if(n=angular.element(e.$$element).parent().attr("sit-id"),"entityPickerForm"===e.$name){var t=angular.element(e.$$element).parents("sit-icon-picker");0<t.length&&(n=t.attr("sit-id"))}if(!n||"undefined"===n||"null"===n)return;i[n]=e}}),e.form={id:e.id,form:d,properties:i}}a.on("mouseenter",r),l.$watch(function(){return l.data},function(e,t){e!==t&&(u.forEach(function(e){e()}),o(l,0,n,i))}),l.$on("$destroy",function(){a.off("mouseenter",r),u.forEach(function(e){e()})})}}}function t(){}angular.module("siemens.simaticit.common.widgets.propertyGrid").directive("sitPropertyGridLayout",e),e.$inject=["$filter","$compile","common.widgets.propertyGrid.service","$timeout"]}(),function(){function e(m){var h;this.createPropertyGridLayoutHtml=function(e,t,n,i,o,a,r,s){r,h=s;var c="",l=!1,d=!0,m=(u=e,p=a,g=[],f=[],angular.forEach(u,function(e,t){e.index=t;var n=f.indexOf(e.group);if(e.group&&-1!==n){for(var i=0;i<g.length;i++)if(g[i].id===e.group&&"group"===g[i].type){g[i].fields.push(e);break}}else if(e.group&&-1===n){f.push(e.group);var o=function(e,t){var n={id:e,name:e,collapsible:!0};if(!t)return n;var i=_.findIndex(t,{id:e});return-1!==i&&(n.name=t[i].name||e,n.collapsible=void 0===t[i].collapsible||t[i].collapsible),n}(e.group,p);g[g.length]={type:"group",id:o.id,name:o.name,collapsible:o.collapsible,fields:[e]}}else g.push(e)}),g);var u,p,g,f;angular.forEach(m,function(e){"group"===e.type?(d||(c+="</div>",d=!(l=!1)),c+='<sit-property-group sit-id="'+e.id+'" sit-name="\''+e.name+'\'" sit-collapsible="'+e.collapsible+'">',angular.forEach(e.fields,function(e){e.invisible||(c+=v(e,e.index,t,n,i,o))}),c+="</sit-property-group>"):e.invisible||("list"===h&&"Vertical"===t?l?c+=v(e,e.index,t,n,i,o):(l=!(d=!1),c+='<div class="property-grid-vertical-list-layout">'+v(e,e.index,t,n,i,o)):c+=v(e,e.index,t,n,i,o))}),l&&(c+='</div">');return c},this.getFocusElement=function(){return f},this.clearFocusElement=function(){f=null};var u={Vertical:"property","Horizontal-Fixed":"property","Horizontal-Fluid":"property property-fluid"},p={Vertical:"vertical-property-grid-control-label","Horizontal-Fixed":"property-grid-col-label-fixed","Horizontal-Fluid":"property-grid-col-label-fluid"},g={"Horizontal-Fixed":"property-grid-col-value-fixed","Horizontal-Fluid":"property-grid-col-value-fluid"},f=null;function v(e,t,n,i,o,a){var r,s,c,l,d="";return d+="<div class='"+function(e,t){if("Vertical"===e)return u[e];return u[e+"-"+t]}(n,i)+"'>",d+="<div class='"+(o&&"list"===h?"pl-label ":"")+function(e,t,n){if("Vertical"===e)return p[e]+" "+y(n);return p[e+"-"+t]+" "+y(n)}(n,i,a)+"'>",d+=function(e){var t="";if(e.invisible)return"";t=angular.isDefined(e.label)&&e.label?"<span class='property-label property-label-ellipsis'>"+e.label+"</span>"+(e.validation&&e.validation.required?'<span class="asterisk">*</span>':""):"Label undefined";return t}(e),d+="</div>",d+="<div class='"+(o&&"list"===h?"pl-value ":"")+(s=i,c=a,"Horizontal"===(r=n)?g[r+"-"+s]+" "+(c?"property-group-col-width":"property-grid-col-value-width"):"")+"'>",d+=o&&"list"===h?m.parseValue(e):function n(i,o,a){var r="";if(angular.isArray(i.widget))r+="<div class='property-grid-input-group'>",angular.forEach(i.widget,function(e,t){void 0===e.widgetAttributes||"checkbox"!==e.widgetAttributes.type?(r+="<span class='property-grid-span-group-inline'>",r+="<div style='display: table; width: 100%; height: 100%'>",r+=n(e,o+".widget["+t+"]",a),r+="</div>"):(r+="<span class='property-grid-span-group-block ",a||e.read_only||(r+="validator-control"),r+="'>",r+=n(e,o+".widget["+t+"]",a)),r+="</span>"}),r+="</div>";else{var e=a||i.read_only||!1,t=i.disabled;if("sit-entity-picker"!==i.widget){var s="sit-text",c=i.label||i.id||i.name,l=c.replace(/ /g,"").toLowerCase(),d=(i.id,i.name||l),m=typeof i.value;switch(m){case"number":s="sit-numeric";break;case"string":80<i.value.length&&(s="sit-textarea");break;case"boolean":s="sit-checkbox",i.value=[{label:"",checked:i.value}];break;case"object":angular.isDate(i.value)&&(s="sit-datepicker")}r+="<"+(i.widget||s)+" ",r+="sit-id='"+i.id+"' ",r+="sit-name='"+d+"' ",r+="sit-value='"+o+".value' ",r+="sit-validation='"+o+".validation' ",r+="ng-readonly='"+e+"' ",r+="class='property-grid-input-group' ",r+="ng-model='"+o+".value' ",r+="ng-disabled='"+t+"'",angular.forEach(i.widgetAttributes,function(e,t){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"sit-time-picker"===i.widget&&"show-meridian"===n?r+=n+"='"+o+".widgetAttributes."+t+"' ":r+="sit-"+n+"='"+o+".widgetAttributes."+t+"' "}),i.widgetAttributes&&i.widgetAttributes.hasOwnProperty("accept")&&(r+="accept='"+o+".widgetAttributes.accept' "),"sit-text"!==i.widget&&"sit-textarea"!==i.widget||(r+=" sit-placeholder='"+o+".placeholder' "),r+=">",r+="</"+(i.widget||s)+">"}else"sit-entity-picker"===i.widget&&(r+="<sit-entity-picker ",r+="sit-id='"+i.id+"'",r+="sit-name='"+o+".widgetAttributes.name' ",r+="sit-datasource='"+o+".widgetAttributes.datasource' ",r+="sit-value='"+o+".value' ",r+="sit-selected-object='"+o+".widgetAttributes.selectedObject' ",r+="sit-template-url='"+o+".widgetAttributes.templateUrl' ",r+="sit-validation='"+o+".validation' ",r+="sit-placeholder='"+o+".widgetAttributes.placeholder' ",r+="sit-selected-attribute-to-display='"+o+".widgetAttributes.selectedAttributeToDisplay' ",r+="sit-attribute-to-search='"+o+".widgetAttributes.attributeToSearch' ",r+="sit-picker-options='"+o+".widgetAttributes.pickerOptions' ",r+="sit-change='"+o+".widgetAttributes.change' ",r+="ng-readonly='"+e+"' ",r+="ng-disabled='"+t+"'",r+="class='property-grid-input-group' ",r+=">",r+="</sit-entity-picker>")}return r}(e,"data["+t+"]",o),d+="</div>",d+="</div>",!0!==(l=e).autofocus||f||!0===l.read_only||(f=l.widget),d}function y(e){return e?"property-group-col-width":"property-grid-col-label-width"}}angular.module("siemens.simaticit.common.widgets.propertyGrid").service("common.widgets.propertyGrid.service",e),e.$inject=["common.widgets.propertyGrid.listService"]}(),function(){function e(e){this.svgIcon={path:"common/icons/miscRightArrow16.svg"}}angular.module("siemens.simaticit.common.widgets.propertyGrid").directive("sitPropertyGroup",function(){return{scope:{},transclude:!0,require:["sitPropertyGroup","^sitPropertyGrid"],controller:e,controllerAs:"propertyGroupCtrl",bindToController:{sitId:"@sitId",name:"=?sitName",isCollapsible:"=?sitCollapsible",accordion:"=?sitShowAccordion"},link:function(e,t,n,i,o){var a=i[0],r=i[1];a.toggle=function(){a.singleSelection&&(!function(){if(a.singleSelection&&r.groupList)for(var e in r.groupList)r.groupList[e]!==a&&(r.groupList[e].isCollapsed=!0)}(),a.isCollapsed=!a.isCollapsed)},"true"===r.singleSelectionInGroup&&(a.singleSelection=!0,void 0===a.isCollapsed&&(a.isCollapsed=!0),r.groupList=r.groupList||{},r.groupList[a.sitId]=a),void 0===a.isCollapsible&&(a.isCollapsible=!0),void 0===a.name&&(a.name=a.sitId),void 0===a.accordion&&(a.accordion=!0),a.parentScope={mode:r.mode,layout:r.layout,id:r.id,type:r.type,columns:r.columns}},templateUrl:"common/widgets/propertyGrid/property-group.html"}}),e.$inject=["$filter"]}(),function(){function e(l){return{restrict:"E",bindToController:{widget:"@sitWidget",name:"@sitName",value:"=?sitValue",validation:"=?sitValidation",readOnly:"=?sitReadOnly",placeholder:"=?sitPlaceholder",limit:"=?sitLimit",templateUrl:"=?sitTemplateUrl",selectedAttributeToDisplay:"=?sitSelectedAttributeToDisplay",attributeToSearch:"=?sitAttributeToSearch",options:"=?sitOptions",toDisplay:"=?sitToDisplay",toKeep:"=?sitToKeep",sitDatasource:"=?",sitSelectedObject:"=?",sitEditable:"=?",accept:"=?accept",minSize:"=?sitMinSize",maxSize:"=?sitMaxSize",sitSelectedString:"=?",sitSplitList:"=?",sitDoneCallback:"=?",format:"=?sitFormat",appendToBody:"=?sitAppendToBody",showButtonBar:"=?sitShowButtonBar",showWeeks:"=?sitShowWeeks",showMeridian:"=?sitShowMeridian",widgetAttributes:"=?sitWidgetAttributes",ngRequired:"@?",ngBlur:"&?",sitChange:"=?",sitRequired:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",sitId:"@?",sitAllowReset:"=?"},scope:!0,controller:t,controllerAs:"PropertyItemCtrl",link:{pre:function(e,t,n,i){var o=' sit-name="{{PropertyItemCtrl.name}}"sit-id="'+n.sitId+'" sit-show-button-bar="PropertyItemCtrl.showButtonBar" sit-read-only="PropertyItemCtrl.readOnly" sit-value="PropertyItemCtrl.value" ng-model="PropertyItemCtrl.value" sit-validation="PropertyItemCtrl.validation" sit-options="PropertyItemCtrl.options" sit-to-display="PropertyItemCtrl.toDisplay" sit-to-keep="PropertyItemCtrl.toKeep" sit-datasource="PropertyItemCtrl.sitDatasource" sit-limit="PropertyItemCtrl.limit" sit-editable="PropertyItemCtrl.sitEditable" accept = "PropertyItemCtrl.accept" sit-min-size = "PropertyItemCtrl.minSize" sit-max-size = "PropertyItemCtrl.maxSize" sit-selected-string="PropertyItemCtrl.sitSelectedString" sit-split-list="PropertyItemCtrl.sitSplitList" sit-done-callback="PropertyItemCtrl.sitDoneCallback()" sit-placeholder="PropertyItemCtrl.placeholder" sit-selected-object="PropertyItemCtrl.sitSelectedObject" sit-selected-attribute-to-display="PropertyItemCtrl.selectedAttributeToDisplay" sit-attribute-to-search="PropertyItemCtrl.attributeToSearch" sit-template-url="PropertyItemCtrl.templateUrl" sit-format="PropertyItemCtrl.format" sit-append-to-body="PropertyItemCtrl.appendToBody" sit-show-button-bar="PropertyItemCtrl.showButtonBar" sit-show-weeks="PropertyItemCtrl.showWeeks" sit-show-meridian="PropertyItemCtrl.showMeridian" ng-required="PropertyItemCtrl.ngRequired" ng-blur="PropertyItemCtrl.ngBlur()" sit-change="PropertyItemCtrl.sitChange" ng-disabled="PropertyItemCtrl.ngDisabled" ng-focus="PropertyItemCtrl.ngFocus()" ng-readonly="PropertyItemCtrl.ngReadonly" class="'+n.class+'" sit-allow-reset="PropertyItemCtrl.sitAllowReset"';"sit-entity-picker"===n.sitWidget&&(o+=' sit-required="PropertyItemCtrl.sitRequired"');if(o="<"+n.sitWidget+o+"></"+n.sitWidget+">",o=angular.element(o),""!==n.sitWidgetAttributes&&void 0!==n.sitWidgetAttributes&&i.widgetAttributes)for(var a=0,r=Object.keys(i.widgetAttributes),s=Object.keys(i.widgetAttributes).length;a<s;a++){var c='PropertyItemCtrl.widgetAttributes["'+r[a]+'"]';o.attr(r[a],c)}o=l(o)(e),t.append(o)}}}}function t(){}angular.module("siemens.simaticit.common.widgets.propertyGrid").directive("sitPropertyItem",e),e.$inject=["$compile"]}(),function(){function e(s){function e(e){var t,n,i,o,a="";switch(e.sitWidget||e.widget){case"sit-textarea":case"sit-numeric":case"sit-email":case"sit-text":case"sit-icon":case"sit-password":a=e.value;break;case"sit-datepicker":case"sit-time-picker":a=s("date")(e.value,e.format);break;case"sit-radio":case"sit-rich-radio":r();break;case"sit-select":e.value&&e.value.id&&(e.widgetAttributes&&e.widgetAttributes["sit-options"]&&(t=_.findWhere(e.widgetAttributes["sit-options"],{id:e.value.id}))&&(a=t[e.widgetAttributes["sit-to-display"]]),e.options&&e["to-display"]&&(t=_.findWhere(e.options,{id:e.value.id}))&&(a=t[e.widgetAttributes["to-display"]]));break;case"sit-entity-picker":e.value&&e.value.name?a=e.value.name:e.widgetAttributes["sit-selected-object"]&&e.widgetAttributes["sit-selected-attribute-to-display"]&&(a=e.widgetAttributes["sit-selected-object"][e.widgetAttributes["sit-selected-attribute-to-display"]]);break;case"sit-typeahead":e.value&&(e.widgetAttributes&&e.widgetAttributes["sit-to-display"]?a=e.value[e.widgetAttributes["sit-to-display"]]:(angular.isArray(e.value)&&(a=e.join(",")),"string"==typeof e.value&&(a=e.value)));break;case"sit-multi-select":e.value&&(angular.isArray(e.value)&&(a=e.join(",")),"string"==typeof e.value&&(a=e.value));break;case"sit-checkbox":!function(){if(e.value&&angular.isArray(e.value)&&0<e.value.length){if(1===e.value.length)return(!(t=e.value[0]).label||""===t.label)&&(a=t.checked?s("translate")("common.yes"):s("translate")("common.no"));t=_.where(e.value,{checked:!0}),a=_.map(t,function(e){return e.label}).join(",")}}();break;case"sit-file-uploader":e.value&&e.value.name&&(a=e.value.name);break;default:a=e.value}function r(){e.options&&(e.options.length,n=e.options),e.widgetAttributes&&e.widgetAttributes["sit-options"]&&(e.widgetAttributes["sit-options"].length,n=e.widgetAttributes["sit-options"]),n&&0<n.length&&(t=_.findWhere(n,{value:e.value}))&&(a=t.label)}return null===(o=i=a)&&(o=""),void 0===i&&(o=""),angular.isArray(i)&&(o=i.join(",")),o}this.parseValue=e}angular.module("siemens.simaticit.common.widgets.propertyGrid").service("common.widgets.propertyGrid.listService",e),e.$inject=["$filter"]}(),angular.module("siemens.simaticit.common.widgets.radio",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.radio");function t(g){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",name:"@sitName",validation:"=sitValidation",options:"=sitOptions",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:"RadioController",controllerAs:"radioCtrl",templateUrl:"common/widgets/radio/radio.html",link:{post:function(e,t,n,o){var i,a,r,s=!1,c=g(function(){i=t.find(".sit-radio"),(a=i.find(".property-grid-span-group-block.validator-control")).on("focusin",event,l),r=a.find("input");for(var e=0;e<r.length;e++)u(r[e],"focusin",l),u(r[e],"focusout",l)});function l(e){var t,n,i;s||p(m(e))&&(s=!0,t=document,n="click",i=d,"addEventListener"in t&&t.addEventListener(n,i,!1),o.ngFocus())}function d(e){s&&(p(m(e))||(s=!1,u(document,"click",d),o.ngBlur()))}function m(e){return"target"in e?e.target:e.srcElement}function u(e,t,n){"removeEventListener"in e&&e.removeEventListener(t,n,!1)}function p(e){for(;e&&e!==a[0];)e=e.parentNode;return!!e}e.$on("$destroy",function(){g.cancel(c)})}}}}e.directive("sitRadio",t),t.$inject=["$timeout"],e.controller("RadioController",function(){})}(),angular.module("siemens.simaticit.common.widgets.richRadio",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.richRadio");e.controller("RichRadioController",function(){}),e.directive("sitRichRadio",function(){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",name:"@sitName",validation:"=sitValidation",options:"=sitOptions",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:"RichRadioController",controllerAs:"richRadioCtrl",templateUrl:function(e,t){return t.templateurl||"common/widgets/richRadio/rich-radio.html"}}})}(),angular.module("siemens.simaticit.common.widgets.select",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.select");function t(e){var i=this;function t(t,n){i.options.forEach(function(e){e[i.toKeep]===t?t=e:e[i.toKeep]===n&&(n=e)}),i.value=n,i.sitChange&&"function"==typeof i.sitChange&&i.sitChange(t,n)}function n(t,e){t=_.find(i.options,function(e){return e[i.toKeep]===t}),i.validation.custom(t,e)}function o(){i.sitOptions=[],i.options&&0<i.options.length&&i.options.forEach(function(e){i.sitOptions.push({id:e[i.toKeep],name:e[i.toDisplay],groupby:e[i.sitToGroup]})})}function a(){var e={},t={};e[i.toKeep]="",e[i.toDisplay]="",t.id="",t.name="",t.groupby="",i.sitOptions.unshift(t),i.options.unshift(e),i.value&&!_.isEmpty(i.value)||(i.value=i.options[0])}i.splitListVisibility=!1,i.placeholder="",i.selectValidation=i.validation,i.doneCallback=function(){},i.sitOptions=[],i.value?i.sitSelectedString=i.value[i.toKeep]:i.sitSelectedString="",i.allowReset=(!0===i.allowReset||!1===i.allowReset)&&i.allowReset,i.allowReset&&i.options&&a(),i.validation&&i.validation.hasOwnProperty("custom")&&(i.selectValidation=angular.copy(i.validation),i.selectValidation.custom=n),o(),i.selectionChanged=t;var r=e.$watchCollection(function(){return i.options},function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&(o(),i.allowReset&&a())}),s=e.$watch(function(){return i.value},function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&(i.value?i.sitSelectedString=i.value[i.toKeep]:i.sitSelectedString="")}),c=e.$watch(function(){return i.validation},function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&i.validation&&(i.selectValidation=angular.copy(i.validation),i.validation&&i.validation.hasOwnProperty("custom")&&(i.selectValidation.custom=n))});e.$on("$destroy",function(){r(),s(),c()})}t.$inject=["$scope"],e.controller("SelectController",t),e.directive("sitSelect",function(){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",validation:"=sitValidation",options:"=sitOptions",toDisplay:"=sitToDisplay",toKeep:"=sitToKeep",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngSelected:"=?",ngReadonly:"=?",sitToGroup:"=?",allowReset:"=?sitAllowReset"},controller:"SelectController",controllerAs:"selectCtrl",templateUrl:"common/widgets/select/select.html",link:function(e,t,n,i){}}})}(),angular.module("siemens.simaticit.common.widgets.sidepanel",[]),function(){function e(u,p){return{transclude:!0,scope:{},bindToController:{title:"@sitTitle",messages:"=?sitMessages",actionButtons:"=?sitActions",commandButtons:"=?sitCommands",closeButton:"=?sitClose",collapseButton:"=?sitCollapse",disableMinimize:"=?sitDisableMinimize"},restrict:"E",controller:t,controllerAs:"sidepanelCtrl",templateUrl:"common/widgets/sidePanel/sidepanel.html",link:function(e,t,n,i){var o=t.find("div.side-panel-container div.side-panel-top div.side-panel-header-text"),a=t.find("div.side-panel-container");function r(){var e=this.innerHTML;this.offsetWidth<this.scrollWidth?this.setAttribute("title",e):this.removeAttribute("title")}function s(){i.calculateVisibleButtons(t[0].parentElement.clientWidth)}o.on("mouseenter",r);var c=e.$watch(function(){return t.parents(".property-area-container").attr("class")},function(e){p(function(){e&&-1===e.split(" ").indexOf("property-area-hide")?(t.parents(".property-area-container").css("padding",0),s(),c()):t.parents(".property-area-container").css("padding",16),i.isContentMinimizable=i.checkContentHeight(),t.find(".side-panel-container .side-panel-content").addClass("add-flex-max"),i.isMinimizeDisabled&&t.find(".side-panel-container .side-panel-content .side-panel-custom").addClass("add-flex-max")},10)},!0),l=e.$watch(function(){return i.commandButtons},function(e,t){e!==t&&(i.setSidePanelButtons(i.commandButtons,"Command"),i.setContextualCommandBar(i.commandButtons),s(),i.contentClassType=i.getContentcontentClassType())},!0),d=e.$watch(function(){return i.actionButtons},function(e,t){e!==t&&(i.setSidePanelButtons(i.actionButtons,"Action"),s(),i.contentClassType=i.getContentcontentClassType())},!0);function m(){0<this.scrollTop?a.children(".side-panel-bottom").addClass("shadow"):a.children(".side-panel-bottom").removeClass("shadow")}angular.element(u).bind("resize",function(){i.isContentMinimizable=!(t.find(".side-panel-container .side-panel-content .side-panel-custom")[0].scrollHeight>t.find(".side-panel-container .side-panel-content .side-panel-custom")[0].clientHeight),!i.isMaximized&&document.body.clientHeight<=i.fixedContentHeight?(i.isContentMinimizable=!1,t.parents(".property-area-container").removeClass("content-resize-height")):i.isMaximized||(i.isContentMinimizable=!0,t.find(".side-panel-container .side-panel-content").removeClass("add-flex-max"),t.parents(".property-area-container").addClass("content-resize-height")),s()}),$(".side-panel-custom").on("scroll",m),$(".side-panel-custom>*").on("scroll",m),e.$on("$destroy",function(){angular.element(u).unbind("resize",s),o.off("mouseenter",r),t.parents(".property-area-container").css("padding",16),t.parents(".property-area-container").removeClass("content-resize-height"),t.find(".side-panel-container .side-panel-content").addClass("add-flex-max"),d(),l(),c()})}}}function t(n,o,a,e){var s=this,c=100,l=32,d=16,m=8;function t(e){s.displayDropdownActions=!1,s.displayDropdownCommands=!1,s.visibleCommands=0,s.visibleActions=0,s.maxIndexNumberActions=0,(s.maxIndexNumberCommands=0)<e&&(s.visibleActions=r(e,"Action"),s.visibleCommands=r(e,"Command"),s.actionButtons&&0!==s.actionButtons.length&&s.visibleActions<s.actionButtons.length&&(s.displayDropdownActions=!0,s.maxIndexNumberActions=s.actionButtons.length-s.visibleActions),s.commandButtons&&0!==s.commandButtons.length&&s.visibleCommands<s.commandButtons.length&&(s.displayDropdownCommands=!0,s.maxIndexNumberCommands=s.commandButtons.length-s.visibleCommands))}function i(){return s.contentClassType="",s.commandButtons&&s.actionButtons?0===s.commandButtons.length&&0===s.actionButtons.length?"contentHeight":0===s.commandButtons.length&&0!==s.actionButtons.length?"contentActionHeight":0!==s.commandButtons.length&&0===s.actionButtons.length?"contentCommandHeight":"contentButtonHeight":s.commandButtons&&0!==s.commandButtons.length?"contentCommandHeight":s.actionButtons&&0!==s.actionButtons.length?"contentActionHeight":"contentHeight"}function u(e){var t,n,i={"font-family":'"Segoe UI", "Arial", "sans-serif","serif"',"font-size":"9pt"};if(e.label){var o='<button  data-internal-type="command-button-command-bar" class="menu-action-button">';return o+='<span  data-internal-type="text-container">'+e.label+"</span></button></div></div>",(t=$(o).css(i)).appendTo(a),n=Math.ceil(t.outerWidth(!0))<84?84:Math.ceil(t.outerWidth(!0)),t.remove(),n}return 0}function r(e,t){var n=Math.floor(e-d),i=Math.floor(e-c-d);if("Action"===t&&s.actionButtons){for(var o=0,a=0,r=0;r<s.actionButtons.length;r++){if(!((o+=m+u(s.actionButtons[r]))<n))return a;a++}return a}if("Command"===t)return i/l}function p(e,t){if(e&&"Action"===t){var n=o.instant("sidePanel.labelErrorMsg");e.forEach(function(e){e.label?(e.tooltip=e.tooltip||e.label,e.visible="boolean"!=typeof e.visible||e.visible,e.enabled="boolean"!=typeof e.enabled||e.enabled):f(n,e)})}if(e&&"Command"===t){var i=o.instant("sidePanel.tooltipErrorMsg");e.forEach(function(e){e.tooltip?(e.visible="boolean"!=typeof e.visible||e.visible,e.enabled="boolean"!=typeof e.enabled||e.enabled):f(i,e),e.displayIcon=null,e.svgIcon?e.displayIcon={path:e.svgIcon,size:"16px"}:e.cmdIcon&&(e.displayIcon={prefix:"cmd",name:e.cmdIcon,suffix:"24",size:"16px"})})}}function g(e){if(!e||0!==e.length){s.ContextualCommandButtons.bar=[];var n=0;angular.forEach(e,function(e,t){s.ContextualCommandButtons.bar[n]={type:"Command",name:e.tooltip,visibility:e.visible,image:e.img,svgIcon:e.svgIcon,tooltip:e.tooltip,onClickCallback:e.onClick},n++})}}function f(e,t){n.logger.logError(e,t,"siemens.simaticit.common.widgets.sidepanel")}function h(){s.closeButton&&s.closeButton.onClick&&"function"==typeof s.closeButton.onClick?s.closeButton.onClick():n.sidePanelManager.close()}function v(){var e=a.find(".side-panel-container .side-panel-content").outerHeight(!0);return a.find(".side-panel-container .side-panel-content .side-panel-custom")[0].scrollHeight<e}function y(){!s.isMaximized&&s.isContentMinimizable?(a.find(".side-panel-container .side-panel-content").addClass("add-flex-max"),a.parents(".property-area-container").removeClass("content-resize-height"),s.isMaximized=!0):s.isMaximized&&s.isContentMinimizable&&(s.isContentMinimizable=v(),s.isContentMinimizable&&(a.find(".side-panel-container .side-panel-content").removeClass("add-flex-max"),a.parents(".property-area-container").addClass("content-resize-height"),s.fixedContentHeight=a.find(".side-panel-container")[0].clientHeight),s.isMaximized=!1),s.collapseButtonTooltip=s.iscollapseButtonShown&&s.isMaximized?o.instant("sidePanel.minimize"):o.instant("sidePanel.maximize")}s.isContentMinimizable=!0,s.isMaximized=!0,s.fixeContentHeight,s.closePanel={path:"common/icons/cmdClosePanel24.svg",size:"16px",isColorInversionRequired:!0},s.maximizePanel={path:"common/icons/cmdMaximiseVertically24.svg",size:"16px",isColorInversionRequired:!0},s.minimizePanel={path:"common/icons/cmdRevertMaximiseVertically24.svg",size:"16px",isColorInversionRequired:!0},s.ContextualCommandButtons={barType:"Action",bar:[]},s.closeButtonTooltip=s.closeButton&&s.closeButton.tooltip?s.closeButton.tooltip:o.instant("sidePanel.close"),s.isCloseButtonShown=!s.closeButton||"boolean"!=typeof s.closeButton.showClose||s.closeButton.showClose,s.closeSidepanel=h,s.setSidePanelButtons=p,s.setContextualCommandBar=g,s.calculateVisibleButtons=t,s.getContentcontentClassType=i,s.contentClassType=s.getContentcontentClassType(),s.checkContentHeight=v,s.toggleSidePanelContent=y,s.iscollapseButtonShown="boolean"!=typeof s.collapseButton||s.collapseButton,s.isMinimizeDisabled="boolean"==typeof s.disableMinimize&&s.disableMinimize,s.collapseButtonTooltip=s.iscollapseButtonShown&&s.isMaximized?o.instant("sidePanel.minimize"):o.instant("sidePanel.maximize"),p(s.actionButtons,"Action"),p(s.commandButtons,"Command"),g(s.commandButtons),n.sidePanelManager.setTitle("")}angular.module("siemens.simaticit.common.widgets.sidepanel").directive("sitSidePanel",e),e.$inject=["$window","$timeout"],t.$inject=["common","$translate","$element","$timeout"]}(),angular.module("siemens.simaticit.common.widgets.sidebar",[function(){}]),function(e){var t,n,i,o,a;t=e.simaticit||(e.simaticit={}),n=t.common||(t.common={}),i=n.widgets||(n.widgets={}),o=i.scroll||(i.scroll={}),a=function(){function e(e,t){this.$document=e,this.$log=t,this.status=!1,void 0===jQuery&&t.error("jQuery not available")}return e.prototype.getSelectors=function(){this.domElements={scroll:".sitscroll",buttons:{up:"up",down:"down"},body:"div[ng-transclude]"}},e.prototype.scrollItems=function(e,t){var n=$(e).siblings(this.domElements.body);n.scrollTop(n.scrollTop()+t)},e.prototype.scrollElement=function(e){var t=$(e.currentTarget);t.hasClass(this.domElements.buttons.up)?this.scrollItems(t,-48):t.hasClass(this.domElements.buttons.down)&&this.scrollItems(t,48),e.preventDefault(),e.stopPropagation()},e.prototype.init=function(){this.status||(this.getSelectors(),this.bind())},e.prototype.bind=function(){$(this.$document).on("click.sitscroll.data-api",this.domElements.scroll,$.proxy(this.scrollElement,this)),this.status=!0},e.prototype.unbind=function(){$(this.$document).off("click.sitscroll.data-api",this.domElements.scroll,$.proxy(this.scrollElement,this)),this.status=!1},e.$inject=["$document","$log"],e}(),o.ScrollDOMService=a,angular.module("siemens.simaticit.common.widgets.sidebar").service("common.scroll.scrollDOMService",a)}(siemens||(siemens={})),function(e){var t,n,i,o,a;t=e.simaticit||(e.simaticit={}),n=t.common||(t.common={}),i=n.widgets||(n.widgets={}),o=i.sidebar||(i.sidebar={}),a=function(){function e(e){this.$log=e,this.status=!1,void 0===jQuery&&e.error("jQuery not available")}return e.prototype.getSelectors=function(){this.domElements={toggle:'[data-toggle="sidebar"]',cssClass:{open:"open",focus:"focus",active:"active",children:"children",header:"header"},attrs:{target:"data-target",href:"href"},children:".children"}},e.prototype.clearMenus=function(e,t){var n=this.domElements;if(!e||3!==e.which){var i=t||$(n.toggle);i.each(function(e){var t=$(i[e]);t.hasClass(n.cssClass.open)&&t.removeClass(n.cssClass.open).removeClass(n.cssClass.active)})}},e.prototype.keydown=function(e){if(/(27)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=$(e.currentTarget);return e.preventDefault(),e.stopPropagation(),27===e.which?t.trigger("click"):void 0}},e.prototype.toggle=function(e){var t=this.domElements,n=$(e.currentTarget),i=n.parents(t.toggle).length?n.parents(t.toggle):n.parent(),o=n.hasClass(t.cssClass.open),a=0<n.children(t.children).length;n.children().last().hasClass(t.cssClass.children)&&i.hasClass(t.cssClass.open)?this.clearMenus(e,n.siblings()):i.parent().hasClass(t.cssClass.header)||this.clearMenus(e),o||(n.trigger(t.cssClass.focus).toggleClass(t.cssClass.open),a&&n.toggleClass(t.cssClass.active),e.preventDefault(),e.stopPropagation());var r=window.document.createEvent("Event");r.initEvent("window.click",!0,!1),window.dispatchEvent(r)},e.prototype.init=function(){this.status||(this.getSelectors(),this.bind())},e.prototype.bind=function(){$(window.document).on("click.sidebar.data-api",$.proxy(this.clearMenus,this)).on("click.sidebar.data-api",this.domElements.toggle,$.proxy(this.toggle,this)).on("keydown.bs.sidebar.data-api",$.proxy(this.keydown,this)),this.status=!0},e.prototype.unbind=function(){$(window.document).off("click.sidebar.data-api",$.proxy(this.clearMenus,this)).off("click.sidebar.data-api",this.domElements.toggle,$.proxy(this.toggle,this)).off("keydown.bs.sidebar.data-api",$.proxy(this.keydown,this)),this.status=!1},e.$inject=["$log"],e}(),o.SidebarDOMService=a,angular.module("siemens.simaticit.common.widgets.sidebar").service("common.sidebar.sidebarDOMService",a)}(siemens||(siemens={})),angular.module("siemens.simaticit.common.widgets.sidebar").factory("common.recursionHelperService",["$compile",function(a){return{compile:function(e,n){angular.isFunction(n)&&(n={post:n});var i,o=e.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(e,t){i||(i=a(o)),i(e,function(e){t.append(e)}),n&&n.post&&n.post.apply(null,arguments)}}}}}]),angular.module("siemens.simaticit.common.widgets.sidebar").directive("sitScroll",["$rootScope","$window","$timeout",function(c,l,d){var e={templateUrl:"common/widgets/sidebar/scroll.html",replace:!1,restrict:"E",transclude:!0,controllerAs:"scrollCtrl",controller:t,scope:{},bindToController:{sitEnable:"@sitEnable",onReload:"@sitOnReload"},link:function(e,i,t,o){var r={children:"div[ng-transclude]"};!0===o.isEnabled&&a(i,o),function(){if(angular.element(l).bind("resize",s),o.onReload&&angular.isString(o.onReload)&&o.onReload.length)for(var e=o.onReload.trim().split(","),t=0;t<e.length;t++)n=e[t],c.$on(n,function(){!0===o.isEnabled&&a(i,o)});var n}();var n=c.$on("siemens.simaticit.common.stateChangeSuccess",function(e,t){"home"===t.fromState.name&&(a(i,o),n())});function a(o,a){a.timeoutPromise=d(function(){var e=$(o).children(r.children),t=e.children(),n=e.height(),i=t.height();a.display=n<i})}function s(){a(i,o)}e.$on("$destroy",function(){angular.element(l).unbind("resize",s)})}};function t(e,t,n){var i=this;n.init(),i.display=!0,i.isEnabled="true"===i.sitEnable,i.timeoutPromise=null,e.$on("$destroy",function(){n.unbind(),null!==i.timeoutPromise&&t.cancel(i.timeoutPromise)})}return t.$inject=["$scope","$timeout","common.scroll.scrollDOMService"],e}]),angular.module("siemens.simaticit.common.widgets.sidebar").directive("sitSidebar",[function(){var e={templateUrl:"common/widgets/sidebar/sidebar.html",replace:!1,controllerAs:"sidebar",transclude:!0,controller:t};function t(e,t,n,i,o,a,r,s){var c=this;function l(){c.source=s.getMenu(),c.environment=s.environment,void 0===c.source?c.errorMessage=i.instant("sidebar.error.configMissing"):(c.header=c.source&&c.source[0]||[],c.fixed=c.source&&c.source[1]||[],c.menu=c.source&&c.source[2]||[])}function d(){c.options.isExpanded=!c.options.isExpanded||!1}function m(){c.options.isExpanded=!0}function u(){c.options.isExpanded=!1}function p(e){var t=_.filter(e,function(e){return void 0===e.display||!0===e.display});return t?t.length:0}function g(){var e,t,n;if("string"==typeof arguments[0]){for(arguments.length%2==0&&o.log('Error: improper arguments in the ng-style="sidebar.calc"'),n=1;n<arguments.length;n++)e?e+=arguments[n++]*arguments[n]:e=arguments[n++]*arguments[n];t={height:"calc("+arguments[0]+" - "+e+"px)"}}else{for(arguments.length%2!=0&&o.log('Error: improper arguments in the ng-style="sidebar.calc"'),n=0;n<arguments.length;n++)e?e+=arguments[n++]*arguments[n]:e=arguments[n++]*arguments[n];t={height:"calc("+e+"px)"}}return t}a.init(),c.hide=!1,c.selected=n.current.name,c.options={isExpanded:!1,isVisible:!0},c.actions={toggle:d,expand:m,collapse:u},c.activeItemsCount=p,c.calc=g,l(),t.$watch(function(){return c.reload},function(){e.$broadcast("common.sidebar.sitSidebar.initilize"),r.reset(),l()}),t.$on("common.sidebar.sidebarService.itemChanged",function(){l()}),t.$on("common.historyService.historyChanged",function(){c.selected=r.states[r.states.length-1].name}),e.$on("common.services.globalization.globalizationService.setLanguage",function(){s.reload(),c.source=s.getMenu(),_.each(c.source,function(e){!function t(e){_.each(e,function(e){e.contents&&0<e.contents.length&&t(e.contents),e.translatedTitle=i.instant(e.title)})}(e)}),void 0===c.source?c.errorMessage=i.instant("sidebar.error.configMissing"):(c.header=c.source&&c.source[0]||[],c.fixed=c.source&&c.source[1]||[],c.menu=c.source&&c.source[2]||[])}),t.$on("$destroy",function(){a.unbind()})}return t.$inject=["$rootScope","$scope","$state","$translate","$log","common.sidebar.sidebarDOMService","common.historyService","common.sidebar.sidebarService"],e}]),function(e){var t;(function(e){var i=function(){function e(){}return e.broadcast={itemchanged:"common.historyService.historyChanged"},e.subscribe={stateChangeSuccess:"$stateChangeSuccess"},e}();e.Events=i;var t=function(){function e(e,t,n){this.$window=e,this.$rootScope=t,this.$state=n,this.activate(this),this.states=[],this.states.push(n.current)}return e.prototype.activate=function(n){this.$rootScope.$on(i.subscribe.stateChangeSuccess,function(e,t){1<n.states.length&&n.states[n.states.length-2].name===t.name?n.states.pop():n.states.push(t),n.$rootScope.$broadcast(i.broadcast.itemchanged,n.states)})},e.prototype.back=function(){this.$window.history.go(-1)},e.prototype.reset=function(){this.states=[],""!==this.$state.current.name&&(this.states.push(this.$state.current),this.$rootScope.$broadcast(i.broadcast.itemchanged,this.states))},e.$inject=["$window","$rootScope","$state"],e}();e.HistoryService=t,angular.module("siemens.simaticit.common.widgets.sidebar").service("common.historyService",t)})((t=e.simaticit||(e.simaticit={})).common||(t.common={}))}(siemens||(siemens={})),angular.module("siemens.simaticit.common.widgets.sidebar").directive("sitSidebarItem",["common.recursionHelperService",function(t){var e={templateUrl:"common/widgets/sidebar/sidebar-item.html",controllerAs:"itemCtrl",require:["^sitSidebar","sitSidebarItem"],controller:n,scope:{},bindToController:{type:"@sitType",source:"=?sitSource",actions:"=?sitActions",selected:"=?sitSelected",environment:"=?sitEnvironment"},compile:function(e){return t.compile(e)}};function n(n,t,e){var i=this;function o(){e.back()}function a(e){e.url?t.go("swacUIModule",{url:e.url,id:e.id}):t.go(e.id)}function r(e){i.hasBackNavigation=1<e.length,_.each(i.source,function(e){e.bind&&e.bind.display&&(e.display=i[e.bind.display])})}i.type=i.type||"static",i.hasBackNavigation=!1,i.options=i.options||{},i.options.default={action:{click:"navigate"}},i.actions=i.actions||{},i.actions.navigateBack=o,i.actions.navigate=a,n.$on("common.historyService.historyChanged",function(e,t){r(t)}),r(e.states),this.isChildrenSelected=function(e,t){if(e.contents){var n=_.find(e.contents,function(e){return e.id===t||(e.contents?i.isChildrenSelected(e,t):void 0)});if(n)return!0}return!1},this.click=function(e,t){t.action&&angular.isDefined(e.actions[t.action.click])&&angular.isFunction(e.actions[t.action.click])?e.actions[t.action.click](t):t.contents?n.$broadcast("common.sidebar.sitSidebarItem.contents.clicked",t):e.actions[i.options.default.action.click](t)}}return n.$inject=["$rootScope","$state","common.historyService"],e}]),function(e){var t,n,i;t=e.simaticit||(e.simaticit={}),n=t.common||(t.common={}),function(e){var n=function(){function e(){}return e.broadcast={itemChanged:"common.sidebar.sidebarService.itemChanged"},e}();e.Events=n;var d=function(){function e(e,t,n,i,o,a,r,s){this.id=e,this.title=t,this.translatedTitle=t,this.icon=n||"fa-gear",this.url=i,this.isSwac=o,this.sitIconSvgData=a,this.svgIcon=this.parseToSvgIcon(this.icon,s),null!==this.svgIcon&&(this.icon=null),this.category=r||""}return e.prototype.parseToSvgIcon=function(e,t){if(4<e.length)if(0===e.indexOf("svg ")){var n=_.findWhere(this.sitIconSvgData.sitIcons,{text:e});if(n)return{path:n.icon}}else{if(".svg"===e.substring(e.length-4,e.length).toLowerCase())return{path:e};if(t&&t.path)return{path:t.path}}return null},e}();e.SidebarMenuItem=d;var t=function(){function e(e,t,n,i){this.CONFIG=e,this.$log=t,this.$rootScope=n,this.sitIconSvgData=i,this.init(),this.setMenu(),this.environment=e.type||""}return e.prototype.init=function(){this.defaultHeader=[{id:"open",title:"sidebar.open",icon:"common\\icons\\miscChevronLeftDouble24.svg",action:{click:"toggle"}}],this.defaultFixed=[{id:"back",title:"sidebar.back",icon:"common\\icons\\cmdBack24.svg",action:{click:"navigateBack"},bind:{display:"hasBackNavigation"}},{id:"adminHome",title:"Home page",icon:"common\\icons\\cmdHome24.svg"}]},e.prototype.validatecontent=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=[];i.contents&&0<i.contents.length&&(o=this.validatecontent(i.contents)),0<o.length&&(i.contents=o);var a=this.validateItem(i);a&&t.push(a)}return t},e.prototype.find=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.contents&&0<i.contents.length)for(var o=0;o<i.contents.length;o++){var a=i.contents[o];if(a.id===t)return a;if(a.contents&&0<a.contents.length)for(var r=0;r<a.contents.length;r++)if(a.contents[r].id===t)return a.contents[r]}if(i.id===t)return i}},e.prototype.setHomeItem=function(e,t){for(var n,i=!1,o=0;o<e.length;o++){var a=e[o];if(a.contents&&0<a.contents.length)for(var r=0;r<a.contents.length;r++){var s=a.contents[r];if(s.id===t&&(n=new d(s.id,s.title,s.icon,s.url,s.isSwac,this.sitIconSvgData,s.category,s.svgIcon),i=!0),s.contents&&0<s.contents.length&&!1===i)for(var c=0;c<s.contents.length;c++){var l=s.contents[c];l.id===t&&(n=new d(l.id,l.title,l.icon,l.url,l.isSwac,this.sitIconSvgData,l.category,l.svgIcon),i=!0)}}if(a.id===t||!0===i)return n=e[o],e.splice(o,1),n}return n},e.prototype.findItem=function(e){for(var t,n=0;n<this.menuItems.length&&!(t=this.find(this.menuItems[n],e));n++);return angular.isUndefined(t)&&this.$log.log("info: No menu item found in sidebar with the id: "+e),t},e.prototype.validateItem=function(e){if(void 0!==e.id){if(void 0!==e.title){var t=new d(e.id,e.title,e.icon,e.url,e.isSwac,this.sitIconSvgData,e.category,e.svgIcon);return e.action&&angular.isObject(e.action)&&(t.action=e.action),e.bind&&angular.isObject(e.bind)&&(t.bind=e.bind),e.contents&&angular.isArray(e.contents)&&(t.contents=e.contents),void 0!==e.securable&&(t.securable=e.securable),e.isSwac&&e.url&&(t.url=e.url),t}this.$log.error("Error: title not provided for sidebar menu item "+JSON.stringify(e))}else this.$log.error("Error: id not provided for sidebar menu item "+JSON.stringify(e))},e.prototype.setMenu=function(e){var t=[];this.menuItems=[],this.home=this.CONFIG.home,this.isHomeCardEnabled=this.CONFIG.enableHomeCard,this.environment=this.CONFIG.type||"";var n=!0;if(void 0===e&&(angular.isArray(this.CONFIG.menu)||this.$log.log("Menu not configured"),this.CONFIG.menu&&0<this.CONFIG.menu.length&&void 0!==this.CONFIG.menu[0].id?(t.push(this.defaultHeader),t.push(this.defaultFixed),t.push(this.CONFIG.menu),n=!1,e=t):e=this.CONFIG.menu),void 0===e)this.menuItems=void 0;else for(var i=0;i<e.length;i++)this.menuItems.push(this.validatecontent(e[i]));if(!1===n)if(this.isHomeCardEnabled&&"rt"===this.environment)this.menuItems[1]=this.menuItems[1].slice(0,1);else{var o=this.setHomeItem(this.menuItems[2],this.home);void 0!==o&&(this.menuItems[1][1]=o)}},e.prototype.reload=function(){this.setMenu()},e.prototype.getMenu=function(){return this.menuItems},e.prototype.toggleMenuItem=function(e){var t=this.findItem(e);return!!t&&(t.display=void 0!==t.display&&!t.display,this.$rootScope.$broadcast(n.broadcast.itemChanged,t),!0)},e.prototype.hideMenuItem=function(e){var t=this.findItem(e);return!(!t||void 0!==t.display&&!1===t.display||(t.display=!1,this.$rootScope.$broadcast(n.broadcast.itemChanged,t),0))},e.prototype.showMenuItem=function(e){var t=this.findItem(e);return!(!t||void 0!==t.display&&!0===t.display||(t.display=!0,this.$rootScope.$broadcast(n.broadcast.itemChanged,t),0))},e.prototype.hideMenuItems=function(e){for(var t=0;t<e.length;t++)this.hideMenuItem(e[t])},e.prototype.showMenuItems=function(e){for(var t=0;t<e.length;t++)this.showMenuItem(e[t])},e.$inject=["CONFIG","$log","$rootScope","common.iconPicker.sitIconSvgData"],e}();e.SidebarService=t,angular.module("siemens.simaticit.common.widgets.sidebar").service("common.sidebar.sidebarService",t)}((i=n.widgets||(n.widgets={})).sidebar||(i.sidebar={}))}(siemens||(siemens={})),angular.module("siemens.simaticit.common.widgets.sortableAccordion",[]),function(){function e(){}angular.module("siemens.simaticit.common.widgets.sortableAccordion").controller("SitSortableAccordionController",e).directive("sitSortableAccordionDirective",["sitSortableAccordionService",function(o){return{restrict:"E",controller:e,controllerAs:"sortAccCtrl",templateUrl:"common/widgets/sortableAccordion/sortable-accordion.html",transclude:!0,scope:!0,bindToController:{items:"=?sitSortAccItems",closeOthers:"=?sitCloseOthers",sortableOptions:"=?sitSortableOptions",readOnly:"=?sitReadOnly"},link:function(e,t,n,i){i.sortableOptions&&(i.sortableOptions.stop=function(){var e=t.find(".nestingAccordionCustom h4.panel-title span");o.currentAccordionOrder=[],angular.forEach(e,function(e){o.currentAccordionOrder.push(e.textContent)})})}}}])}(),function(){function e(){this.currentAccordionOrder=[],this.getCurrentAccordionOrder=function(){return this.currentAccordionOrder},this.setCurrentAccordionOrder=function(e){this.currentAccordionOrder=e}}angular.module("siemens.simaticit.common.widgets.sortableAccordion").service("sitSortableAccordionService",e),e.$inject=[]}(),angular.module("siemens.simaticit.common.widgets.status",[function(){}]),function(){function e(){var e;(e=this).progressValue=10,e.progressCSSClass="progress-"+e.progressValue,e.chart=e.chart||!1}angular.module("siemens.simaticit.common.widgets.status").directive("sitStatus",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{title:"@?sitTitle",desc:"@?sitDesc",properties:"=?sitProperties",chart:"@?sitChart"},templateUrl:"common/widgets/status/status.html",controller:e,controllerAs:"statusCtrl"}})}(),angular.module("siemens.simaticit.common.widgets.switchButton",[]),function(){function e(e){var n=this;function t(e){var t=n.buttons[e];1<n.buttons.length?(angular.forEach(n.buttons,function(e){e.selected=!1}),t.selected=!0):t.selected=!t.selected,t.onClickCallback&&t.onClickCallback(t.selected)}function i(e){var t="";return 1<n.buttons.length&&(t=0===e?" switch-button-first":e===n.buttons.length-1?" switch-button-last":" switch-button-middle"),t}function o(){if(n.buttons)for(var e=0,t=n.buttons.length;e<t;e++)a(n.buttons[e])}function a(e){var t={};e&&e.svgIcon&&"string"==typeof e.svgIcon?(t={path:e.svgIcon,size:"16px"},e.icon=t):e&&e.cmdIcon&&"string"==typeof e.cmdIcon&&(t={prefix:"cmd",name:e.cmdIcon,suffix:"24",size:"16px"},e.icon=t)}e.$watch(function(){return n.buttons},function(e,t){e!==t&&o()}),n.buttonClicked=t,n.getMarginClass=i,o()}e.$inject=["$scope"],angular.module("siemens.simaticit.common.widgets.switchButton").directive("sitSwitchButton",function(){return{restrict:"E",scope:{},bindToController:{buttons:"=sitButtons"},controller:e,controllerAs:"switchButtonCtrl",templateUrl:"common/widgets/switchButton/switch-button.html"}})}(),angular.module("siemens.simaticit.common.widgets.table",[]).run(["$templateCache",function(e){e.put("template/smart-table/custom-pagination.html",'<div><div class="ngTotalSelectContainer"><div class="ngFooterTotalItems"><span class="ngLabel">{{"pager.total-items" | translate}}: {{totalItemCount}}</span></div><div class="ngFooterSelectedItems" ng-if="selectionMode !== \'single\' && selectionMode !== \'none\'"><span class="ngLabel">{{"pager.selected-items"| translate}}: {{selectedItems}}</span></div></div><div class="ngPagerContainer"><div class="ngRowCountPicker"><span class="ngLabel page-size-label">{{"pager.page-size" | translate}}:</span><select class="uyRowCountSelect" ng-model="stItemsByPage" ng-options="pageSize for pageSize in stPageSizes"></select></div><div ng-if="pages.length >= 2" class="ngPagerControl"><button type="button" class="ngPagerButton" ng-disabled="cantPageBackward(currentPage)" ng-click="selectPage(1)" title="{{"pager.page-first" | translate}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button><button type="button" class="ngPagerButton" ng-disabled="cantPageBackward(currentPage)"  ng-click="selectPage(currentPage - 1)" title="{{"pager.page-prev" | translate}}"><div class="ngPagerFirstTriangle ngpagerprevtriangle"></div></button><div class="page-select-container"><sit-page-select></sit-page-select><span class="ngGridMaxPagesNumber" ng-show="pages.length > 0"> / {{numPages}}</span></div><button type="button" class="ngPagerButton" ng-disabled="cantPageForward(currentPage)" ng-click="selectPage(currentPage + 1)" title="{{"pager.page-next" | translate}}"><div class="ngPagerLastTriangle ngpagernexttriangle"></div></button><button type="button" class="ngPagerButton" ng-disabled="cantPageForward(currentPage)" ng-click="selectPage(numPages)" title="{{"pager.page-last" | translate}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button></div></div></div>')}]),angular.module("siemens.simaticit.common.widgets.table").directive("sitPageSelect",function(){return{restrict:"E",template:'<input type="number" class="select-page" ng-model="inputPage" ng-change="selectPage(inputPage)" min="1" max="{{numPages}}">',link:function(t){t.$watch("currentPage",function(e){t.inputPage=e})}}}),function(){function e(e){var t=this;t.buttonClicked=function(e){"toggle"===e.type&&(e.selected=!e.selected);e.hasOwnProperty("method")&&(t=e.method)&&"[object Function]"==={}.toString.call(t)&&e.method(e);var t},t.displayIcon=null,t.type||(t.type="normal"),t.svgIcon?t.displayIcon={path:t.svgIcon,size:"16px"}:t.cmdIcon&&(t.displayIcon={prefix:"cmd",name:t.cmdIcon,suffix:"24",size:"16px"}),e.$on("$destroy",function(){})}angular.module("siemens.simaticit.common.widgets.table").directive("sitTableButton",function(){return{bindToController:{icon:"@sitIcon",method:"&tablebuttonclick",type:"@?sitType",selected:"=sitSelected",label:"@sitLabel",svgIcon:"@sitSvgIcon",cmdIcon:"@sitCmdIcon"},controller:e,controllerAs:"tableBtnCtrl",restrict:"A",replace:!0,scope:{},templateUrl:"common/widgets/table/table-button.html"}}),e.$inject=["$scope"]}(),function(){function e(t,c){return{restrict:"A",require:"^sitTable",compile:function(){return{post:function(n,i){var o=[],a=[];function r(){var t=n.$watch(function(){return $(i).find("th:not(.scroll-column-header)").length},function(e){void 0!==e&&0!==e&&(c(s),t())})}function s(){$(i).find("th:not(.scroll-column-header)").each(function(e){a.push(new l(t,c,n,i,this,e,o))})}!function(){if(n.$on("$destroy",function(){e(),o=a=null}),0===$(i).find("th:not(.scroll-column-header)").length)return r();s()}();var e=n.$on("sit-layout-change",function(e,t){o.splice(0,o.length),a.splice(0,a.length),r()})}}}}}function l(e,l,d,m,t,u,p){var g=30,f=$(t),n=e(f.html())(d),h=$("<span class='colHandle'></span>"),i=$("<span class='colResizer'></span>").html(n).append(h),v=$(m),y=v.width();function C(e){e.stopPropagation()}p.push(f.width()),0===f.children("span.colResizer").length&&(f.html(""),f.append(i)),h.bind("mousedown",function e(t){var a=$(m).parent().next("tbody");var r=t.clientX;v.find("th.scroll-column-header").remove("th.scroll-column-header");$(document).bind("mousemove",i);$(document).bind("mouseup",n);function n(){$(document).unbind("mousemove",i),$(document).unbind("mouseup",n),"$apply"!==d.$root.$$phase&&"$digest"!==d.$root.$$phase&&d.$apply()}function i(e){var t=e.clientX-r,n=f.width()+t;if(!(n<g)){var i=v.width()+t;if(function(e){var t=0,n=p.length,i=p.reduce(function(e,t){return e+t},0),o=e;for(;t<n;t++)t!==u&&(o+=p[t]);return o<i}(n)||i<y){i=y;var o=f.next("th:not(.scroll-column-header)");o.length||(o=f.prev("th")),o.width(o.width()+(y-i))}v.width(i),a.find("tr").width(i),f.width(n),v.find("th:not(.scroll-column-header)").each(function(e){a.find("tr:not([sit-freez]) td:nth-of-type("+(e+1)+")").width($(this).width())}),r=e.clientX}}"group"===a.attr("type")&&s();o();function o(){a.scroll(function(){var e=-this.scrollLeft;v.css("margin-left",e+"px")}),a.hover(function(){this.scrollWidth>this.clientWidth&&$(this).find(".scroll-column-data").show()})}function s(){a.find("tr[sit-freez]").on("click",function(){var n=v.width(),t=$(this).siblings("tr:not([sit-freez])");t.length&&v.find("th:not(.scroll-column-header)").each(function(e){t.find("td:nth-of-type("+(e+1)+")").width($(this).width())});var i=$(this).siblings("tr[sit-freez]");i.length&&i.each(function(e,t){i.width(n)})})}function c(){y=v.width()}d.$on("sit-table-collection-change",function(){l(function(){a=$(m).parent().next("tbody"),o(),"group"===a.attr("type")?(a.find("tr").width(v.width()),s()):v.find("th:not(.scroll-column-header)").each(function(e){a.find("tr:not([sit-freez]) td:nth-of-type("+(e+1)+")").width($(this).width())})})});$(window).bind("resize",c);d.$on("$destroy",function(){$(document).unbind("mouseup",n),h.unbind("mousedown",e),$(window).unbind("resize",c),h.unbind("click",C)})}),h.bind("click",C)}angular.module("siemens.simaticit.common.widgets.table").directive("sitTableColResize",e),e.$inject=["$interpolate","$timeout"]}(),angular.module("siemens.simaticit.common.widgets.table").constant("sitConfiguration",{pagination:{template:"template/smart-table/custom-pagination.html",itemsByPage:10,displayedPages:5,pageSizes:[10,20,50]},search:{delay:400,inputEvent:"input"},select:{mode:"multi",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),function(){function e(t,n,d,m,i,e,o,a,r,s,c){var l,u,p,g=this,f=e.sitConfig+".data",h=m(f),v=(h.assign,z(h(d))),y=h,C=i("orderBy"),b=i("filter"),w=i("sitCustomFilter"),S=!0;g.isAllSelected=!1,g.serverData=!!g.sitConfig.dataSource,g.sitConfig.enablePaging=!1!==g.sitConfig.enablePaging,g.serverItemsLoadCount=0,g.initialDataItemsCount=0,g.totalServerItemsLoadedCount=0,g.isQuickSearched=!1,g.isSorted=!1,g.isGroupedBy=!1,g.isFilterPanelOpen=!1,g.isRefreshServerSideData=!1;var x={sort:{},search:{},filter:{},pagination:{start:0,totalItemCount:0,selectedItems:0},selectionMode:g.sitConfig.selectionMode,group:{},selectedRows:[]},T={text:"er1",title:"error",buttons:[{id:"okButton",displayName:t.instant("common.ok"),onClickCallback:function(){r.hide()}}]};function I(){h=m(f),h.assign,v=z(h(d)),g.isRefreshServerSideData=!0,g.serverItemsLoadCount=g.initialDataItemsCount,g.totalServerItemsLoadedCount=0,g.pipe()}function k(){v=z(y(d)),!0===S&&g.pipe()}g.onScroll=function(e){g.serverItemsLoadCount=10,g.isScrollUpdate=!1;var t,n=$(this).prop("scrollHeight")-$(this).height(),i=$(this).scrollTop();!(95<=Math.floor(i/n*100)&&g.totalServerItemsLoadedCount!==g.totalDataItems)||g.grouping||g.isQuickSearched||g.isSorted||g.isFilterPanelOpen||(g.isScrollUpdate=!0,t=x.pagination,E(t))},g.selectToggle=function(){var e=U(d[g.displayedCollectionId],x.group.predicate);g.isAllSelected=!g.isAllSelected;for(var t,n,i=0,o=e.length;i<o;i++)e[i].isSelected=g.isAllSelected,t=e[i],void 0,!(n=_.contains(x.selectedRows,t))&&g.isAllSelected?x.selectedRows.push(t):n&&!g.isAllSelected&&x.selectedRows.splice(x.selectedRows.indexOf(t),1);x.pagination.selectedItems=x.selectedRows.length,G(x.selectedRows)},g.getTableName=function(){return e.sitTable},e.stSafeSrc&&(y=m(e.stSafeSrc)),d.$watch(function(){var e=y(d);return e&&e.length?e[0]:void 0},function(e,t){e!==t&&k()}),d.$watch(function(){var e=y(d);return e?e.length:0},function(e){e!==v.length&&k()}),d.$watch(function(){return y(d)},function(e,t){e!==t&&(x.pagination.start=0,k())}),d.$on("sit-filter-panel-opened",function(){g.isFilterPanelOpen=!0}),d.$on("sit-filter.apply",function(){g.isFilterApplied=!0}),d.$on("sit-table-filter-builder-closed",function(){g.isFilterApplied&&c(function(){g.pipe()})}),this.sortBy=function(e,t){var n,i;return x.sort.predicate=e,x.sort.reverse=!0===t,g.isSorted=!0,g.serverItemsLoadCount=g.initialDataItemsCount,g.totalServerItemsLoadedCount=0,angular.isFunction(e)?x.sort.functionName=e.name:delete x.sort.functionName,x.pagination.start=0,l&&g.sitConfig.enablePaging&&l.setCurrentPage(1),n=e,i=t,d.$emit("sit-table-sort-change",n,i),g.sitConfig.onSortChangeCallback&&angular.isFunction(g.sitConfig.onSortChangeCallback)&&g.sitConfig.onSortChangeCallback(n,i),this.pipe()},this.search=function(e,t){return e=angular.isString(e)?e.trim():e,g.serverItemsLoadCount=g.initialDataItemsCount,g.totalServerItemsLoadedCount=0,g.isQuickSearched=!0,x.search.fieldNames=t,x.search.input=e,x.pagination.start=0,l&&g.sitConfig.enablePaging&&l.setCurrentPage(1),this.pipe()},this.filter=function(e){return x.filter.predicateObject=e,x.pagination.start=0,g.serverItemsLoadCount=g.initialDataItemsCount,g.totalServerItemsLoadedCount=0,g.isQuickSearched=!0,this.pipe()},this.groupBy=function(e){return x.group.predicate=e||void 0,g.serverItemsLoadCount=g.initialDataItemsCount,g.totalServerItemsLoadedCount=0,g.isGroupedBy=!0,this.pipe()},g.setServerSideItemCount=function(){if(!1===g.sitConfig.enablePaging&&g.serverData){var e=x.pagination;g.totalDataItems=0===g.totalDataItems?void 0:g.totalDataItems,g.serverItemsLoadCount=Math.ceil(s.children("tbody")[0].clientHeight/30),g.initialDataItemsCount=angular.copy(g.serverItemsLoadCount),g.serverItemsLoadCount>g.totalServerItemsLoadedCount&&g.totalServerItemsLoadedCount!==g.totalDataItems&&E(e)}};var E=_.debounce(function(n){var e;l||(e={pagingOptions:{currentPage:1,pageSize:10},quickSearchOptions:{enabled:!0,field:"",filterText:""},sortInfo:{field:"",direction:""},serverDataOptions:g.sitConfig.dataSource},l=o.getDataManager(e)),!_.isEmpty(x.pagination)&&A(),!_.isEmpty(x.sort)&&M(),!_.isEmpty(x.search)&&F(),!_.isEmpty(x.filter)&&N(),a.show(),!1===g.sitConfig.enablePaging&&g.serverData?l.getServerData(g.serverItemsLoadCount,g.totalServerItemsLoadedCount).then(function(e){a.hide(),(g.sitConfig.enablePaging||!g.serverData||g.isGroupedBy||g.isQuickSearched||g.isSorted||g.isRefreshServerSideData||g.isFilterPanelOpen)&&(d[g.displayedCollectionId]=[]),d.totalDataItems=e.totalDataSize,g.totalDataItems=e.totalDataSize;for(var t=0;t<e.data.length;t++)d[g.displayedCollectionId].push(e.data[t]);n.totalItemCount=g.totalDataItems,g.totalServerItemsLoadedCount=e.data.length+g.totalServerItemsLoadedCount,(g.isQuickSearched||g.isSorted||g.isGroupedBy||g.isRefreshServerSideData||g.isFilterPanelOpen)&&(g.isQuickSearched=!1,g.isSorted=!1,g.isGroupedBy=!1,g.isRefreshServerSideData=!1,g.isFilterPanelOpen=!1,g.bindScroll()),P(),O(),d.$emit("sit-table-collection-change")}):void 0===n.number?l.getAllData().then(function(e){a.hide(),d[g.displayedCollectionId]=e.data,P(),O(),d.$emit("sit-table-collection-change")},function(e){a.hide(),B(e)}):l.getPageData().then(function(e){a.hide(),d[g.displayedCollectionId]=e.data,n.numberOfPages=Math.ceil(e.totalDataSize/g.tableState().pagination.number)||0,n.totalItemCount=e.totalDataSize,P(),O(),d.$emit("sit-table-collection-change")},function(e){a.hide(),B(e)})},200);function O(){var t=0,n=s.children().eq(0).children("tr:last-child").children("th.scroll-column-header").length,i=!!s.children().eq(0).children("tr:last-child").attr("style");c(function(){var e=s.children("tbody")[0];e&&(e.onscroll=function(){this.scrollTop?s.children("thead").first().addClass("shadow"):s.children("thead").first().removeClass("shadow")}),e.scrollHeight>e.clientHeight?s.children().eq(1)[0].scrollWidth===s.children().eq(1)[0].clientWidth&&i?(s.children().eq(0).children("tr:last-child").children("th.scroll-column-header").remove("th.scroll-column-header"),t=s.children().eq(1).children(":first-child").width(),s.children().eq(0).children("tr:last-child").css("width",t)):0!==n||i||s.children().eq(0).children("tr:last-child").append('<th class="scroll-column-header"></th>'):s.children().eq(1)[0].scrollWidth===s.children().eq(1)[0].clientWidth&&i?(s.children().eq(0).children("tr:last-child").children("th.scroll-column-header").remove("th.scroll-column-header"),t=s.children().eq(1).children(":first-child").width(),s.children().eq(0).children("tr:last-child").css("width",t)):1!==n||i||s.children().eq(0).children("tr:last-child").children("th.scroll-column-header").remove("th.scroll-column-header")},10)}function P(){var e,t,n,i,o=g.sitConfig.uniqueID,a=U(d[g.displayedCollectionId],x.group.predicate),r=0,s=a.length;for(g.sitConfig.selectionMode&&("single"===g.sitConfig.selectionMode.toLowerCase()&&0<x.selectedRows.length?(x.selectedRows=x.selectedRows.splice(x.selectedRows.length-1),p=1===x.selectedRows.length?x.selectedRows[0]:void 0):"none"===g.sitConfig.selectionMode.toLowerCase()&&(x.selectedRows=[],p=void 0)),t=x.selectedRows.length,function(e){var t=0,n=e.length;for(;t<n;t++)e[t].isSelected&&(e[t].isSelected=!1)}(a);r<t;r++)for(e=0;e<s;e++){if(o)if("function"==typeof o)o(a[e],x.selectedRows[r])&&(a[e].isSelected=!0,D(x,a,r,e));else"string"==typeof o&&x.selectedRows[r][o]===a[e][o]&&(a[e].isSelected=!0,D(x,a,r,e));else V(x.selectedRows[r],a[e])&&!a[e].isSelected&&(a[e].isSelected=!0,D(x,a,r,e))}i=g,(n=x).pagination.selectedItems=n.selectedRows.length,i.isAllSelected=R()}function D(e,t,n,i){e.selectedRows[n]=t[i],"single"===e.selectionMode&&(p=t[i])}function R(){var e,t=!1;return 0<(e=U(d[g.displayedCollectionId],x.group.predicate)).length&&(t=void 0===(t=_.find(e,function(e){return void 0===e.isSelected||!1===e.isSelected}))),t}function A(){var e=x.pagination,t=e.start||0,n=e.number||10,i=Math.floor(t/n)+1;l.setPageSize(n),l.setCurrentPage(i)}function M(){var e=x.sort,t=e.reverse?"desc":"asc",n=e.predicate||"";l.setSortInfo(n,t)}function F(){var e=x.search,t=e.fieldNames||"",n=e.input||"";l.setSearchField(t),l.setSearchText(n)}function N(){l.setFilter(x.filter.predicateObject)}function B(e){T.title=t.instant("common.error"),T.text=n.formatErrorMessage(e),r.set(T),r.show()}function G(e){d.$emit("sit-row-selection-change",x.selectedRows,e),g.sitConfig.onSelectionChangeCallback&&g.sitConfig.onSelectionChangeCallback(x.selectedRows,e)}this.pipe=function(){var e=x.pagination,t=x.group;if(g.sitConfig.dataSource&&!1===g.sitConfig.enablePaging)g.setServerSideItemCount();else if(g.sitConfig.dataSource)E(e);else{var n,i=x.search.fieldNames,o=x.search.input;if(i&&i.length&&o){for(var a=[],r=0,s=i.length;r<s;r++){var c={};m(i[r]).assign(c,o),a=_.union(a,b(v,c))}u=a}else u=v;x.filter.predicateObject&&(u=x.filter.predicateObject?w(u,x.filter.predicateObject):v),x.sort.predicate&&(u=C(u,x.sort.predicate,x.sort.reverse)),e.totalItemCount=u.length,void 0!==t.predicate&&(u=function(e,t){for(var n=[],i={},o=0;o<e.length;o++){var a=e[o],r=L(a,t),s=i[r];void 0===s&&(s={key:r,items:[]},i[r]=s,n.push(s)),s.items.push(a)}return n}(u,t.predicate)),void 0!==e.number&&(e.numberOfPages=0<u.length?Math.ceil(u.length/e.number):1,e.start=e.start>=u.length?(e.numberOfPages-1)*e.number:e.start,n=u.slice(e.start,e.start+parseInt(e.number)));var l=n||u;d[g.displayedCollectionId]=l,function(t,e,n){var i,o=0,a=e.length,r=[];if(n)return;for(;o<t.selectedRows.length;o++){for(i=0;i<a&&!V(t.selectedRows[o],e[i]);i++);i===a&&r.unshift(o)}r.forEach(function(e){t.selectedRows.splice(e,1),0<t.pagination.selectedItems&&t.pagination.selectedItems--})}(x,v,g.sitConfig.uniqueID),P(),O(),d.$emit("sit-table-collection-change")}},this.select=function(e,t){var n=U(d[g.displayedCollectionId],x.group.predicate),i=n.indexOf(e);if(-1!==i){if("single"===t)x.selectedRows=[],e.isSelected=!0!==e.isSelected,p&&(p.isSelected=!1),p=!0===e.isSelected?e:void 0;else{if("none"===t)return;n[i].isSelected=!n[i].isSelected,!0===n[i].isSelected?x.pagination.selectedItems++:x.pagination.selectedItems--,e.isSelected||function(e){var t=0,n=x.selectedRows.length;for(;t<n;t++)if(V(x.selectedRows[t],e)){x.selectedRows.splice(t,1);break}}(e),g.isAllSelected=R()}e.isSelected&&x.selectedRows.push(e),G(e)}},this.slice=function(e,t,n){var i;return x.pagination.number&&(i=n,d.$emit("sit-table-page-change",i),g.sitConfig.onPageChangeCallback&&angular.isFunction(g.sitConfig.onPageChangeCallback)&&g.sitConfig.onPageChangeCallback(i)),x.pagination.start=e,x.pagination.number=t,this.pipe()},this.tableState=function(){return x},this.getFilteredCollection=function(){return u||v},this.setFilterFunction=function(e){b=i(e)},this.setFilterBarFunction=function(e){w=i(e)},this.setSortFunction=function(e){C=i(e)},this.preventPipeOnWatch=function(){S=!1},g.onInitCallback=function(){g.sitConfig.onInitCallback&&angular.isFunction(g.sitConfig.onInitCallback)&&g.sitConfig.onInitCallback(g.sitConfig)},this.getSettings=function(){return x},this.applySettings=function(e){e&&(x=e,g.sitConfig.selectionMode=e.selectionMode?e.selectionMode:g.sitConfig.selectionMode,g.pipe())},this.saveSettings=function(e){window.sessionStorage.setItem(e,JSON.stringify(x))},this.loadSettings=function(e){var t;return window.sessionStorage.getItem(e)&&(t=JSON.parse(window.sessionStorage.getItem(e))),t},g.setTableAPIOptions=function(){g.sitConfig&&(g.sitConfig.getSettings=g.getSettings,g.sitConfig.applySettings=g.applySettings,g.sitConfig.loadSettings=g.loadSettings,g.sitConfig.saveSettings=g.saveSettings,g.sitConfig.refreshData=I)},g.setTableAPIOptions(),g.onInitCallback()}function V(e,t){if(e&&t){var n=JSON.parse(angular.toJson(e)),i=JSON.parse(angular.toJson(t));if(delete n.isSelected,delete i.isSelected,_.isEqual(n,i))return!0}return!1}function L(e,t){for(var n=t.split(".");n.length;)e=e[n.shift()];return e}function z(e){return e?[].concat(e):[]}function U(e,t){var n,i=z(e);return void 0!==t&&(n=[],function t(e){e.forEach(function(e){e.items&&0<e.items.length?t(e.items):n.push(e)})}(i),i=n),i}function t(k,E,e,O,P,D){var c=0;return{restrict:"A",controller:"sitTableController",controllerAs:"sitTableCtrl",bindToController:{sitConfig:"=sitConfig"},compile:function(e,t){var C,b=[],w={},S={},x="",T="",I="displayedCollection_"+ ++c,n=e.children().eq(0).children("tr:last-child");C=n.children().length;var i=e.children().eq(1).children(),o=i[0].hasAttribute("ng-repeat-start")?"ng-repeat-start":"ng-repeat",a=i[0].getAttribute(o),r=a.substring(0,a.indexOf(" "));i.each(function(e,t){t.hasAttribute("sit-freez")||$(t).attr("sit-select-row",r)});var s=[];return i[0].setAttribute(o,r+" in "+I),n.children().each(function(e,t){var n=$(t).attr("sit-field");n?S[n]=t.outerHTML:S[e]=t.outerHTML,s.push(t.innerHTML)}),$(i[0]).children().each(function(e,t){var n=s.splice(0,1);$(t).attr("data-label",n[0]);var i=$(t).attr("sit-field");i?(w[i]=t.outerHTML,"undefined"==n[0].replace(/\{\{(.+?)\}\}/g)&&""==n[0].replace(/\{\{(.+?)\}\}/g)||b.push({field:i,displayName:n[0],visible:!0})):w[e]=t.outerHTML}),n.append('<th class="scroll-column-header"></th>'),n.prepend('<th ng-if="'+t.sitConfig+".svgIcon || "+t.sitConfig+'.typeIcon" style="width:30px;"></th>'),i.prepend('<td ng-if="'+t.sitConfig+'.svgIcon" style="width:30px;"><img ng-src="{{'+t.sitConfig+'.svgIcon}}" height="20px" width="20px"></td>'),i.prepend('<td ng-if="!'+t.sitConfig+".svgIcon && "+t.sitConfig+'.typeIcon" style="width:30px;"><img ng-src="common/icons/type{{'+t.sitConfig+'.typeIcon}}48.svg" height="20px" width="20px"></td>'),x=e.children(":first-child").children(":last-child")[0].outerHTML,T=e.children()[1].outerHTML,O.put(t.sitTable,e.children()[1].outerHTML),{pre:function(){},post:function(l,d,m,u){var i,e,t,n,o,a=null,p=!1;if(m.stSetFilter&&u.setFilterFunction(m.stSetFilter),m.stSetSort&&u.setSortFunction(m.stSetSort),u.sitConfig.userPrefId){var r=[];if((a=D.getCurrentUserPreference("sit-table",u.sitConfig.userPrefId))&&Object.keys(a.columns).length===b.length){for(var s in a.columns){var c=_.findIndex(b,{field:s});b[c].visible=a.columns[s].visible,r.push(b[c])}h(b=r)}}if(u.sitConfig.fields){var g={};Object.keys(u.sitConfig.fields).forEach(function(e){!1===u.sitConfig.fields[e].visible&&(g[e]=!1),u.sitConfig.fields[e].sorting&&!p&&(p=!0)}),Object.keys(g).length&&(i=g,e=x,t=T,n=$.parseHTML(e),o=$.parseHTML(t),$(n).children(":not(th.scroll-column-header)").each(function(e,t){var n=$(t).attr("sit-field");!1===i[n]&&$(t).attr("ng-if",!1)}),$(o).children().eq(0).children().each(function(e,t){var n=$(t).attr("sit-field");!1===i[n]&&$(t).attr("ng-if",!1)}),x=n[0].outerHTML,T=o[0].outerHTML,O.put(m.sitTable,o[0].outerHTML),a||v())}if(u.displayedCollectionId=I,l[I]=[],u.personalizeTable=h,u.resetPersonalization=v,u.getColumnDefs=function(){var i={};return d.children().eq(0).children("tr:last-child").children("th:not(.scroll-column-header)").each(function(e,t){var n=$(t).attr("sit-field");n&&(i[n]=!0)}),b.forEach(function(e,t){e.displayName=e.displayName.replace(/\{\{(.+?)\}\}/g,function(e,t){return P(t)(l)}),e.visible=!!i[e.field]}),b},u.getResetColumnDefs=function(){return d.children().eq(0).children("tr:last-child").children("th:not(.scroll-column-header)").each(function(e,t){var n=$(t).attr("sit-field"),i=_.findIndex(b,{field:n});-1!=i&&(b[i].index=e,b[i].visible=!0)}),b=b.sort(function(e,t){return e.index-t.index})},u.tableState().group.predicate){var f=E('<sit-table-group type="group" name="'+m.sitTable+'"></sit-table-group>')(l);d.children().eq(1).replaceWith(f)}function h(e){var i=$.parseHTML(T),o=$.parseHTML(x);$(i).children(":first-child").empty(),$(o[0]).empty();for(var t=0;t<C;t++)if(S[t]&&w[t]){var n=$.parseHTML(S[t]),a=$.parseHTML(w[t]);$(o[0]).append(n),$(i).children(":first-child").append(a)}e.forEach(function(e){var t=$.parseHTML(S[e.field]),n=$.parseHTML(w[e.field]);!1===e.visible&&($(t).attr("ng-if",!1),$(n).attr("ng-if",!1)),$(o[0]).append(t),$(i).children(":first-child").append(n)}),$(o[0]).append('<th class="scroll-column-header"></th>');var r=E(o)(l);if(d.children(":first-child").children(":last-child").replaceWith(r),!1!==u.sitConfig.enableColumnResizing&&E(d.children().eq(0).children("tr:last-child").attr("sit-table-col-resize",""))(l),p&&E(d.children().eq(0).children("tr:last-child").attr("sit-table-sortable",""))(l),O.put(m.sitTable,i[0].outerHTML),u.tableState().group&&u.tableState().group.predicate){var s=E('<sit-table-group type="group" name="'+m.sitTable+'"></sit-table-group>')(l);d.children().eq(1).replaceWith(s)}else{var c=E(i)(l);d.children().eq(1).replaceWith(c)}}function v(){var e=x,t=T;u.isRefreshServerSideData=!0,u.serverItemsLoadCount=u.initialDataItemsCount,u.totalServerItemsLoadedCount=0;var n=E(e)(l);if(d.children(":first-child").children(":last-child").replaceWith(n),!1!==u.sitConfig.enableColumnResizing&&E(d.children().eq(0).children("tr:last-child").attr("sit-table-col-resize",""))(l),p&&E(d.children().eq(0).children("tr:last-child").attr("sit-table-sortable",""))(l),O.put(m.sitTable,t),u.tableState().group&&u.tableState().group.predicate){var i=E('<sit-table-group type="group" name="'+m.sitTable+'"></sit-table-group>')(l);d.children().eq(1).replaceWith(i)}else{var o=E(t)(l);d.children().eq(1).replaceWith(o)}}l.$watch(function(){return u.tableState().group},function(e,t){var n;angular.isString(e.predicate)!==angular.isString(t.predicate)&&(k.log("Grouping changed",e.predicate,"sitTable"),n=""!==e.predicate&&void 0!==e.predicate?E('<sit-table-group type="group" name="'+m.sitTable+'"></sit-table-group>')(l):E('<sit-table-group name="'+m.sitTable+'"></sit-table-group>')(l),d.children().eq(1).replaceWith(n),l.$emit("sit-table-group-change",e.predicate))},!0);var y=E('<span sit-table-button sit-icon="fa-check-square-o" ng-show="!sitTableCtrl.sitConfig.selectionMode || (sitTableCtrl.sitConfig.selectionMode.toLowerCase() !== \'single\' && sitTableCtrl.sitConfig.selectionMode.toLowerCase() !== \'none\')" ng-click="sitTableCtrl.selectToggle()" sit-selected="sitTableCtrl.isAllSelected"  sit-type="toggle" sit-label="{{\'common.selectAll\' | translate}}"></span><span sit-table-separator ng-show="!sitTableCtrl.sitConfig.selectionMode || (sitTableCtrl.sitConfig.selectionMode.toLowerCase() !== \'single\'  && sitTableCtrl.sitConfig.selectionMode.toLowerCase() !== \'none\')"></span>')(l);d.children().eq(0).find(".tool-bar").prepend(y),!1!==u.sitConfig.enableColumnResizing&&E(d.children().eq(0).children("tr:last-child").attr("sit-table-col-resize",""))(l),p&&E(d.children().eq(0).children("tr:last-child").attr("sit-table-sortable",""))(l),u.bindScroll=function(){u.serverData&&!u.sitConfig.enablePaging&&(d.find("tbody").unbind("scroll",u.onScroll),d.find("tbody").bind("scroll",u.onScroll))},u.bindScroll(),u.sitConfig.data&&!l[u.displayedCollectionId].length&&u.sitConfig.refreshData()}}}}}angular.module("siemens.simaticit.common.widgets.table").controller("sitTableController",e).directive("sitTable",t),e.$inject=["$translate","common","$scope","$parse","$filter","$attrs","common.widgets.pager.serverDataService","common.widgets.busyIndicator.service","common.widgets.messageOverlay.service","$element","$timeout"],t.$inject=["common.services.logger.service","$compile","$timeout","$templateCache","$parse","common.services.personalization.personalizationService"]}(),function(){function e(s,c,l,d,m,u){var p=this;function e(){p.showFilter=!1,p.sortByField=h,p.quickSearch=v,p.groupFields=y,p.tableCtrl=c.controller("sitTable"),p.previousConfiguration=[],p.serverData=!!p.tableCtrl.sitConfig.dataSource,p.buttons=[{id:"resetButton",onClickCallback:function(){var e;d.hide(),(e={text:"",title:"",buttons:[{id:"okButton",displayName:l.instant("common.ok"),onClickCallback:function(){var e;u.hide(),e={type:"sit-table",prefrenceId:p.tableCtrl.sitConfig.userPrefId},m.resetPersonalization(e.type,e.prefrenceId).then(function(){p.tableCtrl.resetPersonalization(),p.personalizationSettings.templatedata.data.columnDefs=p.tableCtrl.getResetColumnDefs(),p.previousConfiguration=angular.merge([],p.personalizationSettings.templatedata.data.columnDefs.sort(function(e,t){return e.index-t.index})),p.personalizationSettings=null},function(){p.personalizationSettings=null})}},{id:"cancelButton",displayName:l.instant("common.cancel"),onClickCallback:function(){u.hide(),p.personalizationSettings||(p.personalizationSettings=C(),p.previousConfiguration=angular.merge([],p.personalizationSettings.templatedata.data.columnDefs)),d.set(p.personalizationSettings),d.show()}}]}).title=l.instant("userPrefrences.overlayMessage.title"),e.text=l.instant("userPrefrences.overlayMessage.text"),u.set(e),u.show()}},{id:"saveAllButton",displayName:l.instant("common.ok"),onClickCallback:function(){d.hide();var e=p.personalizationSettings.templatedata.data.columnDefs.sort(function(e,t){return e.index-t.index}),t={};e.forEach(function(e){t[e.field]={visible:e.visible}});var n={type:"sit-table",prefrenceId:p.tableCtrl.sitConfig.userPrefId,value:{columns:t}};m.setPersonalization(n.type,n.prefrenceId,n.value).then(function(){p.previousConfiguration=angular.merge([],p.personalizationSettings.templatedata.data.columnDefs.sort(function(e,t){return e.index-t.index})),p.tableCtrl.personalizeTable(e)},function(){})}},{id:"cancelButton",displayName:l.instant("common.cancel"),onClickCallback:function(){d.hide(),p.previousConfiguration.length&&(p.personalizationSettings.templatedata.data.columnDefs=angular.merge([],p.previousConfiguration))}}];var e,t=function(){var e="sqgfp";g().length<1&&(e=e.replace("q",""));(p.serverData||f().length<1)&&(e=e.replace("g",""));p.tableCtrl.sitConfig&&!p.tableCtrl.sitConfig.hasOwnProperty("userPrefId")&&(e=e.replace("p",""));return e}(),n=p.tableCtrl.getSettings(),i=n.group.predicate||"",o=n.sort.predicate||"",a=n.sort.reverse?"desc":"asc",r=n.search.input;p.filterOptions={currentGroupField:i,currentSortDirection:a,currentSortField:o,displayOptions:t,onFilterClickCallback:function(){p.showFilter=!p.showFilter,!1===p.showFilter&&s.$emit("sit-table-filter-builder-closed")},groupByFields:f(),onGroupChangeCallback:function(e){p.groupFields(e)},quickSearchField:g(),quickSearchText:r,onSearchChangeCallback:function(e){p.quickSearch(e)},sortByFields:(e=_.filter(_.keys(p.tableCtrl.sitConfig.fields),function(e){return p.tableCtrl.sitConfig.fields[e].sorting}),_.map(e,function(e){var t=p.tableCtrl.sitConfig.fields[e].displayName||e;return{field:e,displayName:t}})),sortByText:"Sort By",onSortChangeCallback:function(e,t){p.sortByField(e,t)},filterFields:function(){var e=_.filter(p.tableCtrl.sitConfig.fields,function(e,t){return e.filtering&&(e.filtering.field=t,e.filtering.displayName=e.displayName),e.filtering});if(p.tableCtrl.sitConfig.filterFields&&"filterPanel"===p.tableCtrl.sitConfig.filterFields.type&&0<p.tableCtrl.sitConfig.filterFields.fields.length)return p.tableCtrl.sitConfig.filterFields;return _.map(e,function(e){return e.filtering})}(),onPreferenceButtonClicked:function(){p.personalizationSettings||(p.personalizationSettings=C(),p.previousConfiguration=angular.merge([],p.personalizationSettings.templatedata.data.columnDefs.sort(function(e,t){return e.index-t.index}))),d.set(p.personalizationSettings),d.show()}},p.filterClauses=n.filter.predicateObject,p.filterClauses&&function(){var e=0,t=p.filterClauses.length;for(;e<t;e++){var n=p.filterClauses[e].filterField.field,i=_.findWhere(p.filterOptions.filterFields,{field:n});p.filterClauses[e].filterField=i}p.showFilter=!0}(),p.filterSearchOptions={},function(){p.isFilterPanel=!1,p.tableCtrl.sitConfig.filterFields&&"filterPanel"===p.tableCtrl.sitConfig.filterFields.type&&(p.isFilterPanel=!0,p.filterPanelData=p.tableCtrl.sitConfig.filterFields,p.filterPanelData.parentWidget="table",p.filterPanelData.defaultApplyCallback=b);p.applyFilter=b,p.resetFilter=w}()}function g(){return _.filter(_.keys(p.tableCtrl.sitConfig.fields),function(e){return p.tableCtrl.sitConfig.fields[e].quicksearch})}function f(){var e=_.filter(_.keys(p.tableCtrl.sitConfig.fields),function(e){return p.tableCtrl.sitConfig.fields[e].grouping});return _.map(e,function(e){return{field:e,displayName:p.tableCtrl.sitConfig.fields[e].displayName||e}})}function h(e,t){var n="asc"!==t;p.tableCtrl.sortBy(e,n)}function v(e){p.tableCtrl.setFilterFunction("filter"),function(e){var t=p.filterOptions.quickSearchField.length;if(t===Object.keys(p.tableCtrl.sitConfig.fields).length)p.tableCtrl.search(e,"$");else{var n=0<t?p.filterOptions.quickSearchField:"";p.tableCtrl.search(e,n)}}(e)}function y(e){p.tableCtrl.groupBy(e)}function C(){return{title:"Column Configuration",templatedata:{data:{columnDefs:p.tableCtrl.getColumnDefs()},reset:p.buttons[0],viewMode:"grid"},templateuri:"common/widgets/table/table-personalization.html",buttons:p.buttons}}function b(e){p.tableCtrl.setFilterBarFunction("sitCustomFilter"),p.tableCtrl.filter(e)}function w(){s.$broadcast("sit-table-filter",[])}(p.activate=e)(),s.$on("sit-filter-panel-closed",function(){p.showFilter=!p.showFilter})}function t(c){return{restrict:"AE",require:"^sitTable",replace:!0,scope:{},controller:e,controllerAs:"sitTableFilterbarCtrl",templateUrl:"common/widgets/table/table-filterbar.html",link:function(e,n,t,i){var o=10,a=n.controller("sitTableFilterbar");function r(){a.showFilter&&!a.isFilterPanel&&s()}function s(){var e=n.parent(".tool-bar");e.addClass("filter-open");var t=e.height();n.find("#filter").css("top",t+o+"px")}e.$watch(function(){return i.tableState()},function(){a.activate()}),e.$watch(function(){return a.showFilter},function(e){!0!==e||a.isFilterPanel?(n.parent(".tool-bar").removeClass("filter-open"),n.find("#filter").css("top","0px")):s()}),e.$on("sit-layout-change",r),e.$on("$destroy",function(){angular.element(c).off("resize",r)})}}}angular.module("siemens.simaticit.common.widgets.table").directive("sitTableFilterbar",t),e.$inject=["$scope","$element","$translate","common.widgets.globalDialog.service","common.services.personalization.personalizationService","common.widgets.messageOverlay.service"],t.$inject=["$window"],angular.module("siemens.simaticit.common.widgets.table").filter("sitCustomFilter",["common.widgets.filter.service",function(n){return function(e,t){return n.filterArray(t,e)}}])}(),function(){function e(s){return{restrict:"E",replace:!0,templateUrl:function(e,t){return"group"===t.type?"common/widgets/table/table-with-group.html":t.name},compile:function(n,e){if("group"===e.type){var t=$.parseHTML(s.get(e.name)),i=t[0].children[0].hasAttribute("ng-repeat-start")?"ng-repeat-start":"ng-repeat",o=t[0].children[0].getAttribute(i),a=o.substring(0,o.indexOf(" ")),r=t[0].children[0].children;if(n.children().eq(0).attr("ng-repeat-start",o),n.children().eq(0).children()[0].innerText="{{"+a+".key}} ({{"+a+".items.length}})",n.children().eq(0).children()[0].innerHTML="<i ng-class=\"show ? 'fa fa-angle-down':'fa fa-angle-right'\" aria-hidden=\"true\"></i> {{row.key}} ({{row.items.length}})",n.children().eq(1).attr(i,a+" in "+a+".items"),n.children().eq(1).append(r),"ng-repeat-start"===i)$(t).children(":not(:first-child)").each(function(e,t){$(t).attr("ng-if","show"),n.children(":last-child").before(t)})}}}}angular.module("siemens.simaticit.common.widgets.table").directive("sitTableGroup",e),e.$inject=["$templateCache"]}(),angular.module("siemens.simaticit.common.widgets.table").directive("sitTablePager",function(){return{restrict:"AE",require:"^sitTable",replace:!0,template:'<td ng-if="enablePaging !== false"><div st-pagination="" st-items-by-page="itemsByPage" st-page-sizes="displayedPages" st-template="template/smart-table/custom-pagination.html"></div></td>',link:function(e,t,n,i){e.itemsByPage=i.sitConfig.pageSizeDefault,e.displayedPages=i.sitConfig.pageSizes,e.enablePaging=!i.sitConfig.dataSource||!1!==i.sitConfig.enablePaging}}}),angular.module("siemens.simaticit.common.widgets.table").directive("stPagination",["sitConfiguration",function(i){return{restrict:"EA",require:"^sitTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageSizes:"=?",stPageChange:"&"},templateUrl:function(e,t){return t.stTemplate?t.stTemplate:i.pagination.template},link:function(a,e,t,r){function n(){var e,t,n=r.tableState().pagination,i=1,o=a.currentPage;for(a.selectionMode=r.tableState().selectionMode,a.selectedItems=n.selectedItems,a.totalItemCount=n.totalItemCount,a.currentPage=Math.floor(n.start/n.number)+1,(e=(i=Math.max(i,a.currentPage-Math.abs(Math.floor(a.stDisplayedPages/2))))+a.stDisplayedPages)>n.numberOfPages&&(e=n.numberOfPages+1,i=Math.max(1,e-a.stDisplayedPages)),a.pages=[],a.numPages=n.numberOfPages,t=i;t<e;t++)a.pages.push(t);o!==a.currentPage&&a.stPageChange({newPage:a.currentPage})}a.stPageSizes=a.stPageSizes?a.stPageSizes:i.pagination.pageSizes,a.stItemsByPage=a.stItemsByPage?a.stItemsByPage:i.pagination.itemsByPage,-1===a.stPageSizes.indexOf(a.stItemsByPage)&&(a.stItemsByPage=a.stPageSizes[0]),a.stDisplayedPages=a.stDisplayedPages?a.stDisplayedPages:i.pagination.displayedPages,a.currentPage=1,a.pages=[],a.$watch(function(){return r.tableState().pagination},n,!0),a.$watch(function(){return r.tableState().selectionMode},n,!0),a.$watch("stItemsByPage",function(e,t){e!==t&&a.selectPage(1)}),a.$watch("stDisplayedPages",n),a.selectPage=function(e){0<e&&e<=a.numPages&&r.slice((e-1)*a.stItemsByPage,a.stItemsByPage,e)},a.cantPageBackward=function(e){return e<=1},a.cantPageForward=function(e){return e===a.numPages},r.tableState().pagination.number||r.slice(0,a.stItemsByPage,1)}}}]),angular.module("siemens.simaticit.common.widgets.table").directive("stPipe",["sitConfiguration","$timeout",function(a,r){return{require:"sitTable",scope:{stPipe:"="},link:{pre:function(e,t,n,i){var o=null;angular.isFunction(e.stPipe)&&(i.preventPipeOnWatch(),i.pipe=function(){return null!==o&&r.cancel(o),o=r(function(){e.stPipe(i.tableState(),i)},a.pipe.delay)})},post:function(e,t,n,i){i.pipe()}}}}]),angular.module("siemens.simaticit.common.widgets.table").directive("stSearch",["sitConfiguration","$timeout","$parse",function(l,d,m){return{require:"^sitTable",link:function(e,i,n,o){var a=o,t=null,r=n.stDelay||l.search.delay,s=n.stInputEvent||l.search.inputEvent;function c(e){e=e.originalEvent||e,null!==t&&d.cancel(t),t=d(function(){a.search(e.target.value,n.stSearch||""),t=null},r)}n.$observe("stSearch",function(e,t){var n=i[0].value;e!==t&&n&&(o.tableState().search={},a.search(n,e))}),e.$watch(function(){return o.tableState().search},function(e){var t=n.stSearch||"$";e.predicateObject&&m(t)(e.predicateObject)!==i[0].value&&(i[0].value=m(t)(e.predicateObject)||"")},!0),i.bind(s,c),e.$on("$destroy",function(){i.unbind(s,c)})}}}]),angular.module("siemens.simaticit.common.widgets.table").directive("sitSelectRow",["sitConfiguration",function(r){return{restrict:"A",scope:{row:"=sitSelectRow"},link:function(e,t,n){var i,o=t.controller("sitTable");function a(){e.$apply(function(){o.select(e.row,i)})}o&&("none"!==(i=o.tableState().selectionMode||n.sitSelectMode||r.select.mode)&&t.bind("click",a),e.row.isSelected&&t.addClass(r.select.selectedClass),e.$watch("row.isSelected",function(e){!0===e?t.addClass(r.select.selectedClass):t.removeClass(r.select.selectedClass)}),e.$watch(function(){return o.tableState().selectionMode},function(e,t){e!==t&&(i=e)})),e.$on("$destroy",function(){t.unbind("click",a)})}}}]),angular.module("siemens.simaticit.common.widgets.table").directive("sitTableSeparator",function(){return{restrict:"AE",replace:!0,template:'<div class="sit-table-separator"><span></span></div>'}}),angular.module("siemens.simaticit.common.widgets.table").directive("stSort",["sitConfiguration","$parse","$timeout",function(v,y,C){return{restrict:"A",require:"^sitTable",link:function(t,n,i,o){var e,a=i.stSort,r=y(a),s=0,c=i.stClassAscent||v.sort.ascentClass,l=i.stClassDescent||v.sort.descentClass,d=[c,l],m=void 0!==i.stSkipNatural?i.stSkipNatural:v.sort.skipNatural,u=void 0!==i.stDescendingFirst?i.stDescendingFirst:v.sort.descendingFirst,p=null,g=i.stDelay||v.sort.delay;function f(){var e;u?s=0===s?2:s-1:s++,a=angular.isFunction(r(t))||angular.isArray(r(t))?r(t):i.stSort,s%3==0&&!0!==m?(s=0,o.tableState().sort={},o.tableState().pagination.start=0,e=o.pipe.bind(o)):e=o.sortBy.bind(o,a,s%2==0),null!==p&&C.cancel(p),g<0?e():p=C(e,g)}function h(){a&&t.$apply(f)}i.stSortDefault&&(e=void 0!==t.$eval(i.stSortDefault)?t.$eval(i.stSortDefault):i.stSortDefault),n.bind("click",h),e&&(s="reverse"===e?1:0,f()),t.$watch(function(){return o.tableState().sort},function(e){e.predicate!==a?(s=0,n.removeClass(c).removeClass(l)):(s=!0===e.reverse?2:1,n.removeClass(d[s%2]).addClass(d[s-1]))},!0),t.$on("$destroy",function(){n.unbind("click",h)})}}}]),angular.module("siemens.simaticit.common.widgets.table").directive("sitTableSortable",function(){return{restrict:"A",require:"^sitTable",scope:{},link:function(e,o,t,a){var r={};function i(e){var t={},n=$(this).attr("sit-field");if(angular.copy(a.getSettings(),t),t.sort.hasOwnProperty("predicate")&&t.sort.predicate===n){var i=t.sort.reverse;t.sort.reverse=!i}else t.sort={predicate:n,reverse:!1};a.applySettings(t)}function n(){e.$watch(function(){return a.tableState().sort},function(e,t){var n,i;$(o).children(":not(th.scroll-column-header)").each(function(e,t){var n=$(t).attr("sit-field");n&&$(t).find("i.fa-caret-up , i.fa-caret-down").remove("i.fa-caret-up , i.fa-caret-down")}),r[e.predicate]&&((i=r[(n=e).predicate].children("span.colResizer").length?r[n.predicate].children("span.colResizer")[0]:r[n.predicate])&&(!0===n.reverse?$(i).prepend('<i class="fa fa-caret-down" style="margin:0 5px">'):$(i).prepend('<i class="fa fa-caret-up" style="margin:0 5px">')))},!0)}a.sitConfig.fields&&(n(),o.children(":not(th.scroll-column-header)").each(function(e,t){var n=$(t).attr("sit-field");n&&a.sitConfig.fields[n]&&a.sitConfig.fields[n].sorting&&(r[n]=$(t),$(t).css("cursor","pointer"),$(t).unbind("click"),$(t).bind("click",i))})),e.$on("$destroy",function(){for(var e in r)r[e].unbind("click",i)})}}}),angular.module("siemens.simaticit.common.widgets.tabset",["ui.bootstrap"]),function(){var i=function(e,a,r,s){return{require:e,replace:!0,templateUrl:"common/widgets/navigationLink/tab.html",transclude:!0,scope:{active:"=?",heading:"@",new:"=?",warning:"=?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(i,e,t,n,o){i.$on("tab_"+i.$id,function(e,t){var n=r(t)(i);0<n.length&&(i.heading=s.trustAsHtml(n[0].innerHTML))}),i.$watch(function(){if(i.headingElement)return i.headingElement.innerHTML},function(e){e&&(i.heading=s.trustAsHtml(e))}),i.$watch("active",function(e){e&&n.select(i)}),i.$watch("warning",function(e,t){e!==t&&i.$emit("tab-warning-changed",e)}),i.disabled=!1,t.disabled&&i.$parent.$watch(a(t.disabled),function(e){i.disabled=e}),i.select=function(){i.disabled||(i.active=!0)},n.addTab(i),i.$on("$destroy",function(){n.removeTab(i)}),i.$transcludeFn=o}}},e=function(e){return{restrict:"A",require:e,link:function(t,n){t.$watch("headingElement",function(e){e&&(n.html(""),n.append(e),t.$broadcast("tab_"+t.$id,e))})}}};angular.module("siemens.simaticit.common.widgets.tabset").directive("tab",["$parse","$compile","$sce",function(e,t,n){return i("^tabset",e,t,n)}]).directive("sitTab",["$parse","$compile","$sce",function(e,t,n){return i("^sitTabset",e,t,n)}]).directive("tabHeadingTransclude",function(){return e("^tab")}).directive("sitTabHeadingTransclude",function(){return e("^sitTab")})}(),function(){function e(i,o,a,e){var r,s=this,c=s.tabs=i.tabs=[];function n(e,t){if(0<=_.indexOf(e,t)){e.sort(function(e,t){return e.$id-t.$id});var n=_.findIndex(e,{active:!0});n>s.visibleTabs-1&&function(e,t,n){if(n>=e.length)for(var i=n-e.length;1+i--;)this.push(void 0);e.splice(n,0,e.splice(t,1)[0])}(e,n,s.visibleTabs-1),o(function(){i.$broadcast("sit-layout-change",{eventSource:"tabset"})})}}s.showNavbar=!1,s.visibleTabs=100,s.displayDropdown=!1,s.maxTabWidth="280px",s.otherTabs=e.instant("navigationLink.moreTabsAvailable"),s.calculateVisibleTabs=function(e,t){s.visibleTabs=function(e,t){var n=e;t.find("ul:first").css("overflow","inherit");for(var i=t.find("ul:first >li"),o=0;o<i.length;o++)if((n-=i[o].offsetWidth)<=0){o--;break}if(o!==i.length&&0<=o){var a=o;n=e;for(var r=i[o].offsetWidth+2;o<i.length;o++)r<i[o].offsetWidth&&(r=i[o].offsetWidth);for(a+1<i.length-1&&(n-=r),o=0;o<i.length&&!((n-=i[o].offsetWidth)<=0);o++);}return i.length-o==0?i.length:o}(e,t),s.visibleTabs<c.length?s.displayDropdown=!0:s.displayDropdown=!1,n(c,s.selectedTab),s.setDropdownPosition()},s.select=function(t){s.selectedTab=t,angular.forEach(c,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect(),t.selectCalled=!1)}),t.active=!0,n(c,t),t.selectCalled||(t.onSelect(),t.selectCalled=!0)},s.addTab=function(e){c.push(e),1===c.length&&!1!==e.active?e.active=!0:e.active?s.select(e):e.active=!1},s.removeTab=function(e){var t=c.indexOf(e);if(e.active&&1<c.length&&!r){var n=t===c.length-1?t-1:t+1;s.select(c[n])}c.splice(t,1)},s.setDropdownHeight=function(){var e,t,n,i,o;e=a.find("ul.nav .navbar-nav-dropdown ul.dropdown-menu"),t=a.find("ul.nav .navbar-nav-dropdown button").offset().top,n=$(window).height()-t-40,o=a.find("ul.nav .navbar-nav-dropdown ul.dropdown-menu li").length-a.find("ul.nav .navbar-nav-dropdown ul.dropdown-menu li.ng-hide").length,i=n<120?o<4?30*o+4:124:n,e.css({"max-height":i+"px",overflow:"auto"}),s.setDropdownPosition()},s.setDropdownPosition=function(){var e,t;e=a.find("ul.nav .navbar-nav-dropdown ul.dropdown-menu"),t=a.find("ul.nav .navbar-nav-dropdown button").offset().left,$(window).width()-t<269?e.css({right:"19px"}):e.css({right:"auto"})},s.parseTooltip=function(e){return"string"==typeof e?e:""},i.$on("$destroy",function(){r=!0})}function t(r,s,c){return{transclude:!0,replace:!0,scope:{type:"@"},controller:e,controllerAs:"tabsetCtrl",templateUrl:"uib/template/tabs/tabset.html",link:function(t,i,o,a){c(function(){t.vertical=!!angular.isDefined(o.vertical)&&t.$parent.$eval(o.vertical),t.justified=!!angular.isDefined(o.justified)&&t.$parent.$eval(o.justified);var e=s(function(){20<i.width()&&(n(),s.cancel(e))},300,7);function n(){a.calculateVisibleTabs(i.width(),i)}angular.element(r).bind("resize",n),a.isTabEllipsis=function(e){return $('div[data-ellipsis-id="sit-nav-tab-span-'+e.$id+'"]')[0].scrollWidth>$('div[data-ellipsis-id="sit-nav-tab-span-'+e.$id+'"]')[0].clientWidth},t.$on("sit-layout-change",function(e,t){"layout"!==t.eventSource&&"toolbox"!==t.eventSource||20<i.width()&&n()}),t.$on("$destroy",function(){angular.element(r).unbind("resize",n)}),t.$watch(function(){return i.find(".tab-content > .tab-pane").length},function(e,t){e!==t&&(a.visibleTabs=a.tabs.length,c(function(){n()}))})})}}}e.$inject=["$scope","$timeout","$element","$translate"];var n=function(e,t){var a=t;return{restrict:"A",require:e,link:function(e,t,n){var i="tabContentTransclude";"sit"===a&&(i="sitTabContentTransclude");var o=e.$eval(n[i]);o.$transcludeFn(o.$parent,function(e){angular.forEach(e,function(e){!function(e,t){if("sit"===t)return e.tagName&&(e.hasAttribute("sit-tab-heading")||e.hasAttribute("data-sit-tab-heading")||e.hasAttribute("x-sit-tab-heading")||"sit-tab-heading"===e.tagName.toLowerCase()||"data-sit-tab-heading"===e.tagName.toLowerCase()||"x-sit-tab-heading"===e.tagName.toLowerCase());return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}(e,a)?t.append(e):o.headingElement=e})})}}};angular.module("siemens.simaticit.common.widgets.tabset").directive("tabset",["$window","$interval","$timeout",t]).directive("tabContentTransclude",function(){return n("^tabset")}).directive("sitTabset",["$window","$interval","$timeout",t]).directive("sitTabContentTransclude",function(){return n("^sitTabset","sit")})}(),angular.module("siemens.simaticit.common.widgets.taglist",["siemens.simaticit.common.services.tagsManager"]),function(){function e(l,d){return{scope:{},bindToController:{tags:"=sitData"},controller:t,controllerAs:"taglistCtrl",templateUrl:"common/widgets/taglist/taglist.html",link:function(e,s,t,n){var i;n.dropDownFixPosition=function(e){e.stopPropagation();var t=angular.element(s.find("ul.dropdown-menu.tag-menu")),n=angular.element(s.find("button.tag-list-button")),i=n[0].offsetWidth,o=n.offset().top,a=n.offset().left,r=angular.element(document.querySelectorAll(".canvas-ui-view")[1]).height()-(o+26);300<a?t.css("left",a+i-300+"px"):t.css("left",a+"px");r<150?t.css("top",o-150+"px"):t.css("top",o+26+"px");s.find(".btn-group.tag-list-menu").hasClass("open")?s.find(".btn-group.tag-list-menu").removeClass("open"):(angular.element(document.querySelectorAll(".btn-group.tag-list-menu.open")).removeClass("open"),s.find(".btn-group.tag-list-menu").addClass("open"))},d(function(){0<(i="sitTagList"in t.$attr?s[0].offsetWidth:s[0].parentElement?s[0].parentElement.offsetWidth:0)&&n.calcVisibleTabs(i)},200);var o=e.$watch(function(){return"sitTagList"in t.$attr?s[0].offsetWidth:s[0].parentElement?s[0].parentElement.offsetWidth:0},function(e,t){e!==t&&0<e&&(n.calcVisibleTabs(e),angular.element(document.querySelectorAll(".btn-group.tag-list-menu.open")).removeClass("open"))});function a(){0!==(i="sitTagList"in t.$attr?s[0].offsetWidth:s[0].parentElement?s[0].parentElement.offsetWidth:0)&&(n.calcVisibleTabs(i),angular.element(document.querySelectorAll(".btn-group.tag-list-menu.open")).removeClass("open"))}angular.element(document.querySelectorAll("*:not(.tag-menu)")).bind("scroll",function(){angular.element(s[0].querySelector(".btn-group.tag-list-menu.open")).removeClass("open")}),angular.element(l).bind("resize",a);var r=e.$on("sit-grid.sort-changed",function(){d(function(){a()})}),c=e.$on("sit-grid.page-changed",function(){d(function(){a()})});e.$on("$destroy",function(){angular.element(l).unbind("resize",a),angular.element(document.querySelectorAll("*:not(.tag-menu)")).unbind("scroll",function(){angular.element(s[0].querySelector(".btn-group.tag-list-menu.open")).removeClass("open")}),o(),r(),c()})}}}function t(e,t,n,i,o){var a=this,r=35,s=17,c=15;function l(e){var t,n;return e.Name?((t=$('<span class="taglabel">'+e.Name+"</span>")).appendTo(i),n=$(t[0]).outerWidth(!0),t.remove(),n):0}a.calcVisibleTabs=function(e){a.visibleTags=0,a.displayDropdownTags=!1,a.tags&&(a.tags=a.tags.filter(Boolean));o.getTagsStyle(a.tags),a.visibleTags=function(e){var t=Math.floor(e-s-c),n=0,i=0;if(a.tags&&0!==a.tags.length){for(var o=0;o<a.tags.length;o++){if(!((n+=r+l(a.tags[o]))<t))return i;i++}return i}}(e),a.tags&&0!==a.tags.length&&a.visibleTags<a.tags.length&&(a.displayDropdownTags=!0)}}angular.module("siemens.simaticit.common.widgets.taglist").directive("sitTagList",e),e.$inject=["$window","$timeout"],t.$inject=["common","$compile","$scope","$element","common.services.tagsManager.tagsManagementService"]}(),angular.module("siemens.simaticit.common.widgets.tagsManager",[]),function(){function e(e,t,n,i,o){var a=this;a.assignedTagsVisible=!0,a.availableTagsVisible=!0,a.cancel=function(){a.onCancel&&a.onCancel()},a.saveButtonVisible=!1,function(i){function n(){null===i.originalAssignedTags&&(i.originalAssignedTags=angular.copy(i.assignedTags))}function o(t,e){var n=i.originalAssignedTags.findIndex(function(e){return e.Name===t.Name});if(e)return-1===n?void(-1===(n=i.tagsNamesToAdd.findIndex(function(e){return e===t.Name}))&&(i.tagsNamesToAdd[i.tagsNamesToAdd.length]=t.Name)):void(-1!==(n=i.tagsNamesToRemove.findIndex(function(e){return e===t.Name}))&&i.tagsNamesToRemove.splice(n,1));-1===n?-1!==(n=i.tagsNamesToAdd.findIndex(function(e){return e===t.Name}))&&i.tagsNamesToAdd.splice(n,1):-1===(n=i.tagsNamesToRemove.findIndex(function(e){return e===t.Name}))&&(i.tagsNamesToRemove[i.tagsNamesToRemove.length]=t.Name)}i.tagViewerAddAvailableTag=function(t){n(),i.assignedTags[i.assignedTags.length]=t;var e=i.availableTags.findIndex(function(e){return e.Name===t.Name});-1!==e&&i.availableTags.splice(e,1);i.assignedTagsViewerApi&&i.assignedTagsViewerApi.refresh();i.availableTagsViewerApi&&i.availableTagsViewerApi.refresh();o(t,!0),i.saveButtonVisible=0<i.tagsNamesToAdd.length||0<i.tagsNamesToRemove.length,i.onValidityChanged&&i.onValidityChanged({validity:i.saveButtonVisible})},i.tagViewerRemoveAssignedTag=function(t){n(),i.availableTags[i.availableTags.length]=t;var e=i.assignedTags.findIndex(function(e){return e.Name===t.Name});-1!==e&&i.assignedTags.splice(e,1);i.assignedTagsViewerApi&&i.assignedTagsViewerApi.refresh();i.availableTagsViewerApi&&i.availableTagsViewerApi.refresh();o(t,!1),i.saveButtonVisible=0<i.tagsNamesToAdd.length||0<i.tagsNamesToRemove.length,i.onValidityChanged&&i.onValidityChanged({validity:i.saveButtonVisible})},i.assignedTagViewerMode="remove",i.availableTagViewerMode="add",i.onAssignedTagsViewerRegisterApi=function(e){i.assignedTagsViewerApi=e},i.onAvailableTagsViewerRegisterApi=function(e){i.availableTagsViewerApi=e},i.assignedTagsViewerApi=null,i.availableTagsViewerApi=null,i.originalAssignedTags=null,i.tagsNamesToAdd=[],i.tagsNamesToRemove=[]}(a),a.assignedTagsViewerApi=null,a.availableTagsViewerApi=null,a.api={tags:{tagsNamesToAdd:a.assignedTags,tagsNamesToRemove:a.tagsNamesToRemove}},a.onRegisterApi({api:a.api})}angular.module("siemens.simaticit.common.widgets.tagsManager").directive("sitManageTagsEditor",function(){return{templateUrl:"common/widgets/tagsManager/sit-manage-tags-editor.directive.html",controller:e,restrict:"E",controllerAs:"vm",scope:{},bindToController:{onRegisterApi:"&",assignedTags:"=",availableTags:"=",onValidityChanged:"&",warningMessageVisible:"=",warningMessage:"="}}}),e.$inject=["$translate","common.services.tagsManager.tagsManagementService","$timeout","$q","$scope"]}(),function(){function e(e,t,n,i){var d=this;d.add=function(){d.onAdd&&d.onAdd({tag:d.tag})},d.remove=function(){d.onRemove&&d.onRemove({tag:d.tag})},d.selectionChanged=function(){d.onSelectionChanged&&d.onSelectionChanged({tag:d.tag})},d.defaultcolor="#f0f0f0",function(){d.addIcon={path:"common/icons/cmdAdd16.svg",size:"16px"},d.removeIcon={path:"common/icons/cmdDelete16.svg",size:"16px"},void 0===d.mode&&(d.mode="add");d.tagNameAsHtml=(e=d.tag.Name,e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/-/g,"&minus;"));var e;var t=void 0!==d.tag.Color&&null!=d.tag.Color&&""!==d.tag.Color,n=(i=t,o=d.tag.Color,!i||(a=o,l=a,l.match(/^rgb/)?(l=l.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),r=l[1],c=l[2],s=l[3]):(l=+("0x"+l.slice(1).replace(l.length<5&&/./g,"$&$&")),r=l>>16,c=l>>8&255,s=255&l),160<Math.sqrt(r*r*.2126+c*c*.7152+s*s*.0772))?"#464646":"#FFFFFF");var i,o,a,r,s,c,l;d.style=t?{backgroundColor:d.tag.Color,color:n}:{backgroundColor:d.defaultcolor,color:n}}()}angular.module("siemens.simaticit.common.widgets.tagsManager").directive("sitTagElement",function(){return{templateUrl:"common/widgets/tagsManager/sit-tag-element.directive.html",controller:e,restrict:"E",controllerAs:"vm",scope:{},bindToController:{tag:"=",mode:"=",onAdd:"&",onRemove:"&",onSelectionChanged:"&"}}}),e.$inject=["$translate","$timeout","$element","$rootScope"]}(),function(){function e(s,c,l,t,e,n,i,o,a){var r,d,m=this;function u(e){m.originalAssignedTags=e[0].value[0].SegregationTags,m.availableTags=e[1].value,_.each(m.originalAssignedTags,function(e,t,n){m.availableTags=_.without(m.availableTags,_.findWhere(m.availableTags,{Name:e.Name}))})}function p(){m.actionButtons=[{img:"fa-floppy-o",label:i.instant("common.saveAll"),tooltip:i.instant("common.saveAll"),onClick:m.save,enabled:!0,visible:m.validInputs},{label:i.instant("common.cancel"),tooltip:i.instant("common.cancel"),onClick:m.cancel,enabled:!0,visible:!0}]}function g(){var e,t,n,i=m.manageTagsEditorApi.tags.tagsNamesToAdd,o=m.manageTagsEditorApi.tags.tagsNamesToRemove,a=(e=i,t=o,n=[],_.each(m.originalAssignedTags,function(e){n.push(e.Name)}),n=n.concat(e),n=_.without(n,t)),r=l.objId;s.setEntityInfo(m.entityinfo),s.setSegregationTags(r,a).then(h,d.backendError)}function f(){r.close(),c.go("^")}function h(e){r.close(),c.go("^",{},{reload:!0})}function v(e,t){m.validInputs=t.validity}m.availableTags=[],m.title=i.instant("tagsManager.title"),m.validityChanged=function(e){e||(e=!1);m.validInputs=e,p()},m.actionButtons=[],m.manageTagsEditorApi={},m.onManageTagsEditorRegisterApi=function(e){m.manageTagsEditorApi=e,m.manageTagsEditorApiRegistered.resolve(e)},m.manageTagsEditorApiRegistered=o.defer(),m.closeButton={showClose:!0,tooltip:"Close Sidepanel",onClick:function(){c.go("^")}},m.warningMessageVisible=!1,m.entityinfo={AppShortName:"",IsComposition:!1,IsCompositionMandatory:!1,IsSegregable:!1,IsThirdParty:!1,PublicModelEntityShortName:"",ReadingModelEntityFullName:"",ReferencedEntityFullName:""},m.warningMessage=i.instant("tagsManager.canModifyWarning"),function(){r=t.services.sidePanel.service,d=t.services.runtime.backendService,m.currentItem=angular.copy(l.selectedItem),m.validInputs=!1,m.save=g,m.cancel=f,n.$on("sit-property-grid.validity-changed",v),p(),s.getCompositionInfo(l.app,l.entity).then(function(e){m.warningMessageVisible=e.value[0].EntityInfo.IsComposition,m.entityinfo=e.value[0].EntityInfo},function(e){a.log(e)}),s.setEntityName(l.entity),s.setAppName(l.app),m.originalAssignedTags=[];var e=[];e[e.length]=s.getSegregationTags(l.objId,l.objIdType),e[e.length]=s.getAvailableTags(),o.all(e).then(u),r.open("p")}(),n.$on("sit-item-collection-viewer.rows-selection-changed",function(e,t){var n=c.current.name,i=t.selectedItemId,o=l.entity,a=l.app,r=l.objIdType;i&&o&&a&&0<=c.current.name.lastIndexOf("TagsMgt")&&c.go(n,{id:i,objIdType:r,entity:o,app:a},{reload:!1})})}angular.module("siemens.simaticit.common.widgets.tagsManager").controller("siemens.simaticit.common.widgets.tagsManager.TagMgmtScreenController",e),e.$inject=["common.services.tagsManager.tagsManagementService","$state","$stateParams","common.base","$filter","$scope","$translate","$q","$log"]}(),function(){function e(e){var t=this;function n(){return new i(e)}t.$get=n,t.getService=n}function i(n){this.addState=function(e,t){n.state({name:t+"."+e+"TagsMgt",url:"/"+e+"TagsMgt/:objId",views:{"property-area-container@":{templateUrl:"common/widgets/tagsManager/sit-tags-manager.html",controller:"siemens.simaticit.common.widgets.tagsManager.TagMgmtScreenController",controllerAs:"vm"}},data:{title:"Segregation Tags Manager"},params:{objId:null,objIdType:null,entity:"",app:""}})}}angular.module("siemens.simaticit.common.widgets.tagsManager").provider("siemens.simaticit.common.widgets.tagsManager.tagMgtProvider",e),e.$inject=["$stateProvider"]}(),function(){function e(e,t,n){var i,o,a=this;function r(){if(a.currentPage=1,a.filterValue=null,a.showIcon=!1,a.pagerNumberTotalItems=a.tags.length,!0===a.isDisabled)for(var e=0;e<a.tags.length;e++)a.tags[e].disabled=!0;s(),a.pageChanged()}function s(){a.tags.sort(function(e,t){var n=e.Name.toLowerCase(),i=t.Name.toLowerCase();return n<i?-1:i<n?1:0})}(i=a).onTagAdd=function(e){i.onAdd&&i.onAdd({tag:e}),i.showIcon=!1},i.onTagRemove=function(e){i.onRemove&&i.onRemove({tag:e}),i.showIcon=!1},i.initTagElementDirective=function(){void 0===i.mode&&(i.mode="add")},i.onTagSelectionChanged=function(e){i.onSelectionChanged&&i.onSelectionChanged({tag:e})},i.trimLength=function(){_.each(i.tags,function(e,t){e.ShortName=angular.copy(e.Name),10<e.Name.length&&(e.ShortName=e.ShortName.substring(0,10)+"...")})},function(r){function e(){r.currentPageTags=t(r.currentPage)}function t(e,t){if(void 0===t&&(t=r.tags),e<1)throw new Error("pageIndex should be greater equal than 1");for(var n=[],i=(e-1)*r.pageSize,o=Math.min(i+r.pageSize,t.length),a=i;a<o;a++)n[n.length]=t[a];return n}r.pageChanged=e,r.initPager=function(){r.currentPage=1,r.pageSize=10,r.pagerNumberTotalItems=r.tags.length,e()},r.getTagsForPage=t}(a),(o=a).filterChanged=function(){if(void 0!==o.filterValue&&null!=o.filterValue&&""!==o.filterValue){o.showIcon=!0;var e=o.tags.filter(function(e){return e.Name.toLowerCase().startsWith(o.filterValue.toLowerCase())});o.pagerNumberTotalItems=e.length,o.currentPageTags=o.getTagsForPage(o.currentPage,e)}else o.showIcon=!1,o.pagerNumberTotalItems=o.tags.length,o.pageChanged()},o.initFilter=function(){o.filterOptions=o.tags.map(function(e){return e.Name})},o.clearFilter=function(){o.filterValue="",o.filterChanged()},o.quickSearchText=e.instant("tagsManager.inputPlaceholderText"),o.showIcon=!1,o.focus=function(){n.find("#quickSearchContainer").css("border-color","#3296b9")},o.blur=function(){n.find("#quickSearchContainer").css("border-color","#969696")},a.svgIcons={close:{path:"common/icons/cmdClosePanel24.svg"},search:{path:"common/icons/cmdSearch24.svg"}},s(),a.initTagElementDirective(),a.initPager(),a.initFilter(),a.trimLength(),a.api={refresh:r},a.onRegisterApi({api:a.api})}angular.module("siemens.simaticit.common.widgets.tagsManager").directive("sitTagsViewer",function(){return{templateUrl:"common/widgets/tagsManager/sit-tags-viewer.directive.html",controller:e,restrict:"E",controllerAs:"vm",scope:{},bindToController:{tags:"=",mode:"=",onAdd:"&",onRemove:"&",onSelectionChanged:"&",onRegisterApi:"&",isDisabled:"="}}}),e.$inject=["$translate","$scope","$element"]}(),function(){function e(){}angular.module("siemens.simaticit.common.widgets.tagsManager").directive("sitTagsWarningPanel",function(){return{templateUrl:"common/widgets/tagsManager/sit-tags-warning-panel.directive.html",controller:e,restrict:"E",controllerAs:"vm",scope:{},bindToController:{visible:"=",message:"="}}}),e.$inject=[]}(),angular.module("siemens.simaticit.common.widgets.containers",[]),function(){function e(o,v,e,p,g,f,t,y,h,n,i,a,r){var C,s,c,l,d,m,u,b,w=this;function S(){!function(){for(var e in w.signalConnections)a.destroyConnection(w.signalConnections[e].id).then(function(){w&&(w.signalConnections[e]=null,i.log("Closed Connection "+e))},function(e){w&&i.log("Error on Closed Connection \n"+angular.toJson(e,!0))})}(),w=null}function x(e,t){if(w.icvData)return k(w.icvData),w.viewerData=I(w.icvData),void T();var n;void 0!==e&&e&&(n=t,D(w.icvOptionsString=n)).then(function(e){e&&e.succeeded?(k(e.value),w.viewerData=I(e.value),T()):w.viewerData=[]},s.backendError)}function T(){w.viewerData&&1<w.viewerData.length?(w.isTaskUiListVisible=!0,w.myWidth=275):(w.isTaskUiListVisible=!1,w.myWidth=5),w.selectFirstItem&&!w.taskIdSelected?0<w.viewerData.length&&(w.viewerData[0].selected=!0,R(null,w.viewerData[0])):1==w.viewerData.length&&(w.viewerData[0].selected=!0,R(null,w.viewerData[0]));var t=0;w.viewerData.forEach(function(e){e.Id==w.taskIdSelected?w.viewerData[t].selected=!0:w.viewerData[t].selected=!1,t+=1})}function I(e){return w.useDefaultSortByStatus?(O(e),function(e){var t=[],n=[],i=[],o=[],a=[],r=[],s=[],c=[],l=[],d=[],m=[],u=[];e.sort(function(e,t){return e=new Date(e.LastUpdatedOn),(t=new Date(t.LastUpdatedOn))<e?1:e<t?-1:0}),e.forEach(function(e){e.IndexByStatus=0,"InProgress"==e.Status.StatusNId?t.push(e):"Error"==e.Status.StatusNId?n.push(e):"Paused"==e.Status.StatusNId?i.push(e):"Ready"==e.Status.StatusNId?o.push(e):"Suspended"==e.Status.StatusNId?a.push(e):"NotReady"==e.Status.StatusNId?r.push(e):"Created"==e.Status.StatusNId?s.push(e):"Failed"==e.Status.StatusNId?c.push(e):"Aborted"==e.Status.StatusNId?l.push(e):"Canceled"==e.Status.StatusNId?d.push(e):"Skipped"==e.Status.StatusNId?m.push(e):u.push(e)});for(var p=t.concat(n).concat(i).concat(o).concat(a).concat(r).concat(s).concat(c).concat(l).concat(d).concat(m).concat(u),g=0;g<p.length;g++)p[g].IndexByStatus=g,p[g].LastUpdatedOn=h("date")(new Date(p[g].LastUpdatedOn),"MMM d, y h:mm:ss a");return p}(e)):(function(e){if(e)for(var t=0;t<e.length;t++)e[t].LastUpdatedOn=h("date")(new Date(e[t].LastUpdatedOn),"MMM d, y h:mm:ss a")}(e),O(e),e)}function k(e){e.forEach(function(e){E(e)})}function E(e){e.TaskTypeIcon?e.TaskTypeIcon.startsWith("svg")?(e.svgIcon={},e.svgIcon.path="common/icons/"+e.TaskTypeIcon.replace("svg","").trim()+".svg"):e.TaskTypeIcon.startsWith("sit")?e.image=e.TaskTypeIcon:e.TaskTypeIcon.startsWith("fa")&&(e.image=e.TaskTypeIcon):(e.svgIcon={},e.svgIcon.path="common/icons/typeTaskExecution48.svg")}function O(e){if(e)for(var t=0;t<e.length;t++)P(e[t])}function P(e){e&&(e.Name||(e.Name=e.NId))}function D(e){var t,n=o.defer();return(t=e,s.findAll({appName:"Task",entityName:"Task",options:t})).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function R(e,t){if(t&&1==t.selected){if(w.selectedTask=t,w.taskSelected=t,w.taskIdSelected=w.selectedTask.Id,y(function(){w.events&&angular.isFunction(w.events.onTaskContainerSelectionChanged)&&w.events.onTaskContainerSelectionChanged({value:w.taskSelected})},100),w.TaskShown!=w.selectedTask.Id)!function(e){w.TaskShown=e.Id,w.TaskShownStatus=e.Status;var t=0;w.viewerData.forEach(function(e){e.Id==w.TaskShown?w.viewerData[t].selected=!0:w.viewerData[t].selected=!1,t+=1}),w.componentInstances.forEach(function(e){e.componentVisible=!1});var n=null;n=w.uaftaskUIConverter?e[w.uaftaskUIConverter]:e[w.TaskUIConverter[0]];C.logDebug("FindAndShowTaskItemContainer: show component: "+n+" of taskid: "+w.TaskShown+" in status: "+w.TaskShownStatus),function(e,t,n,i){w.showDetails=!1;var o=B(e);o?(t.app=o[0],t.component=o[1],3==o.length?(t.details="details"==o[2],t.commandbar="commandbar"==o[2]):4==o.length&&(t.details="details"==o[2],t.commandbar="commandbar"==o[3])):(t.app="",t.component="",C.logDebug("No component available: for a default component put siemens.simaticit.common.components.task/siemensSimaticitTaskDetailscomponent"));w.componentVisible=!1,w.componentName=t.component;var a="";if(w.componentName)for(var r=0;r<w.componentName.length;r++)w.componentName[r]==w.componentName[r].toLowerCase()?a+=w.componentName[r]:(a+="-",a+=w.componentName[r].toLowerCase());if(w.taskListService&&w.events&&angular.isFunction(w.events.canShowCommandBarCallback)){var s=w.events.canShowCommandBarCallback({taskId:t.componentStateParams.TaskId,taskDefinitionId:t.componentStateParams.TaskDefNId,taskStatus:t.componentStateParams.TaskStatus,componentName:w.componentName,componentSource:a});"undefined"!=s&&(w.showCommandBar=s,w.showCommandBar?w.margintop="-36":w.margintop="-56")}if(w.events&&angular.isFunction(w.events.ondpcComponentCallback)){var c=w.events.ondpcComponentCallback({taskId:t.componentStateParams.TaskId,taskDefinitionId:t.componentStateParams.TaskDefNId,taskStatus:t.componentStateParams.TaskStatus,componentName:w.componentName,componentSource:a}),l={TaskId:t.componentStateParams.TaskId,TaskDefNId:t.componentStateParams.TaskDefNId,TaskStatus:t.componentStateParams.TaskStatus,TaskName:i.Name};U(l,c)}else{var d={taskId:t.componentStateParams.TaskId,taskDefinitionId:t.componentStateParams.TaskDefNId,taskStatus:t.componentStateParams.TaskStatus,taskName:i.Name};V(d)}if(w.api&&angular.isFunction(w.events.onComponentAttributesCallback)){var m=w.events.onComponentAttributesCallback({componentName:w.componentName,componentSource:a});w.componentName=m.componentName,a=m.componentSource}w.componentSource=a,f.$stateParams&&(f.$stateParams.componentStateParams={});var u={taskId:t.componentStateParams.TaskId,taskDefinitionId:t.componentStateParams.TaskDefNId,taskStatus:t.componentStateParams.TaskStatus,taskName:i.Name};f.$stateParams=g,f.$stateParams.componentStateParams=u,f.$stateParams.componentStateParams.previousStateName=p.current.name,f.$stateParams.selectedTask=angular.copy(i),w.taskDetailsVisible&&(f.$stateParams.componentStateParams.taskDetailsVisible=w.taskDetailsVisible);y(function(){t.component&&(w.componentVisible=!0,function e(t,n,i,o,a){var r=w.componentInstances.filter(function(e){return e.taskId===t});if(0==r.length){var s=w.componentInstances.filter(function(e){return""===e.taskId}),c=s[0],l=w.componentInstances.filter(function(e){return!0===e.componentVisible});if(0!=l.length){var d=l[0].index;w.componentInstances[d].componentVisible=!1}if(c&&0!=c.length){C.logDebug("setComponentVisible: new sit component");var m=c.index;w.componentInstances[m].taskId=t,w.componentInstances[m].name=n,w.componentInstances[m].componentName=n,w.componentInstances[m].componentSource=i,w.componentInstances[m].componentVisible=o,w.componentInstances[m].taskStatus=a,w.componentInstances[m].isIfTrue=!0,w.isLoaded=!0,y(function(){$(window).trigger("resize")},1e3),0==v.has(n+"Directive")&&C.logErr("Component:"+n+" not found!")}else{C.logDebug("setComponentVisible: add sit component");var u=w.componentInstances.length,p={taskId:"",taskStatus:"",componentName:"",componentSource:"",componentVisible:"",index:u,isIfTrue:!1};w.componentInstances.push(p),w.isLoaded=!1,e(t,n,i,!0,a)}}else{var g=w.componentInstances.filter(function(e){return!0===e.componentVisible});if(0!=g.length){var f=g[0].index;w.componentInstances[f].componentVisible=!1}C.logDebug("setComponentVisible: old sit component"),r[0].componentVisible=o;var h=r[0].index;w.componentInstances[h].componentVisible=!0,w.componentInstances[h].isIfTrue=!0}}(t.componentStateParams.TaskId,w.componentName,w.componentSource,w.componentVisible,t.componentStateParams.TaskStatus))}),w.isTaskUiVisible=!0}(n,{componentStateParams:{TaskId:w.TaskShown,TaskDefNId:e.TaskDefinitionNId,TaskStatus:e.Status.StatusNId}},0,e)}(w.selectedTask);else{var n=0;w.viewerData.forEach(function(e){e.Id==w.taskIdSelected?w.viewerData[n].selected=!0:w.viewerData[n].selected=!1,n+=1})}A(w.taskSelected)}else t&&(t.selected=!0)}function A(e){var t;M(),e&&(t=e,w.isTaskCommandsVisible=!0,w.isStartVisible=t.Status.StatusNId===b,w.isResumeVisible=t.Status.StatusNId===l&&!t.IsFrozen),e&&function(e){w.isAbortVisible=!0,w.isActivateVisible=!0,w.isCancelVisible=!0,w.isPauseCompleteVisible=!0,w.isSkipVisible=!0,w.isSuspendVisible=!0,e.IsFrozen&&(w.isAbortVisible=!1,w.isActivateVisible=!1,w.isCancelVisible=!1,w.isPauseCompleteVisible=!1,w.isSkipVisible=!1,w.isSuspendVisible=!1);w.isAbortVisible&&(w.isAbortVisible=(t=e).Status.StatusNId===c||t.Status.StatusNId===l);var t;w.isActivateVisible&&(w.isActivateVisible=(n=e).Status.StatusNId===d||n.Status.StatusNId===m||n.Status.StatusNId===u);var n;w.isCancelVisible&&(w.isCancelVisible=(i=e).Status.StatusNId===d||i.Status.StatusNId===m||i.Status.StatusNId===u||i.Status.StatusNId===b);var i;w.isPauseCompleteVisible&&(w.isPauseCompleteVisible=e.Status.StatusNId===c);w.isSkipVisible&&(w.isSkipVisible=((o=e).Status.StatusNId===d||o.Status.StatusNId===m||o.Status.StatusNId===u||o.Status.StatusNId===b)&&o.IsSkippable);var o;w.isSuspendVisible&&(w.isSuspendVisible=e.Status.StatusNId===b)}(e)}function M(){w.isTaskCommandsVisible=!1,w.isFailRecoverVisible=!1,w.isStartVisible=!1,w.isResumeVisible=!1,w.isAbortVisible=!1,w.isActivateVisible=!1,w.isCancelVisible=!1,w.isPauseCompleteVisible=!1,w.isSkipVisible=!1,w.isSuspendVisible=!1}function F(t){var e=w.viewerData.findIndex(function(e){return e.Id===t.Id});if(-1<e){var n=angular.copy(w.viewerData[e]);w.viewerData.splice(e,1),C.logDebug("Removed Task Id:"+n.Id+"TaskDefNId: "+n.TaskDefinitionNId+" Status:"+n.Status.StatusNId),0==w.viewerData.length&&N(),w.selectedTask&&n.Id==w.selectedTask.Id&&z(w.viewerData[0])}var i=w.componentInstances.findIndex(function(e){return e.taskId===t.Id});-1<i&&w.componentInstances.splice(i,1)}function N(){var t=0;for(w.viewerData.forEach(function(e){w.viewerData[t].selected=!1,t+=1}),R(0,null);0<w.componentInstances.length;)w.componentInstances.pop();w.TaskShown=null,w.taskIdSelected=null,w.selectedTask=null,w.taskSelected=null}function B(e){if(e){-1!=e.indexOf("\\")&&C.logWarn("The following character  is not allowed!!");var t=(e=(e=e.replace("\\","/")).replace("//","/")).split("/");return t.length<2?void 0:t}}function G(e,t,n,i){var o=B(e);o?(t.app=o[0],t.component=o[1],3==o.length?(t.details="details"==o[2],t.commandbar="commandbar"==o[2]):4==o.length&&(t.details="details"==o[2],t.commandbar="commandbar"==o[3])):(t.app="",t.component="",C.logDebug("No component available: for a default component put siemens.simaticit.common.components.task/siemensSimaticitTaskDetailscomponent")),w.componentName=t.component;var a="";if(w.componentName)for(var r=0;r<w.componentName.length;r++)w.componentName[r]==w.componentName[r].toLowerCase()?a+=w.componentName[r]:(a+="-",a+=w.componentName[r].toLowerCase());if(w.events&&angular.isFunction(w.events.ondpcComponentCallback)){var s=w.events.ondpcComponentCallback({taskId:t.componentStateParams.TaskId,taskDefinitionId:t.componentStateParams.TaskDefNId,taskStatus:t.componentStateParams.TaskStatus,componentName:w.componentName,componentSource:a});U({TaskId:t.componentStateParams.TaskId,TaskDefNId:t.componentStateParams.TaskDefNId,TaskStatus:t.componentStateParams.TaskStatus,TaskName:i.Name},s)}else{V({taskId:t.componentStateParams.TaskId,taskDefinitionId:t.componentStateParams.TaskDefNId,taskStatus:t.componentStateParams.TaskStatus,taskName:i.Name})}if(w.api&&angular.isFunction(w.events.onComponentAttributesCallback)){var c=w.events.onComponentAttributesCallback({componentName:w.componentName,componentSource:a});w.componentName=c.componentName,a=c.componentSource}w.componentSource=a,f.$stateParams&&(f.$stateParams=g,f.$stateParams.componentStateParams={});var l={taskId:t.componentStateParams.TaskId,taskDefinitionId:t.componentStateParams.TaskDefNId,taskStatus:t.componentStateParams.TaskStatus,taskName:i.Name};f.$stateParams.componentStateParams=l,f.$stateParams.componentStateParams.previousStateName=p.current.name,f.$stateParams.selectedTask=angular.copy(i),y(function(){w.componentVisible=!0,function(t,e,n,i,o){var a=w.componentInstances.filter(function(e){return e.taskId===t});if(0==a.length)C.logDebug("setComponentVisible: no task has been founded");else{w.componentInstances.filter(function(e){return!0===e.componentVisible});a[0].taskStatus!=o?C.logDebug("setComponentVisible: old sit component but new status"):C.logDebug("setComponentVisible: old sit component")}}(t.componentStateParams.TaskId,w.componentName,w.componentSource,w.componentVisible,t.componentStateParams.TaskStatus)}),w.isTaskUiVisible=!0}function V(e){w.dpc={TaskId:e.taskId,TaskDefNId:e.taskDefinitionId,TaskStatus:e.taskStatus,TaskName:e.taskName}}function L(t){var e=w.viewerData.filter(function(e){return e.Id===t.Id});if(1==e.length){var n=0;w.viewerData.forEach(function(e){w.viewerData[n].selected=!1,n+=1}),w.TaskShown=null,w.taskIdSelected=null,w.selectedTask=null,w.taskSelected=null,w.viewerOptions.selectItems&&w.viewerOptions.selectItems([e[0]],!0,!0),R(0,e[0])}else C.logDebug("task not found!")}function z(e){L(e)}function U(e,t){w.dpc={};var n=angular.extend(w.dpc,e,t);C.logDebug("dpc: "+n)}function j(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.pauseTask(e).then(function(){},s.backendError)}}function q(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.completeTask(e).then(function(){},s.backendError)}}function W(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.abortTask(e).then(function(){},s.backendError)}}function H(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.activateTask(e).then(function(){},s.backendError)}}function X(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.suspendTask(e).then(function(){},s.backendError)}}function Y(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.skipTask(e).then(function(){},s.backendError)}}function Q(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.cancelTask(e).then(function(){},s.backendError)}}function K(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.recoverTask(e).then(function(){},s.backendError)}}function J(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.failTask(e).then(function(){},s.backendError)}}function Z(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.startTask(e).then(function(){},s.backendError)}}function ee(){if(w.taskListService){var e={Id:w.selectedTask.Id};w.taskListService.resumeTask(e).then(function(){},s.backendError)}}function te(d){var m=o.defer();return D("$filter=Id eq "+d).then(function(t){if(angular.isFunction(w.viewerOptions.getCurrentData))for(var e=w.viewerOptions.getCurrentData(),n=0,i=e.length;n<i;n++)delete e[n].selected;var o;if(C.logDebug("Refresh task Id:"+t.value[0].Id+"TaskDefNId: "+t.value[0].TaskDefinitionNId+" Status:"+t.value[0].Status.StatusNId),oe(e,t))w.selectedTask&&z(w.selectedTask);else{if("undefined"===d)w.viewerData=I(angular.copy(t.value)),k(w.viewerData);else{var a=w.viewerData.findIndex(function(e){return e.Id===t.value[0].Id});if(-1<a){var r=t.value.findIndex(function(e){return e.Id===t.value[0].Id});-1<r?ne(w.viewerData[a],t.value[r])&&(E(t.value[r]),w.viewerData[a]=t.value[r],w.viewerData=I(w.viewerData),C.logDebug("Updated task Id:"+t.value[r].Id+"TaskDefNId: "+t.value[r]+" Status:"+t.value[r].Status.StatusNId)):C.logDebug("Not found task Id:"+t.value[0].Id+"TaskDefNId: "+t.value[0].TaskDefinitionNId+" Status:"+t.value[0].Status.StatusNId)}else{var s=t.value.findIndex(function(e){return e.Id===t.value[0].Id});if(-1<s&&(o=t.value[s],!w.excludedStatus||!w.excludedStatus||!w.excludedStatus.includes(o.Status.StatusNId))){var c=angular.copy(t.value[s]);E(c),w.viewerData.push(c),w.viewerData=I(w.viewerData),T(),C.logDebug("Added task Id:"+c.Id+"TaskDefNId: "+c.TaskDefinitionNId+" Status:"+c.Status.StatusNId)}else C.logDebug("No added task Id:"+t.value[0].Id+"TaskDefNId: "+t.value[0].TaskDefinitionNId+" Status:"+t.value[0].Status.StatusNId)}}if(w.viewerOptions.refresh&&w.viewerOptions.refresh(),w.excludedStatus&&w.excludedStatus.includes(t.value[0].Status.StatusNId)&&(C.logDebug("Data changed for task Id: "+t.value[0].Id+"has been rejected"),F(t.value[0])),w.selectedTask){var l=w.viewerData.findIndex(function(e){return e.Id===w.selectedTask.Id});ie(w.viewerData[l])?z(w.viewerData[0]):z(w.selectedTask)}else 0<w.viewerData.length&&z(w.viewerData[0])}m.resolve()},function(e){m.reject(e)}),m.promise}function ne(e,t){return!(!e||!t)&&new Date(e.LastUpdatedOn)<=new Date(t.LastUpdatedOn)}function ie(e){return!!w.finalStates.includes(e.Status.StatusNId)}function oe(e,t){if(!_.isEqual(e,t.value))return!1}function ae(e,t){var n=[];i.log("Connection Error Callback: "+e.id+"Reason:"+t.reason),e.reconnect().then(function(){n[e.id]=0},function(){void 0===n[e.id]?n[e.id]=0:n[e.id]=n[e.id]+1,i.log("attempt number "+n[e.id]+" id: "+e.id),10<n[e.id]||y(function(){ae(e,t)},5e3)})}function re(e){e.value[0].Id==w.selectedTask.Id&&(w.selectedTask.TaskDefinitionNId==e.value[0].TaskDefinitionNId&&ne(w.selectedTask,e.value[0])?(A(e.value[0]),G(e.value[0].TaskUI,{componentStateParams:{TaskId:e.value[0].Id,TaskDefNId:e.value[0].TaskDefinitionNId,TaskStatus:e.value[0].Status.StatusNId}},0,e.value[0])):w.selectedTask.Id==e.value[0].Id&&f.$broadcast("common.widgets.containers.on-status-changed",{task:e.value[0]}))}function se(n){var e=r.getIndentity().unique_name,t=n.EnvelopeUserField10,i=n.EnvelopeUserField5,o=n.StatusInfo_EntityId;if(e.toLowerCase()===t.toLowerCase()&&n.StatusInfo_EntityId){var a="$filter=Id eq "+n.StatusInfo_EntityId;C.logDebug("SignalService.onStatusChanged Id: "+o+" TaskDefId: "+i+" StatusNId: "+n.StatusInfo_CurrentStatusNId),D(a).then(function(e){if(te(n.StatusInfo_EntityId),w.excludedStatus&&w.excludedStatus.includes(e.value[0].Status.StatusNId))C.logDebug("No need refresh component for status excluded....");else{var t=w.selectedTask&&w.selectedTask.Id&&w.selectedTask.Id===n.StatusInfo_EntityId;ne(w.selectedTask,e.value[0])&&t?re(e):C.logDebug("No need refresh component...."),f.$broadcast("common.widgets.containers.on-status-changed",{task:e.value[0]})}},s.backendError)}else x()}function ce(e){i.log("An error occurred: \n"+angular.toJson(e,!0))}function le(){i.log("Signal '"+w.connection.name+"' stopped sending messages.")}function de(e){i.log(e.toString()),"*"!==e.Receiver&&e.Receiver!==r.getIndentity().unique_name||t.$$phase||t.$apply()}function me(e){(function(e,t){for(var n=o.defer(),i=0;i<w.viewerData.length;i++)if(w.viewerData[i].Id===e){y(function(){w.viewerData[i].ErrorCount=t,n.resolve()});break}return n.promise})(e.TaskId,e.ErrorCount).then(w.updateCommandBar,s.backendError)}w.myWidth=275,w.selectedComponent=null,w.id=null,w.TaskShown=null,w.isTaskUiListVisible=!0,w.taskIdSelected=null,w.isLoaded=!1,w.TaskUIConverter=["TaskUI"],w.componentInstances=[],w.icvOptionsString="",w.selectFirstItem=!0,t.$watch("vm.loadDataFilterOptions",function(e){if(null!=e&&null!=e){x(!0,e)}}),t.$watch("vm.icvData",function(e){w.icvData&&(w.viewerData&&0<w.viewerData.length&&N(),k(w.icvData),w.viewerData=I(w.icvData),T())}),t.$watch("vm.LoadDataAuto",function(){w.LoadDataAuto&&w.LoadDataFilterOptions&&x(w.LoadDataAuto,"")}),function(){C=n.services.logger.service.getModuleLogger("taskContainer"),s=n.services.runtime.backendService,w.taskListService=null,C.logDebug("Initializing component...."),w.ready=!1,n.widgets.messageOverlay.service,s=n.services.runtime.backendService,w.selectedItem=null,w.isButtonVisible=!1,w.viewerOptions={},w.viewerData=[],w.isMessageVisible=!1,w.selectedTask=null,w.signalConnections=[],function(){var e=null;e=w.icvQuickSearchOptions?w.icvQuickSearchOptions:{enabled:!0,field:"Name",filterText:""};var t=null;t=w.icvSortInfo?w.icvSortInfo:{field:"IndexByStatus",direction:"asc",fields:[{field:"Name",displayName:h("translate")("taskContainer.taskList.name-sort-by")},{field:"CreatedOn",displayName:h("translate")("taskContainer.taskList.created-sort-by")},{field:"LastUpdatedOn",displayName:h("translate")("taskContainer.taskList.lastupdated-sort-by")},{field:"IndexByStatus",displayName:h("translate")("taskContainer.taskList.default-sort-by")}]},w.viewerOptions={containerID:"itemlist",selectionMode:"single",viewMode:"c",filterBarOptions:"sq",quickSearchOptions:e,sortInfo:t,tileConfig:{propertyFields:[{field:"TaskDefinitionNId",displayName:h("translate")("taskContainer.tile.taskDefinitionId")},{field:"LastUpdatedOn",displayName:h("translate")("taskContainer.tile.lastUpdated")}],titleField:"Name",descriptionField:"Description",isCell:!0,indicators:[{svgIcon:"common/icons/indicatorStatusAborted16.svg",visible:function(e){return"Aborted"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusCancelled16.svg",visible:function(e){return"Canceled"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusCompleted16.svg",visible:function(e){return"Completed"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusCreated16.svg",visible:function(e){return"Created"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusError16.svg",visible:function(e){return"Error"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusFailed16.svg",visible:function(e){return"Failed"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusInProgress16.svg",visible:function(e){return"InProgress"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusNotReady16.svg",visible:function(e){return"NotReady"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusPaused16.svg",visible:function(e){return"Paused"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusReady16.svg",visible:function(e){return"Ready"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusSkipped16.svg",visible:function(e){return"Skipped"===e.Status.StatusNId}},{svgIcon:"common/icons/indicatorStatusSuspended16.svg",visible:function(e){return"Suspended"===e.Status.StatusNId}}]},gridConfig:{columnDefs:[{field:"Name",displayName:"Name"}]},onSelectionChangeCallback:R},w.icvOptions=w.viewerOptions}(),x(w.LoadDataAuto,null),"Completed","Skipped","Aborted","Failed","Canceled",c="InProgress",l="Paused",d="Created",m="NotReady",u="Suspended",b="Ready","Error",w.finalStates=["Failed","Completed","Aborted","Canceled","Skipped"],w.methods={ShowTaskById:function(e){L(e)},SetDPCComponent:function(e){U(e.data)},RefreshData:function(e){!function(e,t){!function(e,t){if(angular.isFunction(w.viewerOptions.getCurrentData))for(var n=w.viewerOptions.getCurrentData(),i=0,o=n.length;i<o;i++)delete n[i].selected;if(oe(n,[t]))w.selectedTask&&z(w.selectedTask);else{if("undefined"===t)w.viewerData=I(angular.copy(e.value)),k(w.viewerData);else{var a=w.viewerData.findIndex(function(e){return e.Id===t.Id});-1<a?ne(w.selectedTask,t)&&(E(t),w.viewerData[a]=t,w.viewerData=I(w.viewerData)):(E(t),w.viewerData.push(t),w.viewerData=I(w.viewerData),T())}if(w.viewerOptions.refresh&&w.viewerOptions.refresh(),w.selectedTask){var r=w.viewerData.findIndex(function(e){return e.Id===w.selectedTask.Id});ie(w.viewerData[r])?z(w.viewerData[0]):z(w.selectedTask)}}}(e,t);var n=w.selectedTask&&w.selectedTask.Id&&w.selectedTask.Id===t.Id;ne(w.selectedTask,t)&&n?re({value:[t]}):C.logDebug("No need refresh component...."),w.excludedStatus&&w.excludedStatus.includes(e.value[0].Status.StatusNId)&&(C.logDebug("Data changed for task id: "+t[0].Id+"has been rejected"),F(e.value[0])),f.$broadcast("common.widgets.containers.on-status-changed",{task:t})}(e.items,e.item)},RemoveTaskById:function(e){F(e)}},w.pause=j,w.complete=q,w.abort=W,w.activateTask=H,w.suspend=X,w.skip=Y,w.recover=K,w.fail=J,w.start=Z,w.resume=ee,w.cancel=Q,w.initSignalManager&&(a.createConnection("Task","StatusChanged",ae).then(function(e){e.signalManager.isOpen?(w.signalConnections.StatusChanged=e,i.log("Connection has been established successfully. Connection State: "+e.state()),function(){if(void 0!==w.signalConnections.StatusChanged){var e="EnvelopeModule eq 'TaskManagement' and EnvelopeTopic eq 'Task'";w.subscribeFilterSignalManager&&(e=w.subscribeFilterSignalManager),w.signalConnections.StatusChanged.subscribe(e,se,ce,le).then(function(){i.log("subscribe callback")},function(){i.log("subscribe error")})}}()):i.log("Wrong signal")},function(e){}),a.createConnection("Task","MessageOnTaskReceived",ae).then(function(e){e.signalManager.isOpen?(w.signalConnections.MessageOnTaskReceived=e,i.log("Connection has been established successfully. Connection State: "+e.state()),void 0!==w.signalConnections.MessageOnTaskReceived&&w.signalConnections.MessageOnTaskReceived.subscribe("",de,ce,le).then(function(){i.log("subscribe callback")},function(){i.log("subscribe error")})):i.log("Wrong signal")},function(e){}),a.createConnection("Task","ErrorCountChanged",ae).then(function(e){e.signalManager.isOpen?(w.signalConnections.ErrorCountChanged=e,i.log("Connection has been established successfully. Connection State: "+e.state()),void 0!==w.signalConnections.ErrorCountChanged&&w.signalConnections.ErrorCountChanged.subscribe("",me,ce,le).then(function(){i.log("subscribe callback")},function(){i.log("subscribe error")})):i.log("Wrong signal")},function(e){i.log("Error in opening a connection \n"+angular.toJson(e,!0))}),t.$on("$destroy",S));w.showCommandBar&&v.has("taskList.service")?(M(),w.taskListService=v.get("taskList.service")):(w.showCommandBar=!1,C.logErr("No TaskList Service is available!"));w.showCommandBar?w.margintop="-36":w.margintop="-56"}()}angular.module("siemens.simaticit.common.widgets.containers").directive("sitTaskContainer",function(){return{restrict:"E",scope:!0,bindToController:{events:"=?sitEvents",methods:"=?sitMethods",taskSelected:"=?sitTaskSelected",taskDetailsVisible:"=?sitTaskDetailsVisible",loadDataFilterOptions:"=?sitDataFilterOptions",LoadDataAuto:"=?sitLoadDataAuto",selectFirstItem:"=?sitSelectFirstItem",icvOptions:"=?sitIcvOptions",icvSortInfo:"=?sitIcvSortInfo",icvData:"=?sitIcvData",icvQuickSearchOptions:"=?sitIcvQuickSearchOptions",useDefaultSortByStatus:"=?sitUseSortByStatusAsDefault",initSignalManager:"=?sitInitSignalManager",subscribeFilterSignalManager:"=?sitSubscribeFilterSignalManager",showCommandBar:"=?sitShowCommandbar",excludedStatus:"=?sitExcludedStatus"},controller:e,controllerAs:"vm",templateUrl:"common/widgets/taskContainer/taskContainer.html"}}),e.$inject=["$q","$injector","$compile","$state","$stateParams","$rootScope","$scope","$timeout","$filter","common.base","common.services.logger.service","common.services.signalManager","common.services.ui.authentication"]}(),angular.module("siemens.simaticit.common.widgets.text",[function(){}]),function(){var e=angular.module("siemens.simaticit.common.widgets.text");e.controller("TextController",function(){}),e.directive("sitText",function(){return{bindToController:{readOnly:"=?sitReadOnly",value:"=?sitValue",validation:"=?sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",placeholder:"=?sitPlaceholder"},scope:{},restrict:"E",controller:"TextController",controllerAs:"textCtrl",templateUrl:"common/widgets/text/text.html"}})}(),angular.module("siemens.simaticit.common.widgets.textEditor",[]),function(){var h={};function e(t,e,r,n,i,o,a){var s,c,l=this;l.$onInit=function(){l.readOnly=void 0===l.readOnly?l.ngReadonly:l.readOnly,l.imageData=[{value:h,widgetAttributes:{accept:"image/jpeg,image/png,image/gif","sit-min-size":"1KB","sit-max-size":"1MB"},tabHeadingtext:i.instant("textEditor.tabHeading"),browseText:i.instant("textEditor.browse")}],l.enableOkButton=u,l.disableOkButton=p,l.uploadOk=g,l.uploadClose=f};var d=n(function(){if(r.CKEDITOR.replace(l.id,{allowedcontent:"blockquote strong em h1 h2 h3 h4 h5 h6 li ol ul;*{text-align};span{color};a[!href];p{text-indent,margin-left};table tr td thead th tbody;",disallowedContent:"iframe script; *[on*]; *[class]",extraAllowedContent:"img{width}[src,alt,style]",extraPlugins:"placeholder,imageDragResize,imageUpload",removePlugins:"image",qtCellPadding:"0",qtCellSpacing:"0",toolbarGroups:[{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"colors",groups:["colors"]},{name:"styles",groups:["styles"]},{name:"paragraph",groups:["list","indent","blocks","align"]},{name:"insert",groups:["links","insert"]}],removeButtons:"Underline,Strike,Subscript,Superscript,BGColor,Styles,JustifyBlock,Unlink,Anchor,SpecialChar,HorizontalRule",resize_enabled:!1,colorButton_enableMore:!0,removeDialogTabs:"link:advanced;link:target",on:{instanceReady:function(e){e.editor.setReadOnly(l.readOnly),!0===l.readOnly&&(e.editor.document.$.body.style.pointerEvents="none"),e.editor.on("change",function(){l.contentChanged=!0,t.$emit("sit-editor-content-change",l.contentChanged)})}}}),o.setEditorInstance(r.CKEDITOR,l.id),l.data&&l.data.length){c=[];for(var e=0;e<l.data.length;e++)c.push([l.data[e]]);r.CKEDITOR.instances[l.id].data={parameters:c}}l.value&&o.setEditorContent(l.value,l.id),r.CKEDITOR.plugins.registered.imageUpload||r.CKEDITOR.plugins.add("imageUpload",{icons:"imageUpload",init:function(e){e.addCommand("imageUploadOption",{exec:function(a){l.isUploadSuccess=!1,l.uploadDisabled=!0,m(),s=t.$on("sit-editor-image-uploaded",function(e,t,n){if(!l.isUploadSuccess){var i=r.CKEDITOR.dom.element.createFromHtml('<img style="width:400px" src=\'data:'+t+";base64,"+n+"'  />");if(a.document){var o=a.document.createElement("div");i.appendTo(o),a.insertElement(o),l.isUploadSuccess=!0,e.preventDefault()}}})}}),e.ui.addButton("ImageUpload",{label:i.instant("common.imageUpload"),command:"imageUploadOption",toolbar:"insert"})}})});function m(){n(function(){a.set({title:i.instant("common.imageUpload"),templatedata:l.imageData,templateuri:"common/widgets/textEditor/image-upload-dialog-template.html",buttons:[{id:"btn_ok",displayName:i.instant("common.ok"),onClickCallback:g,disabled:l.uploadDisabled},{id:"btn_cancel",displayName:i.instant("common.cancel"),onClickCallback:f}]})}),a.show()}function u(){l.imageData[0].value&&(l.imageSrc=l.imageData[0].value,null!==l.imageSrc&&(l.uploadDisabled=!1,m(),"$apply"!==e.$root.$$phase&&"$digest"!==e.$root.$$phase&&e.$apply()))}function p(){l.uploadDisabled=!0,m()}function g(){l.imageData[0].value.contents&&(l.imageSrc=l.imageData[0].value.contents,l.format=l.imageData[0].value.type,null!==l.imageSrc&&t.$emit("sit-editor-image-uploaded",l.format,l.imageSrc)),f()}function f(){l.imageData[0].value.name="",l.imageData[0].value.type="",l.imageData[0].value.contents="",a.hide()}e.$on("sit-file-uploader-success",u),e.$on("sit-file-uploader-file-removed",p),l.$onChanges=function(e){e.readOnly&&!e.readOnly.isFirstChange()&&void 0!==r.CKEDITOR.instances[l.id]&&r.CKEDITOR.instances[l.id].setData(r.CKEDITOR.instances[l.id].getData(),function(){r.CKEDITOR.instances[l.id].setReadOnly(l.readOnly),!0===l.readOnly?r.CKEDITOR.instances[l.id].document.$.body.style.pointerEvents="none":r.CKEDITOR.instances[l.id].document.$.body.style.pointerEvents=""})},l.$onDestroy=function(){n.cancel(d),d=null,s&&s(),void 0!==this.id&&void 0!==window.CKEDITOR&&(window.CKEDITOR.instances[this.id].setData(""),window.CKEDITOR.instances[this.id].destroy())}}angular.module("siemens.simaticit.common.widgets.textEditor").directive("sitTextEditor",function(){return{scope:{},restrict:"E",transclude:!0,bindToController:{id:"@sitId",value:"=?sitValue",data:"=?sitData",readOnly:"<sitReadOnly",ngReadonly:"=?"},controller:e,controllerAs:"textEditorCtrl",templateUrl:"common/widgets/textEditor/text-editor.html"}}),e.$inject=["$rootScope","$scope","$window","$timeout","$translate","common.textEditor.textEditorService","common.widgets.globalDialog.service"]}(),function(){var S,x,T,I,k,E,O,P,D=angular.$$minErr("$textEditorSanitize");angular.module("siemens.simaticit.common.widgets.textEditor").provider("$textEditorSanitize",function(){var t=!1;this.enableSvg=function(e){return I(e)?(t=e,this):t},S=angular.bind,x=angular.extend,T=angular.forEach,I=angular.isDefined,k=angular.lowercase,O=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=v(e);if(!n)return"";var i=5;do{if(0===i)throw D("uinput","Failed to sanitize html because the input is unstable");i-=1,e=n.innerHTML,n=v(e)}while(e!==n.innerHTML);for(var o=n.firstChild;o;){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),y(o.attributes));break;case 3:t.chars(o.textContent)}var a=o.firstChild;if(!(a||(1===o.nodeType&&t.end(o.nodeName.toLowerCase()),a=w("nextSibling",o))))for(;null===a&&(o=w("parentNode",o))!==n;)a=w("nextSibling",o),1===o.nodeType&&t.end(o.nodeName.toLowerCase());o=a}for(;o=n.firstChild;)n.removeChild(o)},P=function(e,s){var t=!1,c=S(e,e.push);return{start:function(r,e){r=k(r),!t&&d[r]&&(t=r),t||!0!==m[r]||(c("<"),c(r),T(e,function(e,t){var o,n,i=k(t),a="img"===r&&"src"===i||"background"===i;("style"===i&&""!==(o="",n=e.split(";"),T(n,function(e){var t=e.split(":");if(2===t.length){var n=C(k(t[0])),i=C(k(t[1]));("color"===n&&(i.match(/^rgb\([0-9%,\. ]*\)$/i)||i.match(/^rgba\([0-9%,\. ]*\)$/i)||i.match(/^hsl\([0-9%,\. ]*\)$/i)||i.match(/^hsla\([0-9%,\. ]*\)$/i)||i.match(/^#[0-9a-f]{3,6}$/i)||i.match(/^[a-z]*$/i))||"text-align"===n&&("left"===i||"right"===i||"center"===i||"justify"===i)||("width"===n||"height"===n||"margin-left"===n||"text-indent"===n)&&i.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===n&&i.match(/^ltr|rtl|initial|inherit$/))&&(o+=n+": "+i+";")}}),e=o)||!0===f[i]&&(!0!==u[i]||s(e,a)))&&(c(" "),c(t),c('="'),c(b(e)),c('"'))}),c(">"))},end:function(e){e=k(e),t||!0!==m[e]||!0===o[e]||(c("</"),c(e),c(">")),e===t&&(t=!1)},chars:function(e){t||c(b(e))}}},E=window.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^#-~ |!])/g,o=h("area,br,col,hr,img,wbr"),e=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a=h("rp,rt"),r=x({},a,e),s=x({},e,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),c=x({},a,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),l=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),d=h("script,style"),m=x({},o,s,c,r),u=h("background,cite,href,longdesc,src,xlink:href,xml:base"),p=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),g=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),f=x({},u,g,p);function h(e,t){var n,i={},o=e.split(",");for(n=0;n<o.length;n++)i[t?k(o[n]):o[n]]=!0;return i}this.$get=["$$sanitizeUri",function(n){return t&&x(m,l),function(e){var t=[];return O(e,P(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}];var v=function(i,t){var e;if(!t||!t.implementation)throw D("noinert","Can't create an inert html document");var n=((e=t.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).querySelector("body");return n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',n.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var t=(new i.DOMParser).parseFromString(e,"text/html").body;return t.firstChild.remove(),t}catch(e){return}}:function(e){return n.innerHTML=e,t.documentMode&&function e(t){for(;t;){if(t.nodeType===window.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,o=n.length;i<o;i++){var a=n[i],r=a.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),i-=1,o-=1)}var s=t.firstChild;s&&e(s),t=w("nextSibling",t)}}(n),n}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(e){return}var t=new i.XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var n=t.response.body;return n.firstChild.remove(),n}}(window,window.document);function y(e){for(var t={},n=0,i=e.length;n<i;n++){var o=e[n];t[o.name]=o.value}return t}var C=String.prototype.trim?function(e){return"string"==typeof e?e.trim():e}:function(e){return"string"==typeof e?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e};function b(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(e,t){var n=t[e];if(n&&E.call(t,n))throw D("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}})}(),function(){function e(n,i){var e=this,o={};function t(e,t){o[t]=e.instances[t],e.config.language=n.getLocale()}function a(e){var t=o[e].getData(),n=new RegExp("<a href","g");return t.replace(n,'<a target="_blank" href')}function r(e,t){o[t].setData(i(e))}e.setEditorInstance=t,e.getEditorContent=a,e.setEditorContent=r}angular.module("siemens.simaticit.common.widgets.textEditor").service("common.textEditor.textEditorService",e),e.$inject=["common.services.globalization.globalizationService","$textEditorSanitize"]}(),angular.module("siemens.simaticit.common.widgets.textarea",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.textarea");e.controller("TextareaController",function(){}),e.directive("sitTextarea",function(){return{scope:{},bindToController:{readOnly:"=?sitReadOnly",value:"=?sitValue",validation:"=?sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",placeholder:"=?sitPlaceholder"},restrict:"E",controller:"TextareaController",controllerAs:"textareaCtrl",templateUrl:"common/widgets/textarea/textarea.html"}})}(),angular.module("siemens.simaticit.common.widgets.tileConfigurator",[]),function(){function e(e,t){var n,i=this;function o(){i.options={color:"black",containerID:"tile-container",propertyFields:i.sitConfig.data.userPreferences.propertyFields,selectStyle:"standard",showPager:!1,tileType:"item",tileSize:i.sitConfig.data.viewMode,titleField:i.sitConfig.data.userPreferences.titleField,descriptionField:i.sitConfig.data.userPreferences.descriptionField,useCustomColors:!1,enableResponsiveBehaviour:!0,tileTemplate:i.sitConfig.data.tileTemplate,isCell:i.sitConfig.data.isCell}}function a(){"small"===i.tileSize?i.options.tileSize="medium":"medium"===i.tileSize?i.options.tileSize="wide":"large"===i.tileSize&&(i.options.tileSize="large")}function r(e,t){angular.equals(e,t)||(i.sitConfig.data.userPreferences.titleField=t.field,i.options.titleField=t.field,i.options.dataUpdated())}function s(e,t){angular.equals(e,t)||(t&&t.field?i.sitConfig.data.userPreferences.descriptionField=t.field:i.sitConfig.data.userPreferences.descriptionField=void 0,i.options.descriptionField=i.sitConfig.data.userPreferences.descriptionField,i.options.dataUpdated())}function c(e,t){angular.equals(e,t)||(t&&t.field?i.sitConfig.data.userPreferences.propertyFields[0]=t:i.sitConfig.data.userPreferences.propertyFields.splice(0,1),i.options.propertyFields=i.sitConfig.data.userPreferences.propertyFields,i.options.dataUpdated())}function l(e,t){angular.equals(e,t)||(t&&t.field?i.sitConfig.data.userPreferences.propertyFields[1]=t:i.sitConfig.data.userPreferences.propertyFields.splice(1,1),i.options.propertyFields=i.sitConfig.data.userPreferences.propertyFields,i.options.dataUpdated())}function d(e,t){angular.equals(e,t)||(t&&t.field?i.sitConfig.data.userPreferences.propertyFields[2]=t:i.sitConfig.data.userPreferences.propertyFields.splice(2,1),i.options.propertyFields=i.sitConfig.data.userPreferences.propertyFields,i.options.dataUpdated())}function m(e,t){angular.equals(e,t)||(t&&t.field?i.sitConfig.data.userPreferences.propertyFields[3]=t:i.sitConfig.data.userPreferences.propertyFields.splice(3,1),i.options.propertyFields=i.sitConfig.data.userPreferences.propertyFields,i.options.dataUpdated())}function u(){return i.usertileConfig={titleField:i.titleField.field?i.titleField.field:void 0,descriptionField:i.descriptionField.field?i.descriptionField.field:void 0,propertyFields:[]},angular.forEach(i.sitConfig.data.userPreferences.propertyFields,function(e){e&&e.field&&i.usertileConfig.propertyFields.push(e)}),i.usertileConfig}"s"===(n=i.sitConfig.data.viewMode)||"c"===n||"medium"===n?(i.sitConfig.data.viewMode="medium",i.tileSize="medium"):"m"===n||"wide"===n?(i.sitConfig.data.viewMode="wide",i.tileSize="medium"):"l"!==n&&"large"!==n||(i.sitConfig.data.viewMode="large",i.tileSize="large"),i.svgIcons={reset:{path:"./common/icons/cmdToPartial24.svg"}},i.initialTileFields=[],i.resetColumns=i.sitConfig.reset.onClickCallback,i.sitConfig.data.viewMode="medium",i.sitConfig.data.isCell=!0,function(){for(var e in!i.sitConfig.data.tileConfig.titleField&&i.sitConfig.data.tileConfig.propertyFields&&0===i.sitConfig.data.tileConfig.propertyFields.length&&(i.sitConfig.data.tileConfig=$.extend(!0,{},i.sitConfig.data.userPreferences)),i.sitConfig.data.tileConfig)!i.sitConfig.data.tileConfig[e]||0===i.sitConfig.data.tileConfig[e].length||"titleField"!==e&&"descriptionField"!==e||i.initialTileFields.push({field:i.sitConfig.data.tileConfig[e],displayName:i.sitConfig.data.tileConfig[e]}),"propertyFields"===e&&angular.forEach(i.sitConfig.data.tileConfig[e],function(e){e.field&&""!==e.field&&"object"==typeof e?i.initialTileFields.push({field:e.field,displayName:e.displayName?e.displayName:e.field}):e&&""!==e&&"string"==typeof e&&i.initialTileFields.push({field:e,displayName:e})})}(),i.tileModes=["small","medium","large"],i.titleField={field:i.sitConfig.data.userPreferences.titleField,displayName:i.sitConfig.data.userPreferences.titleField},i.descriptionField={field:i.sitConfig.data.userPreferences.descriptionField,displayName:i.sitConfig.data.userPreferences.descriptionField},i.select={toKeep:"field",toDisplay:"field",validation:{required:!1},readOnly:!1},i.isCell=i.sitConfig.data.isCell,o(),function(){for(var e in i.tiles=[],i.tiles[0]={},i.sitConfig.data.userPreferences)("titleField"===e||"descriptionField"===e&&i.sitConfig.data.userPreferences[e])&&(i.tiles[0][i.sitConfig.data.userPreferences[e]]=i.sitConfig.data.userPreferences[e]+" field value",-1===_.findIndex(i.initialTileFields,{field:i.sitConfig.data.userPreferences[e]})&&i.initialTileFields.push({field:i.sitConfig.data.userPreferences[e],displayName:i.sitConfig.data.userPreferences[e]})),"propertyFields"===e&&(i.initialTileFields.push({field:"",displayName:""}),angular.forEach(i.sitConfig.data.userPreferences[e],function(e,t){"object"==typeof e&&e.field&&""!==e.field?(i.tiles[0][e.field]=e.field+" field value",-1===_.findIndex(i.initialTileFields,e)&&i.initialTileFields.push({field:e.field,displayName:e.displayName?e.displayName:e.field})):"string"==typeof e&&""!==e&&(i.tiles[0][e]=e+" field value",i.sitConfig.data.userPreferences.propertyFields[t]={field:e,displayName:e},-1===_.findIndex(i.initialTileFields,{field:e})&&i.initialTileFields.push({field:e,displayName:e}))}));i.titleDescriptionValues=JSON.parse(JSON.stringify(i.initialTileFields));var t=i.titleDescriptionValues.map(function(e){return e.field}).indexOf("");i.titleDescriptionValues.splice(t,1)}(),i.updateTileMode=a,i.updateUserTitle=r,i.updateUserDesc=s,i.updateUserPropone=c,i.updateUserProptwo=l,i.updateUserPropthree=d,i.updateUserPropfour=m,i.sitConfig.data.getTileSettings=u,i.initializeTileOptions=o}angular.module("siemens.simaticit.common.widgets.tileConfigurator").directive("sitTileConfigurator",function(){return{scope:{},bindToController:{sitConfig:"=sitConfig"},controller:e,controllerAs:"tileConfiguratorCtrl",templateUrl:"common/widgets/tileConfigurator/tile-configurator.html"}}),e.$inject=["common","$timeout"]}(),angular.module("siemens.simaticit.common.services.filterSort",[]),angular.module("siemens.simaticit.common.widgets.tiles",["siemens.simaticit.common.widgets.pager","siemens.simaticit.common.services.filterSort","siemens.simaticit.common.services.tagsManager"]),function(){function e(r){return{restrict:"E",bindToController:{tileContent:"=sitTileContent",tileOptions:"=sitTileOptions"},controller:t,controllerAs:"actnTileCtrl",scope:{},link:function(e,t,n,i){var o=i;function a(){o.tileContent.selected=!1;var e=r.getColors(o.tileContent);o.color=e.color,o.bgColor=e.bgColor}a(),e.$watch(function(){return o.tileContent.useCustomColors},a),e.$watch(function(){return o.tileContent.size},function(){r.validateTileSize("action",o.tileContent.size,!0)})},templateUrl:"common/widgets/tiles/action-tile.html"}}function t(t,n,i){var e,o=this;function a(){var e=o.tileContent.titleField?n.getFieldValue(o.tileContent.titleField,o.tileContent):o.tileContent.title;return"wide"===o.tileContent.size?n.getDisplayText(e,12,204,1):"square"===o.tileContent.size?n.getDisplayText(e,12,104,1):"square-shortcut"===o.tileContent.size?n.getDisplayText(e,12,104,4):"square-summary"===o.tileContent.size?n.getDisplayText(e,12,104,1,!1):e}function r(){var e=o.tileContent.stateTransition;null!==e?i.go(e.to,e.params,e.options):(t.$emit("sit-tile.clicked",o.tileContent),o.tileContent.onClickCallback&&o.tileContent.onClickCallback(o.tileContent))}function s(){var e="number"==typeof o.tileContent.count?o.tileContent.count.toString():o.tileContent.count;return n.getDisplayText(e,48,104,1,!1)}o.tileOptions&&(e=angular.extend({},o.tileOptions,o.tileContent),angular.extend(o.tileContent,e)),n.setTileContentDefaults(o.tileContent),o.tileContent.size=n.getTileSize("action",o.tileContent.size,o.tileContent.containerID),o.getDisplayText=a,o.tileClicked=r,o.getSummaryCountText=s,o.tileContent.svgIcon?"small"===o.tileContent.size?o.tileContent.svgIcon.size="30px":o.tileContent.svgIcon.size="64px":o.tileContent.typeIcon&&("small"===o.tileContent.size?o.tileContent.typeIcon.size="30px":o.tileContent.typeIcon.size="64px"),o.tileContent.shortCutImage={path:"common/icons/cmdRedo24.svg"}}angular.module("siemens.simaticit.common.widgets.tiles").directive("sitActionTile",e),e.$inject=["common.widgets.tiles.tileService"],t.$inject=["$scope","common.widgets.tiles.tileService","$state"]}(),function(){function e(m,e){var u=/\./g,t=/^[-+]?[$]?[\d,.]+%?$/,p=this;p.compareFuncCache={},p.isCustomCompare=!1,this.guessCompareFunc=function(e){switch(typeof e){case"number":return p.compareNumber;case"boolean":return p.compareBool;case"string":return e.match(t)?p.compareNumberStr:p.compareAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?p.compareDate:p.basicCompare}},this.basicCompare=function(e,t){if(e===t)return 0;if(e<t)return-1;return 1},this.compareNumber=function(e,t){return e-t},this.compareAlpha=function(e,t){var n=e.toLowerCase(),i=t.toLowerCase();{if(n===i)return 0;if(n<i)return-1}return 1},this.compareDate=function(e,t){var n=e.getTime(),i=t.getTime();{if(n===i)return 0;if(n<i)return-1}return 1},this.compareBool=function(e,t){if(e&&t)return 0;if(!e&&!t)return 0;return e?1:-1},this.sortData=function(c,e){if(!e||!c)return;var l,d=e.slice(0);e.sort(function(e,t){for(var n,i,o=0,a=0;0===o&&a<c.length;){l=c[a],i=p.getCompareFunc(l,d);var r=m("entity['"+l.field.replace(u,"']['")+"']")({entity:e}),s=m("entity['"+l.field.replace(u,"']['")+"']")({entity:t});p.isCustomCompare?(n=i(r,s),o="asc"===l.direction.toLowerCase()?n:0-n):null===r||null===s?null===s&&null===r?o=0:null===r?o=1:null===s&&(o=-1):(n=i(r,s),o="asc"===l.direction.toLowerCase()?n:0-n),a++}return o})},this.sort=function(e,t){if(p.isSorting)return;p.isSorting=!0,p.sortData(e,t),p.isSorting=!1},this.getCompareFunc=function(e,t){var n,i;if(p.compareFuncCache[e.field])n=p.compareFuncCache[e.field];else if(void 0!==e.compareFunc)n=e.compareFunc,p.compareFuncCache[e.field]=e.compareFunc,p.isCustomCompare=!0;else{if(!(i=t[0]))return n;(n=p.guessCompareFunc(m("obj['"+e.field.replace(u,"']['")+"']")({obj:i})))?p.compareFuncCache[e.field]=n:n=p.compareAlpha}return n}}angular.module("siemens.simaticit.common.services.filterSort").service("common.services.filterSort.service",e),e.$inject=["$parse","$log"]}(),function(){function e(o,e,t,n,i){return{restrict:"E",bindToController:{tileContent:"=sitTileContent",tileOptions:"=?sitTileOptions",tileTemplate:"=?sitTileTemplate",sitFormat:"=?sitFormat"},templateUrl:"common/widgets/tiles/item-tile.html",controller:r,controllerAs:"itemTileCtrl",scope:{},compile:function(){return{post:a}}};function a(e,t,n,i){e.$watch(function(){return i.tileContent.selected},i.setTileColors),e.$watch(function(){return i.tileContent.useCustomColors},i.setTileColors),e.$watch(function(){return i.tileContent.size},function(){o.validateTileSize("item",i.tileContent.size,!0)}),i.element=t}}function r(t,l,n,r,s,i,o,a,c){var d,m,u,p,g,f,h=this,v=2,y=3,C=4;function b(e){if(e.isVisible=!0,e.img||e.cmdIcon?e.cmdIcon&&"string"==typeof e.cmdIcon&&(e.cmdIcon={prefix:"cmd",name:e.cmdIcon,suffix:"24"}):e.img="fa-share-square-o","function"==typeof e.visible)e.isVisible=e.visible(h.tileContent);else if("boolean"==typeof e.visible)e.isVisible=e.visible;else if("string"==typeof e.visible){var t=["return",e.visible].join(" ");e.isVisible=new Function("tileContent",t)(h.tileContent)}e.isVisible&&h._commands.push(e)}function w(e){if("string"==typeof e.svgIcon&&(e.svgIcon={path:e.svgIcon,size:"16px"}),"function"==typeof e.visible)e.isVisible=e.visible(h.tileContent);else if("boolean"==typeof e.visible)e.isVisible=e.visible;else if("string"==typeof e.visible){var t=["return",e.visible].join(" ");e.isVisible=new Function("tileContent",t)(h.tileContent)}e.isVisible&&h._indicators.push(e)}function S(e){for(var t in void 0!==h.sitFormat&&""!==h.sitFormat||(h.sitFormat="mediumDate"),e)e[t]instanceof Date&&"string"!=typeof e[t]&&(e[t]=r("date")(e[t],h.sitFormat))}function x(){var e=h.element.find("div.item-tile-wrapper").children();h.element.append(e),h.customTemplate&&h.element.find("div[data-internal-type=custom-template-container]").append(i(h.customTemplate)(t))}function T(e,t){var n,i="";if("description"===e)if(i=n=h.tileContent.descriptionField?l.getFieldValue(h.tileContent.descriptionField,h.tileContent):h.tileContent.description,"large"===h.tileContent.size)i=l.getDisplayText(n,13,215,3);else{var o,a=h.tileContent.propertyFields&&0<h.tileContent.propertyFields.length||h.tileContent.properties&&0<h.tileContent.properties.length;"wide"!==h.tileContent.size&&"medium"!==h.tileContent.size||(o=a?1:4,i=l.getDisplayText(n,12,160,o))}else if("title"===e)n=h.tileContent.titleField?l.getFieldValue(h.tileContent.titleField,h.tileContent):h.tileContent.title,"large"===h.tileContent.size?(h.displayTooltip=n,i=l.getDisplayText(n,15,116,4,!0)):"wide"===h.tileContent.size||"medium"===h.tileContent.size?(h.displayTooltip=n,i=l.getDisplayText(n,14.4,160,d,!0)):i=n;else if("property"===e){if(h.tileContent.propertyFields&&0===h.tileContent.propertyFields.length)i="";else{var r=h.tileContent.properties&&h.tileContent.properties[t]?h.tileContent.properties[t]:null;if(h.tileContent.propertyFields){var s=h.tileContent.propertyFields[t];if(s)if(s.constructor!==Object)r={name:s,value:l.getFieldValue(s,h.tileContent)};else{var c=_.findWhere(h.tileContent.propertyFields,{displayName:s.displayName});r={name:s.displayName?s.displayName:s.field,value:l.getFieldValue(s.field,h.tileContent,c)}}else r=null}i="large"===h.tileContent.size?l.getPropertyDisplayText(r,13,232,1):"wide"===h.tileContent.size?l.getPropertyDisplayText(r,12,176,1):"medium"===h.tileContent.size?l.getPropertyDisplayText(r,11,188,1):r.value}0<i.length&&0}return i}function I(e){var t,n;if((!h.tileContent.propertyFields||0!==h.tileContent.propertyFields.length)&&(t=h.tileContent.properties&&h.tileContent.properties[e]?h.tileContent.properties[e]:null,h.tileContent.propertyFields)){var i=h.tileContent.propertyFields[e];if(i)if(i.constructor!==Object)t={name:i,value:l.getFieldValue(i,h.tileContent)};else{var o=_.findWhere(h.tileContent.propertyFields,{displayName:i.displayName});t={name:i.displayName?i.displayName:i.field,value:l.getFieldValue(i.field,h.tileContent,o),filter:i.filter}}else t=null}function a(e){return e&&"string"==typeof e?s(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/(['\\{}])/g,"\\$1")):e}return t&&(t.name+=": ",!1===t.value||0===t.value||t.value||(t.value=""),n=new RegExp("PROP"+(e+1)+"_VALUE","g"),h.customTemplate?h.customTemplate=h.customTemplate.replace(n,"'"+a(t.value)+"'"+(t.filter?" | "+a(t.filter):"")):t.filter?t.sanitizedVal=r(t.filter)(t.value):t.sanitizedVal=t.value,0),t}function k(){var e=l.getColors(h.tileContent);h.color=e.color,h.bgColor=e.bgColor,h.selectClass=e.selectClass}function E(){return h.tileContent.selected&&"standard"===h.tileContent.selectStyle}function O(){h.isTagContainerExpanded=!h.isTagContainerExpanded}function P(e,t){e.stopPropagation(),t.onClick(h.tileContent)}!function(){if(h._commands=[],h._indicators=[],h.isCell=!1,0,d=1,g=100,h.tag="",h.isTagShown=!1,h.showTagExpandIcon=!1,h.isTagContainerExpanded=!1,h.displayProperties=[],h.setTileColors=k,h.showSelectCheck=E,h.formatDate=S,h.templateLoaded=x,h.toggleTagContainer=O,h.commandCallback=P,h.svgIcons={},h.svgIcons.svgUp={path:"common/icons/miscUpArrow16.svg"},h.svgIcons.svgDown={path:"common/icons/miscDownArrow16.svg"},h.svgIcons.warning={path:"common/icons/indicatorContainsChange16.svg",size:"16"},h.svgIcons.certificate={path:"common/icons/cmddomain16.svg",size:"16"},S(h.tileContent),h.tileOptions){h.isCell=h.tileOptions.isCell;var e=angular.extend({},h.tileOptions,h.tileContent);angular.extend(h.tileContent,e),h.tag=h.tileOptions.tagField,h.isTagShown=_.isArray(h.tileContent[h.tag])&&0<h.tileContent[h.tag].length&&("wide"===h.tileContent.size||"large"===h.tileContent.size||"medium"===h.tileContent.size),p="large"===h.tileContent.size?52:28,"large"===h.tileContent.size?h.tileContent.svgIcon?h.tileContent.svgIcon.size="48px":h.tileContent.typeIcon&&(h.tileContent.typeIcon.size="48px"):(p=28,h.tileContent.svgIcon?h.tileContent.svgIcon.size="32px":h.tileContent.typeIcon&&(h.tileContent.typeIcon.size="32px")),h.isTagShown&&o(function(){0<(m=a.find("div[data-internal-type=tag-text-container]")).length&&m[0].scrollHeight>p&&(h.showTagExpandIcon=!0)},g),h.commands=angular.copy(h.tileOptions.commands||[]),h.commands.forEach(b),h.indicators=angular.copy(h.tileOptions.indicators||[]),h.indicators.forEach(w)}h.isTagShown&&c.getTagsStyle(h.tileContent[h.tag]);l.setTileContentDefaults(h.tileContent,"item"),h.tileContent.size=l.getTileSize("item",h.tileContent.size,h.tileContent.containerID),h.template=h.tileContent.size,h.tempalteUrl=h.tileContent.size+"-tile-item.html",h.tileTemplate&&(h.customTemplate=h.tileTemplate,h.tempalteUrl="custom-tile-item.html");u=h.tileContent.propertyFields?h.tileContent.propertyFields.length:h.tileContent.properties?h.tileContent.properties.length:0;h.tileTemplate||(u="wide"===h.tileContent.size||"medium"===h.tileContent.size?h.tileOptions&&h.tileOptions.isCell?u<=C?u:C:"wide"===h.tileContent.size?y:v:4);for(f=0;f<u;f++)h["displayProp"+(f+1)]=I(f),h.displayProperties.push(h["displayProp"+(f+1)]);h.displayDescription=T("description",0),h.displayTitle=T("title",0),h.showFirstProp=!!h.displayProp1,"wide"===h.tileContent.size?h.descriptionClass=h.displayProp1?"wide-item-description-single":"wide-item-description":"medium"===h.tileContent.size&&(h.descriptionClass=h.showFirstProp?"medium-item-text":"medium-item-text-double");var t=h.tileContent.descriptionField?l.getFieldValue(h.tileContent.descriptionField,h.tileContent):h.tileContent.description;h.descriptionTooltip=h.displayProp1?t:"",h.setTileColors()}();h.tileClicked=function(){var e=h.tileContent.stateTransition;null!==e?n.go(e.to,e.params,e.options):(h.tileContent.toggleSelectState&&(h.tileContent.selected=!h.tileContent.selected),t.$emit("sit-tile.clicked",h.tileContent),h.tileContent.onClickCallback&&h.tileContent.onClickCallback(h.tileContent))}}angular.module("siemens.simaticit.common.widgets.tiles").directive("sitItemTile",e),e.$inject=["common.widgets.tiles.tileService","$log","$compile","$parse","$state"],r.$inject=["$scope","common.widgets.tiles.tileService","$state","$filter","$sanitize","$compile","$timeout","$element","common.services.tagsManager.tagsManagementService"]}(),angular.module("siemens.simaticit.common.widgets.tiles").directive("sitLastTile",["$timeout",function(t){return{restrict:"A",link:function(e){e.$last&&t(function(){e.$emit("sitLastTileLinked")})}}}]),function(){function e(e,t){var n=this;function i(){n.group.expanded||n.groupExpanding({groupCount:n.group.childCount()}),t(function(){n.group.toggleExpand()},0)}function o(){angular.forEach(n.group.tiles,function(e){e.selected=n.groupSelected}),e.$emit("sit-group-selected",n.group.tiles)}!function(){n.groupSelected=!1,n.selectionMode||(n.selectionMode=n.multiSelect?"multi":"single");"none"===n.selectionMode&&n.group.tiles.forEach(function(e){e.selected=!1});if(0<n.group.tiles.length){for(var e=0;e<n.group.tiles.length;e++){var t=!0;if(!n.group.tiles[e].selected){t=!1;break}}n.groupSelected=t}n.toggleGroup=i,n.selectGroup=o}()}angular.module("siemens.simaticit.common.widgets.tiles").directive("sitTileGroup",function(){return{restrict:"E",scope:{},bindToController:{group:"=sitGroup",groupsLength:"@sitGroupsLength",groupExpanding:"&sitGroupExpanding",tileOptions:"=sitTileOptions",multiSelect:"=sitMultiSelect",selectionMode:"=sitSelectionMode",sitFormat:"=?sitFormat"},templateUrl:"common/widgets/tiles/tile-group.html",controller:e,controllerAs:"tileGrpCtrl"}}),e.$inject=["$scope","$timeout"]}(),angular.module("siemens.simaticit.common.widgets.tiles").directive("sitTileHeight",["$timeout",function(n){return{restrict:"A",link:function(e,i){var t=n(function(){for(var e=i,t=$(i).parents().eq(1).find("div.tile"),n=0;n<t.length;n++)$(e).height()>$(t[n]).height()&&($(t[n]).height($(e).height()),$(t[n]).children().height($(e).height()))});e.$on("$destroy",function(){n.cancel(t)})}}}]),function(){angular.module("siemens.simaticit.common.widgets.tiles").factory("common.widgets.tiles.tileService",["$parse","$filter",function(e,t){return new c(e,t)}]);var e={size:"large",width:248,height:248},t={size:"wide",width:248,height:120},n={size:"square",width:120,height:120},i=["action","item","notification","summary"],o=[t,n,{size:"square-shortcut",width:120,height:120},{size:"square-summary",width:120,height:120},{size:"small",width:56,height:56}],a=[e,t,{size:"medium",width:56,height:120}],r=[e,t],s=[n];function c(e,t){this.parse=e,this.filter=t,this.tileContentDefaults={selected:!1,selectStyle:"alternate",size:"auto",stateTransition:null,title:"",toggleSelectState:!1,useCustomColors:!1},this.tileViewOptionDefaults={enablePaging:!0,multiSelect:!0,pagingOptions:{pageSizes:[10,25,50,100,250],pageSize:10,currentPage:1},quickSearchOptions:{enabled:!1,field:"",filterText:""},selectStyle:"alternate",sortInfo:{field:"",direction:""},tileSize:"wide",tileType:"item",useCustomColors:!1,debug:!1,enableResponsiveBehaviour:!1}}c.prototype={setTileContentDefaults:function(e,t){var n=$.extend({},this.tileContentDefaults,e);n.type=t,$.extend(e,n)},validateTileSize:function(e,t,n){var i,o=this.getValidTileSizes(e),a=!1;for(i=0;o[i];i++)if(o[i].size===t){a=!0;break}if(!a&&n)throw new Error("Invalid size ["+t+"] specified for tile type ["+e+"]. Allowed values: "+this.getValidTileSizeNames(e).toString());return a},validateTileType:function(e,t){var n=-1!==i.indexOf(e);if(!n&&t)throw new Error("Invalid tile type ["+e+"] specified. Allowed values: "+i.toString());return n},getValidTileSizeNames:function(e){var t,n,i=[],o=this.getValidTileSizes(e);if(void 0!==o)for(t=0;o[t];t++)n=o[t],i.push(n.size);return i},getValidTileSizes:function(e){return"action"===e?o:"item"===e?a:"notification"===e?r:"summary"===e?s:void 0},getTileSize:function(e,t,n,i,o){if(this.validateTileType(e,!0),"auto"!==t&&this.validateTileSize(e,t,!0))return t;i||(i=o=1);var a,r,s,c,l,d,m,u=this.getValidTileSizes(e);if(1===u.length)s=u[0].size;else{s=u[u.length-1].size;var p=n?$("#"+n):[];if(0<p.length){for(a=p.width(),r=p.height(),c=0;u[c];c++)if(l=g((m=u[c]).width,o,2),d=g(m.height,i,2),l<a&&d<r){s=m.size;break}}else s="large"===function(){var e=$(window).width();{if(1200<e)return"large";if(500<e)return"medium"}return"small"}()?u[0].size:u[1].size}return s},selectionSupported:function(e){return"item"===e},getColors:function(e){var t={selectClass:""};return e.selected?(t.color=e.useCustomColors&&e.colorSelected?e.colorSelected:"",t.bgColor=e.useCustomColors&&e.bgColorSelected?e.bgColorSelected:"",e.useCustomColors&&(t.color||t.bgColor)||("wide"===e.size?t.selectClass="wide-item-alt-selected":"large"===e.size?t.selectClass="large-item-alt-selected":"medium"===e.size&&(t.selectClass="medium-item-alt-selected"))):(t.color=e.useCustomColors&&e.color?e.color:"",t.bgColor=e.useCustomColors&&e.bgColor?e.bgColor:""),t},applyCustomColors:function(e,t){if(e){var n;if(!t)for(0;e[0];e++)if((n=e[0]).useCustomColors&&(n.color||n.colorSelected||n.bgColor||n.bgColorSelected)){t=n;break}t&&(t.useCustomColors?angular.forEach(e,function(e){e.color=t.color,e.colorSelected=t.colorSelected,e.bgColor=t.bgColor,e.bgColorSelected=t.bgColorSelected,e.useCustomColors=!0}):angular.forEach(e,function(e){e.useCustomColors=!1}))}},updateTileData:function(e,n){angular.forEach(e,function(e){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})},getDisplayText:function(e,t,n,i,o){var a="";if(null!=e){var r=n*i/(t/(o?1.9:2.2));(a=e).length>r&&(a=e.substr(0,r-2)+"...")}return a},getTextRowEstimate:function(e,t,n,i){var o=i?1.9:2.2;return e.length*(t/o)/n},getPropertyDisplayText:function(e,t,n,i){if(!e)return"";var o=e.name+": "+e.value;return this.getDisplayText(o,t,n,i)},setViewOptionDefaults:function(e){var t=$.extend({},this.tileViewOptionDefaults,e);$.extend(e,t)},setDisplayFields:function(e,n){if(void 0!==n){var i,o,a=Object.keys(n),r=0;if(e.titleField||(n.hasOwnProperty("title")?e.titleField="title":0<a.length&&(e.titleField=c("description"))),e.descriptionField||(n.hasOwnProperty("description")?e.descriptionField="description":1<a.length&&(e.descriptionField=c(e.titleField))),!e.propertyFields){e.propertyFields=[];for(var t=0;t<4;t++){var s=c(e.titleField,e.descriptionField);if(!s)break;e.propertyFields.push(s)}}}function c(e,t){for(;a[r++];)if(i=a[r++],!("string"!==(o=typeof n[i])&&"number"!==o&&"boolean"!==o||e&&e===i||t&&t===i))return i;return null}},getFieldValue:function(e,t,n){var i=this.parse(e)(t),o=new Date(i);return o instanceof Date&&!isNaN(o)&&n&&n.dataType&&n.format?this.filter(n.dataType)(new Date(i),n.format):i}};function g(e,t,n){return(e+n)*t}}(),function(){function te(e,t,n){this.name=e,this.isDummy=void 0!==t&&t,this.expanded=!1,this.rowheight=30,this.tiles=n||[]}function e(l,d){return{scope:{},restrict:"E",link:function(e,t,n,a){l.log("sitTiles link func","begin");var o=!1,r=null;function i(e,t){var n=e?e.length:0,i=t?t.length:0;l.log("watchCollection on tiles","counts: (new, old): ("+n+", "+i+")"),o?o=!1:e===t||a.getPageManager().isServerData()||(a.setPageManager(),a.filterClauses&&a.setFilter(a.filterClauses),a.updateIcons(),a.buildSelectedList(),r(),r=null,a.getPageManager().setSortInfo(a.options.sortInfo.field,a.options.sortInfo.direction),s(),a.createGroups())}e.$watch(function(){return a.options.tileSize},function(e,t){e!==t&&(a.updateTileCommonData(!0,!1),a.updateTileOptions(),a.resetView())}),e.$watch(function(){return a.options.groupBy},function(e,t){e!==t&&(a.isGroupedBy=!0,0===e.length&&(a.serverItemsLoadCount=a.initialDataItemsCount),a.totalServerItemsLoadedCount=0,l.log("groupBy has changed to: "+a.options.groupBy),a.createGroups())}),e.$watch(function(){return a.options.multiSelect},function(){a.options&&a.options.multiSelect&&a.selectedItems&&l.log("multiSelect: "+a.options.multiSelect+", selected item count: "+a.selectedItems.length),a.selectionMode=a.options.multiSelect?"multi":"single",a.selectionModeChanged()}),e.$watch(function(){return a.options.sortInfo},function(e,t){e.field===t.field&&e.direction===t.direction||(o=!0,l.log("sortInfo changed. field: "+a.options.sortInfo.field+", direction: "+a.options.sortInfo.direction),a.getPageManager().setSortInfo(e.field,e.direction),a.isSorted=!0,a.serverItemsLoadCount=a.initialDataItemsCount,a.totalServerItemsLoadedCount=0,a.createGroups().then(function(){a.options.onSortingChangedCallback&&a.options.onSortingChangedCallback(e)}))}),e.$watch(function(){return a.options.quickSearchOptions.filterText},function(e,t){e!==t&&(l.log("search text changed. value: "+a.options.quickSearchOptions.filterText),a.isQuickSearched=!0,a.serverItemsLoadCount=a.initialDataItemsCount,a.totalServerItemsLoadedCount=0,a.getPageManager().setSearchText(e),a.createGroups())}),e.$watch(function(){return a.options.useCustomColors},function(e,t){e!==t&&(l.log("useCustomColors: "+a.options.useCustomColors),a.updateTileCommonData(!0,!1),a.resetView())}),s(),e.$on("sit-filter-panel-opened",function(){a.isFilterPanelOpen=!0}),e.$on("$destroy",function(){a.handleResize&&angular.element(d).unbind("resize",c)}),e.$evalAsync(function(){a.initializeHeight(),a.handleResize&&angular.element(d).bind("resize",c)}),a.rearrangeTilesOnResize(t.parent().width()),a.getPageManager().isServerData()&&!a.options.enablePaging&&t.find("div[data-internal-type=tileContainerDiv]").bind("scroll",function(e){a.serverItemsLoadCount=10;var t=$(this).prop("scrollHeight"),n=$(this).height(),i=t-n,o=$(this).scrollTop();!(95<=Math.floor(o/i*100)&&a.totalServerItemsLoadedCount!==a.totalDataItems)||a.isGroupedBy||a.isQuickSearched||a.isSorted||a.isFilterPanelOpen||a.createGroups(!1,!1)});function s(){r=e.$watchCollection(function(){return a.tiles},i)}function c(){a.setHeight(),a.rearrangeTilesOnResize(t.parent().width())}},templateUrl:"common/widgets/tiles/tile-view.html",bindToController:{tiles:"=sitTiles",options:"=sitOptions",sitFormat:"=?sitFormat"},controller:t,controllerAs:"tileViewCtrl"}}function t(i,n,o,a,t,e,r,s,c,l,d){var m,u,p=this,g=!1,f=55,h={medium:56,wide:120,large:248},v=248,y=!1;function C(e){if(!0===p.options.noScroll)l.find("div[data-internal-type=tileViewContainerDiv]").height("auto"),l.find("div[data-internal-type=tileContainerDiv]").height("auto"),m.log("sitTileView.ctrl.setHeight","tileViewHeight: auto, tileHeight: auto");else{if(e||(e=S(p.options.containerID)),e<=0)return;p.tileContainerHeight=p.options.showPager?e-f:e,l.find("div[data-internal-type=tileViewContainerDiv]").height(e),l.find("div[data-internal-type=tileContainerDiv]").height(p.tileContainerHeight),m.log("sitTileView.ctrl.setHeight","tileViewHeight: "+e+"px, tileHeight: "+p.tileContainerHeight+"px")}}function b(){p.getPageManager().isServerData()&&!1===p.options.enablePaging&&(p.serverItemsLoadCount=Math.ceil(p.tileContainerHeight/h[p.options.tileSize])*Math.ceil(p.tilesContainerWidth/v),p.initialDataItemsCount=angular.copy(p.serverItemsLoadCount),p.serverItemsLoadCount>p.totalServerItemsLoadedCount&&p.totalServerItemsLoadedCount!==p.totalDataItems&&p.createGroups(!0,!1))}function w(){var e=0;p.options.viewHeight?e=p.options.viewHeight:p.options.containerID&&(e=S(p.options.containerID)),p.handleResize=p.options.containerID&&(p.options.handleResize||0<e),e<=0&&(e=Math.ceil($(window).height()/2)),C(e),b()}function S(e){var t=0,n=$("#"+e,l.parents("div#itemCollectionCanvas")[0]);return 0===n.length?t:t=n.is(":visible")?n.height():-1===n.css("height").indexOf("%")?n.height():0}function x(e){p.tilesContainerWidth=e,p.options.enableResponsiveBehaviour&&("item"===p.options.tileType?550<e&&e<=800?"medium"===p.options.tileViewMode||"s"===p.options.tileViewMode?p.options.tileSize="medium":p.options.tileSize="wide":800<e&&("medium"===p.options.tileViewMode||"s"===p.options.tileViewMode?p.options.tileSize="medium":"wide"===p.options.tileViewMode||"m"===p.options.tileViewMode?p.options.tileSize="wide":p.options.tileSize="large"):"action"===p.options.tileType&&(p.options.tileSize=e<=450?"small":450<e&&e<=800?"square":"wide"))}function T(){var e=p.tiles?p.tiles.length:0;m.log("ctrl.setPageManager","ctrl.options.pageManager: "+!!p.options.pageManager+", local tile count: "+e),p.pageManager=p.options.pageManager?p.options.pageManager:t.getPageManager(p.options,p.tiles)}function I(){var e;return p.options.pageManager?e=p.options.pageManager:(p.pageManager||T(),e=p.pageManager),e}p.serverItemsLoadCount=0,p.initialDataItemsCount=0,p.totalServerItemsLoadedCount=0,p.isQuickSearched=!1,p.isSorted=!1,p.isGroupedBy=!1,p.isFilterPanelOpen=!1;var k=n.$on("sitLastTileLinked",function(e){e.stopPropagation(),p.loadingMany=!1,m.log("on-sitLastTileLinked","event received")});var E=!1;function O(e,t){var n,i,o=e.split(".");if(o&&0<o.length){var a=o[0],r=a,s=r.indexOf("[");if(-1!==s){a=r.substring(0,s);var c=r.substring(s),l=c.indexOf("]");i=-1!==l?Number(c.substring(1,l)):0}if(n=function(e,t,n){if(n&&n.hasOwnProperty(e))return n[e]&&n[e].constructor===Array?"number"!=typeof t||isNaN(t)?n[e][0]:n[e][t]:n[e]}(a,i,t),1<o.length)o.shift(),n=O(o.join("."),n)}return n}function P(e,t){if(!E){m.log("ctrl.createGroups","Starting group creation"),E=!0,(p.options.enablePaging||!p.getPageManager().isServerData()||!p.groups||p.isGroupedBy||p.isQuickSearched||p.isSorted||y||p.isFilterPanelOpen)&&(p.groups=[]);var i=[],o=0,n=s.defer();try{(function(i){m.log("setDisplayData","BEGIN");var o=s.defer();return(p.options.enablePaging||!p.getPageManager().isServerData()||p.options.groupBy?p.options.groupBy||!p.options.enablePaging?p.getPageManager().getAllData():p.getPageManager().getPageData():p.getPageManager().getServerData(p.serverItemsLoadCount,p.totalServerItemsLoadedCount)).then(function(e){var t,n;if(p.totalDataItems=e.totalDataSize,e.isCompactServerData){if(p.totalServerItemsLoadedCount=e.data.length+p.totalServerItemsLoadedCount,p.isQuickSearched||p.isSorted||p.isGroupedBy||y||p.isFilterPanelOpen)p.displayData=e.data,p.isQuickSearched=!1,p.isSorted=!1,p.isGroupedBy=!1,y=!1,p.isFilterPanelOpen=!1;else if(e.data.length)for(n=e.data.length,t=0;t<n;t++)p.displayData.push(e.data[t])}else p.displayData=e.data,p.filterDataItems=e.filterDataSize,e.data.length||1===e.currentPage?p.currentPage=e.currentPage:p.currentPage=e.currentPage-1;!function(){var e=p.options.uniqueID;if(u=[],p.selectedItems)for(var t=0;t<p.selectedItems.length;t++)for(var n=p.selectedItems[t],i=0;i<p.displayData.length;i++){var o=p.displayData[i];if(!o.selected){if(o.selected=!0,e){if("function"==typeof e){if(o.selected=e(o,n),!o.selected)continue}else if("string"==typeof e&&o[e]!==n[e]){o.selected=!1;continue}}else if(!ee(o,n)){o.selected=!1;continue}u.push(o),p.selectedItems[t]=o;break}}}(),i&&(p.selectedItems.splice(0,p.selectedItems.length),u.forEach(function(e){p.selectedItems.push(e)})),p.updateTileCommonData(),q(),0<p.totalDataItems?(p.showView=!0,p.showMessage=!1):(p.showView=!1,p.showMessage=!0,p.messageText=p.options.noDataMessage?p.options.noDataMessage:c.instant("common.no-data")),p.options.noData=!p.showView,m.log("setDisplayData","data resolved, count: "+p.totalDataItems),o.resolve()},function(e){o.reject(e)}),m.log("setDisplayData","END"),o.promise})(t).then(function(){if(p.options.groupBy&&!p.options.isCompactMode){var n=p.options.groupBy;angular.forEach(p.displayData,function(e){var t=O(n,e);void 0!==t&&(0===(i=$.grep(p.groups,function(e){return e.name===t})).length&&(o=p.groups.push(new te(t)),i.push(p.groups[o-1])),i[0].tiles.push(e))}),p.options.showPager=!1}else{var e=new te("dummy",!0,p.displayData);0===p.groups.length&&p.groups.push(e),p.options.showPager=p.options.enablePaging&&(p.options.alwaysShowPager||p.totalDataItems>p.options.pagingOptions.initialPageSize)}},function(e){!function(e){if(p.options.onErrorCallback)p.options.onErrorCallback(e);else{var t=e.data.error;p.messageText=": "+c.instant("common.error-code-message",{code:t.errorCode,message:t.errorMessage}),p.showMessage=!0,p.showView=!1}}(e)}).finally(function(){p.setHeight(),p.setServerSideTileCount(),E=!1,e&&p.resetView(),m.log("ctrl.createGroups","end group creation"),n.resolve()})}catch(e){throw E=!1,e}return n.promise}m.log("ctrl.createGroups","Already creating groups, skip processing")}function D(){if(R(p.options),p.tiles)for(var e=0;e<p.tiles.length;e++)R(p.tiles[e])}function R(e){var t={};e&&e.svgIcon&&"string"==typeof e.svgIcon?(t={path:e.svgIcon,size:"32px"},e.svgIcon=t):e&&e.typeIcon&&"string"==typeof e.typeIcon&&(t={prefix:"type",name:e.typeIcon,suffix:"48",size:"32px"},e.typeIcon=t)}function A(){p.tileOptions={image:p.options.image,svgIcon:p.options.svgIcon,typeIcon:p.options.typeIcon,tileTemplate:p.options.tileTemplate,tagField:p.options.tagField,commands:p.options.commands,indicators:p.options.indicators,isCell:p.options.isCell}}function M(e){if(e&&(g=!1),!g){var t=p.displayData[0];o.setDisplayFields(p.options,t),g=!0}var n={bgColor:p.options.bgColor,bgColorSelected:p.options.bgColorSelected,color:p.options.color,colorSelected:p.options.colorSelected,descriptionField:p.options.descriptionField,propertyFields:p.options.propertyFields,selectStyle:p.options.selectStyle,size:o.getTileSize(p.options.tileType,p.options.tileSize,null,3,3),titleField:p.options.titleField,useCustomColors:p.options.useCustomColors};o.updateTileData(p.displayData,n),i.$broadcast("sit-tile.data-update-completed")}function F(){var t=[];if(angular.forEach(p.tiles,function(e){e.selected&&t.push(e)}),0<t.length)p.selectedItems=t;else if(p.selectedItems&&p.tiles){var e,n,i=[],o=p.tiles,a=p.selectedItems,r=a.length,s=o.length,c=p.options.uniqueID;for(e=0;e<r;e++){for(n=0;n<s;n++)if(c){if("string"==typeof c){if(o[n][c]===a[e][c])break}else if("function"==typeof c&&p.options.uniqueID(o[n],a[e]))break}else if(ee(o[n],a[e]))break;n===s&&i.unshift(e)}i.forEach(function(e){p.selectedItems.splice(e,1)})}}function N(e,t){if(t&&(p.selectedItems=[]),e){var n=e;if(p.options&&p.options.uniqueID&&p.displayData)for(var i=0;i<p.displayData.length;i++)if(p.displayData[i][p.options.uniqueID]===e[p.options.uniqueID]){(n=p.displayData[i]).selected=e.selected;break}var o=p.selectedItems.indexOf(n);-1!==o?n.selected||p.selectedItems.splice(o,1):n.selected&&p.selectedItems.push(n),V(n)}else V(e)}function B(e,t){n.$emit("sit-item-selection-changed",p.selectedItems,e),p.options.onSelectionChangeCallback&&(t||p.selectedItems.length||e)&&p.options.onSelectionChangeCallback(p.selectedItems,e)}function G(){if(!p.options.multiSelect&&1<p.selectedItems.length){var e=p.selectedItems[p.selectedItems.length-1];angular.forEach(p.tiles,function(e){e.selected=!1}),e.selected=!0,N(e,!0)}q()}function V(i){var o;p.options.groupBy&&angular.forEach(p.groups,function(e,t){if(0<_.where(e.tiles,i).length){o=!0;for(var n=0;n<e.tiles.length;n++)if(!e.tiles[n].selected){o=!1;break}"multi"===p.options.selectionMode&&p.options.multiSelect&&(d.find("sit-tile-group").find(":checkbox")[t].checked=o)}})}n.$watch(function(){return p.options.selectionMode},function(){if("none"===p.options.selectionMode)angular.forEach(p.selectedItems,function(e){e.selected=!1}),N(void 0,!0);else if("single"===p.options.selectionMode&&1<p.selectedItems.length){var e=p.selectedItems[p.selectedItems.length-1];angular.forEach(p.selectedItems,function(e){e.selected=!1}),e.selected=!0,N(e,!0)}});var L=n.$on("sit-tile.clicked",function(e,t){if("none"!==p.options.selectionMode){var n=t.selected;if(o.selectionSupported(p.options.tileType)){var i=t.stateTransition;i?a.go(i.to,i.params,i.options):(p.options.multiSelect?(t.selected=!n,N(t,!1)):(p.getPageManager().isServerData()?angular.forEach(p.groups,function(e){angular.forEach(e.tiles,function(e){e.selected=!1})}):angular.forEach(p.tiles,function(e){e.selected=!1}),t.selected=!n,N(t,!0)),"multi"===p.options.selectionMode&&p.options.multiSelect&&V(t),q(),B(t))}}});var z=n.$on("sit-group-selected",function(e,t){angular.forEach(t,function(e){N(e,!1)}),B(null,!0)});function U(e){var t;m.log("pageChangeCallback","new page: "+e),100<p.getPageManager().getPageSize()&&(p.loadingMany=!0),r((t=e,p.getPageManager().setCurrentPage(t),void p.createGroups().then(function(){$(".tile-container").scrollTop(0),p.options.onPageChangedCallback&&p.options.onPageChangedCallback(t)})),0)}function j(e){p.getPageManager().setPageSize(e),p.options.pagingOptions.pageSize=p.getPageManager().getPageSize(),p.options.pagingOptions.currentPage=p.getPageManager().getCurrentPage(),p.createGroups()}function q(){void 0!==p.currentPage&&(p.options.pagingOptions.currentPage=p.currentPage,p.options.pagingOptions.totalItems=p.totalDataItems,p.options.pagingOptions.filterItems=p.filterDataItems,p.options.pagingOptions.selectedItems=p.selectedItems.length,p.options.pagingOptions.showTotalItems=!0,p.options.pagingOptions.showFilterItems=!1,p.options.pagingOptions.showSelectedItems=p.options.multiSelect)}function W(){p.viewResetting?m.log("reset view","reset already in progress"):(p.viewResetting=!0,p.showView=!1,m.log("reset view","resetting view"),r(function(){p.viewResetting=!1,p.showView=!0},100))}function H(e){p.setPageManager(),e&&(p.initialPageSize=p.getPageManager().getPageSize());var t=!1;p.getPageManager().isServerData()&&p.options.multiSelect&&(t=!0),p.options.showPager&&p.options.enablePaging||!p.getPageManager().isServerData()||(y=!0,p.totalServerItemsLoadedCount=0,p.serverItemsLoadCount=p.initialDataItemsCount),p.createGroups(e,t)}function X(){return p.selectedItems}function Y(n){var e=p.displayData;e&&0!==e.length&&(p.selectedItems=[],angular.forEach(e,function(e){(e.selected=n)&&p.selectedItems.push(e)}),p.options.groupBy&&angular.forEach(p.groups,function(e,t){d.find("sit-tile-group").find(":checkbox")[t].checked=n}),q(),B(null))}function Q(e,t,n){if(e&&e.constructor===Array){var i=p.displayData;if(i&&0!==i.length){var o,a;if(t&&n&&Y(!1),0<e.length)if("number"==typeof e[0])for(o=0;o<e.length;o++)(a=i[e[o]])&&(a.selected=t,N(a,!1));else for(o=0;e[o];o++)(a=e[o]).selected=t,N(a,!1);q(),B(null)}}}function K(e){p.filterClauses=e.length?e:void 0,p.getPageManager().setFilter(e),p.getPageManager().setCurrentPage(1),p.createGroups()}function J(){return p.displayData}function Z(){p.setHeight()}function ee(e,t){for(var n=!0,i=Object.keys(e),o=0;o<i.length;o++)if("object"!==(typeof e[i[o]]||typeof t[i[o]])&&"function"!==(typeof e[i[o]]||typeof t[i[o]])&&"[object Array]"!==(Object.prototype.toString.call(e[i[o]])||Object.prototype.toString.call(e[i[o]]))&&e[i[o]]!==t[i[o]]){n=!1;break}return n}n.$on("$destroy",function(){k(),L(),z()}),q(),p.showView=!0,p.showMessage=!1,p.loadingMany=!1,p.handleResize=!1,p.options.noData=!0,p.loadingMessage=c.instant("common.busy-message.loading"),p.displayData=[],p.selectedItems=[],p.options.enablePaging=!1!==p.options.enablePaging,p.options.selectedItems&&angular.forEach(p.options.selectedItems,function(e){e.selected&&p.selectedItems.push(e)}),p.setHeight=C,p.setServerSideTileCount=b,p.initializeHeight=w,p.setPageManager=T,p.getPageManager=I,p.createGroups=P,p.updateIcons=D,p.updateTileOptions=A,p.updateTileCommonData=M,p.buildSelectedList=F,p.selectionModeChanged=G,p.resetView=W,p.rearrangeTilesOnResize=x,p.options.dataUpdated=H,p.options.getSelectedItems=X,p.options.selectAll=Y,p.options.selectItems=Q,p.options.setFilter=K,p.options.getCurrentData=J,p.options.setTileViewHeight=Z,(m=new ne(e,p.options.debug)).log("sitTiles controller func","begin"),T(),p.getPageManager().isServerData()&&!p.options.enablePaging||p.createGroups(!0,!1),o.setViewOptionDefaults(p.options),T(),p.getPageManager().setSortInfo(p.options.sortInfo.field,p.options.sortInfo.direction),D(),A(),F(),p.options.pagingOptions.pageChangeCallback=U,p.options.pagingOptions.pageSizeChangeCallback=j}function ne(n,i){function o(e,t){return function(){var e,t=new Date,n=t.getSeconds(),i=n<10?"0"+n:n.toString(),o=t.getMinutes(),a=o<10?"0"+o:o.toString(),r=t.getHours(),s=r<10?"0"+r:r.toString(),c=t.getMilliseconds();e=c<10?"00"+c:c<100?"0"+c:c;return s+":"+a+":"+i+"."+e}()+" ["+e+"] "+t}this.log=function(e,t){i&&n.log(o(e,t))},this.info=function(e,t){n.info(o(e,t))},this.warn=function(e,t){n.warn(o(e,t))},this.error=function(e,t){n.error(o(e,t))}}te.prototype={childCount:function(){return this.tiles.length},arrowClass:function(){return"tile-group-arrow "+(this.expanded?"fa fa-chevron-down":"fa fa-chevron-right")},toggleExpand:function(){this.expanded=!this.expanded},updateData:function(e){this.tiles=e}},angular.module("siemens.simaticit.common.widgets.tiles").directive("sitTileView",e),e.$inject=["common.services.logger.service","$window"],t.$inject=["$rootScope","$scope","common.widgets.tiles.tileService","$state","common.widgets.pager.pageService","$log","$timeout","$q","$translate","$element","$document"]}(),angular.module("siemens.simaticit.common.widgets.timePicker",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.timePicker");function t(e,t,n){var i,o,a=this;a.isOpen=!1,void 0===a.showMeridian&&(a.showMeridian=!0),a.value instanceof Date||""===a.value||(a.value=new Date(a.value)),"Invalid Date"===a.value.toString()&&(a.value=""),a.popupValue=angular.copy(a.value),""!==a.format&&void 0!==a.format||(a.format="mediumTime"),a.value=n("date")(a.value,a.format),a.clicked=function(){a.isOpen=!a.isOpen,a.element.find("input.property-grid-control").focus(),a.isOpen&&(a.popupValue||(o=new Date,a.popupValue=o),i=t(function(){$(a.element[0]).find("input")[1].focus()},0,!1))},a.setClicked=function(){a.value=n("date")(a.popupValue,a.format),a.isOpen=!1},a.clearTime=function(){a.value=null,a.isOpen=!1};var r=e.$watch(function(){return a.value},function(e,t){e!==t&&a.value instanceof Date&&(a.popupValue=angular.copy(a.value),a.value=n("date")(a.popupValue,a.format))});e.$on("$destroy",function(){i&&t.cancel(i),r()})}t.$inject=["$scope","$timeout","$filter"],e.controller("sitTimePickerController",t),e.directive("sitTimePicker",["$document",function(c){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",validation:"=sitValidation",format:"=?sitFormat",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?",showMeridian:"=?sitShowMeridian"},templateUrl:"common/widgets/timePicker/time-picker.html",controller:"sitTimePickerController",controllerAs:"timePickerCtrl",link:function(n,e,t,i){function o(e){i.isOpen&&!$(e.target).parents("div.sitTimePicker").length&&n.$apply(function(){i.isOpen=!1})}i.element=e;var a=n.$watch("timePickerCtrl.isOpen",function(e){e?c.bind("click",o):c.unbind("click",o)});function r(e){i.isOpen?27===e.which&&n.$apply(function(){i.isOpen=!1}):40!==e.which&&32!==e.which||n.$apply(function(){i.isOpen=!0})}e.on("keydown",r);var s=n.$watch(function(){if(n&&n.$$childTail&&n.$$childTail.timePickerForm)return n.$$childTail.timePickerForm.$error},function(e,t){e!==t&&Object.keys(n.$$childTail.timePickerForm.$error).forEach(function(e){"time"!==e&&"hours"!==e&&"minutes"!==e&&"seconds"!==e||n.$$childTail.timePickerForm.$error[e][0].$setValidity(e,!0)})},!0);n.$on("$destroy",function(){e.off("keydown",r),a(),s(),c.unbind("click",o)})}}}])}(),angular.module("siemens.simaticit.common.widgets.toolbox",[]),function(){function t(e){var a=this;function t(){var e;a.isCollapsed=!a.isCollapsed,e=a.isCollapsed?"close":"open","function"==typeof a.config.onToolboxStatusChange&&a.config.onToolboxStatusChange(e)}function n(){}function i(){!1===a.isCollapsed&&(a.isCollapsed=!0)}function o(){a.size="sm",a.isCollapsed=!1}function r(){a.size="md",a.isCollapsed=!1}function s(){a.size="lg",a.isCollapsed=!1}function c(e){var t,n=a.toolboxSections,i=n.length;for(t=0;t<i;t++)if(n[t].sitId===e){n[t].isExpanded=!1,n[t].isDisabled=!0;break}}function l(e){var t,n=a.toolboxSections,i=n.length;for(t=0;t<i;t++)if(n[t].sitId===e){n[t].isDisabled=!1;break}}function d(e){var t,n=a.toolboxSections,i=n.length;for(t=0;t<i;t++)if(n[t].sitId===e&&!1===n[t].isDisabled){n[t].isExpanded=!0;break}}function m(e){var t,n=a.toolboxSections,i=n.length;for(t=0;t<i;t++)if(n[t].sitId===e&&!1===n[t].isDisabled){n[t].isExpanded=!1;break}}function u(e){var t,n=a.toolboxSections,i=n.length,o=null;for(t=0;t<i;t++)if(n[t].sitId===e){o={id:n[t].sitId,isDisabled:n[t].isDisabled,isOpened:n[t].isExpanded};break}return o}function p(t){a.closeOthers&&angular.forEach(a.toolboxSections,function(e){_.isEqual(e,t)||(e.isExpanded=!1)})}function g(e){a.toolboxSections.push(e)}a.styles={},a.toolboxSections=[],a.isCollapsible="boolean"!=typeof a.config.collapsible||a.config.collapsible,a.isCollapsed="boolean"==typeof a.config.collapsed&&a.config.collapsed,a.align=a.config.placement?a.config.placement:"right",a.isTitleShown="boolean"!=typeof a.config.titleVisibility||a.config.titleVisibility,a.size=a.config.size?a.config.size:"sm",a.closeOthers="boolean"!=typeof a.config.closeOthers||a.config.closeOthers,a.toggleSection=t,a.setToolboxWidth=n,a.closeToolboxSections=p,a.addToolboxSection=g,a.config.collapse=i,a.config.expandSm=o,a.config.expandMd=r,a.config.expandLg=s,a.config.getSectionStatus=u,a.config.disableToolboxSection=c,a.config.enableToolboxSection=l,a.config.expandToolboxSection=d,a.config.collapseToolboxSection=m,a.isCollapsible||(a.isCollapsed=!1)}angular.module("siemens.simaticit.common.widgets.toolbox").directive("sitToolbox",["$window","$timeout",function(e,l){return{scope:!0,restrict:"E",transclude:!0,bindToController:{config:"=?sitConfig"},templateUrl:"common/widgets/toolbox/toolbox.html",controller:t,controllerAs:"toolboxCtrl",link:function(e,t,n,i){var o=[],a=i.isTitleShown?40:0,r=t.find(".toolbox-container"),s=t.find(".toolbox-section-container");function c(){i.setToolboxWidth(),i.windowHeight=t[0].parentElement.offsetHeight,i.toolboxoffsetTop=0,i.toolboxHeight=i.windowHeight-i.toolboxoffsetTop,i.toolboxHeaderHeight=a,i.toolboxContainerHeight=i.toolboxHeight-i.toolboxHeaderHeight,r.css("height",i.toolboxHeight+"px"),s.css("height",i.toolboxContainerHeight+"px")}l(function(){c()}),o[o.lenght]=e.$on("sit-layout-change",c),e.$on("$destroy",function(){o.forEach(function(e){e()})})}}}]),t.$inject=["$element"]}(),function(){function e(f){return{restrict:"E",scope:{},transclude:!0,bindToController:{sitTitle:"@",sitIcon:"@",svgIcon:"=?",sitOpen:"@?",sitId:"@"},require:["^sitToolbox","sitToolboxSection"],templateUrl:"common/widgets/toolbox/toolbox-section.html",link:function(t,n,e,i){var o,a,r,s,c,l,d,m=i[0],u=i[1],p=[];function g(){a=m.toolboxContainerHeight-(m.toolboxSections.length*r+s),l.css("height",a+"px")}c=10,r=36,s=14,o=m.closeOthers,d="toolbox-section-content-show",l=n.find(".toolbox-section-content"),m.addToolboxSection(u),t.$watch(function(){return u.isExpanded},function(e){n.toggleClass(d,e),e&&f(function(){t.$broadcast("sit-layout-change",{eventSource:"toolbox"})},c),e&&o&&(m.closeToolboxSections(u),g())},!0),p[p.lenght]=t.$on("sit-layout-change",function(){o&&g()}),t.$on("$destroy",function(){p.forEach(function(e){e()})})},controller:t,controllerAs:"toolboxSecCtrl"}}function t(e){var t,n,i=this;function o(){i.isExpanded=!i.isExpanded,n=i.isExpanded?"open":"close","function"==typeof t.config.onSectionStatusChange&&t.config.onSectionStatusChange({id:i.sitId,status:n})}i.displayIcon=null,t=e.$parent.$parent.toolboxCtrl,i.isDisabled=!1,i.isExpanded="true"===i.sitOpen,i.toggleSection=o,i.svgIcon&&(i.displayIcon={path:i.svgIcon,size:"16px"})}angular.module("siemens.simaticit.common.widgets.toolbox").directive("sitToolboxSection",e),e.$inject=["$timeout"],t.$inject=["$scope"]}(),angular.module("siemens.simaticit.common.widgets.tristateCheckbox",[]),function(){function e(){this.updateState=function(e,t){switch(t){case void 0:case!1:this.checked=!0;break;case!0:this.checked="null";break;case"null":this.checked=!1}this.value[e].checked=this.checked}}angular.module("siemens.simaticit.common.widgets.tristateCheckbox").directive("sitTristateCheckbox",["$timeout",function(o){return{templateUrl:"common/widgets/tristateCheckbox/tristate-checkbox.html",bindToController:{readOnly:"=?sitReadOnly",value:"=?sitValue",validation:"=?sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},scope:!0,controllerAs:"checkboxCtrl",controller:e,link:function(e,t,n,i){o(function(){var n=t.find("input").last()[0];n.indeterminate="null"===i.checked,n.checked=i.checked,e.$watch(angular.bind(i,function(){return this.checked}),function(e,t){n.indeterminate="null"===e,n.checked=e})})}}}])}(),angular.module("siemens.simaticit.common.widgets.typeahead",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.typeahead");function t(){}e.controller("TypeaheadController",t),e.directive("sitTypeahead",function(){return{scope:{},restrict:"E",bindToController:{readOnly:"=sitReadOnly",value:"=sitValue",options:"=sitOptions",toDisplay:"=sitToDisplay",validation:"=sitValidation",ngBlur:"&?",sitChange:"=?",ngDisabled:"=?",ngFocus:"&?",ngReadonly:"=?"},controller:t,controllerAs:"typeaheadCtrl",templateUrl:"common/widgets/typeahead/typeahead.html"}})}(),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<div style="width:100%; overflow:auto; white-space:nowrap; padding:0;" class="dropdown-menu custom-dd"ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}"><ul style="position:static;float:left; width:100%">\n<li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul></div>\n')}]),angular.module("siemens.simaticit.common.widgets.validator",[]),function(){var e=angular.module("siemens.simaticit.common.widgets.validator");function t(a,r,s){var c=this;c.warningClicked=function(e,t){var n=[];if(e.$error){var i=r("translate")("validator.errors.noLabel");switch(e.labelInfo&&(i=e.labelInfo),Object.keys(e.$error)[0]){case"required":n.push(r("translate")("validator.errors.required",{field:i}));break;case"max":n.push(r("translate")("validator.errors.max",{field:i,value:c.validation.max}));break;case"maxlength":n.push(r("translate")("validator.errors.maxlength",{field:i,value:c.validation.maxlength}));break;case"min":n.push(r("translate")("validator.errors.min",{field:i,value:c.validation.min}));break;case"minlength":n.push(r("translate")("validator.errors.minlength",{field:i,value:c.validation.minlength}));break;case"pattern":n.push(r("translate")("validator.errors.pattern",{field:i,value:c.validation.patternInfo}));break;case"number":n.push(r("translate")("validator.errors.number",{field:i}));break;case"editable":n.push(r("translate")("validator.errors.editable",{field:i}));break;case"email":n.push(r("translate")("validator.errors.email",{field:i}));break;default:n.push(r("translate")("validator.errors.custom",{field:i,value:c.validation.patternInfo}))}}a.warningMessage="";for(var o=0;o<n.length;o++)a.warningMessage+=n[o],a.warningMessage+="\n";"entityPickerForm"===e.$name&&!0===e.$invalid&&t.preventDefault(),s.shownotificationTile(c.name),a.$emit("validator-warning-icon-clicked",{itemForm:e,event:t,errors:n})}}t.$inject=["$scope","$filter","common.widgets.notificationTile.service"],e.directive("sitFormInputValidator",["$compile",function(C){return{require:["^form","sitFormInputValidator","ngModel"],priority:2,bindToController:!0,controller:t,controllerAs:"validatorCtrl",link:function(i,e,t,n){var a,r,s,c,l=!0,d=n[0],m=n[2],u=n[1],p="true"===t.sharedModel;function o(){d.$focused=!0,"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply()}function g(){d.$visited=!0,d.$focused=!1,"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply()}e.bind("focus",o),e.bind("blur",g),m.$parsers.unshift(function(e){var t;t=e&&e.name?e.name:e,i.$emit("sit-property-validator.buttonEnableDisable",{value:t,originalValue:c,guid:a});var n=m;return u.validation&&void 0!==u.validation.custom&&(n=u.validation.custom(e,m)||m),void 0!==u.sitChange&&u.sitChange(m.$modelValue||m.$$rawModelValue,e,n,!0),r=e,m&&(s=m.$modelValue||m.$$rawModelValue),e}),m.$formatters.unshift(function(e){c=e&&e.name?e.name:e,a=function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()}();var t=m;if(u.validation&&void 0!==u.validation.custom&&(t=u.validation.custom(e,m)||m),!l){var n=!1,i="object"==typeof s?JSON.stringify(s):s,o="object"==typeof t.$modelValue?JSON.stringify(t.$modelValue):t.$modelValue;void 0===u.sitChange||i===o||p||(n=!0,u.sitChange(r,e,t,n)),m.$setDirty(),s=t.$modelValue}return l&&(e&&(d.$visited=!0,d.$focused=!1),l=!1),r=e}),i.$on("validator-submit-form",function(){d.$visited=!0}),i.name=i.validatorCtrl.name="validatorWarningTile"+Math.floor(1e4*Math.random()+1);var f=d.$name,h="";if(h+="<div ng-show='("+f+".$invalid && ("+f+".$dirty || "+f+".$visited))' ",h+='ng-class= " '+f+".$focused ? 'validator-warning-group-addon-focused input-group-addon' : 'validator-warning-group-addon input-group-addon' \"> ",h+='<i ng-class= " '+f+".$focused ? 'fa fa-warning validator-warning-icon-focused' : 'fa fa-warning validator-warning-icon' \" ",h+="ng-mousedown='validatorCtrl.warningClicked("+f+", $event)'>",h+="</i>",h+='<div data-sit-notification-tile style="position:absolute;right:-8px;"',h+=' data-sit-tile-title=""',h+=' data-sit-tile-propertygrid="true"',h+=' data-sit-tile-content="warningMessage"',h+=" data-sit-tile-type=\"'warning'\"",h+=' data-sit-tile-counter=""',h+=' data-sit-tile-click=""',h+=' data-sit-tile-popup="true"',h+=' id="'+i.name+'"></div>',h=C(h+="</div>")(i),"radio"===e.attr("type")||"checkbox"===e.attr("type")?e.parent().after(h):e.first().after(h),void 0!==i.validation&&void 0!==i.validation.patternInfo&&(d.patternInfo=i.validation.patternInfo),d.labelInfo=t.sitFormInputValidator,t.required){var v=t.ngRequired.split(".")[0];i.validatorCtrl.validation=i[v].validation}if(t.sitChange){var y=t.sitChange.split(".")[0];i.validatorCtrl.sitChange=i[y].sitChange}i.$watch(function(){return i[v].validation},function(e,t){e!==t&&(i.validatorCtrl.validation=e)}),i.$on("$destroy",function(){e.unbind("focus",o),e.unbind("blur",g)})}}}])}(),angular.module("siemens.simaticit.common.widgets.viewBar",[]),function(e){function t(e,t,n){var o=this,i={grid:{show:!1},smallTile:{show:!1},mediumTile:{show:!1},largeTile:{show:!1},check:{show:!1},details:{show:!1}};function a(e,t,n,i){return{faIcon:e,selected:t,onClickCallback:function(e){n&&n(e)},text:i}}function r(e,t){o.selectedButton=t,o.viewButtons.forEach(function(e){e.selected=e===o.selectedButton}),o.selectedButton.onClickCallback&&o.selectedButton.onClickCallback(!0)}function s(e,t){e!==t&&(e.show?e.show&&!o.selectButton.length?o.selectButton.push(a("sit sit-multi-selection",e.selected,e.onClickCallback)):o.selectButton[0].selected=e.selected:o.selectButton=[])}var c=n.$on("sit-item-collection-viewer.change-view-mode-completed."+o.viewOptions.grid.id,function(e,t){var n,i=_.findIndex(o.viewButtons,{text:t.view});-1!==i&&(n=o.viewButtons[i],o.selectView([],n))});t.$on("$destroy",c),o.options=$.extend(!0,{},i,o.viewOptions),o.viewButtons=[],o.options.grid.show&&o.viewButtons.push(a("fa-table",o.options.grid.selected,o.options.grid.onClickCallback,e("translate")("common.viewbar.grid"))),o.options.smallTile.show&&o.viewButtons.push(a("fa-list",o.options.smallTile.selected,o.options.smallTile.onClickCallback,e("translate")("common.viewbar.small"))),o.options.mediumTile.show&&o.viewButtons.push(a("fa-th",o.options.mediumTile.selected,o.options.mediumTile.onClickCallback,e("translate")("common.viewbar.medium"))),o.options.largeTile.show&&o.viewButtons.push(a("fa-th-large",o.options.largeTile.selected,o.options.largeTile.onClickCallback,e("translate")("common.viewbar.large"))),o.selectButton=[],o.options.check.show&&(o.selectButton.push(a("sit sit-multi-selection",o.options.check.selected,o.options.check.onClickCallback)),t.$watch(function(){return o.viewOptions.check},s,!0)),o.detailsButton=[],o.options.details.show&&o.detailsButton.push(a("fa-list-alt",o.options.details.selected,o.options.details.onClickCallback)),o.viewButtons.some(function(e){return!!e.selected&&(o.selectedButton=e,!0)}),o.selectView=r}t.$inject=["$filter","$scope","$rootScope"],angular.module("siemens.simaticit.common.widgets.viewBar").directive("sitViewBar",function(){return{restrict:"E",scope:{},bindToController:{viewOptions:"=sitViewOptions"},controller:t,controllerAs:"viewBarCtrl",templateUrl:"common/widgets/viewBar/view-bar.html"}})}(window),angular.module("siemens.simaticit.common.widgets.workInstructionInstanceViewer",[]),function(){function e(o,e,t,a,r,n,i,s,c){var l,d,m,u,p,g,f=this;function h(){var e=d.find(".instance-viewer-content"),t=d.find(".custom-accordion.sections"),n=e.height();1<f.sections.length&&(n-=32),t.css("height",n-4+"px")}function v(e){if(e.isOpen){if(!l){e.isOpen=!1,-1===_.findIndex(f.sections,function(e){return!0===e.isOpen})&&(f.isAllExpanded=!1)}}else e.isOpen=!0,-1===_.findIndex(f.sections,function(e){return!1===e.isOpen})&&(f.isAllExpanded=!0)}function y(){f.isAllExpanded=!f.isAllExpanded,_.each(f.sections,function(e){e.isOpen=f.isAllExpanded})}function C(e,t){var n=!1;if("DataCollection"===e.Type&&e.Items)for(var i=0;i<e.Items.length;i++)if(e.Items[i].id===t.id&&e.Items[i].AcquisitionBehavior===f.semiAuto){n=!0;break}return!!n}function b(e){var t=!1;if("DataCollection"===e.Type&&e.Items)for(var n=0;n<e.Items.length;n++)if(e.Items[n].AcquisitionBehavior===f.semiAuto){t=!0;break}return!!t}function w(t){if(void 0!==f.sitAutoSaveCallback){var e=_.find(u,function(e){return e&&e.Id===t.Id}),n="",i="";"Checkbox"===t.UIControl?(n=e.formData.value[0].checked.toString(),i=t.formData.value[0].checked.toString()):"Dropdown"===t.UIControl?(n=e.formData.value.value,i=t.formData.value.value):"Datetime"===t.UIControl?(n=e.formData.value?e.formData.value.toISOString():"",i=t.formData.value?t.formData.value.toISOString():""):(n=e.formData.value,i=t.formData.value),n!==i&&(e.formData.value=angular.copy(t.formData.value),f.sitAutoSaveCallback({itemId:t.Id,value:i}))}}function S(e){f.sitAcknowledgeCallback({stepId:e.Id})}function x(e){var i=[];e.DataCollectionItems.forEach(function(e,t){var n="";n="Checkbox"===e.UIControl?e.formData.value[0].checked.toString():"Dropdown"===e.UIControl?e.formData.value?e.formData.value.value:"":"Datetime"===e.UIControl?e.formData.value?e.formData.value.toISOString():"":e.formData.value,i[t]={NId:e.NId,ItemValue:n||0===n?n.toString():""}}),f.sitConfirmDataCollectionCallback({stepId:e.Id,items:i})}function T(t){var e=P(t.Id),n={sectionId:f.sections[e[1]].Id,stepId:t.Id},i=[];"DataCollection"===t.Type&&t.Items&&t.Items.forEach(function(e,t){e.AcquisitionBehavior===f.semiAuto&&i.push(e.Id)}),f.sitAcquireDataCollectionCallback({ids:n,items:i}).then(function(e){e.forEach(function(n,e){t.DataCollectionItems.forEach(function(e,t){n.Id===e.Id&&("Checkbox"===e.UIControl?e.formData.value[0].checked="true"===n.ItemValue:"Dropdown"===e.UIControl?(e.formData.value=r("filter")(e.formData.options,{value:n.ItemValue},!0)[0],e.formData.value||(e.formData.value={value:""})):"Datetime"===e.UIControl?e.formData.value=n.ItemValue?new Date(n.ItemValue):"":"Number"===e.UIControl?e.formData.value=Number(n.ItemValue):e.formData.value=n.ItemValue)})})},function(e){})}function I(e){f.sitReEditStepCallback({stepId:e});var t=P(e),n=t[0],i=t[1];f.sections[i].Steps[n].IsCompleted=!1,f.sections[i].Steps[n].isDisabled=!1,f.sections[i].Steps[n].isOpen=!0,f.sections[i].IsCompleted=!1;for(var o=n+1;o<f.sections[i].Steps.length;o++)f.sections[i].Steps[o].isDisabled=!0,f.sections[i].Steps[o].isOpen=!1;for(var a=i+1;a<f.sections.length;a++)for(o=0;o<f.sections[a].Steps.length;o++)f.sections[a].Steps[o].isDisabled=!0,f.sections[a].Steps[o].isOpen=!1}function k(e){if(e.WorkInstructionId===f.sitInstanceId){var t;m=-1;var n=P(e.WorkInstructionStepId);t=n[0],m=n[1],f.sections[m].Steps[t].isOpen=!1,f.sections[m].Steps[t].IsCompleted=!0,f.sections[m].Steps[t].IsSignaturePending=!1,f.sections[m].Steps[t].CompletedBy=e.CompletedBy,f.sections[m].Steps[t].AcknowledgeOn=e.AcknowledgeOn,e.Items&&D(e.Items,m,t),f.sections[m].currentPage+1<=f.sections[m].Steps.length&&(f.sections[m].Steps[t+1].isDisabled=f.sections[m].Steps[t+1].IsCompleted,e.CompletedBy===f.user&&(f.sections[m].currentPage+=1,f.sections[m].Steps[t+1].isOpen=!0)),o.$apply()}}function E(e){if(e.WorkInstructionId===f.sitInstanceId){for(var t=-1,n=0;n<f.sections.length;n++)if(f.sections[n].Id===e.WorkInstructionSectionId){t=n;break}var i=f.sections[t];if(i.IsCompleted=!0,t+1<f.sections.length)for(f.sections[t+1].isOpen=!0,f.sections[t+1].Steps[0].isOpen=!0,f.sections[t+1].Steps[0].isDisabled=!1,n=1;n<f.sections[t+1].Steps.length;n++)f.sections[t+1].Steps[n].isDisabled=!0;if(e.CompletedBy===f.user)i.isOpen=l||!1,-1===_.findIndex(f.sections,function(e){return!0===e.isOpen})&&(f.isAllExpanded=!1);o.$apply()}}function O(e){if(e.WorkInstructionId===f.sitInstanceId){var t;m=-1;var n=P(e.WorkInstructionStepId);t=n[0],m=n[1],f.sections[m].Steps[t].isOpen=!0,f.sections[m].Steps[t].IsSignaturePending=e.IsSignaturePending,f.sections[m].Steps[t].CompletedBy=e.CompletedBy,f.sections[m].Steps[t].AcknowledgeOn=e.AcknowledgedOn,e.ScenarioInstanceId?(f.sections[m].Steps[t].ScenarioInstanceId=e.ScenarioInstanceId,f.sections[m].Steps[t].ScenarioInstance={ScenarioInstanceId:e.ScenarioInstanceId}):f.sections[m].Steps[t].ScenarioInstance=null,e.Items&&D(e.Items,m,t),o.$apply()}}function P(e){for(var t=-1,n=-1,i=0;i<f.sections.length;i++){for(var o=0;o<f.sections[i].Steps.length;o++)if(f.sections[i].Steps[o].Id===e){n=o,t=i;break}if(-1!==n)break}return[n,t]}function D(n,e,t){var i=!1;f.sections[e].Steps[t].DataCollectionItems.map(function(e){var t=_.findWhere(n,{NId:e.NId});if(t){switch(e.UIControl){case"Checkbox":switch(t.ItemValue){case"null":e.formData.value[0].checked="null";break;case"true":e.formData.value[0].checked=!0;break;default:e.formData.value[0].checked=!1}break;case"Dropdown":e.formData.value=t.ItemValue?_.findWhere(e.formData.options,{value:t.ItemValue}):"";break;case"Datetime":e.formData.value=t.ItemValue?new Date(t.ItemValue):"";break;case"Number":e.formData.value=t.ItemValue?parseFloat(t.ItemValue):"";break;default:e.formData.value=t.ItemValue}!i&&t.IsOutOfSpec&&(i=!0)}return e.formData.value}),f.sections[e].Steps[t].IsOutOfSpecValues=i}function $(t,n){var i=[];s.log("Connection Error Callback: "+t.id+"Reason:"+n.reason),t.reconnect().then(function(){i[t.id]=0},function(e){void 0===i[t.id]?i[t.id]=0:i[t.id]=i[t.id]+1,s.log("attempt number "+i[t.id]+" id: "+t.id),10<i[t.id]||(g=a(function(){$(t,n)},5e3))})}function R(e){s.log("An error occurred: \n"+angular.toJson(e,!0))}function A(){s.log("Signal stopped sending messages.")}function M(e,t){for(var n=0;n<f.steps.length;n++){var i=f.steps[n];if(t.id==="content_fields_form_"+i.sectionNId+"_"+i.NId){i.validInputs=t.validity;break}}}function F(){angular.element(e).unbind("resize",h),angular.forEach(f.signalConnections,function(e,t){i.destroyConnection(f.signalConnections[t].id).then(function(){f.signalConnections[t]=void 0,s.log("Closed Connection "+t)},function(e){s.log("Error in Closing Connection \n"+angular.toJson(e,!0))})}),f.propertyGridValidityChangedEvent(),a.cancel(p),a.cancel(g)}l=!1,d=t,m=-1,f.sections=[],f.steps=[],f.isAllExpanded=!1,f.signalConnections={},f.user=n.getIndentity().unique_name,f.sitReadOnly=!(!f.sitReadOnly||"true"!==f.sitReadOnly.toLowerCase()),f.isReEditEnabled=!1,f.semiAuto="SemiAutomatic",f.toggleOpen=v,f.toggleExpand=y,f.hasAcquireField=C,f.hasAcquireStep=b,f.saveStepItem=w,f.acknowledge=S,f.confirmDataCollectionStep=x,f.acquireDataCollectionStep=T,f.reEditStep=I,angular.element(e).bind("resize",h),o.$on("$destroy",F),i.createConnection("WorkInstruction","WorkInstructionStepCompletedSignal",$).then(function(e){e.signalManager.isOpen?(f.signalConnections.WorkInstructionStepCompleted=e,s.log("Connection has been established successfully. Connection State: "+e.state()),f.signalConnections.WorkInstructionStepCompleted.subscribe("EnvelopeModule eq 'WorkInstruction' and EnvelopeTopic eq 'WorkInstruction'",k,R,A).then(function(e){s.log("subscribe callback")},function(e){s.log("subscribe error")})):s.log("Wrong signal")},function(e){s.log("Error in opening a connection \n"+angular.toJson(e,!0))}),i.createConnection("WorkInstruction","WorkInstructionSectionCompletedSignal",$).then(function(e){e.signalManager.isOpen?(f.signalConnections.WorkInstructionSectionCompleted=e,s.log("Connection has been established successfully. Connection State: "+e.state()),f.signalConnections.WorkInstructionSectionCompleted.subscribe("EnvelopeModule eq 'WorkInstruction' and EnvelopeTopic eq 'WorkInstruction'",E,R,A).then(function(e){s.log("subscribe callback")},function(e){s.log("subscribe error")})):s.log("Wrong signal")},function(e){s.log("Error in opening a connection \n"+angular.toJson(e,!0))}),i.createConnection("WorkInstruction","OnWorkInstructionStepInPendingSignal",$).then(function(e){e.signalManager.isOpen?(f.signalConnections.OnWorkInstructionStepInPending=e,s.log("Connection has been established successfully. Connection State: "+e.state()),f.signalConnections.OnWorkInstructionStepInPending.subscribe("EnvelopeModule eq 'WorkInstruction' and EnvelopeTopic eq 'WorkInstruction'",O,R,A).then(function(e){s.log("subscribe callback")},function(e){s.log("subscribe error")})):s.log("Wrong signal")},function(e){s.log("Error in opening a connection \n"+angular.toJson(e,!0))}),c.getWIInstanceDesign(f.sitInstanceId,f.sitReadOnly).then(function(e){f.sections=e.sections,l=e.isSectionSingle,f.isReEditEnabled=e.isReEditEnabled,f.steps=_.chain(f.sections).pluck("Steps").flatten().value(),u=angular.copy(_.chain(f.steps).pluck("DataCollectionItems").flatten().value()),p=a(function(){h()})}),f.propertyGridValidityChangedEvent=o.$on("sit-property-grid.validity-changed",M)}angular.module("siemens.simaticit.common.widgets.workInstructionInstanceViewer").directive("htmlRenderComplete",["$timeout",function(n){return{replace:!1,scope:{ngModel:"="},link:function(e,t){n(function(){var e=t.find("table");e&&e.length&&_.each(e,function(t){t.style["border-spacing"]=t.getAttribute("cellspacing")+"px";var e=t.getElementsByTagName("td");e&&e.length&&_.each(e,function(e){e.style.padding=t.getAttribute("cellpadding")+"px"});var n=t.getElementsByTagName("th");n&&n.length&&_.each(n,function(e){e.style.padding=t.getAttribute("cellpadding")+"px"})})})}}}]),angular.module("siemens.simaticit.common.widgets.workInstructionInstanceViewer").directive("sitWorkInstructionInstanceViewer",function(){return{bindToController:{sitInstanceId:"@",sitAcknowledgeCallback:"&",sitConfirmDataCollectionCallback:"&",sitAcquireDataCollectionCallback:"&",sitReadOnly:"@?",sitAutoSaveCallback:"&?",sitReEditStepCallback:"&"},scope:{},restrict:"E",transclude:!0,templateUrl:"common/widgets/workInstructionInstanceViewer/work-instruction-instance-viewer.html",controller:e,controllerAs:"instanceViewerCtr"}}),e.$inject=["$scope","$window","$element","$timeout","$filter","common.services.ui.authentication","common.services.signalManager","common.services.logger.service","common.widgets.workInstructionInstanceViewer.service"]}(),function(e){var t,n;t=e.framework||(e.framework={}),n=function(){function e(e,t,n,i,o){this.$q=e,this.$sce=t,this.backendService=n,this.$translate=i,this.$filter=o}return e.prototype.getWIInstanceDesign=function(n,o){var a,r=this,s=this,c=this.$q.defer(),l=this.$sce,d=!1,m=this.backendService.getAppEndPoint("AuditTrail"),e={appName:"WorkInstruction",entityName:"WorkInstruction",options:"$select=Id,NId,WorkInstructionDefinitionNId,WorkInstructionDefinitionRevision,IsReEditEnabled,Status&$filter=Id eq "+n+"&$expand=Sections($expand=Steps($expand=Items($expand=Limit)))"};return this.backendService.findAll(e).then(function(e){a=e.value[0];var t={appName:"WorkInstruction",entityName:"WorkInstruction",options:"$select=Id,NId,Design&$filter=Id eq "+n};r.backendService.findAll(t).then(function(e){var t=JSON.parse(e.value[0].Design.Model),n=t.WorkInstruction.Sections;d=1===t.WorkInstruction.Sections.length,n.forEach(function(t){var n=t.Steps;_.extend(t,_.findWhere(a.Sections,{NId:t.NId})),t.Steps=_.sortBy(t.Steps,function(e){return e.Sequence}),t.Steps.forEach(function(e){_.extend(e,_.findWhere(n,{NId:e.NId})),e.sectionNId=t.NId,e.stepInstruction=l.trustAsHtml(e.Instructions),e.isOpen=!e.IsCompleted,e.displayName=e.NId,e.Title&&(e.displayName+=" - "+e.Title),"DataCollection"===e.Type&&e.Items&&s.getDataCollectionItems(e),null!==m&&(e.ScenarioConfiguration&&null!==e.ScenarioConfiguration.NId||e.ScenarioInstanceId&&(e.IsSignaturePending||e.IsCompleted))&&(e.IsSignButtonVisible=!0),e.ScenarioInstance={ScenarioInstanceId:e.ScenarioInstanceId}}),t.isOpen=d||!t.IsCompleted,t.noOfSteps=t.Steps.length,t.currentPage=1,t.displayName=t.NId,t.Title&&(t.displayName+=" - "+t.Title)}),o||"Completed"===a.Status.StatusNId||"Aborted"===a.Status.StatusNId?n=s.getReadOnlyMode(n):r.findFirstSectionStepOpen(n,d);var i={sections:n,isSectionSingle:d,isReEditEnabled:a.IsReEditEnabled&&("Completed"===a.Status.StatusNId||"InEditing"===a.Status.StatusNId)};c.resolve(i)})},function(e){c.reject(e)}),c.promise},e.prototype.getDataCollectionItems=function(r){var s=this;r.DataCollectionItems.map(function(n){var e,t,i,o;switch(_.extend(n,_.findWhere(r.Items,{ItemNId:n.NId,WorkInstructionStep_Id:r.Id})),n.IsOutOfSpec&&!r.IsOutOfSpecValues&&(r.IsOutOfSpecValues=n.IsOutOfSpec),n.formData={},n.formData.Label=n.Data.Annotations.filter(function(e){return"Label"===e.Name})[0].Value,n.formData.Caption=n.Data.Annotations.filter(function(e){return"Caption"===e.Name})[0].Value,n.UIControl){case"Text":e=n.DefaultValue?n.DefaultValue:"",n.formData.value=""===n.ItemValue||n.ItemValue?n.ItemValue:e,n.formData.Placeholder=n.Data.Annotations.filter(function(e){return"Placeholder"===e.Name})[0].Value,n.formData.Validation={required:n.IsRequired,maxlength:n.Data.Limits.filter(function(e){return"Length"===e.Name})[0].Value};break;case"Number":t=n.Data.Limits.filter(function(e){return"Target"===e.Name})[0],i=n.Data.Limits.filter(function(e){return"HighLimit"===e.Name})[0],o=n.Data.Limits.filter(function(e){return"LowLimit"===e.Name})[0],e=n.DefaultValue?parseFloat(n.DefaultValue):"",n.formData.value=""===n.ItemValue||n.ItemValue?parseFloat(n.ItemValue):e,n.formData.Target=n.Limit&&0<n.Limit.length&&n.Limit[0].Target?n.Limit[0].Target:"",n.formData.IsTargetVisible=t.IsVisible,n.formData.IsHighLimitVisible=i.IsVisible,n.formData.IsLowLimitVisible=o.IsVisible,n.formData.lowLimit=n.Limit[0].LowLimit,n.formData.highLimit=n.Limit[0].HighLimit,n.formData.Validation={required:n.IsRequired,custom:function(e,t){s.validateNumber(e,n)}},n.formData.Uom=n.Data.Annotations.filter(function(e){return"Uom"===e.Name})[0].Value;break;case"Multiline":e=n.DefaultValue?n.DefaultValue:"",n.formData.value=""===n.ItemValue||n.ItemValue?n.ItemValue:e,n.formData.Placeholder=n.Data.Annotations.filter(function(e){return"Placeholder"===e.Name})[0].Value,n.formData.Size=n.Data.Limits.filter(function(e){return"Size"===e.Name})[0].Value.toLowerCase(),n.formData.Validation={required:n.IsRequired,maxlength:n.Data.Limits.filter(function(e){return"Length"===e.Name})[0].Value};break;case"Checkbox":switch(n.DefaultValue){case"true":e=!0;break;case"false":e=!1;break;default:e="null"}t=n.Data.Limits.filter(function(e){return"Target"===e.Name})[0],n.Limit&&0<n.Limit.length&&n.Limit[0].Target&&"null"!==n.Limit[0].Target?n.formData.Target=n.Limit[0].Target:n.formData.Target="",n.formData.IsTargetVisible=t.IsVisible;var a=n.Data.Annotations.filter(function(e){return"CheckBoxValue"===e.Name})[0];if("string"==typeof n.ItemValue)switch(n.ItemValue){case"true":n.formData.value=[{label:a?a.Value:"",checked:!0}];break;case"false":n.formData.value=[{label:a?a.Value:"",checked:!1}];break;default:n.formData.value=[{label:a?a.Value:"",checked:"null"}]}else n.formData.value=[{label:a?a.Value:"",checked:e}];n.formData.Validation={required:n.IsRequired,custom:function(e,t){s.validateTarget(e,n)}};break;case"Dropdown":n.formData.options=[],n.formData.validation={required:n.IsRequired},n.Data.Items.forEach(function(e,t){n.formData.options[t]={label:e.label,value:e.value}}),n.formData.value=""===n.ItemValue||n.ItemValue?_.findWhere(n.formData.options,{value:n.ItemValue}):"";break;case"MultipleChoice":n.formData.value=""===n.ItemValue||n.ItemValue?n.ItemValue:"",t=n.Data.Limits.filter(function(e){return"Target"===e.Name})[0],n.formData.Target=n.Limit&&0<n.Limit.length&&n.Limit[0].Target?n.Limit[0].Target:"",n.formData.IsTargetVisible=t.IsVisible,n.formData.options=[],n.Data.Items.forEach(function(e,t){n.formData.options[t]={label:e,value:e}}),n.formData.Validation={required:n.IsRequired,custom:function(e,t){s.validateTarget(e,n)}};break;case"Datetime":t=n.Data.Limits.filter(function(e){return"Target"===e.Name})[0],i=n.Data.Limits.filter(function(e){return"HighLimit"===e.Name})[0],o=n.Data.Limits.filter(function(e){return"LowLimit"===e.Name})[0],n.formData.Target=n.Limit&&0<n.Limit.length&&n.Limit[0].Target?n.Limit[0].Target:"",n.formData.IsTargetVisible=t.IsVisible,n.formData.IsHighLimitVisible=i.IsVisible,n.formData.IsLowLimitVisible=o.IsVisible,n.formData.lowLimit=n.Limit&&0<n.Limit.length?n.Limit[0].LowLimit:"",n.formData.highLimit=n.Limit&&0<n.Limit.length?n.Limit[0].HighLimit:"",n.formData.Validation={required:n.IsRequired,custom:function(e,t){s.validateDatetime(e,n)}},e=n.DefaultValue?new Date(n.DefaultValue):"",n.formData.value=""===n.ItemValue||n.ItemValue?new Date(n.ItemValue):e}return n})},e.prototype.validateNumber=function(e,t){if(e&&t){e=parseFloat(e);var n=parseFloat(t.formData.lowLimit),i=parseFloat(t.formData.highLimit);isNaN(n)||isNaN(i)||!(e<n||i<e)?!isNaN(n)&&n&&e<n?t.formData.validationMessage=this.$translate.instant("instanceViewer.dataCollection.lowLimitMessage",{lowLimit:t.formData.lowLimit}):!isNaN(i)&&i&&i<e?t.formData.validationMessage=this.$translate.instant("instanceViewer.dataCollection.highLimitMessage",{highLimit:t.formData.highLimit}):t.formData.validationMessage="":t.formData.validationMessage=this.$translate.instant("instanceViewer.dataCollection.rangeMessage",{lowLimit:t.formData.lowLimit,highLimit:t.formData.highLimit})}else t.formData.validationMessage=""},e.prototype.validateDatetime=function(e,t){if(e&&t){e=Date.parse(e);var n=t.formData.lowLimit?Date.parse(t.formData.lowLimit):"",i=t.formData.highLimit?Date.parse(t.formData.highLimit):"",o=t.formData.lowLimit?this.$filter("date")(new Date(t.formData.lowLimit),"MMM dd,y hh:mm:ss a"):"",a=t.formData.highLimit?this.$filter("date")(new Date(t.formData.highLimit),"MMM dd,y hh:mm:ss a"):"";t.formData.validationMessage=n&&i&&(e<n||i<e)?this.$translate.instant("instanceViewer.dataCollection.rangeMessage",{lowLimit:o,highLimit:a}):n&&e<n?this.$translate.instant("instanceViewer.dataCollection.lowLimitMessage",{lowLimit:o}):i&&i<e?this.$translate.instant("instanceViewer.dataCollection.highLimitMessage",{highLimit:a}):""}else t.formData.validationMessage=""},e.prototype.validateTarget=function(e,t){t.formData.Target&&e.toString()&&t&&e.toString()!==t.formData.Target?t.formData.validationMessage=this.$translate.instant("instanceViewer.dataCollection.targetMessage"):t.formData.validationMessage=""},e.prototype.getReadOnlyMode=function(e){return e.forEach(function(e){e.Steps.forEach(function(e){e.isDisabled=!0})}),e},e.prototype.findFirstSectionStepOpen=function(e,t){for(var n=_.findIndex(e,function(e){return!0===e.isOpen}),i=n+1;i<e.length;i++){e[i].isOpen=!1;for(var o=0;o<e[i].Steps.length;o++)e[i].Steps[o].isOpen=!1,e[i].Steps[o].isDisabled=!0}for(var a=_.findIndex(e[n].Steps,function(e){return!0===e.isOpen}),r=a+1;r<e[n].Steps.length;r++)e[n].Steps[r].isOpen=!1,e[n].Steps[r].isDisabled=!0;e[n].currentPage=a+1},e.$inject=["$q","$sce","common.services.runtime.backendService","$translate","$filter"],e}(),t.WorkInstructionInstanceViewerService=n,angular.module("siemens.simaticit.common.widgets.workInstructionInstanceViewer").service("common.widgets.workInstructionInstanceViewer.service",n)}(sit||(sit={}));
//# sourceMappingURL=common.min.js.map